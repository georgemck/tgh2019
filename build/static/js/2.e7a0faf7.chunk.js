(this.webpackJsonptgh2019=this.webpackJsonptgh2019||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(6)},function(t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===typeof window&&(r=window)}t.exports=r},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,l=o(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=n(7)},function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=147)}([function(t,e,n){(function(t){t.exports=function(){"use strict";var e,r;function i(){return e.apply(null,arguments)}function a(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var n in e)d(e,n)&&(t[n]=e[n]);return d(e,"toString")&&(t.toString=e.toString),d(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,n,r){return Ce(t,e,n,r,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function m(t){if(null==t._isValid){var e=f(t),n=r.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function v(t){var e=p(NaN);return null!=t?h(f(e),t):f(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var g=i.momentProperties=[];function y(t,e){var n,r,i;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=f(e)),s(e._locale)||(t._locale=e._locale),g.length>0)for(n=0;n<g.length;n++)s(i=e[r=g[n]])||(t[r]=i);return t}var _=!1;function b(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,i.updateOffset(this),_=!1)}function x(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function M(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=w(e)),n}function A(t,e,n){var r,i=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&M(t[r])!==M(e[r]))&&o++;return o+a}function E(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function T(t,e){var n=!0;return h((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){for(var r,a=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var s in r+="\n["+o+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[o];a.push(r)}E(t+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var S,L={};function k(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),L[t]||(E(e),L[t]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t,e){var n,r=h({},t);for(n in e)d(e,n)&&(o(t[n])&&o(e[n])?(r[n]={},h(r[n],t[n]),h(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)d(t,n)&&!d(e,n)&&o(t[n])&&(r[n]=h({},r[n]));return r}function P(t){null!=t&&this.set(t)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)d(t,e)&&n.push(e);return n};var R={};function O(t,e){var n=t.toLowerCase();R[n]=R[n+"s"]=R[e]=t}function I(t){return"string"==typeof t?R[t]||R[t.toLowerCase()]:void 0}function N(t){var e,n,r={};for(n in t)d(t,n)&&(e=I(n))&&(r[e]=t[n]);return r}var z={};function B(t,e){z[t]=e}function F(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var j=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Y={},U={};function G(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(U[t]=i),e&&(U[e[0]]=function(){return F(i.apply(this,arguments),e[1],e[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function V(t,e){return t.isValid()?(e=W(e,t.localeData()),Y[e]=Y[e]||function(t){var e,n,r,i=t.match(j);for(e=0,n=i.length;e<n;e++)U[i[e]]?i[e]=U[i[e]]:i[e]=(r=i[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,a="";for(r=0;r<n;r++)a+=C(i[r])?i[r].call(e,t):i[r];return a}}(e),Y[e](t)):t.localeData().invalidDate()}function W(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(H.lastIndex=0;n>=0&&H.test(t);)t=t.replace(H,r),H.lastIndex=0,n-=1;return t}var q=/\d/,X=/\d\d/,J=/\d{3}/,Z=/\d{4}/,Q=/[+-]?\d{6}/,K=/\d\d?/,$=/\d\d\d\d?/,tt=/\d\d\d\d\d\d?/,et=/\d{1,3}/,nt=/\d{1,4}/,rt=/[+-]?\d{1,6}/,it=/\d+/,at=/[+-]?\d+/,ot=/Z|[+-]\d\d:?\d\d/gi,st=/Z|[+-]\d\d(?::?\d\d)?/gi,lt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ut={};function ct(t,e,n){ut[t]=C(e)?e:function(t,r){return t&&n?n:e}}function dt(t,e){return d(ut,t)?ut[t](e._strict,e._locale):new RegExp(ht(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i}))))}function ht(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pt={};function ft(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),l(e)&&(r=function(t,n){n[e]=M(t)}),n=0;n<t.length;n++)pt[t[n]]=r}function mt(t,e){ft(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function vt(t,e,n){null!=e&&d(pt,t)&&pt[t](e,n._a,n,t)}var gt=0,yt=1,_t=2,bt=3,xt=4,wt=5,Mt=6,At=7,Et=8;function Tt(t){return St(t)?366:365}function St(t){return t%4==0&&t%100!=0||t%400==0}G("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),G(0,["YY",2],0,(function(){return this.year()%100})),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),O("year","y"),B("year",1),ct("Y",at),ct("YY",K,X),ct("YYYY",nt,Z),ct("YYYYY",rt,Q),ct("YYYYYY",rt,Q),ft(["YYYYY","YYYYYY"],gt),ft("YYYY",(function(t,e){e[gt]=2===t.length?i.parseTwoDigitYear(t):M(t)})),ft("YY",(function(t,e){e[gt]=i.parseTwoDigitYear(t)})),ft("Y",(function(t,e){e[gt]=parseInt(t,10)})),i.parseTwoDigitYear=function(t){return M(t)+(M(t)>68?1900:2e3)};var Lt,kt=Ct("FullYear",!0);function Ct(t,e){return function(n){return null!=n?(Pt(this,t,n),i.updateOffset(this,e),this):Dt(this,t)}}function Dt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Pt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&St(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Rt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Rt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1===n?St(t)?29:28:31-n%7%2}Lt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},G("M",["MM",2],"Mo",(function(){return this.month()+1})),G("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),G("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),O("month","M"),B("month",8),ct("M",K),ct("MM",K,X),ct("MMM",(function(t,e){return e.monthsShortRegex(t)})),ct("MMMM",(function(t,e){return e.monthsRegex(t)})),ft(["M","MM"],(function(t,e){e[yt]=M(t)-1})),ft(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[yt]=i:f(n).invalidMonth=t}));var Ot=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,It="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Nt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function zt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=M(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Rt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Bt(t){return null!=t?(zt(this,t),i.updateOffset(this,!0),this):Dt(this,"Month")}var Ft=lt,jt=lt;function Ht(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],a=[];for(e=0;e<12;e++)n=p([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),a.sort(t),e=0;e<12;e++)r[e]=ht(r[e]),i[e]=ht(i[e]);for(e=0;e<24;e++)a[e]=ht(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Yt(t){var e;if(t<100&&t>=0){var n=Array.prototype.slice.call(arguments);n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function Ut(t,e,n){var r=7+e-n;return-(7+Yt(t,0,r).getUTCDay()-e)%7+r-1}function Gt(t,e,n,r,i){var a,o,s=1+7*(e-1)+(7+n-r)%7+Ut(t,r,i);return s<=0?o=Tt(a=t-1)+s:s>Tt(t)?(a=t+1,o=s-Tt(t)):(a=t,o=s),{year:a,dayOfYear:o}}function Vt(t,e,n){var r,i,a=Ut(t.year(),e,n),o=Math.floor((t.dayOfYear()-a-1)/7)+1;return o<1?r=o+Wt(i=t.year()-1,e,n):o>Wt(t.year(),e,n)?(r=o-Wt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=o),{week:r,year:i}}function Wt(t,e,n){var r=Ut(t,e,n),i=Ut(t+1,e,n);return(Tt(t)-r+i)/7}function qt(t,e){return t.slice(e,7).concat(t.slice(0,e))}G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),B("week",5),B("isoWeek",5),ct("w",K),ct("ww",K,X),ct("W",K),ct("WW",K,X),mt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=M(t)})),G("d",0,"do","day"),G("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),G("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),G("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),ct("d",K),ct("e",K),ct("E",K),ct("dd",(function(t,e){return e.weekdaysMinRegex(t)})),ct("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),ct("dddd",(function(t,e){return e.weekdaysRegex(t)})),mt(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:f(n).invalidWeekday=t})),mt(["d","e","E"],(function(t,e,n,r){e[r]=M(t)}));var Xt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Jt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Qt=lt,Kt=lt,$t=lt;function te(){function t(t,e){return e.length-t.length}var e,n,r,i,a,o=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=p([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(r),s.push(i),l.push(a),u.push(r),u.push(i),u.push(a);for(o.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=ht(s[e]),l[e]=ht(l[e]),u[e]=ht(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function ee(){return this.hours()%12||12}function ne(t,e){G(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function re(t,e){return e._meridiemParse}G("H",["HH",2],0,"hour"),G("h",["hh",2],0,ee),G("k",["kk",2],0,(function(){return this.hours()||24})),G("hmm",0,0,(function(){return""+ee.apply(this)+F(this.minutes(),2)})),G("hmmss",0,0,(function(){return""+ee.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)})),G("Hmm",0,0,(function(){return""+this.hours()+F(this.minutes(),2)})),G("Hmmss",0,0,(function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)})),ne("a",!0),ne("A",!1),O("hour","h"),B("hour",13),ct("a",re),ct("A",re),ct("H",K),ct("h",K),ct("k",K),ct("HH",K,X),ct("hh",K,X),ct("kk",K,X),ct("hmm",$),ct("hmmss",tt),ct("Hmm",$),ct("Hmmss",tt),ft(["H","HH"],bt),ft(["k","kk"],(function(t,e,n){var r=M(t);e[bt]=24===r?0:r})),ft(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),ft(["h","hh"],(function(t,e,n){e[bt]=M(t),f(n).bigHour=!0})),ft("hmm",(function(t,e,n){var r=t.length-2;e[bt]=M(t.substr(0,r)),e[xt]=M(t.substr(r)),f(n).bigHour=!0})),ft("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[bt]=M(t.substr(0,r)),e[xt]=M(t.substr(r,2)),e[wt]=M(t.substr(i)),f(n).bigHour=!0})),ft("Hmm",(function(t,e,n){var r=t.length-2;e[bt]=M(t.substr(0,r)),e[xt]=M(t.substr(r))})),ft("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[bt]=M(t.substr(0,r)),e[xt]=M(t.substr(r,2)),e[wt]=M(t.substr(i))}));var ie,ae=Ct("Hours",!0),oe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:It,monthsShort:Nt,week:{dow:0,doy:6},weekdays:Xt,weekdaysMin:Zt,weekdaysShort:Jt,meridiemParse:/[ap]\.?m?\.?/i},se={},le={};function ue(t){return t?t.toLowerCase().replace("_","-"):t}function ce(e){var r=null;if(!se[e]&&void 0!==t&&t&&t.exports)try{r=ie._abbr,n(153)("./"+e),de(r)}catch(t){}return se[e]}function de(t,e){var n;return t&&((n=s(e)?pe(t):he(t,e))?ie=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ie._abbr}function he(t,e){if(null!==e){var n,r=oe;if(e.abbr=t,null!=se[t])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=se[t]._config;else if(null!=e.parentLocale)if(null!=se[e.parentLocale])r=se[e.parentLocale]._config;else{if(null==(n=ce(e.parentLocale)))return le[e.parentLocale]||(le[e.parentLocale]=[]),le[e.parentLocale].push({name:t,config:e}),null;r=n._config}return se[t]=new P(D(r,e)),le[t]&&le[t].forEach((function(t){he(t.name,t.config)})),de(t),se[t]}return delete se[t],null}function pe(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ie;if(!a(t)){if(e=ce(t))return e;t=[t]}return function(t){for(var e,n,r,i,a=0;a<t.length;){for(e=(i=ue(t[a]).split("-")).length,n=(n=ue(t[a+1]))?n.split("-"):null;e>0;){if(r=ce(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&A(i,n,!0)>=e-1)break;e--}a++}return ie}(t)}function fe(t){var e,n=t._a;return n&&-2===f(t).overflow&&(e=n[yt]<0||n[yt]>11?yt:n[_t]<1||n[_t]>Rt(n[gt],n[yt])?_t:n[bt]<0||n[bt]>24||24===n[bt]&&(0!==n[xt]||0!==n[wt]||0!==n[Mt])?bt:n[xt]<0||n[xt]>59?xt:n[wt]<0||n[wt]>59?wt:n[Mt]<0||n[Mt]>999?Mt:-1,f(t)._overflowDayOfYear&&(e<gt||e>_t)&&(e=_t),f(t)._overflowWeeks&&-1===e&&(e=At),f(t)._overflowWeekday&&-1===e&&(e=Et),f(t).overflow=e),t}function me(t,e,n){return null!=t?t:null!=e?e:n}function ve(t){var e,n,r,a,o,s=[];if(!t._d){for(r=function(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[_t]&&null==t._a[yt]&&function(t){var e,n,r,i,a,o,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)a=1,o=4,n=me(e.GG,t._a[gt],Vt(De(),1,4).year),r=me(e.W,1),((i=me(e.E,1))<1||i>7)&&(l=!0);else{a=t._locale._week.dow,o=t._locale._week.doy;var u=Vt(De(),a,o);n=me(e.gg,t._a[gt],u.year),r=me(e.w,u.week),null!=e.d?((i=e.d)<0||i>6)&&(l=!0):null!=e.e?(i=e.e+a,(e.e<0||e.e>6)&&(l=!0)):i=a}r<1||r>Wt(n,a,o)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(s=Gt(n,r,i,a,o),t._a[gt]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(o=me(t._a[gt],r[gt]),(t._dayOfYear>Tt(o)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),n=Yt(o,0,t._dayOfYear),t._a[yt]=n.getUTCMonth(),t._a[_t]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[bt]&&0===t._a[xt]&&0===t._a[wt]&&0===t._a[Mt]&&(t._nextDay=!0,t._a[bt]=0),t._d=(t._useUTC?Yt:function(t,e,n,r,i,a,o){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,i,a,o),s}).apply(null,s),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[bt]=24),t._w&&void 0!==t._w.d&&t._w.d!==a&&(f(t).weekdayMismatch=!0)}}var ge=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ye=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_e=/Z|[+-]\d\d(?::?\d\d)?/,be=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],xe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],we=/^\/?Date\((\-?\d+)/i;function Me(t){var e,n,r,i,a,o,s=t._i,l=ge.exec(s)||ye.exec(s);if(l){for(f(t).iso=!0,e=0,n=be.length;e<n;e++)if(be[e][1].exec(l[1])){i=be[e][0],r=!1!==be[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=xe.length;e<n;e++)if(xe[e][1].exec(l[3])){a=(l[2]||" ")+xe[e][0];break}if(null==a)return void(t._isValid=!1)}if(!r&&null!=a)return void(t._isValid=!1);if(l[4]){if(!_e.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=i+(a||"")+(o||""),Le(t)}else t._isValid=!1}var Ae=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Ee(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var Te={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Se(t){var e,n,r,i,a,o,s,l=Ae.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var u=(e=l[4],n=l[3],r=l[2],i=l[5],a=l[6],o=l[7],s=[Ee(e),Nt.indexOf(n),parseInt(r,10),parseInt(i,10),parseInt(a,10)],o&&s.push(parseInt(o,10)),s);if(!function(t,e,n){return!t||Jt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],u,t))return;t._a=u,t._tzm=function(t,e,n){if(t)return Te[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(l[8],l[9],l[10]),t._d=Yt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function Le(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],f(t).empty=!0;var e,n,r,a,o,s=""+t._i,l=s.length,u=0;for(r=W(t._f,t._locale).match(j)||[],e=0;e<r.length;e++)a=r[e],(n=(s.match(dt(a,t))||[])[0])&&((o=s.substr(0,s.indexOf(n))).length>0&&f(t).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),u+=n.length),U[a]?(n?f(t).empty=!1:f(t).unusedTokens.push(a),vt(a,n,t)):t._strict&&!n&&f(t).unusedTokens.push(a);f(t).charsLeftOver=l-u,s.length>0&&f(t).unusedInput.push(s),t._a[bt]<=12&&!0===f(t).bigHour&&t._a[bt]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[bt]=function(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}(t._locale,t._a[bt],t._meridiem),ve(t),fe(t)}else Se(t);else Me(t)}function ke(t){var e=t._i,n=t._f;return t._locale=t._locale||pe(t._l),null===e||void 0===n&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),x(e)?new b(fe(e)):(u(e)?t._d=e:a(n)?function(t){var e,n,r,i,a;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)a=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Le(e),m(e)&&(a+=f(e).charsLeftOver,a+=10*f(e).unusedTokens.length,f(e).score=a,(null==r||a<r)&&(r=a,n=e));h(t,n||e)}(t):n?Le(t):function(t){var e=t._i;s(e)?t._d=new Date(i.now()):u(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=we.exec(t._i);null===e?(Me(t),!1===t._isValid&&(delete t._isValid,Se(t),!1===t._isValid&&(delete t._isValid,i.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):a(e)?(t._a=c(e.slice(0),(function(t){return parseInt(t,10)})),ve(t)):o(e)?function(t){if(!t._d){var e=N(t._i);t._a=c([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),ve(t)}}(t):l(e)?t._d=new Date(e):i.createFromInputFallback(t)}(t),m(t)||(t._d=null),t))}function Ce(t,e,n,r,i){var s,l={};return!0!==n&&!1!==n||(r=n,n=void 0),(o(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||a(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=n,l._i=t,l._f=e,l._strict=r,(s=new b(fe(ke(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function De(t,e,n,r){return Ce(t,e,n,r,!1)}i.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Pe=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()})),Re=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}));function Oe(t,e){var n,r;if(1===e.length&&a(e[0])&&(e=e[0]),!e.length)return De();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Ie=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ne(t){var e=N(t),n=e.year||0,r=e.quarter||0,i=e.month||0,a=e.week||e.isoWeek||0,o=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Lt.call(Ie,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Ie.length;++r)if(t[Ie[r]]){if(n)return!1;parseFloat(t[Ie[r]])!==M(t[Ie[r]])&&(n=!0)}return!0}(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=pe(),this._bubble()}function ze(t){return t instanceof Ne}function Be(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Fe(t,e){G(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+F(~~(t/60),2)+e+F(~~t%60,2)}))}Fe("Z",":"),Fe("ZZ",""),ct("Z",st),ct("ZZ",st),ft(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=He(st,t)}));var je=/([\+\-]|\d\d)/gi;function He(t,e){var n=(e||"").match(t);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(je)||["-",0,0],i=60*r[1]+M(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Ye(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(x(t)||u(t)?t.valueOf():De(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):De(t).local()}function Ue(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ge(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Ve=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,We=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qe(t,e){var n,r,i,a,o,s,u=t,c=null;return ze(t)?u={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(u={},e?u[e]=t:u.milliseconds=t):(c=Ve.exec(t))?(n="-"===c[1]?-1:1,u={y:0,d:M(c[_t])*n,h:M(c[bt])*n,m:M(c[xt])*n,s:M(c[wt])*n,ms:M(Be(1e3*c[Mt]))*n}):(c=We.exec(t))?(n="-"===c[1]?-1:1,u={y:Xe(c[2],n),M:Xe(c[3],n),w:Xe(c[4],n),d:Xe(c[5],n),h:Xe(c[6],n),m:Xe(c[7],n),s:Xe(c[8],n)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(a=De(u.from),o=De(u.to),i=a.isValid()&&o.isValid()?(o=Ye(o,a),a.isBefore(o)?s=Je(a,o):((s=Je(o,a)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(u={}).ms=i.milliseconds,u.M=i.months),r=new Ne(u),ze(t)&&d(t,"_locale")&&(r._locale=t._locale),r}function Xe(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Je(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ze(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Qe(this,qe(n="string"==typeof n?+n:n,r),t),this}}function Qe(t,e,n,r){var a=e._milliseconds,o=Be(e._days),s=Be(e._months);t.isValid()&&(r=null==r||r,s&&zt(t,Dt(t,"Month")+s*n),o&&Pt(t,"Date",Dt(t,"Date")+o*n),a&&t._d.setTime(t._d.valueOf()+a*n),r&&i.updateOffset(t,o||s))}qe.fn=Ne.prototype,qe.invalid=function(){return qe(NaN)};var Ke=Ze(1,"add"),$e=Ze(-1,"subtract");function tn(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function en(t){var e;return void 0===t?this._locale._abbr:(null!=(e=pe(t))&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nn=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function rn(){return this._locale}var an=126227808e5;function on(t,e){return(t%e+e)%e}function sn(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-an:new Date(t,e,n).valueOf()}function ln(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-an:Date.UTC(t,e,n)}function un(t,e){G(0,[t,t.length],0,e)}function cn(t,e,n,r,i){var a;return null==t?Vt(this,r,i).year:(e>(a=Wt(t,r,i))&&(e=a),function(t,e,n,r,i){var a=Gt(t,e,n,r,i),o=Yt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,t,e,n,r,i))}G(0,["gg",2],0,(function(){return this.weekYear()%100})),G(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),un("gggg","weekYear"),un("ggggg","weekYear"),un("GGGG","isoWeekYear"),un("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),ct("G",at),ct("g",at),ct("GG",K,X),ct("gg",K,X),ct("GGGG",nt,Z),ct("gggg",nt,Z),ct("GGGGG",rt,Q),ct("ggggg",rt,Q),mt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=M(t)})),mt(["gg","GG"],(function(t,e,n,r){e[r]=i.parseTwoDigitYear(t)})),G("Q",0,"Qo","quarter"),O("quarter","Q"),B("quarter",7),ct("Q",q),ft("Q",(function(t,e){e[yt]=3*(M(t)-1)})),G("D",["DD",2],"Do","date"),O("date","D"),B("date",9),ct("D",K),ct("DD",K,X),ct("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),ft(["D","DD"],_t),ft("Do",(function(t,e){e[_t]=M(t.match(K)[0])}));var dn=Ct("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),B("dayOfYear",4),ct("DDD",et),ct("DDDD",J),ft(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=M(t)})),G("m",["mm",2],0,"minute"),O("minute","m"),B("minute",14),ct("m",K),ct("mm",K,X),ft(["m","mm"],xt);var hn=Ct("Minutes",!1);G("s",["ss",2],0,"second"),O("second","s"),B("second",15),ct("s",K),ct("ss",K,X),ft(["s","ss"],wt);var pn,fn=Ct("Seconds",!1);for(G("S",0,0,(function(){return~~(this.millisecond()/100)})),G(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),G(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),G(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),G(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),G(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),G(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),O("millisecond","ms"),B("millisecond",16),ct("S",et,q),ct("SS",et,X),ct("SSS",et,J),pn="SSSS";pn.length<=9;pn+="S")ct(pn,it);function mn(t,e){e[Mt]=M(1e3*("0."+t))}for(pn="S";pn.length<=9;pn+="S")ft(pn,mn);var vn=Ct("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var gn=b.prototype;function yn(t){return t}gn.add=Ke,gn.calendar=function(t,e){var n=t||De(),r=Ye(n,this).startOf("day"),a=i.calendarFormat(this,r)||"sameElse",o=e&&(C(e[a])?e[a].call(this,n):e[a]);return this.format(o||this.localeData().calendar(a,this,De(n)))},gn.clone=function(){return new b(this)},gn.diff=function(t,e,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=Ye(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=I(e)){case"year":a=tn(this,r)/12;break;case"month":a=tn(this,r);break;case"quarter":a=tn(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:w(a)},gn.endOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?ln:sn;switch(t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-on(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-on(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-on(e,1e3)-1}return this._d.setTime(e),i.updateOffset(this,!0),this},gn.format=function(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=V(this,t);return this.localeData().postformat(e)},gn.from=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||De(t).isValid())?qe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},gn.fromNow=function(t){return this.from(De(),t)},gn.to=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||De(t).isValid())?qe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},gn.toNow=function(t){return this.to(De(),t)},gn.get=function(t){return C(this[t=I(t)])?this[t]():this},gn.invalidAt=function(){return f(this).overflow},gn.isAfter=function(t,e){var n=x(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},gn.isBefore=function(t,e){var n=x(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},gn.isBetween=function(t,e,n,r){var i=x(t)?t:De(t),a=x(e)?e:De(e);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))},gn.isSame=function(t,e){var n,r=x(t)?t:De(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},gn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},gn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},gn.isValid=function(){return m(this)},gn.lang=nn,gn.locale=en,gn.localeData=rn,gn.max=Re,gn.min=Pe,gn.parsingFlags=function(){return h({},f(this))},gn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:z[n]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=N(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(C(this[t=I(t)]))return this[t](e);return this},gn.startOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?ln:sn;switch(t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=on(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=on(e,6e4);break;case"second":e=this._d.valueOf(),e-=on(e,1e3)}return this._d.setTime(e),i.updateOffset(this,!0),this},gn.subtract=$e,gn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},gn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},gn.toDate=function(){return new Date(this.valueOf())},gn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?V(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(n,"Z")):V(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},gn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},gn.toJSON=function(){return this.isValid()?this.toISOString():null},gn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},gn.unix=function(){return Math.floor(this.valueOf()/1e3)},gn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},gn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},gn.year=kt,gn.isLeapYear=function(){return St(this.year())},gn.weekYear=function(t){return cn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},gn.isoWeekYear=function(t){return cn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},gn.quarter=gn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},gn.month=Bt,gn.daysInMonth=function(){return Rt(this.year(),this.month())},gn.week=gn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},gn.isoWeek=gn.isoWeeks=function(t){var e=Vt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},gn.weeksInYear=function(){var t=this.localeData()._week;return Wt(this.year(),t.dow,t.doy)},gn.isoWeeksInYear=function(){return Wt(this.year(),1,4)},gn.date=dn,gn.day=gn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},gn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},gn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},gn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},gn.hour=gn.hours=ae,gn.minute=gn.minutes=hn,gn.second=gn.seconds=fn,gn.millisecond=gn.milliseconds=vn,gn.utcOffset=function(t,e,n){var r,a=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=He(st,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=Ue(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==t&&(!e||this._changeInProgress?Qe(this,qe(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Ue(this)},gn.utc=function(t){return this.utcOffset(0,t)},gn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ue(this),"m")),this},gn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=He(ot,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},gn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?De(t).utcOffset():0,(this.utcOffset()-t)%60==0)},gn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},gn.isLocal=function(){return!!this.isValid()&&!this._isUTC},gn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},gn.isUtc=Ge,gn.isUTC=Ge,gn.zoneAbbr=function(){return this._isUTC?"UTC":""},gn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},gn.dates=T("dates accessor is deprecated. Use date instead.",dn),gn.months=T("months accessor is deprecated. Use month instead",Bt),gn.years=T("years accessor is deprecated. Use year instead",kt),gn.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),gn.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),(t=ke(t))._a){var e=t._isUTC?p(t._a):De(t._a);this._isDSTShifted=this.isValid()&&A(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var _n=P.prototype;function bn(t,e,n,r){var i=pe(),a=p().set(r,e);return i[n](a,t)}function xn(t,e,n){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return bn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=bn(t,r,n,"month");return i}function wn(t,e,n,r){"boolean"==typeof t?(l(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,l(e)&&(n=e,e=void 0),e=e||"");var i,a=pe(),o=t?a._week.dow:0;if(null!=n)return bn(e,(n+o)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=bn(e,(i+o)%7,r,"day");return s}_n.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return C(r)?r.call(e,n):r},_n.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},_n.invalidDate=function(){return this._invalidDate},_n.ordinal=function(t){return this._ordinal.replace("%d",t)},_n.preparse=yn,_n.postformat=yn,_n.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return C(i)?i(t,e,n,r):i.replace(/%d/i,t)},_n.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)},_n.set=function(t){var e,n;for(n in t)C(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},_n.months=function(t,e){return t?a(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ot).test(e)?"format":"standalone"][t.month()]:a(this._months)?this._months:this._months.standalone},_n.monthsShort=function(t,e){return t?a(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ot.test(e)?"format":"standalone"][t.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},_n.monthsParse=function(t,e,n){var r,i,a;if(this._monthsParseExact)return function(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=Lt.call(this._shortMonthsParse,o))?i:null:-1!==(i=Lt.call(this._longMonthsParse,o))?i:null:"MMM"===e?-1!==(i=Lt.call(this._shortMonthsParse,o))?i:-1!==(i=Lt.call(this._longMonthsParse,o))?i:null:-1!==(i=Lt.call(this._longMonthsParse,o))?i:-1!==(i=Lt.call(this._shortMonthsParse,o))?i:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},_n.monthsRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||Ht.call(this),t?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=jt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},_n.monthsShortRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||Ht.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Ft),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},_n.week=function(t){return Vt(t,this._week.dow,this._week.doy).week},_n.firstDayOfYear=function(){return this._week.doy},_n.firstDayOfWeek=function(){return this._week.dow},_n.weekdays=function(t,e){var n=a(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?qt(n,this._week.dow):t?n[t.day()]:n},_n.weekdaysMin=function(t){return!0===t?qt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},_n.weekdaysShort=function(t){return!0===t?qt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},_n.weekdaysParse=function(t,e,n){var r,i,a;if(this._weekdaysParseExact)return function(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=Lt.call(this._weekdaysParse,o))?i:null:"ddd"===e?-1!==(i=Lt.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Lt.call(this._minWeekdaysParse,o))?i:null:"dddd"===e?-1!==(i=Lt.call(this._weekdaysParse,o))?i:-1!==(i=Lt.call(this._shortWeekdaysParse,o))?i:-1!==(i=Lt.call(this._minWeekdaysParse,o))?i:null:"ddd"===e?-1!==(i=Lt.call(this._shortWeekdaysParse,o))?i:-1!==(i=Lt.call(this._weekdaysParse,o))?i:-1!==(i=Lt.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Lt.call(this._minWeekdaysParse,o))?i:-1!==(i=Lt.call(this._weekdaysParse,o))?i:-1!==(i=Lt.call(this._shortWeekdaysParse,o))?i:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},_n.weekdaysRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||te.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Qt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},_n.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||te.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Kt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},_n.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||te.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$t),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},_n.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},_n.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},de("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===M(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),i.lang=T("moment.lang is deprecated. Use moment.locale instead.",de),i.langData=T("moment.langData is deprecated. Use moment.localeData instead.",pe);var Mn=Math.abs;function An(t,e,n,r){var i=qe(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function En(t){return t<0?Math.floor(t):Math.ceil(t)}function Tn(t){return 4800*t/146097}function Sn(t){return 146097*t/4800}function Ln(t){return function(){return this.as(t)}}var kn=Ln("ms"),Cn=Ln("s"),Dn=Ln("m"),Pn=Ln("h"),Rn=Ln("d"),On=Ln("w"),In=Ln("M"),Nn=Ln("Q"),zn=Ln("y");function Bn(t){return function(){return this.isValid()?this._data[t]:NaN}}var Fn=Bn("milliseconds"),jn=Bn("seconds"),Hn=Bn("minutes"),Yn=Bn("hours"),Un=Bn("days"),Gn=Bn("months"),Vn=Bn("years"),Wn=Math.round,qn={ss:44,s:45,m:45,h:22,d:26,M:11},Xn=Math.abs;function Jn(t){return(t>0)-(t<0)||+t}function Zn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Xn(this._milliseconds)/1e3,r=Xn(this._days),i=Xn(this._months);t=w(n/60),e=w(t/60),n%=60,t%=60;var a=w(i/12),o=i%=12,s=r,l=e,u=t,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",p=Jn(this._months)!==Jn(d)?"-":"",f=Jn(this._days)!==Jn(d)?"-":"",m=Jn(this._milliseconds)!==Jn(d)?"-":"";return h+"P"+(a?p+a+"Y":"")+(o?p+o+"M":"")+(s?f+s+"D":"")+(l||u||c?"T":"")+(l?m+l+"H":"")+(u?m+u+"M":"")+(c?m+c+"S":"")}var Qn=Ne.prototype;return Qn.isValid=function(){return this._isValid},Qn.abs=function(){var t=this._data;return this._milliseconds=Mn(this._milliseconds),this._days=Mn(this._days),this._months=Mn(this._months),t.milliseconds=Mn(t.milliseconds),t.seconds=Mn(t.seconds),t.minutes=Mn(t.minutes),t.hours=Mn(t.hours),t.months=Mn(t.months),t.years=Mn(t.years),this},Qn.add=function(t,e){return An(this,t,e,1)},Qn.subtract=function(t,e){return An(this,t,e,-1)},Qn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=I(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+Tn(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Sn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},Qn.asMilliseconds=kn,Qn.asSeconds=Cn,Qn.asMinutes=Dn,Qn.asHours=Pn,Qn.asDays=Rn,Qn.asWeeks=On,Qn.asMonths=In,Qn.asQuarters=Nn,Qn.asYears=zn,Qn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12):NaN},Qn._bubble=function(){var t,e,n,r,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*En(Sn(s)+o),o=0,s=0),l.milliseconds=a%1e3,t=w(a/1e3),l.seconds=t%60,e=w(t/60),l.minutes=e%60,n=w(e/60),l.hours=n%24,o+=w(n/24),s+=i=w(Tn(o)),o-=En(Sn(i)),r=w(s/12),s%=12,l.days=o,l.months=s,l.years=r,this},Qn.clone=function(){return qe(this)},Qn.get=function(t){return t=I(t),this.isValid()?this[t+"s"]():NaN},Qn.milliseconds=Fn,Qn.seconds=jn,Qn.minutes=Hn,Qn.hours=Yn,Qn.days=Un,Qn.weeks=function(){return w(this.days()/7)},Qn.months=Gn,Qn.years=Vn,Qn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=function(t,e,n){var r=qe(t).abs(),i=Wn(r.as("s")),a=Wn(r.as("m")),o=Wn(r.as("h")),s=Wn(r.as("d")),l=Wn(r.as("M")),u=Wn(r.as("y")),c=i<=qn.ss&&["s",i]||i<qn.s&&["ss",i]||a<=1&&["m"]||a<qn.m&&["mm",a]||o<=1&&["h"]||o<qn.h&&["hh",o]||s<=1&&["d"]||s<qn.d&&["dd",s]||l<=1&&["M"]||l<qn.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,function(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}.apply(null,c)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Qn.toISOString=Zn,Qn.toString=Zn,Qn.toJSON=Zn,Qn.locale=en,Qn.localeData=rn,Qn.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zn),Qn.lang=nn,G("X",0,0,"unix"),G("x",0,0,"valueOf"),ct("x",at),ct("X",/[+-]?\d+(\.\d{1,3})?/),ft("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))})),ft("x",(function(t,e,n){n._d=new Date(M(t))})),i.version="2.24.0",e=De,i.fn=gn,i.min=function(){return Oe("isBefore",[].slice.call(arguments,0))},i.max=function(){return Oe("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=p,i.unix=function(t){return De(1e3*t)},i.months=function(t,e){return xn(t,e,"months")},i.isDate=u,i.locale=de,i.invalid=v,i.duration=qe,i.isMoment=x,i.weekdays=function(t,e,n){return wn(t,e,n,"weekdays")},i.parseZone=function(){return De.apply(null,arguments).parseZone()},i.localeData=pe,i.isDuration=ze,i.monthsShort=function(t,e){return xn(t,e,"monthsShort")},i.weekdaysMin=function(t,e,n){return wn(t,e,n,"weekdaysMin")},i.defineLocale=he,i.updateLocale=function(t,e){if(null!=e){var n,r,i=oe;null!=(r=ce(t))&&(i=r._config),(n=new P(e=D(i,e))).parentLocale=se[t],se[t]=n,de(t)}else null!=se[t]&&(null!=se[t].parentLocale?se[t]=se[t].parentLocale:null!=se[t]&&delete se[t]);return se[t]},i.locales=function(){return S(se)},i.weekdaysShort=function(t,e,n){return wn(t,e,n,"weekdaysShort")},i.normalizeUnits=I,i.relativeTimeRounding=function(t){return void 0===t?Wn:"function"==typeof t&&(Wn=t,!0)},i.relativeTimeThreshold=function(t,e){return void 0!==qn[t]&&(void 0===e?qn[t]:(qn[t]=e,"s"===t&&(qn.ss=e-1),!0))},i.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=gn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()}).call(this,n(152)(t))},function(t,e){t.exports=n(0)},function(t,e){t.exports=n(17)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=function(t){var e,n,i,a,o=void 0;return"undefined"==typeof window?o=r.readFileSync(t)+"":(e=t,n=new XMLHttpRequest,i="file:"===document.location.protocol?0:200,a=new Date,n.open("GET",e+"?"+a.toJSON(),!1),n.send(null),o=n.status===i?n.responseText:null),o}(t).split("\n"),n=e.indexOf("end_header"),i=void 0,a=void 0,o=void 0,s=0,l=0,u=0,c=0;c<e.length;c++)if(-1!==e[c].indexOf("element vertex")){var d=e[c].split(" ");i=parseInt(d[d.length-1],10),a=c;break}for(var h=0;h<e.length;h++)if(-1!==e[h].indexOf("element face")){o=h;break}for(var p=a;p<o;p++)-1!==e[p].indexOf("red")&&(s=p-a),-1!==e[p].indexOf("green")&&(l=p-a),-1!==e[p].indexOf("blue")&&(u=p-a);for(var f=[],m=n+1;m<n+i+1;m++){var v=e[m].split(" ");-1!==e[s+a].indexOf("red")?f.push({x:parseInt(v[0],10),y:parseInt(v[1],10),z:parseInt(v[2],10),r:parseInt(v[s],10),g:parseInt(v[l],10),b:parseInt(v[u],10)}):f.push({x:parseInt(v[0],10),y:parseInt(v[1],10),z:parseInt(v[2],10)})}return f};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(154))},function(t,e,n){"use strict";function r(){}function i(t,e){var n=new r;if(t instanceof r)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,a=-1,o=t.length;if(null==e)for(;++a<o;)n.set(a,t[a]);else for(;++a<o;)n.set(e(i=t[a],a,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}n.r(e),r.prototype=i.prototype={constructor:r,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var a=i;function o(){}var s=a.prototype;o.prototype=function(t,e){var n=new o;if(t instanceof o)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:o,has:s.has,add:function(t){return this["$"+(t+="")]=t,this},remove:s.remove,clear:s.clear,values:s.keys,size:s.size,empty:s.empty,each:s.each};var l={value:function(){}};function u(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new c(r)}function c(t){this._=t}function d(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function h(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function p(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=l,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}c.prototype=u.prototype={constructor:c,on:function(t,e){var n,r=this._,i=d(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=i[a]).type)r[n]=p(r[n],t.name,e);else if(null==e)for(n in r)r[n]=p(r[n],t.name,null);return this}for(;++a<o;)if((n=(t=i[a]).type)&&(n=h(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new c(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var f=u,m=function(t,e){var n,r,i,o,s=f("beforesend","progress","load","error"),l=a(),u=new XMLHttpRequest,c=null,d=null,h=0;function p(t){var e,r=u.status;if(!r&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(u)||r>=200&&r<300||304===r){if(i)try{e=i.call(n,u)}catch(t){return void s.call("error",n,t)}else e=u;s.call("load",n,e)}else s.call("error",n,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=u.ontimeout=p:u.onreadystatechange=function(t){u.readyState>3&&p(t)},u.onprogress=function(t){s.call("progress",n,t)},n={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l.get(t):(null==e?l.remove(t):l.set(t,e+""),n)},mimeType:function(t){return arguments.length?(r=null==t?null:t+"",n):r},responseType:function(t){return arguments.length?(o=t,n):o},timeout:function(t){return arguments.length?(h=+t,n):h},user:function(t){return arguments.length<1?c:(c=null==t?null:t+"",n)},password:function(t){return arguments.length<1?d:(d=null==t?null:t+"",n)},response:function(t){return i=t,n},get:function(t,e){return n.send("GET",t,e)},post:function(t,e){return n.send("POST",t,e)},send:function(e,i,a){return u.open(e,t,!0,c,d),null==r||l.has("accept")||l.set("accept",r+",*/*"),u.setRequestHeader&&l.each((function(t,e){u.setRequestHeader(e,t)})),null!=r&&u.overrideMimeType&&u.overrideMimeType(r),null!=o&&(u.responseType=o),h>0&&(u.timeout=h),null==a&&"function"==typeof i&&(a=i,i=null),null!=a&&1===a.length&&(a=function(t){return function(e,n){t(null==e?n:null)}}(a)),null!=a&&n.on("error",a).on("load",(function(t){a(null,t)})),s.call("beforesend",n,u),u.send(null==i?null:i),n},abort:function(){return u.abort(),n},on:function(){var t=s.on.apply(s,arguments);return t===s?n:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n},v=function(t,e){return function(n,r){var i=m(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},g=v("text/html",(function(t){return document.createRange().createContextualFragment(t.responseText)})),y=v("application/json",(function(t){return JSON.parse(t.responseText)})),_=v("text/plain",(function(t){return t.responseText})),b=v("application/xml",(function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e})),x={},w={},M=34,A=10,E=13;function T(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}")}function S(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function L(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}var k=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],a=t.length,o=0,s=0,l=a<=0,u=!1;function c(){if(l)return w;if(u)return u=!1,x;var e,r,i=o;if(t.charCodeAt(i)===M){for(;o++<a&&t.charCodeAt(o)!==M||t.charCodeAt(++o)===M;);return(e=o)>=a?l=!0:(r=t.charCodeAt(o++))===A?u=!0:r===E&&(u=!0,t.charCodeAt(o)===A&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<a;){if((r=t.charCodeAt(e=o++))===A)u=!0;else if(r===E)u=!0,t.charCodeAt(o)===A&&++o;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,a)}for(t.charCodeAt(a-1)===A&&--a,t.charCodeAt(a-1)===E&&--a;(r=c())!==w;){for(var d=[];r!==x&&r!==w;)d.push(r),r=c();e&&null==(d=e(d,s++))||i.push(d)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function a(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?function(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+L(-e,6):e>9999?"+"+L(e,6):L(e,4))+"-"+L(t.getUTCMonth()+1,2)+"-"+L(t.getUTCDate(),2)+(a?"T"+L(n,2)+":"+L(r,2)+":"+L(i,2)+"."+L(a,3)+"Z":i?"T"+L(n,2)+":"+L(r,2)+":"+L(i,2)+"Z":r||n?"T"+L(n,2)+":"+L(r,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,a=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=T(t);return function(r,i){return e(n(r),i,t)}}(t,e):T(t)}));return a.columns=i||[],a},parseRows:r,format:function(e,n){return null==n&&(n=S(e)),[n.map(o).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=S(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(a).join("\n")}}},C=k(","),D=C.parse,P=(C.parseRows,C.format,C.formatBody,C.formatRows,k("\t")),R=P.parse;P.parseRows,P.format,P.formatBody,P.formatRows;var O=function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var a=m(n).mimeType(t);return a.row=function(t){return arguments.length?a.response(I(e,r=t)):r},a.row(r),i?a.get(i):a}};function I(t,e){return function(n){return t(n.responseText,e)}}var N=O("text/csv",D),z=O("text/tab-separated-values",R);n.d(e,"request",(function(){return m})),n.d(e,"html",(function(){return g})),n.d(e,"json",(function(){return y})),n.d(e,"text",(function(){return _})),n.d(e,"xml",(function(){return b})),n.d(e,"csv",(function(){return N})),n.d(e,"tsv",(function(){return z}))},function(t,e){t.exports=n(13)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){var a=[];if("ordinal"===n)for(var o=0;o<t.length;o++)a.indexOf(t[o][e])<0&&a.push(t[o][e]);else i?(a.push(0),a.push(r.max(t,(function(t){return t[e]})))):(a.push(r.min(t,(function(t){return t[e]}))),a.push(r.max(t,(function(t){return t[e]}))));return a};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(2))},function(t,e,n){"use strict";function r(){}n.r(e),n.d(e,"ACESFilmicToneMapping",(function(){return ht})),n.d(e,"AddEquation",(function(){return O})),n.d(e,"AddOperation",(function(){return ot})),n.d(e,"AdditiveBlending",(function(){return C})),n.d(e,"AlphaFormat",(function(){return Wt})),n.d(e,"AlwaysDepth",(function(){return Q})),n.d(e,"AlwaysStencilFunc",(function(){return cn})),n.d(e,"AmbientLight",(function(){return nu})),n.d(e,"AmbientLightProbe",(function(){return Vu})),n.d(e,"AnimationClip",(function(){return dl})),n.d(e,"AnimationLoader",(function(){return yl})),n.d(e,"AnimationMixer",(function(){return rc})),n.d(e,"AnimationObjectGroup",(function(){return ec})),n.d(e,"AnimationUtils",(function(){return Ks})),n.d(e,"ArcCurve",(function(){return Tl})),n.d(e,"ArrayCamera",(function(){return Ja})),n.d(e,"ArrowHelper",(function(){return Cc})),n.d(e,"Audio",(function(){return Ju})),n.d(e,"AudioAnalyser",(function(){return Qu})),n.d(e,"AudioContext",(function(){return ju})),n.d(e,"AudioListener",(function(){return Xu})),n.d(e,"AudioLoader",(function(){return Hu})),n.d(e,"AxesHelper",(function(){return Dc})),n.d(e,"AxisHelper",(function(){return rd})),n.d(e,"BackSide",(function(){return x})),n.d(e,"BasicDepthPacking",(function(){return Ge})),n.d(e,"BasicShadowMap",(function(){return g})),n.d(e,"BinaryTextureLoader",(function(){return ld})),n.d(e,"Bone",(function(){return yo})),n.d(e,"BooleanKeyframeTrack",(function(){return il})),n.d(e,"BoundingBoxHelper",(function(){return id})),n.d(e,"Box2",(function(){return dc})),n.d(e,"Box3",(function(){return rr})),n.d(e,"Box3Helper",(function(){return Lc})),n.d(e,"BoxBufferGeometry",(function(){return jr})),n.d(e,"BoxGeometry",(function(){return Fr})),n.d(e,"BoxHelper",(function(){return Sc})),n.d(e,"BufferAttribute",(function(){return _r})),n.d(e,"BufferGeometry",(function(){return Ir})),n.d(e,"BufferGeometryLoader",(function(){return lu})),n.d(e,"ByteType",(function(){return It})),n.d(e,"Cache",(function(){return pl})),n.d(e,"Camera",(function(){return qr})),n.d(e,"CameraHelper",(function(){return Tc})),n.d(e,"CanvasRenderer",(function(){return cd})),n.d(e,"CanvasTexture",(function(){return So})),n.d(e,"CatmullRomCurve3",(function(){return Pl})),n.d(e,"CineonToneMapping",(function(){return dt})),n.d(e,"CircleBufferGeometry",(function(){return Fs})),n.d(e,"CircleGeometry",(function(){return Bs})),n.d(e,"ClampToEdgeWrapping",(function(){return wt})),n.d(e,"Clock",(function(){return qu})),n.d(e,"ClosedSplineCurve3",(function(){return td})),n.d(e,"Color",(function(){return dr})),n.d(e,"ColorKeyframeTrack",(function(){return al})),n.d(e,"CompressedTexture",(function(){return To})),n.d(e,"CompressedTextureLoader",(function(){return _l})),n.d(e,"ConeBufferGeometry",(function(){return zs})),n.d(e,"ConeGeometry",(function(){return Ns})),n.d(e,"CubeCamera",(function(){return $r})),n.d(e,"CubeGeometry",(function(){return Fr})),n.d(e,"CubeReflectionMapping",(function(){return ft})),n.d(e,"CubeRefractionMapping",(function(){return mt})),n.d(e,"CubeTexture",(function(){return wi})),n.d(e,"CubeTextureLoader",(function(){return wl})),n.d(e,"CubeUVReflectionMapping",(function(){return _t})),n.d(e,"CubeUVRefractionMapping",(function(){return bt})),n.d(e,"CubicBezierCurve",(function(){return Nl})),n.d(e,"CubicBezierCurve3",(function(){return zl})),n.d(e,"CubicInterpolant",(function(){return tl})),n.d(e,"CullFaceBack",(function(){return h})),n.d(e,"CullFaceFront",(function(){return p})),n.d(e,"CullFaceFrontBack",(function(){return f})),n.d(e,"CullFaceNone",(function(){return d})),n.d(e,"Curve",(function(){return Al})),n.d(e,"CurvePath",(function(){return Gl})),n.d(e,"CustomBlending",(function(){return R})),n.d(e,"CylinderBufferGeometry",(function(){return Is})),n.d(e,"CylinderGeometry",(function(){return Os})),n.d(e,"Cylindrical",(function(){return cc})),n.d(e,"DataTexture",(function(){return ei})),n.d(e,"DataTexture2DArray",(function(){return Mi})),n.d(e,"DataTexture3D",(function(){return Ai})),n.d(e,"DataTextureLoader",(function(){return bl})),n.d(e,"DecrementStencilOp",(function(){return Ke})),n.d(e,"DecrementWrapStencilOp",(function(){return tn})),n.d(e,"DefaultLoadingManager",(function(){return ml})),n.d(e,"DepthFormat",(function(){return Kt})),n.d(e,"DepthStencilFormat",(function(){return $t})),n.d(e,"DepthTexture",(function(){return Lo})),n.d(e,"DirectionalLight",(function(){return eu})),n.d(e,"DirectionalLightHelper",(function(){return Ec})),n.d(e,"DirectionalLightShadow",(function(){return tu})),n.d(e,"DiscreteInterpolant",(function(){return nl})),n.d(e,"DodecahedronBufferGeometry",(function(){return Ho})),n.d(e,"DodecahedronGeometry",(function(){return jo})),n.d(e,"DoubleSide",(function(){return w})),n.d(e,"DstAlphaFactor",(function(){return V})),n.d(e,"DstColorFactor",(function(){return q})),n.d(e,"DynamicBufferAttribute",(function(){return Gc})),n.d(e,"EdgesGeometry",(function(){return Rs})),n.d(e,"EdgesHelper",(function(){return ad})),n.d(e,"EllipseCurve",(function(){return El})),n.d(e,"EqualDepth",(function(){return tt})),n.d(e,"EqualStencilFunc",(function(){return an})),n.d(e,"EquirectangularReflectionMapping",(function(){return vt})),n.d(e,"EquirectangularRefractionMapping",(function(){return gt})),n.d(e,"Euler",(function(){return Pn})),n.d(e,"EventDispatcher",(function(){return r})),n.d(e,"ExtrudeBufferGeometry",(function(){return _s})),n.d(e,"ExtrudeGeometry",(function(){return ys})),n.d(e,"Face3",(function(){return mr})),n.d(e,"Face4",(function(){return Pc})),n.d(e,"FaceColors",(function(){return T})),n.d(e,"FaceNormalsHelper",(function(){return Ac})),n.d(e,"FileLoader",(function(){return gl})),n.d(e,"FlatShading",(function(){return M})),n.d(e,"Float32Attribute",(function(){return Kc})),n.d(e,"Float32BufferAttribute",(function(){return Sr})),n.d(e,"Float64Attribute",(function(){return $c})),n.d(e,"Float64BufferAttribute",(function(){return Lr})),n.d(e,"FloatType",(function(){return jt})),n.d(e,"Fog",(function(){return uo})),n.d(e,"FogExp2",(function(){return lo})),n.d(e,"Font",(function(){return xu})),n.d(e,"FontLoader",(function(){return Mu})),n.d(e,"FrontFaceDirectionCCW",(function(){return v})),n.d(e,"FrontFaceDirectionCW",(function(){return m})),n.d(e,"FrontSide",(function(){return b})),n.d(e,"Frustum",(function(){return ri})),n.d(e,"GammaEncoding",(function(){return Be})),n.d(e,"Geometry",(function(){return Br})),n.d(e,"GeometryUtils",(function(){return ud})),n.d(e,"GreaterDepth",(function(){return nt})),n.d(e,"GreaterEqualDepth",(function(){return et})),n.d(e,"GreaterEqualStencilFunc",(function(){return un})),n.d(e,"GreaterStencilFunc",(function(){return sn})),n.d(e,"GridHelper",(function(){return xc})),n.d(e,"Group",(function(){return Xa})),n.d(e,"HalfFloatType",(function(){return Ht})),n.d(e,"HemisphereLight",(function(){return Xl})),n.d(e,"HemisphereLightHelper",(function(){return _c})),n.d(e,"HemisphereLightProbe",(function(){return Gu})),n.d(e,"IcosahedronBufferGeometry",(function(){return Fo})),n.d(e,"IcosahedronGeometry",(function(){return Bo})),n.d(e,"ImageBitmapLoader",(function(){return _u})),n.d(e,"ImageLoader",(function(){return xl})),n.d(e,"ImageUtils",(function(){return En})),n.d(e,"ImmediateRenderObject",(function(){return pc})),n.d(e,"IncrementStencilOp",(function(){return Qe})),n.d(e,"IncrementWrapStencilOp",(function(){return $e})),n.d(e,"InstancedBufferAttribute",(function(){return su})),n.d(e,"InstancedBufferGeometry",(function(){return ou})),n.d(e,"InstancedInterleavedBuffer",(function(){return ac})),n.d(e,"Int16Attribute",(function(){return Xc})),n.d(e,"Int16BufferAttribute",(function(){return Mr})),n.d(e,"Int32Attribute",(function(){return Zc})),n.d(e,"Int32BufferAttribute",(function(){return Er})),n.d(e,"Int8Attribute",(function(){return Vc})),n.d(e,"Int8BufferAttribute",(function(){return br})),n.d(e,"IntType",(function(){return Bt})),n.d(e,"InterleavedBuffer",(function(){return co})),n.d(e,"InterleavedBufferAttribute",(function(){return ho})),n.d(e,"Interpolant",(function(){return $s})),n.d(e,"InterpolateDiscrete",(function(){return Se})),n.d(e,"InterpolateLinear",(function(){return Le})),n.d(e,"InterpolateSmooth",(function(){return ke})),n.d(e,"InvertStencilOp",(function(){return en})),n.d(e,"JSONLoader",(function(){return dd})),n.d(e,"KeepStencilOp",(function(){return Je})),n.d(e,"KeyframeTrack",(function(){return rl})),n.d(e,"LOD",(function(){return mo})),n.d(e,"LatheBufferGeometry",(function(){return ks})),n.d(e,"LatheGeometry",(function(){return Ls})),n.d(e,"Layers",(function(){return Rn})),n.d(e,"LensFlare",(function(){return pd})),n.d(e,"LessDepth",(function(){return K})),n.d(e,"LessEqualDepth",(function(){return $})),n.d(e,"LessEqualStencilFunc",(function(){return on})),n.d(e,"LessStencilFunc",(function(){return rn})),n.d(e,"Light",(function(){return ql})),n.d(e,"LightProbe",(function(){return Uu})),n.d(e,"LightProbeHelper",(function(){return bc})),n.d(e,"LightShadow",(function(){return Jl})),n.d(e,"Line",(function(){return bo})),n.d(e,"Line3",(function(){return hc})),n.d(e,"LineBasicMaterial",(function(){return _o})),n.d(e,"LineCurve",(function(){return Bl})),n.d(e,"LineCurve3",(function(){return Fl})),n.d(e,"LineDashedMaterial",(function(){return Zs})),n.d(e,"LineLoop",(function(){return wo})),n.d(e,"LinePieces",(function(){return Oc})),n.d(e,"LineSegments",(function(){return xo})),n.d(e,"LineStrip",(function(){return Rc})),n.d(e,"LinearEncoding",(function(){return Ne})),n.d(e,"LinearFilter",(function(){return kt})),n.d(e,"LinearInterpolant",(function(){return el})),n.d(e,"LinearMipMapLinearFilter",(function(){return Rt})),n.d(e,"LinearMipMapNearestFilter",(function(){return Dt})),n.d(e,"LinearMipmapLinearFilter",(function(){return Pt})),n.d(e,"LinearMipmapNearestFilter",(function(){return Ct})),n.d(e,"LinearToneMapping",(function(){return lt})),n.d(e,"Loader",(function(){return Au})),n.d(e,"LoaderUtils",(function(){return au})),n.d(e,"LoadingManager",(function(){return fl})),n.d(e,"LogLuvEncoding",(function(){return je})),n.d(e,"LoopOnce",(function(){return Ae})),n.d(e,"LoopPingPong",(function(){return Te})),n.d(e,"LoopRepeat",(function(){return Ee})),n.d(e,"LuminanceAlphaFormat",(function(){return Zt})),n.d(e,"LuminanceFormat",(function(){return Jt})),n.d(e,"MOUSE",(function(){return u})),n.d(e,"Material",(function(){return gr})),n.d(e,"MaterialLoader",(function(){return iu})),n.d(e,"Math",(function(){return dn})),n.d(e,"Matrix3",(function(){return mn})),n.d(e,"Matrix4",(function(){return Dn})),n.d(e,"MaxEquation",(function(){return B})),n.d(e,"Mesh",(function(){return Nr})),n.d(e,"MeshBasicMaterial",(function(){return yr})),n.d(e,"MeshDepthMaterial",(function(){return Ya})),n.d(e,"MeshDistanceMaterial",(function(){return Ua})),n.d(e,"MeshFaceMaterial",(function(){return Ic})),n.d(e,"MeshLambertMaterial",(function(){return Xs})),n.d(e,"MeshMatcapMaterial",(function(){return Js})),n.d(e,"MeshNormalMaterial",(function(){return qs})),n.d(e,"MeshPhongMaterial",(function(){return Vs})),n.d(e,"MeshPhysicalMaterial",(function(){return Gs})),n.d(e,"MeshStandardMaterial",(function(){return Us})),n.d(e,"MeshToonMaterial",(function(){return Ws})),n.d(e,"MinEquation",(function(){return z})),n.d(e,"MirroredRepeatWrapping",(function(){return Mt})),n.d(e,"MixOperation",(function(){return at})),n.d(e,"MultiMaterial",(function(){return Nc})),n.d(e,"MultiplyBlending",(function(){return P})),n.d(e,"MultiplyOperation",(function(){return it})),n.d(e,"NearestFilter",(function(){return At})),n.d(e,"NearestMipMapLinearFilter",(function(){return Lt})),n.d(e,"NearestMipMapNearestFilter",(function(){return Tt})),n.d(e,"NearestMipmapLinearFilter",(function(){return St})),n.d(e,"NearestMipmapNearestFilter",(function(){return Et})),n.d(e,"NeverDepth",(function(){return Z})),n.d(e,"NeverStencilFunc",(function(){return nn})),n.d(e,"NoBlending",(function(){return L})),n.d(e,"NoColors",(function(){return E})),n.d(e,"NoToneMapping",(function(){return st})),n.d(e,"NormalBlending",(function(){return k})),n.d(e,"NotEqualDepth",(function(){return rt})),n.d(e,"NotEqualStencilFunc",(function(){return ln})),n.d(e,"NumberKeyframeTrack",(function(){return ol})),n.d(e,"Object3D",(function(){return er})),n.d(e,"ObjectLoader",(function(){return cu})),n.d(e,"ObjectSpaceNormalMap",(function(){return qe})),n.d(e,"OctahedronBufferGeometry",(function(){return zo})),n.d(e,"OctahedronGeometry",(function(){return No})),n.d(e,"OneFactor",(function(){return j})),n.d(e,"OneMinusDstAlphaFactor",(function(){return W})),n.d(e,"OneMinusDstColorFactor",(function(){return X})),n.d(e,"OneMinusSrcAlphaFactor",(function(){return G})),n.d(e,"OneMinusSrcColorFactor",(function(){return Y})),n.d(e,"OrthographicCamera",(function(){return $l})),n.d(e,"PCFShadowMap",(function(){return y})),n.d(e,"PCFSoftShadowMap",(function(){return _})),n.d(e,"ParametricBufferGeometry",(function(){return Do})),n.d(e,"ParametricGeometry",(function(){return Co})),n.d(e,"Particle",(function(){return Bc})),n.d(e,"ParticleBasicMaterial",(function(){return Hc})),n.d(e,"ParticleSystem",(function(){return Fc})),n.d(e,"ParticleSystemMaterial",(function(){return Yc})),n.d(e,"Path",(function(){return Vl})),n.d(e,"PerspectiveCamera",(function(){return Xr})),n.d(e,"Plane",(function(){return ni})),n.d(e,"PlaneBufferGeometry",(function(){return ci})),n.d(e,"PlaneGeometry",(function(){return ui})),n.d(e,"PlaneHelper",(function(){return kc})),n.d(e,"PointCloud",(function(){return zc})),n.d(e,"PointCloudMaterial",(function(){return jc})),n.d(e,"PointLight",(function(){return Kl})),n.d(e,"PointLightHelper",(function(){return gc})),n.d(e,"Points",(function(){return Ao})),n.d(e,"PointsMaterial",(function(){return Mo})),n.d(e,"PolarGridHelper",(function(){return wc})),n.d(e,"PolyhedronBufferGeometry",(function(){return Ro})),n.d(e,"PolyhedronGeometry",(function(){return Po})),n.d(e,"PositionalAudio",(function(){return Zu})),n.d(e,"PositionalAudioHelper",(function(){return Mc})),n.d(e,"PropertyBinding",(function(){return tc})),n.d(e,"PropertyMixer",(function(){return Ku})),n.d(e,"QuadraticBezierCurve",(function(){return jl})),n.d(e,"QuadraticBezierCurve3",(function(){return Hl})),n.d(e,"Quaternion",(function(){return pn})),n.d(e,"QuaternionKeyframeTrack",(function(){return ll})),n.d(e,"QuaternionLinearInterpolant",(function(){return sl})),n.d(e,"REVISION",(function(){return l})),n.d(e,"RGBADepthPacking",(function(){return Ve})),n.d(e,"RGBAFormat",(function(){return Xt})),n.d(e,"RGBA_ASTC_10x10_Format",(function(){return xe})),n.d(e,"RGBA_ASTC_10x5_Format",(function(){return ye})),n.d(e,"RGBA_ASTC_10x6_Format",(function(){return _e})),n.d(e,"RGBA_ASTC_10x8_Format",(function(){return be})),n.d(e,"RGBA_ASTC_12x10_Format",(function(){return we})),n.d(e,"RGBA_ASTC_12x12_Format",(function(){return Me})),n.d(e,"RGBA_ASTC_4x4_Format",(function(){return ce})),n.d(e,"RGBA_ASTC_5x4_Format",(function(){return de})),n.d(e,"RGBA_ASTC_5x5_Format",(function(){return he})),n.d(e,"RGBA_ASTC_6x5_Format",(function(){return pe})),n.d(e,"RGBA_ASTC_6x6_Format",(function(){return fe})),n.d(e,"RGBA_ASTC_8x5_Format",(function(){return me})),n.d(e,"RGBA_ASTC_8x6_Format",(function(){return ve})),n.d(e,"RGBA_ASTC_8x8_Format",(function(){return ge})),n.d(e,"RGBA_PVRTC_2BPPV1_Format",(function(){return le})),n.d(e,"RGBA_PVRTC_4BPPV1_Format",(function(){return se})),n.d(e,"RGBA_S3TC_DXT1_Format",(function(){return ne})),n.d(e,"RGBA_S3TC_DXT3_Format",(function(){return re})),n.d(e,"RGBA_S3TC_DXT5_Format",(function(){return ie})),n.d(e,"RGBDEncoding",(function(){return Ue})),n.d(e,"RGBEEncoding",(function(){return Fe})),n.d(e,"RGBEFormat",(function(){return Qt})),n.d(e,"RGBFormat",(function(){return qt})),n.d(e,"RGBM16Encoding",(function(){return Ye})),n.d(e,"RGBM7Encoding",(function(){return He})),n.d(e,"RGB_ETC1_Format",(function(){return ue})),n.d(e,"RGB_PVRTC_2BPPV1_Format",(function(){return oe})),n.d(e,"RGB_PVRTC_4BPPV1_Format",(function(){return ae})),n.d(e,"RGB_S3TC_DXT1_Format",(function(){return ee})),n.d(e,"RawShaderMaterial",(function(){return Ys})),n.d(e,"Ray",(function(){return ar})),n.d(e,"Raycaster",(function(){return oc})),n.d(e,"RectAreaLight",(function(){return ru})),n.d(e,"RectAreaLightHelper",(function(){return yc})),n.d(e,"RedFormat",(function(){return te})),n.d(e,"ReinhardToneMapping",(function(){return ut})),n.d(e,"RepeatWrapping",(function(){return xt})),n.d(e,"ReplaceStencilOp",(function(){return Ze})),n.d(e,"ReverseSubtractEquation",(function(){return N})),n.d(e,"RingBufferGeometry",(function(){return Ss})),n.d(e,"RingGeometry",(function(){return Ts})),n.d(e,"Scene",(function(){return nr})),n.d(e,"SceneUtils",(function(){return hd})),n.d(e,"ShaderChunk",(function(){return ii})),n.d(e,"ShaderLib",(function(){return oi})),n.d(e,"ShaderMaterial",(function(){return Wr})),n.d(e,"ShadowMaterial",(function(){return Hs})),n.d(e,"Shape",(function(){return Wl})),n.d(e,"ShapeBufferGeometry",(function(){return Ds})),n.d(e,"ShapeGeometry",(function(){return Cs})),n.d(e,"ShapePath",(function(){return bu})),n.d(e,"ShapeUtils",(function(){return ms})),n.d(e,"ShortType",(function(){return Nt})),n.d(e,"Skeleton",(function(){return go})),n.d(e,"SkeletonHelper",(function(){return vc})),n.d(e,"SkinnedMesh",(function(){return vo})),n.d(e,"SmoothShading",(function(){return A})),n.d(e,"Sphere",(function(){return ir})),n.d(e,"SphereBufferGeometry",(function(){return Es})),n.d(e,"SphereGeometry",(function(){return As})),n.d(e,"Spherical",(function(){return uc})),n.d(e,"SphericalHarmonics3",(function(){return Yu})),n.d(e,"SphericalReflectionMapping",(function(){return yt})),n.d(e,"Spline",(function(){return nd})),n.d(e,"SplineCurve",(function(){return Yl})),n.d(e,"SplineCurve3",(function(){return ed})),n.d(e,"SpotLight",(function(){return Ql})),n.d(e,"SpotLightHelper",(function(){return mc})),n.d(e,"SpotLightShadow",(function(){return Zl})),n.d(e,"Sprite",(function(){return fo})),n.d(e,"SpriteMaterial",(function(){return po})),n.d(e,"SrcAlphaFactor",(function(){return U})),n.d(e,"SrcAlphaSaturateFactor",(function(){return J})),n.d(e,"SrcColorFactor",(function(){return H})),n.d(e,"StereoCamera",(function(){return Wu})),n.d(e,"StringKeyframeTrack",(function(){return ul})),n.d(e,"SubtractEquation",(function(){return I})),n.d(e,"SubtractiveBlending",(function(){return D})),n.d(e,"TOUCH",(function(){return c})),n.d(e,"TangentSpaceNormalMap",(function(){return We})),n.d(e,"TetrahedronBufferGeometry",(function(){return Io})),n.d(e,"TetrahedronGeometry",(function(){return Oo})),n.d(e,"TextBufferGeometry",(function(){return Ms})),n.d(e,"TextGeometry",(function(){return ws})),n.d(e,"Texture",(function(){return Sn})),n.d(e,"TextureLoader",(function(){return Ml})),n.d(e,"TorusBufferGeometry",(function(){return qo})),n.d(e,"TorusGeometry",(function(){return Wo})),n.d(e,"TorusKnotBufferGeometry",(function(){return Vo})),n.d(e,"TorusKnotGeometry",(function(){return Go})),n.d(e,"Triangle",(function(){return or})),n.d(e,"TriangleFanDrawMode",(function(){return Ie})),n.d(e,"TriangleStripDrawMode",(function(){return Oe})),n.d(e,"TrianglesDrawMode",(function(){return Re})),n.d(e,"TubeBufferGeometry",(function(){return Uo})),n.d(e,"TubeGeometry",(function(){return Yo})),n.d(e,"UVMapping",(function(){return pt})),n.d(e,"Uint16Attribute",(function(){return Jc})),n.d(e,"Uint16BufferAttribute",(function(){return Ar})),n.d(e,"Uint32Attribute",(function(){return Qc})),n.d(e,"Uint32BufferAttribute",(function(){return Tr})),n.d(e,"Uint8Attribute",(function(){return Wc})),n.d(e,"Uint8BufferAttribute",(function(){return xr})),n.d(e,"Uint8ClampedAttribute",(function(){return qc})),n.d(e,"Uint8ClampedBufferAttribute",(function(){return wr})),n.d(e,"Uncharted2ToneMapping",(function(){return ct})),n.d(e,"Uniform",(function(){return ic})),n.d(e,"UniformsLib",(function(){return ai})),n.d(e,"UniformsUtils",(function(){return Ur})),n.d(e,"UnsignedByteType",(function(){return Ot})),n.d(e,"UnsignedInt248Type",(function(){return Vt})),n.d(e,"UnsignedIntType",(function(){return Ft})),n.d(e,"UnsignedShort4444Type",(function(){return Yt})),n.d(e,"UnsignedShort5551Type",(function(){return Ut})),n.d(e,"UnsignedShort565Type",(function(){return Gt})),n.d(e,"UnsignedShortType",(function(){return zt})),n.d(e,"Vector2",(function(){return hn})),n.d(e,"Vector3",(function(){return fn})),n.d(e,"Vector4",(function(){return Ln})),n.d(e,"VectorKeyframeTrack",(function(){return cl})),n.d(e,"Vertex",(function(){return Uc})),n.d(e,"VertexColors",(function(){return S})),n.d(e,"VertexNormalsHelper",(function(){return fc})),n.d(e,"VideoTexture",(function(){return Eo})),n.d(e,"WebGLMultisampleRenderTarget",(function(){return Cn})),n.d(e,"WebGLRenderTarget",(function(){return kn})),n.d(e,"WebGLRenderTargetCube",(function(){return ti})),n.d(e,"WebGLRenderer",(function(){return so})),n.d(e,"WebGLUtils",(function(){return qa})),n.d(e,"WireframeGeometry",(function(){return ko})),n.d(e,"WireframeHelper",(function(){return od})),n.d(e,"WrapAroundEnding",(function(){return Pe})),n.d(e,"XHRLoader",(function(){return sd})),n.d(e,"ZeroCurvatureEnding",(function(){return Ce})),n.d(e,"ZeroFactor",(function(){return F})),n.d(e,"ZeroSlopeEnding",(function(){return De})),n.d(e,"ZeroStencilOp",(function(){return Xe})),n.d(e,"sRGBEncoding",(function(){return ze})),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Object.assign(r.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,t)}}}});var i,a,o,s,l="107",u={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},c={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},d=0,h=1,p=2,f=3,m=0,v=1,g=0,y=1,_=2,b=0,x=1,w=2,M=1,A=2,E=0,T=1,S=2,L=0,k=1,C=2,D=3,P=4,R=5,O=100,I=101,N=102,z=103,B=104,F=200,j=201,H=202,Y=203,U=204,G=205,V=206,W=207,q=208,X=209,J=210,Z=0,Q=1,K=2,$=3,tt=4,et=5,nt=6,rt=7,it=0,at=1,ot=2,st=0,lt=1,ut=2,ct=3,dt=4,ht=5,pt=300,ft=301,mt=302,vt=303,gt=304,yt=305,_t=306,bt=307,xt=1e3,wt=1001,Mt=1002,At=1003,Et=1004,Tt=1004,St=1005,Lt=1005,kt=1006,Ct=1007,Dt=1007,Pt=1008,Rt=1008,Ot=1009,It=1010,Nt=1011,zt=1012,Bt=1013,Ft=1014,jt=1015,Ht=1016,Yt=1017,Ut=1018,Gt=1019,Vt=1020,Wt=1021,qt=1022,Xt=1023,Jt=1024,Zt=1025,Qt=Xt,Kt=1026,$t=1027,te=1028,ee=33776,ne=33777,re=33778,ie=33779,ae=35840,oe=35841,se=35842,le=35843,ue=36196,ce=37808,de=37809,he=37810,pe=37811,fe=37812,me=37813,ve=37814,ge=37815,ye=37816,_e=37817,be=37818,xe=37819,we=37820,Me=37821,Ae=2200,Ee=2201,Te=2202,Se=2300,Le=2301,ke=2302,Ce=2400,De=2401,Pe=2402,Re=0,Oe=1,Ie=2,Ne=3e3,ze=3001,Be=3007,Fe=3002,je=3003,He=3004,Ye=3005,Ue=3006,Ge=3200,Ve=3201,We=0,qe=1,Xe=0,Je=7680,Ze=7681,Qe=7682,Ke=7683,$e=34055,tn=34056,en=5386,nn=512,rn=513,an=514,on=515,sn=516,ln=517,un=518,cn=519,dn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&n]+t[n>>8&255]+"-"+t[n>>16&15|64]+t[n>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&i]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]).toUpperCase()}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*dn.DEG2RAD},radToDeg:function(t){return t*dn.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function hn(t,e){this.x=t||0,this.y=e||0}function pn(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function fn(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function mn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(hn.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(hn.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,a=this.y-t.y;return this.x=i*n-a*r+t.x,this.y=i*r+a*n+t.y,this}}),Object.assign(pn,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],d=i[a+0],h=i[a+1],p=i[a+2],f=i[a+3];if(c!==f||s!==d||l!==h||u!==p){var m=1-o,v=s*d+l*h+u*p+c*f,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,v*g);m=Math.sin(m*b)/_,o=Math.sin(o*b)/_}var x=o*g;if(s=s*m+d*x,l=l*m+h*x,u=u*m+p*x,c=c*m+f*x,m===1-o){var w=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=w,l*=w,u*=w,c*=w}}t[e]=s,t[e+1]=l,t[e+2]=u,t[e+3]=c}}),Object.defineProperties(pn.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}}),Object.assign(pn.prototype,{isQuaternion:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,r=t._y,i=t._z,a=t.order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),d=s(n/2),h=s(r/2),p=s(i/2);return"XYZ"===a?(this._x=d*u*c+l*h*p,this._y=l*h*c-d*u*p,this._z=l*u*p+d*h*c,this._w=l*u*c-d*h*p):"YXZ"===a?(this._x=d*u*c+l*h*p,this._y=l*h*c-d*u*p,this._z=l*u*p-d*h*c,this._w=l*u*c+d*h*p):"ZXY"===a?(this._x=d*u*c-l*h*p,this._y=l*h*c+d*u*p,this._z=l*u*p+d*h*c,this._w=l*u*c-d*h*p):"ZYX"===a?(this._x=d*u*c-l*h*p,this._y=l*h*c+d*u*p,this._z=l*u*p-d*h*c,this._w=l*u*c+d*h*p):"YZX"===a?(this._x=d*u*c+l*h*p,this._y=l*h*c+d*u*p,this._z=l*u*p-d*h*c,this._w=l*u*c-d*h*p):"XZY"===a&&(this._x=d*u*c-l*h*p,this._y=l*h*c-d*u*p,this._z=l*u*p+d*h*c,this._w=l*u*c+d*h*p),!1!==e&&this._onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],l=n[9],u=n[2],c=n[6],d=n[10],h=r+s+d;return h>0?(e=.5/Math.sqrt(h+1),this._w=.25/e,this._x=(c-l)*e,this._y=(a-u)*e,this._z=(o-i)*e):r>s&&r>d?(e=2*Math.sqrt(1+r-s-d),this._w=(c-l)/e,this._x=.25*e,this._y=(i+o)/e,this._z=(a+u)/e):s>d?(e=2*Math.sqrt(1+s-r-d),this._w=(a-u)/e,this._x=(i+o)/e,this._y=.25*e,this._z=(l+c)/e):(e=2*Math.sqrt(1+d-r-s),this._w=(o-i)/e,this._x=(a+u)/e,this._y=(l+c)/e,this._z=.25*e),this._onChangeCallback(),this},setFromUnitVectors:function(t,e){var n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(dn.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var n=this.angleTo(t);if(0===n)return this;var r=Math.min(1,e/n);return this.slerp(t,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,a=t._w,o=e._x,s=e._y,l=e._z,u=e._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*t._w+n*t._x+r*t._y+i*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-e;return this._w=l*a+e*this._w,this._x=l*n+e*this._x,this._y=l*r+e*this._y,this._z=l*i+e*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),d=Math.sin((1-e)*c)/u,h=Math.sin(e*c)/u;return this._w=a*d+this._w*h,this._x=n*d+this._x*h,this._y=r*d+this._y*h,this._z=i*d+this._z*h,this._onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}}),Object.assign(fn.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:(a=new pn,function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(a.setFromEuler(t))}),applyAxisAngle:function(){var t=new pn;return function(e,n){return this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements,a=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*a,this},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,a=t.y,o=t.z,s=t.w,l=s*e+a*r-o*n,u=s*n+o*e-i*r,c=s*r+i*n-a*e,d=-i*e-a*n-o*r;return this.x=l*s+d*-i+u*-o-c*-a,this.y=u*s+d*-a+c*-i-l*-o,this.z=c*s+d*-o+l*-a-u*-i,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,a=e.x,o=e.y,s=e.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:(i=new fn,function(t){return i.copy(this).projectOnVector(t),this.sub(i)}),reflect:function(){var t=new fn;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(dn.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,n){var r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(mn.prototype,{isMatrix3:!0,set:function(t,e,n,r,i,a,o,s,l){var u=this.elements;return u[0]=t,u[1]=r,u[2]=o,u[3]=e,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(t){void 0===o&&(o=new fn);for(var e=0,n=t.count;e<n;e++)o.x=t.getX(e),o.y=t.getY(e),o.z=t.getZ(e),o.applyMatrix3(this),t.setXYZ(e,o.x,o.y,o.z);return t},multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],d=n[2],h=n[5],p=n[8],f=r[0],m=r[3],v=r[6],g=r[1],y=r[4],_=r[7],b=r[2],x=r[5],w=r[8];return i[0]=a*f+o*g+s*b,i[3]=a*m+o*y+s*x,i[6]=a*v+o*_+s*w,i[1]=l*f+u*g+c*b,i[4]=l*m+u*y+c*x,i[7]=l*v+u*_+c*w,i[2]=d*f+h*g+p*b,i[5]=d*m+h*y+p*x,i[8]=d*v+h*_+p*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8];return e*a*u-e*o*l-n*i*u+n*o*s+r*i*l-r*a*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],a=n[1],o=n[2],s=n[3],l=n[4],u=n[5],c=n[6],d=n[7],h=n[8],p=h*l-u*d,f=u*c-h*s,m=d*s-l*c,v=i*p+a*f+o*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=p*y,r[1]=(o*d-h*a)*y,r[2]=(u*a-o*l)*y,r[3]=f*y,r[4]=(h*i-o*c)*y,r[5]=(o*s-u*i)*y,r[6]=m*y,r[7]=(a*c-d*i)*y,r[8]=(l*i-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);this.set(n*s,n*l,-n*(s*a+l*o)+a+t,-r*l,r*s,-r*(-l*a+s*o)+o+e,0,0,1)},scale:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],l=r[4],u=r[7];return r[0]=e*i+n*s,r[3]=e*a+n*l,r[6]=e*o+n*u,r[1]=-n*i+e*s,r[4]=-n*a+e*l,r[7]=-n*o+e*u,this},translate:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}});var vn,gn,yn,_n,bn,xn,wn,Mn,An,En={getDataURL:function(t){var e;if("undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)e=t;else{void 0===s&&(s=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),s.width=t.width,s.height=t.height;var n=s.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=s}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},Tn=0;function Sn(t,e,n,r,i,a,o,s,l,u){Object.defineProperty(this,"id",{value:Tn++}),this.uuid=dn.generateUUID(),this.name="",this.image=void 0!==t?t:Sn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:Sn.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:wt,this.wrapT=void 0!==r?r:wt,this.magFilter=void 0!==i?i:kt,this.minFilter=void 0!==a?a:Pt,this.anisotropy=void 0!==l?l:1,this.format=void 0!==o?o:Xt,this.type=void 0!==s?s:Ot,this.offset=new hn(0,0),this.repeat=new hn(1,1),this.center=new hn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new mn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:Ne,this.version=0,this.onUpdate=null}function Ln(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function kn(t,e,n){this.width=t,this.height=e,this.scissor=new Ln(0,0,t,e),this.scissorTest=!1,this.viewport=new Ln(0,0,t,e),n=n||{},this.texture=new Sn(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:kt,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Cn(t,e,n){kn.call(this,t,e,n),this.samples=4}function Dn(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Pn(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||Pn.DefaultOrder}function Rn(){this.mask=1}Sn.DEFAULT_IMAGE=void 0,Sn.DEFAULT_MAPPING=pt,Sn.prototype=Object.assign(Object.create(r.prototype),{constructor:Sn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=dn.generateUUID()),!e&&void 0===t.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)i.push(En.getDataURL(r[a]))}else i=En.getDataURL(r);t.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==pt)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case xt:t.x=t.x-Math.floor(t.x);break;case wt:t.x=t.x<0?0:1;break;case Mt:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case xt:t.y=t.y-Math.floor(t.y);break;case wt:t.y=t.y<0?0:1;break;case Mt:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(Sn.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.defineProperties(Ln.prototype,{width:{get:function(){return this.z},set:function(t){this.z=t}},height:{get:function(){return this.w},set:function(t){this.w=t}}}),Object.assign(Ln.prototype,{isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*e+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*e+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*e+a[7]*n+a[11]*r+a[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,a=t.elements,o=a[0],s=a[4],l=a[8],u=a[1],c=a[5],d=a[9],h=a[2],p=a[6],f=a[10];if(Math.abs(s-u)<.01&&Math.abs(l-h)<.01&&Math.abs(d-p)<.01){if(Math.abs(s+u)<.1&&Math.abs(l+h)<.1&&Math.abs(d+p)<.1&&Math.abs(o+c+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(o+1)/2,v=(c+1)/2,g=(f+1)/2,y=(s+u)/4,_=(l+h)/4,b=(d+p)/4;return m>v&&m>g?m<.01?(n=0,r=.707106781,i=.707106781):(r=y/(n=Math.sqrt(m)),i=_/n):v>g?v<.01?(n=.707106781,r=0,i=.707106781):(n=y/(r=Math.sqrt(v)),i=b/r):g<.01?(n=.707106781,r=.707106781,i=0):(n=_/(i=Math.sqrt(g)),r=b/i),this.set(n,r,i,e),this}var x=Math.sqrt((p-d)*(p-d)+(l-h)*(l-h)+(u-s)*(u-s));return Math.abs(x)<.001&&(x=1),this.x=(p-d)/x,this.y=(l-h)/x,this.z=(u-s)/x,this.w=Math.acos((o+c+f-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),kn.prototype=Object.assign(Object.create(r.prototype),{constructor:kn,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Cn.prototype=Object.assign(Object.create(kn.prototype),{constructor:Cn,isWebGLMultisampleRenderTarget:!0,copy:function(t){return kn.prototype.copy.call(this,t),this.samples=t.samples,this}}),Object.assign(Dn.prototype,{isMatrix4:!0,set:function(t,e,n,r,i,a,o,s,l,u,c,d,h,p,f,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=r,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=d,v[3]=h,v[7]=p,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Dn).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t=new fn;return function(e){var n=this.elements,r=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){var d=a*u,h=a*c,p=o*u,f=o*c;e[0]=s*u,e[4]=-s*c,e[8]=l,e[1]=h+p*l,e[5]=d-f*l,e[9]=-o*s,e[2]=f-d*l,e[6]=p+h*l,e[10]=a*s}else if("YXZ"===t.order){var m=s*u,v=s*c,g=l*u,y=l*c;e[0]=m+y*o,e[4]=g*o-v,e[8]=a*l,e[1]=a*c,e[5]=a*u,e[9]=-o,e[2]=v*o-g,e[6]=y+m*o,e[10]=a*s}else if("ZXY"===t.order)m=s*u,v=s*c,g=l*u,y=l*c,e[0]=m-y*o,e[4]=-a*c,e[8]=g+v*o,e[1]=v+g*o,e[5]=a*u,e[9]=y-m*o,e[2]=-a*l,e[6]=o,e[10]=a*s;else if("ZYX"===t.order)d=a*u,h=a*c,p=o*u,f=o*c,e[0]=s*u,e[4]=p*l-h,e[8]=d*l+f,e[1]=s*c,e[5]=f*l+d,e[9]=h*l-p,e[2]=-l,e[6]=o*s,e[10]=a*s;else if("YZX"===t.order){var _=a*s,b=a*l,x=o*s,w=o*l;e[0]=s*u,e[4]=w-_*c,e[8]=x*c+b,e[1]=c,e[5]=a*u,e[9]=-o*u,e[2]=-l*u,e[6]=b*c+x,e[10]=_-w*c}else"XZY"===t.order&&(_=a*s,b=a*l,x=o*s,w=o*l,e[0]=s*u,e[4]=-c,e[8]=l*u,e[1]=_*c+w,e[5]=a*u,e[9]=b*c-x,e[2]=x*c-b,e[6]=o*u,e[10]=w*c+_);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:(xn=new fn(0,0,0),wn=new fn(1,1,1),function(t){return this.compose(xn,t,wn)}),lookAt:(yn=new fn,_n=new fn,bn=new fn,function(t,e,n){var r=this.elements;return bn.subVectors(t,e),0===bn.lengthSq()&&(bn.z=1),bn.normalize(),yn.crossVectors(n,bn),0===yn.lengthSq()&&(1===Math.abs(n.z)?bn.x+=1e-4:bn.z+=1e-4,bn.normalize(),yn.crossVectors(n,bn)),yn.normalize(),_n.crossVectors(bn,yn),r[0]=yn.x,r[4]=_n.x,r[8]=bn.x,r[1]=yn.y,r[5]=_n.y,r[9]=bn.y,r[2]=yn.z,r[6]=_n.z,r[10]=bn.z,this}),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],d=n[9],h=n[13],p=n[2],f=n[6],m=n[10],v=n[14],g=n[3],y=n[7],_=n[11],b=n[15],x=r[0],w=r[4],M=r[8],A=r[12],E=r[1],T=r[5],S=r[9],L=r[13],k=r[2],C=r[6],D=r[10],P=r[14],R=r[3],O=r[7],I=r[11],N=r[15];return i[0]=a*x+o*E+s*k+l*R,i[4]=a*w+o*T+s*C+l*O,i[8]=a*M+o*S+s*D+l*I,i[12]=a*A+o*L+s*P+l*N,i[1]=u*x+c*E+d*k+h*R,i[5]=u*w+c*T+d*C+h*O,i[9]=u*M+c*S+d*D+h*I,i[13]=u*A+c*L+d*P+h*N,i[2]=p*x+f*E+m*k+v*R,i[6]=p*w+f*T+m*C+v*O,i[10]=p*M+f*S+m*D+v*I,i[14]=p*A+f*L+m*P+v*N,i[3]=g*x+y*E+_*k+b*R,i[7]=g*w+y*T+_*C+b*O,i[11]=g*M+y*S+_*D+b*I,i[15]=g*A+y*L+_*P+b*N,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new fn;return function(e){for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],a=t[1],o=t[5],s=t[9],l=t[13],u=t[2],c=t[6],d=t[10],h=t[14];return t[3]*(+i*s*c-r*l*c-i*o*d+n*l*d+r*o*h-n*s*h)+t[7]*(+e*s*h-e*l*d+i*a*d-r*a*h+r*l*u-i*s*u)+t[11]*(+e*l*c-e*o*h-i*a*c+n*a*h+i*o*u-n*l*u)+t[15]*(-r*o*u-e*s*c+e*o*d+r*a*c-n*a*d+n*s*u)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t,e,n){var r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=r[6],d=r[7],h=r[8],p=r[9],f=r[10],m=r[11],v=r[12],g=r[13],y=r[14],_=r[15],b=p*y*d-g*f*d+g*c*m-u*y*m-p*c*_+u*f*_,x=v*f*d-h*y*d-v*c*m+l*y*m+h*c*_-l*f*_,w=h*g*d-v*p*d+v*u*m-l*g*m-h*u*_+l*p*_,M=v*p*c-h*g*c-v*u*f+l*g*f+h*u*y-l*p*y,A=i*b+a*x+o*w+s*M;if(0===A){var E="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(E);return console.warn(E),this.identity()}var T=1/A;return n[0]=b*T,n[1]=(g*f*s-p*y*s-g*o*m+a*y*m+p*o*_-a*f*_)*T,n[2]=(u*y*s-g*c*s+g*o*d-a*y*d-u*o*_+a*c*_)*T,n[3]=(p*c*s-u*f*s-p*o*d+a*f*d+u*o*m-a*c*m)*T,n[4]=x*T,n[5]=(h*y*s-v*f*s+v*o*m-i*y*m-h*o*_+i*f*_)*T,n[6]=(v*c*s-l*y*s-v*o*d+i*y*d+l*o*_-i*c*_)*T,n[7]=(l*f*s-h*c*s+h*o*d-i*f*d-l*o*m+i*c*m)*T,n[8]=w*T,n[9]=(v*p*s-h*g*s-v*a*m+i*g*m+h*a*_-i*p*_)*T,n[10]=(l*g*s-v*u*s+v*a*d-i*g*d-l*a*_+i*u*_)*T,n[11]=(h*u*s-l*p*s-h*a*d+i*p*d+l*a*m-i*u*m)*T,n[12]=M*T,n[13]=(h*g*o-v*p*o+v*a*f-i*g*f-h*a*y+i*p*y)*T,n[14]=(v*u*o-l*g*o-v*a*c+i*g*c+l*a*y-i*u*y)*T,n[15]=(l*p*o-h*u*o+h*a*c-i*p*c-l*a*f+i*u*f)*T,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,a=t.x,o=t.y,s=t.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){var r=this.elements,i=e._x,a=e._y,o=e._z,s=e._w,l=i+i,u=a+a,c=o+o,d=i*l,h=i*u,p=i*c,f=a*u,m=a*c,v=o*c,g=s*l,y=s*u,_=s*c,b=n.x,x=n.y,w=n.z;return r[0]=(1-(f+v))*b,r[1]=(h+_)*b,r[2]=(p-y)*b,r[3]=0,r[4]=(h-_)*x,r[5]=(1-(d+v))*x,r[6]=(m+g)*x,r[7]=0,r[8]=(p+y)*w,r[9]=(m-g)*w,r[10]=(1-(d+f))*w,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:(vn=new fn,gn=new Dn,function(t,e,n){var r=this.elements,i=vn.set(r[0],r[1],r[2]).length(),a=vn.set(r[4],r[5],r[6]).length(),o=vn.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],gn.copy(this);var s=1/i,l=1/a,u=1/o;return gn.elements[0]*=s,gn.elements[1]*=s,gn.elements[2]*=s,gn.elements[4]*=l,gn.elements[5]*=l,gn.elements[6]*=l,gn.elements[8]*=u,gn.elements[9]*=u,gn.elements[10]*=u,e.setFromRotationMatrix(gn),n.x=i,n.y=a,n.z=o,this}),makePerspective:function(t,e,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(e-t),l=2*i/(n-r),u=(e+t)/(e-t),c=(n+r)/(n-r),d=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,n,r,i,a){var o=this.elements,s=1/(e-t),l=1/(n-r),u=1/(a-i),c=(e+t)*s,d=(n+r)*l,h=(a+i)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}),Pn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Pn.DefaultOrder="XYZ",Object.defineProperties(Pn.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}}}),Object.assign(Pn.prototype,{isEuler:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=dn.clamp,i=t.elements,a=i[0],o=i[4],s=i[8],l=i[1],u=i[5],c=i[9],d=i[2],h=i[6],p=i[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,u),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a))):"ZYX"===e?(this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.99999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u))):"YZX"===e?(this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e?(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(t,e,n){return void 0===Mn&&(Mn=new Dn),Mn.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Mn,e,n)},setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(t){return void 0===An&&(An=new pn),An.setFromEuler(this),this.setFromQuaternion(An,t)},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new fn(this._x,this._y,this._z)},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}}),Object.assign(Rn.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var On,In,Nn,zn,Bn,Fn,jn,Hn,Yn,Un,Gn,Vn,Wn,qn,Xn,Jn,Zn,Qn,Kn,$n,tr=0;function er(){Object.defineProperty(this,"id",{value:tr++}),this.uuid=dn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=er.DefaultUp.clone();var t=new fn,e=new Pn,n=new pn,r=new fn(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Dn},normalMatrix:{value:new mn}}),this.matrix=new Dn,this.matrixWorld=new Dn,this.matrixAutoUpdate=er.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Rn,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function nr(){er.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function rr(t,e){this.min=void 0!==t?t:new fn(1/0,1/0,1/0),this.max=void 0!==e?e:new fn(-1/0,-1/0,-1/0)}function ir(t,e){this.center=void 0!==t?t:new fn,this.radius=void 0!==e?e:0}function ar(t,e){this.origin=void 0!==t?t:new fn,this.direction=void 0!==e?e:new fn}function or(t,e,n){this.a=void 0!==t?t:new fn,this.b=void 0!==e?e:new fn,this.c=void 0!==n?n:new fn}er.DefaultUp=new fn(0,1,0),er.DefaultMatrixAutoUpdate=!0,er.prototype=Object.assign(Object.create(r.prototype),{constructor:er,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(Bn=new pn,function(t,e){return Bn.setFromAxisAngle(t,e),this.quaternion.multiply(Bn),this}),rotateOnWorldAxis:function(){var t=new pn;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new fn(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new fn(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new fn(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new fn;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new fn(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new fn(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new fn(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(zn=new Dn,function(t){return t.applyMatrix4(zn.getInverse(this.matrixWorld))}),lookAt:function(){var t=new pn,e=new Dn,n=new fn,r=new fn;return function(i,a,o){i.isVector3?n.copy(i):n.set(i,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e.lookAt(r,n,this.up):e.lookAt(n,r,this.up),this.quaternion.setFromRotationMatrix(e),s&&(e.extractRotation(s.matrixWorld),t.setFromRotationMatrix(e),this.quaternion.premultiply(t.inverse()))}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent({type:"added"})):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent({type:"removed"})),this},attach:(Nn=new Dn,function(t){return this.updateWorldMatrix(!0,!1),Nn.getInverse(this.matrixWorld),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Nn.multiply(t.parent.matrixWorld)),t.applyMatrix(Nn),t.updateWorldMatrix(!1,!1),this.add(t),this}),getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new fn),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(On=new fn,In=new fn,function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new pn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(On,t,In),t}),getWorldScale:function(){var t=new fn,e=new pn;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new fn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new fn),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==Re&&(r.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){r.geometry=i(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];i(t.shapes,u)}else i(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,l=this.material.length;s<l;s++)c.push(i(t.materials,this.material[s]));r.material=c}else r.material=i(t.materials,this.material);if(this.children.length>0)for(r.children=[],s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(t).object);if(e){var d=m(t.geometries),h=m(t.materials),p=m(t.textures),f=m(t.images);o=m(t.shapes),d.length>0&&(n.geometries=d),h.length>0&&(n.materials=h),p.length>0&&(n.textures=p),f.length>0&&(n.images=f),o.length>0&&(n.shapes=o)}return n.object=r,n;function m(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}}),nr.prototype=Object.assign(Object.create(er.prototype),{constructor:nr,isScene:!0,copy:function(t,e){return er.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=er.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.assign(rr.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=t.length;s<l;s+=3){var u=t[s],c=t[s+1],d=t[s+2];u<e&&(e=u),c<n&&(n=c),d<r&&(r=d),u>i&&(i=u),c>a&&(a=c),d>o&&(o=d)}return this.min.set(e,n,r),this.max.set(i,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=t.count;s<l;s++){var u=t.getX(s),c=t.getY(s),d=t.getZ(s);u<e&&(e=u),c<n&&(n=c),d<r&&(r=d),u>i&&(i=u),c>a&&(a=c),d>o&&(o=d)}return this.min.set(e,n,r),this.max.set(i,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new fn;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new fn),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new fn),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,n,r=new fn;function i(i){var a=i.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(e=0,n=o.length;e<n;e++)r.copy(o[e]),r.applyMatrix4(i.matrixWorld),t.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(e=0,n=s.count;e<n;e++)r.fromBufferAttribute(s,e).applyMatrix4(i.matrixWorld),t.expandByPoint(r)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(i),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new fn),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:(jn=new fn,function(t){return this.clampPoint(t.center,jn),jn.distanceToSquared(t.center)<=t.radius*t.radius}),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant},intersectsTriangle:function(){var t=new fn,e=new fn,n=new fn,r=new fn,i=new fn,a=new fn,o=new fn,s=new fn,l=new fn,u=new fn;function c(r){var i,a;for(i=0,a=r.length-3;i<=a;i+=3){o.fromArray(r,i);var s=l.x*Math.abs(o.x)+l.y*Math.abs(o.y)+l.z*Math.abs(o.z),u=t.dot(o),c=e.dot(o),d=n.dot(o);if(Math.max(-Math.max(u,c,d),Math.min(u,c,d))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),l.subVectors(this.max,s),t.subVectors(o.a,s),e.subVectors(o.b,s),n.subVectors(o.c,s),r.subVectors(e,t),i.subVectors(n,e),a.subVectors(t,n);var d=[0,-r.z,r.y,0,-i.z,i.y,0,-a.z,a.y,r.z,0,-r.x,i.z,0,-i.x,a.z,0,-a.x,-r.y,r.x,0,-i.y,i.x,0,-a.y,a.x,0];return!!c(d)&&!!c(d=[1,0,0,0,1,0,0,0,1])&&(u.crossVectors(r,i),c(d=[u.x,u.y,u.z]))}}(),clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new fn),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new fn;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new fn;return function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(Fn=[new fn,new fn,new fn,new fn,new fn,new fn,new fn,new fn],function(t){return this.isEmpty()?this:(Fn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Fn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Fn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Fn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Fn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Fn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Fn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Fn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Fn),this)}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(ir.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(t,e){void 0===Hn&&(Hn=new rr);var n=this.center;void 0!==e?n.copy(e):Hn.setFromPoints(t).getCenter(n);for(var r=0,i=0,a=t.length;i<a;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new fn),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new rr),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(ar.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new fn),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new fn;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new fn),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new fn;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:(Un=new fn,Gn=new fn,Vn=new fn,function(t,e,n,r){Un.copy(t).add(e).multiplyScalar(.5),Gn.copy(e).sub(t).normalize(),Vn.copy(this.origin).sub(Un);var i,a,o,s,l=.5*t.distanceTo(e),u=-this.direction.dot(Gn),c=Vn.dot(this.direction),d=-Vn.dot(Gn),h=Vn.lengthSq(),p=Math.abs(1-u*u);if(p>0)if(a=u*c-d,s=l*p,(i=u*d-c)>=0)if(a>=-s)if(a<=s){var f=1/p;o=(i*=f)*(i+u*(a*=f)+2*c)+a*(u*i+a+2*d)+h}else a=l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+h;else a=-l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+h;else a<=-s?o=-(i=Math.max(0,-(-u*l+c)))*i+(a=i>0?-l:Math.min(Math.max(-l,-d),l))*(a+2*d)+h:a<=s?(i=0,o=(a=Math.min(Math.max(-l,-d),l))*(a+2*d)+h):o=-(i=Math.max(0,-(u*l+c)))*i+(a=i>0?l:Math.min(Math.max(-l,-d),l))*(a+2*d)+h;else a=u>0?-l:l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+h;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Gn).multiplyScalar(a).add(Un),o}),intersectSphere:function(){var t=new fn;return function(e,n){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),i=t.dot(t)-r*r,a=e.radius*e.radius;if(i>a)return null;var o=Math.sqrt(a-i),s=r-o,l=r+o;return s<0&&l<0?null:s<0?this.at(l,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return l>=0?(n=(t.min.x-d.x)*l,r=(t.max.x-d.x)*l):(n=(t.max.x-d.x)*l,r=(t.min.x-d.x)*l),u>=0?(i=(t.min.y-d.y)*u,a=(t.max.y-d.y)*u):(i=(t.max.y-d.y)*u,a=(t.min.y-d.y)*u),n>a||i>r?null:((i>n||n!=n)&&(n=i),(a<r||r!=r)&&(r=a),c>=0?(o=(t.min.z-d.z)*c,s=(t.max.z-d.z)*c):(o=(t.max.z-d.z)*c,s=(t.min.z-d.z)*c),n>s||o>r?null:((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:(Yn=new fn,function(t){return null!==this.intersectBox(t,Yn)}),intersectTriangle:function(){var t=new fn,e=new fn,n=new fn,r=new fn;return function(i,a,o,s,l){e.subVectors(a,i),n.subVectors(o,i),r.crossVectors(e,n);var u,c=this.direction.dot(r);if(c>0){if(s)return null;u=1}else{if(!(c<0))return null;u=-1,c=-c}t.subVectors(this.origin,i);var d=u*this.direction.dot(n.crossVectors(t,n));if(d<0)return null;var h=u*this.direction.dot(e.cross(t));if(h<0)return null;if(d+h>c)return null;var p=-u*t.dot(r);return p<0?null:this.at(p/c,l)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign(or,{getNormal:(qn=new fn,function(t,e,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new fn),r.subVectors(n,e),qn.subVectors(t,e),r.cross(qn);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}),getBarycoord:function(){var t=new fn,e=new fn,n=new fn;return function(r,i,a,o,s){t.subVectors(o,i),e.subVectors(a,i),n.subVectors(r,i);var l=t.dot(t),u=t.dot(e),c=t.dot(n),d=e.dot(e),h=e.dot(n),p=l*d-u*u;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new fn),0===p)return s.set(-2,-1,-1);var f=1/p,m=(d*c-u*h)*f,v=(l*h-u*c)*f;return s.set(1-m-v,v,m)}}(),containsPoint:function(){var t=new fn;return function(e,n,r,i){return or.getBarycoord(e,n,r,i,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}(),getUV:(Wn=new fn,function(t,e,n,r,i,a,o,s){return this.getBarycoord(t,e,n,r,Wn),s.set(0,0),s.addScaledVector(i,Wn.x),s.addScaledVector(a,Wn.y),s.addScaledVector(o,Wn.z),s}),isFrontFacing:function(){var t=new fn,e=new fn;return function(n,r,i,a){return t.subVectors(i,r),e.subVectors(n,r),t.cross(e).dot(a)<0}}()}),Object.assign(or.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new fn,e=new fn;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new fn),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return or.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new fn),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return or.getBarycoord(t,this.a,this.b,this.c,e)},getUV:function(t,e,n,r,i){return or.getUV(t,this.a,this.b,this.c,e,n,r,i)},containsPoint:function(t){return or.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return or.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:(Xn=new fn,Jn=new fn,Zn=new fn,Qn=new fn,Kn=new fn,$n=new fn,function(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new fn);var n,r,i=this.a,a=this.b,o=this.c;Xn.subVectors(a,i),Jn.subVectors(o,i),Qn.subVectors(t,i);var s=Xn.dot(Qn),l=Jn.dot(Qn);if(s<=0&&l<=0)return e.copy(i);Kn.subVectors(t,a);var u=Xn.dot(Kn),c=Jn.dot(Kn);if(u>=0&&c<=u)return e.copy(a);var d=s*c-u*l;if(d<=0&&s>=0&&u<=0)return n=s/(s-u),e.copy(i).addScaledVector(Xn,n);$n.subVectors(t,o);var h=Xn.dot($n),p=Jn.dot($n);if(p>=0&&h<=p)return e.copy(o);var f=h*l-s*p;if(f<=0&&l>=0&&p<=0)return r=l/(l-p),e.copy(i).addScaledVector(Jn,r);var m=u*p-h*c;if(m<=0&&c-u>=0&&h-p>=0)return Zn.subVectors(o,a),r=(c-u)/(c-u+(h-p)),e.copy(a).addScaledVector(Zn,r);var v=1/(m+f+d);return n=f*v,r=d*v,e.copy(i).addScaledVector(Xn,n).addScaledVector(Jn,r)}),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}});var sr,lr,ur,cr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function dr(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function hr(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function pr(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function fr(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}function mr(t,e,n,r,i,a){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new fn,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new dr,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==a?a:0}Object.assign(dr.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(t,e,n){if(t=dn.euclideanModulo(t,1),e=dn.clamp(e,0,1),n=dn.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+e):n+e-n*e,i=2*n-r;this.r=hr(i,r,t+1/3),this.g=hr(i,r,t),this.b=hr(i,r,t-1/3)}return this},setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(o,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u,c=(u=n[1]).length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return t&&t.length>0&&(void 0!==(u=cr[t])?this.setHex(u):console.warn("THREE.Color: Unknown color "+t)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(t){return this.r=pr(t.r),this.g=pr(t.g),this.b=pr(t.b),this},copyLinearToSRGB:function(t){return this.r=fr(t.r),this.g=fr(t.g),this.b=fr(t.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),l=(s+o)/2;if(s===o)e=0,n=0;else{var u=o-s;switch(n=l<=.5?u/(o+s):u/(2-o-s),o){case r:e=(i-a)/u+(i<a?6:0);break;case i:e=(a-r)/u+2;break;case a:e=(r-i)/u+4}e/=6}return t.h=e,t.s=n,t.l=l,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(ur={},function(t,e,n){return this.getHSL(ur),ur.h+=t,ur.s+=e,ur.l+=n,this.setHSL(ur.h,ur.s,ur.l),this}),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:(sr={h:0,s:0,l:0},lr={h:0,s:0,l:0},function(t,e){this.getHSL(sr),t.getHSL(lr);var n=dn.lerp(sr.h,lr.h,e),r=dn.lerp(sr.s,lr.s,e),i=dn.lerp(sr.l,lr.l,e);return this.setHSL(n,r,i),this}),equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}}),Object.assign(mr.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});var vr=0;function gr(){Object.defineProperty(this,"id",{value:vr++}),this.uuid=dn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=k,this.side=b,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=E,this.opacity=1,this.transparent=!1,this.blendSrc=U,this.blendDst=G,this.blendEquation=O,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=$,this.depthTest=!0,this.depthWrite=!0,this.stencilFunc=cn,this.stencilRef=0,this.stencilMask=255,this.stencilFail=Je,this.stencilZFail=Je,this.stencilZPass=Je,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function yr(t){gr.call(this),this.type="MeshBasicMaterial",this.color=new dr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=it,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function _r(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function br(t,e,n){_r.call(this,new Int8Array(t),e,n)}function xr(t,e,n){_r.call(this,new Uint8Array(t),e,n)}function wr(t,e,n){_r.call(this,new Uint8ClampedArray(t),e,n)}function Mr(t,e,n){_r.call(this,new Int16Array(t),e,n)}function Ar(t,e,n){_r.call(this,new Uint16Array(t),e,n)}function Er(t,e,n){_r.call(this,new Int32Array(t),e,n)}function Tr(t,e,n){_r.call(this,new Uint32Array(t),e,n)}function Sr(t,e,n){_r.call(this,new Float32Array(t),e,n)}function Lr(t,e,n){_r.call(this,new Float64Array(t),e,n)}function kr(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Cr(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,r=t.length;n<r;++n)t[n]>e&&(e=t[n]);return e}gr.prototype=Object.assign(Object.create(r.prototype),{constructor:gr,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===M;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==k&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==b&&(n.side=this.side),this.vertexColors!==E&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilMask=this.stencilMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){var i=r(t.textures),a=r(t.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWrite=t.stencilWrite,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilMask=t.stencilMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),yr.prototype=Object.create(gr.prototype),yr.prototype.constructor=yr,yr.prototype.isMeshBasicMaterial=!0,yr.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Object.defineProperty(_r.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(_r.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new dr),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new hn),e[n++]=a.x,e[n++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new fn),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new Ln),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),br.prototype=Object.create(_r.prototype),br.prototype.constructor=br,xr.prototype=Object.create(_r.prototype),xr.prototype.constructor=xr,wr.prototype=Object.create(_r.prototype),wr.prototype.constructor=wr,Mr.prototype=Object.create(_r.prototype),Mr.prototype.constructor=Mr,Ar.prototype=Object.create(_r.prototype),Ar.prototype.constructor=Ar,Er.prototype=Object.create(_r.prototype),Er.prototype.constructor=Er,Tr.prototype=Object.create(_r.prototype),Tr.prototype.constructor=Tr,Sr.prototype=Object.create(_r.prototype),Sr.prototype.constructor=Sr,Lr.prototype=Object.create(_r.prototype),Lr.prototype.constructor=Lr,Object.assign(kr.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,a=0;a<i.length;a++){var o=i[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,n.push(e)),e={start:3*a,materialIndex:r})}void 0!==e&&(e.count=3*a-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,i=t.faceVertexUvs,a=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=t.morphTargets,l=s.length;if(l>0){e=[];for(var u=0;u<l;u++)e[u]={name:s[u].name,data:[]};this.morphTargets.position=e}var c,d=t.morphNormals,h=d.length;if(h>0){for(c=[],u=0;u<h;u++)c[u]={name:d[u].name,data:[]};this.morphTargets.normal=c}var p=t.skinIndices,f=t.skinWeights,m=p.length===r.length,v=f.length===r.length;for(r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),u=0;u<n.length;u++){var g=n[u];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var _=g.normal;this.normals.push(_,_,_)}var b,x=g.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var w=g.color;this.colors.push(w,w,w)}!0===a&&(void 0!==(b=i[0][u])?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new hn,new hn,new hn))),!0===o&&(void 0!==(b=i[1][u])?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new hn,new hn,new hn)));for(var M=0;M<l;M++){var A=s[M].vertices;e[M].data.push(A[g.a],A[g.b],A[g.c])}for(M=0;M<h;M++){var E=d[M].vertexNormals[u];c[M].data.push(E.a,E.b,E.c)}m&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),v&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}});var Dr,Pr,Rr,Or=1;function Ir(){Object.defineProperty(this,"id",{value:Or+=2}),this.uuid=dn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function Nr(t,e){er.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Ir,this.material=void 0!==e?e:new yr({color:16777215*Math.random()}),this.drawMode=Re,this.updateMorphTargets()}Ir.prototype=Object.assign(Object.create(r.prototype),{constructor:Ir,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Cr(t)>65535?Tr:Ar)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):(this.attributes[t]=e,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(t,new _r(arguments[1],arguments[2])))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new mn).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0);var r=this.attributes.tangent;return void 0!==r&&((new mn).getNormalMatrix(t).applyToBufferAttribute(r),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new Dn;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Dn;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Dn;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Dn;return function(e,n,r){return t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t=new Dn;return function(e,n,r){return t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:(Rr=new er,function(t){Rr.lookAt(t),Rr.updateMatrix(),this.applyMatrix(Rr.matrix)}),center:(Pr=new fn,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pr).negate(),this.translate(Pr.x,Pr.y,Pr.z),this}),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new Sr(3*e.vertices.length,3),r=new Sr(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new Sr(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];e.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new Sr(e,3)),this},updateFromObject:function(t){var e,n=t.geometry;if(t.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(n.vertices),e.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(n.normals),e.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(n.colors),e.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(n.uvs),e.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(n.lineDistances),e.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(t.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new kr).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new _r(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new _r(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new _r(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new _r(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new _r(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],l=t.morphTargets[o],u=0,c=l.length;u<c;u++){var d=l[u],h=new Sr(3*d.data.length,3);h.name=d.name,s.push(h.copyVector3sArray(d.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var p=new Sr(4*t.skinIndices.length,4);this.addAttribute("skinIndex",p.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new Sr(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:(Dr=new rr,function(){null===this.boundingBox&&(this.boundingBox=new rr);var t=this.attributes.position,e=this.morphAttributes.position;if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var n=0,r=e.length;n<r;n++){var i=e[n];Dr.setFromBufferAttribute(i),this.boundingBox.expandByPoint(Dr.min),this.boundingBox.expandByPoint(Dr.max)}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}),computeBoundingSphere:function(){var t=new rr,e=new rr,n=new fn;return function(){null===this.boundingSphere&&(this.boundingSphere=new ir);var r=this.attributes.position,i=this.morphAttributes.position;if(r){var a=this.boundingSphere.center;if(t.setFromBufferAttribute(r),i)for(var o=0,s=i.length;o<s;o++){var l=i[o];e.setFromBufferAttribute(l),t.expandByPoint(e.min),t.expandByPoint(e.max)}t.getCenter(a);var u=0;for(o=0,s=r.count;o<s;o++)n.fromBufferAttribute(r,o),u=Math.max(u,a.distanceToSquared(n));if(i)for(o=0,s=i.length;o<s;o++)for(var c=0,d=(l=i[o]).count;c<d;c++)n.fromBufferAttribute(l,c),u=Math.max(u,a.distanceToSquared(n));this.boundingSphere.radius=Math.sqrt(u),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new _r(new Float32Array(n.length),3));else for(var r=e.normal.array,i=0,a=r.length;i<a;i++)r[i]=0;var o,s,l,u=e.normal.array,c=new fn,d=new fn,h=new fn,p=new fn,f=new fn;if(t){var m=t.array;for(i=0,a=t.count;i<a;i+=3)o=3*m[i+0],s=3*m[i+1],l=3*m[i+2],c.fromArray(n,o),d.fromArray(n,s),h.fromArray(n,l),p.subVectors(h,d),f.subVectors(c,d),p.cross(f),u[o]+=p.x,u[o+1]+=p.y,u[o+2]+=p.z,u[s]+=p.x,u[s+1]+=p.y,u[s+2]+=p.z,u[l]+=p.x,u[l+1]+=p.y,u[l+2]+=p.z}else for(i=0,a=n.length;i<a;i+=9)c.fromArray(n,i),d.fromArray(n,i+3),h.fromArray(n,i+6),p.subVectors(h,d),f.subVectors(c,d),p.cross(f),u[i]=p.x,u[i+1]=p.y,u[i+2]=p.z,u[i+3]=p.x,u[i+4]=p.y,u[i+5]=p.z,u[i+6]=p.x,u[i+7]=p.y,u[i+8]=p.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r].array,a=t.attributes[r],o=a.array,s=a.itemSize*e,l=Math.min(o.length,i.length-s),u=0,c=s;u<l;u++,c++)i[c]=o[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){var t=new fn;return function(){for(var e=this.attributes.normal,n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.normalize(),e.setXYZ(n,t.x,t.y,t.z)}}(),toNonIndexed:function(){function t(t,e){for(var n=t.array,r=t.itemSize,i=new n.constructor(e.length*r),a=0,o=0,s=0,l=e.length;s<l;s++){a=e[s]*r;for(var u=0;u<r;u++)i[o++]=n[a++]}return new _r(i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new Ir,n=this.index.array,r=this.attributes;for(var i in r){var a=t(r[i],n);e.addAttribute(i,a)}var o=this.morphAttributes;for(i in o){for(var s=[],l=o[i],u=0,c=l.length;u<c;u++)a=t(l[u],n),s.push(a);e.morphAttributes[i]=s}for(var d=this.groups,h=(u=0,d.length);u<h;u++){var p=d[u];e.addGroup(p.start,p.count,p.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;null!==r&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var n in i){var a=(h=i[n]).toJSON();""!==h.name&&(a.name=h.name),t.data.attributes[n]=a}var o={},s=!1;for(var n in this.morphAttributes){for(var l=this.morphAttributes[n],u=[],c=0,d=l.length;c<d;c++){var h;a=(h=l[c]).toJSON(),""!==h.name&&(a.name=h.name),u.push(a)}u.length>0&&(o[n]=u,s=!0)}s&&(t.data.morphAttributes=o);var p=this.groups;p.length>0&&(t.data.groups=JSON.parse(JSON.stringify(p)));var f=this.boundingSphere;return null!==f&&(t.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),t},clone:function(){return(new Ir).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var a=t.attributes;for(e in a){var o=a[e];this.addAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var l=[],u=s[e];for(n=0,r=u.length;n<r;n++)l.push(u[n].clone());this.morphAttributes[e]=l}var c=t.groups;for(n=0,r=c.length;n<r;n++){var d=c[n];this.addGroup(d.start,d.count,d.materialIndex)}var h=t.boundingBox;null!==h&&(this.boundingBox=h.clone());var p=t.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Nr.prototype=Object.assign(Object.create(er.prototype),{constructor:Nr,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return er.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,a=Object.keys(i);if(a.length>0){var o=i[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)n=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){var t=new Dn,e=new ar,n=new ir,r=new fn,i=new fn,a=new fn,o=new fn,s=new fn,l=new fn,u=new fn,c=new fn,d=new fn,h=new hn,p=new hn,f=new hn,m=new fn,v=new fn;function g(t,e,n,r,i,a,o,s){if(null===(e.side===x?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,e.side!==w,s)))return null;v.copy(s),v.applyMatrix4(t.matrixWorld);var l=n.ray.origin.distanceTo(v);return l<n.near||l>n.far?null:{distance:l,point:v.clone(),object:t}}function y(t,e,n,v,y,_,b,x,w,M,A){r.fromBufferAttribute(y,w),i.fromBufferAttribute(y,M),a.fromBufferAttribute(y,A);var E=t.morphTargetInfluences;if(e.morphTargets&&_&&E){u.set(0,0,0),c.set(0,0,0),d.set(0,0,0);for(var T=0,S=_.length;T<S;T++){var L=E[T],k=_[T];0!==L&&(o.fromBufferAttribute(k,w),s.fromBufferAttribute(k,M),l.fromBufferAttribute(k,A),u.addScaledVector(o.sub(r),L),c.addScaledVector(s.sub(i),L),d.addScaledVector(l.sub(a),L))}r.add(u),i.add(c),a.add(d)}var C=g(t,e,n,v,r,i,a,m);if(C){b&&(h.fromBufferAttribute(b,w),p.fromBufferAttribute(b,M),f.fromBufferAttribute(b,A),C.uv=or.getUV(m,r,i,a,h,p,f,new hn)),x&&(h.fromBufferAttribute(x,w),p.fromBufferAttribute(x,M),f.fromBufferAttribute(x,A),C.uv2=or.getUV(m,r,i,a,h,p,f,new hn));var D=new mr(w,M,A);or.getNormal(r,i,a,D.normal),C.face=D}return C}return function(r,i){var a,o=this.geometry,s=this.material,l=this.matrixWorld;if(void 0!==s&&(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(l),!1!==r.ray.intersectsSphere(n)&&(t.getInverse(l),e.copy(r.ray).applyMatrix4(t),null===o.boundingBox||!1!==e.intersectsBox(o.boundingBox))))if(o.isBufferGeometry){var u,c,d,v,_,b,x,w,M,A=o.index,E=o.attributes.position,T=o.morphAttributes.position,S=o.attributes.uv,L=o.attributes.uv2,k=o.groups,C=o.drawRange;if(null!==A)if(Array.isArray(s))for(v=0,b=k.length;v<b;v++)for(M=s[(w=k[v]).materialIndex],_=Math.max(w.start,C.start),x=Math.min(w.start+w.count,C.start+C.count);_<x;_+=3)u=A.getX(_),c=A.getX(_+1),d=A.getX(_+2),(a=y(this,M,r,e,E,T,S,L,u,c,d))&&(a.faceIndex=Math.floor(_/3),a.face.materialIndex=w.materialIndex,i.push(a));else for(v=Math.max(0,C.start),b=Math.min(A.count,C.start+C.count);v<b;v+=3)u=A.getX(v),c=A.getX(v+1),d=A.getX(v+2),(a=y(this,s,r,e,E,T,S,L,u,c,d))&&(a.faceIndex=Math.floor(v/3),i.push(a));else if(void 0!==E)if(Array.isArray(s))for(v=0,b=k.length;v<b;v++)for(M=s[(w=k[v]).materialIndex],_=Math.max(w.start,C.start),x=Math.min(w.start+w.count,C.start+C.count);_<x;_+=3)(a=y(this,M,r,e,E,T,S,L,u=_,c=_+1,d=_+2))&&(a.faceIndex=Math.floor(_/3),a.face.materialIndex=w.materialIndex,i.push(a));else for(v=Math.max(0,C.start),b=Math.min(E.count,C.start+C.count);v<b;v+=3)(a=y(this,s,r,e,E,T,S,L,u=v,c=v+1,d=v+2))&&(a.faceIndex=Math.floor(v/3),i.push(a))}else if(o.isGeometry){var D,P,R,O,I=Array.isArray(s),N=o.vertices,z=o.faces,B=o.faceVertexUvs[0];B.length>0&&(O=B);for(var F=0,j=z.length;F<j;F++){var H=z[F],Y=I?s[H.materialIndex]:s;if(void 0!==Y&&(D=N[H.a],P=N[H.b],R=N[H.c],a=g(this,Y,r,e,D,P,R,m))){if(O&&O[F]){var U=O[F];h.copy(U[0]),p.copy(U[1]),f.copy(U[2]),a.uv=or.getUV(m,D,P,R,h,p,f,new hn)}a.face=H,a.faceIndex=F,i.push(a)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var zr=0;function Br(){Object.defineProperty(this,"id",{value:zr+=2}),this.uuid=dn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Fr(t,e,n,r,i,a){Br.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:a},this.fromBufferGeometry(new jr(t,e,n,r,i,a)),this.mergeVertices()}function jr(t,e,n,r,i,a){Ir.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};var o=this;t=t||1,e=e||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,a=Math.floor(a)||1;var s=[],l=[],u=[],c=[],d=0,h=0;function p(t,e,n,r,i,a,p,f,m,v,g){var y,_,b=a/m,x=p/v,w=a/2,M=p/2,A=f/2,E=m+1,T=v+1,S=0,L=0,k=new fn;for(_=0;_<T;_++){var C=_*x-M;for(y=0;y<E;y++){var D=y*b-w;k[t]=D*r,k[e]=C*i,k[n]=A,l.push(k.x,k.y,k.z),k[t]=0,k[e]=0,k[n]=f>0?1:-1,u.push(k.x,k.y,k.z),c.push(y/m),c.push(1-_/v),S+=1}}for(_=0;_<v;_++)for(y=0;y<m;y++){var P=d+y+E*_,R=d+y+E*(_+1),O=d+(y+1)+E*(_+1),I=d+(y+1)+E*_;s.push(P,R,I),s.push(R,O,I),L+=6}o.addGroup(h,L,g),h+=L,d+=S}p("z","y","x",-1,-1,n,e,t,a,i,0),p("z","y","x",1,-1,n,e,-t,a,i,1),p("x","z","y",1,1,t,n,e,r,a,2),p("x","z","y",1,-1,t,n,-e,r,a,3),p("x","y","z",1,-1,t,e,n,r,i,4),p("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(s),this.addAttribute("position",new Sr(l,3)),this.addAttribute("normal",new Sr(u,3)),this.addAttribute("uv",new Sr(c,2))}function Hr(t){var e={};for(var n in t)for(var r in e[n]={},t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}return e}function Yr(t){for(var e={},n=0;n<t.length;n++){var r=Hr(t[n]);for(var i in r)e[i]=r[i]}return e}Br.prototype=Object.assign(Object.create(r.prototype),{constructor:Br,isGeometry:!0,applyMatrix:function(t){for(var e=(new mn).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++)this.vertices[n].applyMatrix4(t);for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var a=0,o=i.vertexNormals.length;a<o;a++)i.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new Dn;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Dn;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Dn;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Dn;return function(e,n,r){return t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t=new Dn;return function(e,n,r){return t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t=new er;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){var e=this,n=null!==t.index?t.index.array:void 0,r=t.attributes,i=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,l=void 0!==r.uv2?r.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var u=0;u<i.length;u+=3)e.vertices.push((new fn).fromArray(i,u)),void 0!==o&&e.colors.push((new dr).fromArray(o,u));function c(t,n,r,i){var u=void 0===o?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[r].clone()],c=new mr(t,n,r,void 0===a?[]:[(new fn).fromArray(a,3*t),(new fn).fromArray(a,3*n),(new fn).fromArray(a,3*r)],u,i);e.faces.push(c),void 0!==s&&e.faceVertexUvs[0].push([(new hn).fromArray(s,2*t),(new hn).fromArray(s,2*n),(new hn).fromArray(s,2*r)]),void 0!==l&&e.faceVertexUvs[1].push([(new hn).fromArray(l,2*t),(new hn).fromArray(l,2*n),(new hn).fromArray(l,2*r)])}var d=t.groups;if(d.length>0)for(u=0;u<d.length;u++)for(var h=d[u],p=h.start,f=p,m=p+h.count;f<m;f+=3)void 0!==n?c(n[f],n[f+1],n[f+2],h.materialIndex):c(f,f+1,f+2,h.materialIndex);else if(void 0!==n)for(u=0;u<n.length;u+=3)c(n[u],n[u+1],n[u+2]);else for(u=0;u<i.length/3;u+=3)c(u,u+1,u+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){var t=new fn;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new Dn;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new fn,e=new fn,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){var e,n,r,i,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)o[e]=new fn;if(t){var s,l,u,c=new fn,d=new fn;for(r=0,i=this.faces.length;r<i;r++)a=this.faces[r],s=this.vertices[a.a],l=this.vertices[a.b],u=this.vertices[a.c],c.subVectors(u,l),d.subVectors(s,l),c.cross(d),o[a.a].add(c),o[a.b].add(c),o[a.c].add(c)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,n=this.vertices.length;e<n;e++)o[e].normalize();for(r=0,i=this.faces.length;r<i;r++){var h=(a=this.faces[r]).vertexNormals;3===h.length?(h[0].copy(o[a.a]),h[1].copy(o[a.b]),h[2].copy(o[a.c])):(h[0]=o[a.a].clone(),h[1]=o[a.b].clone(),h[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(n=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var a=new Br;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)l=new fn,u={a:new fn,b:new fn,c:new fn},o.push(l),s.push(u)}var l,u,c=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],l=c.faceNormals[n],u=c.vertexNormals[n],l.copy(i.normal),u.a.copy(i.vertexNormals[0]),u.b.copy(i.vertexNormals[1]),u.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new rr),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ir),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(t&&t.isGeometry){var r,i=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,l=t.faces,u=this.colors,c=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new mn).getNormalMatrix(e));for(var d=0,h=o.length;d<h;d++){var p=o[d].clone();void 0!==e&&p.applyMatrix4(e),a.push(p)}for(d=0,h=c.length;d<h;d++)u.push(c[d].clone());for(d=0,h=l.length;d<h;d++){var f,m,v,g=l[d],y=g.vertexNormals,_=g.vertexColors;(f=new mr(g.a+i,g.b+i,g.c+i)).normal.copy(g.normal),void 0!==r&&f.normal.applyMatrix3(r).normalize();for(var b=0,x=y.length;b<x;b++)m=y[b].clone(),void 0!==r&&m.applyMatrix3(r).normalize(),f.vertexNormals.push(m);for(f.color.copy(g.color),b=0,x=_.length;b<x;b++)v=_[b],f.vertexColors.push(v.clone());f.materialIndex=g.materialIndex+n,s.push(f)}for(d=0,h=t.faceVertexUvs.length;d<h;d++){var w=t.faceVertexUvs[d];for(void 0===this.faceVertexUvs[d]&&(this.faceVertexUvs[d]=[]),b=0,x=w.length;b<x;b++){for(var M=w[b],A=[],E=0,T=M.length;E<T;E++)A.push(M[E].clone());this.faceVertexUvs[d].push(A)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,n,r,i,a,o,s,l={},u=[],c=[],d=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],void 0===l[e=Math.round(t.x*d)+"_"+Math.round(t.y*d)+"_"+Math.round(t.z*d)]?(l[e]=n,u.push(this.vertices[n]),c[n]=u.length-1):c[n]=c[l[e]];var h=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=c[i.a],i.b=c[i.b],i.c=c[i.c],a=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(a[p]===a[(p+1)%3]){h.push(n);break}}for(n=h.length-1;n>=0;n--){var f=h[n];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var m=this.vertices.length-u.length;return this.vertices=u,m},setFromPoints:function(t){this.vertices=[];for(var e=0,n=t.length;e<n;e++){var r=t[e];this.vertices.push(new fn(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var r,i,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(a&&a.length===e&&(r=[]),o&&o.length===e&&(i=[]),n=0;n<e;n++){var s=t[n]._id;r&&r.push(a[s]),i&&i.push(o[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}for(var r=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];r.push(a.x,a.y,a.z)}var o=[],s=[],l={},u=[],c={},d=[],h={};for(i=0;i<this.faces.length;i++){var p=this.faces[i],f=void 0!==this.faceVertexUvs[0][i],m=p.normal.length()>0,v=p.vertexNormals.length>0,g=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=p.vertexColors.length>0,_=0;if(_=M(_,0,0),_=M(_,1,!0),_=M(_,2,!1),_=M(_,3,f),_=M(_,4,m),_=M(_,5,v),_=M(_,6,g),_=M(_,7,y),o.push(_),o.push(p.a,p.b,p.c),o.push(p.materialIndex),f){var b=this.faceVertexUvs[0][i];o.push(T(b[0]),T(b[1]),T(b[2]))}if(m&&o.push(A(p.normal)),v){var x=p.vertexNormals;o.push(A(x[0]),A(x[1]),A(x[2]))}if(g&&o.push(E(p.color)),y){var w=p.vertexColors;o.push(E(w[0]),E(w[1]),E(w[2]))}}function M(t,e,n){return n?t|1<<e:t&~(1<<e)}function A(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==l[e]?l[e]:(l[e]=s.length/3,s.push(t.x,t.y,t.z),l[e])}function E(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==c[e]?c[e]:(c[e]=u.length,u.push(t.getHex()),c[e])}function T(t){var e=t.x.toString()+t.y.toString();return void 0!==h[e]?h[e]:(h[e]=d.length/2,d.push(t.x,t.y),h[e])}return t.data={},t.data.vertices=r,t.data.normals=s,u.length>0&&(t.data.colors=u),d.length>0&&(t.data.uvs=[d]),t.data.faces=o,t},clone:function(){return(new Br).copy(this)},copy:function(t){var e,n,r,i,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var l=t.colors;for(e=0,n=l.length;e<n;e++)this.colors.push(l[e].clone());var u=t.faces;for(e=0,n=u.length;e<n;e++)this.faces.push(u[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var c=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=c.length;r<i;r++){var d=c[r],h=[];for(a=0,o=d.length;a<o;a++){var p=d[a];h.push(p.clone())}this.faceVertexUvs[e].push(h)}}var f=t.morphTargets;for(e=0,n=f.length;e<n;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],r=0,i=f[e].vertices.length;r<i;r++)m.vertices.push(f[e].vertices[r].clone());if(void 0!==f[e].normals)for(m.normals=[],r=0,i=f[e].normals.length;r<i;r++)m.normals.push(f[e].normals[r].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,n=v.length;e<n;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],r=0,i=v[e].vertexNormals.length;r<i;r++){var y=v[e].vertexNormals[r],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),g.vertexNormals.push(_)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],r=0,i=v[e].faceNormals.length;r<i;r++)g.faceNormals.push(v[e].faceNormals[r].clone());this.morphNormals.push(g)}var b=t.skinWeights;for(e=0,n=b.length;e<n;e++)this.skinWeights.push(b[e].clone());var x=t.skinIndices;for(e=0,n=x.length;e<n;e++)this.skinIndices.push(x[e].clone());var w=t.lineDistances;for(e=0,n=w.length;e<n;e++)this.lineDistances.push(w[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var A=t.boundingSphere;return null!==A&&(this.boundingSphere=A.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Fr.prototype=Object.create(Br.prototype),Fr.prototype.constructor=Fr,jr.prototype=Object.create(Ir.prototype),jr.prototype.constructor=jr;var Ur={clone:Hr,merge:Yr},Gr="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",Vr="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function Wr(t){gr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Gr,this.fragmentShader=Vr,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function qr(){er.call(this),this.type="Camera",this.matrixWorldInverse=new Dn,this.projectionMatrix=new Dn,this.projectionMatrixInverse=new Dn}function Xr(t,e,n,r){qr.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Wr.prototype=Object.create(gr.prototype),Wr.prototype.constructor=Wr,Wr.prototype.isShaderMaterial=!0,Wr.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Hr(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Wr.prototype.toJSON=function(t){var e=gr.prototype.toJSON.call(this,t);for(var n in e.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?e.uniforms[n]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[n]={type:"m4",value:r.toArray()}:e.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var i={};for(var a in this.extensions)!0===this.extensions[a]&&(i[a]=!0);return Object.keys(i).length>0&&(e.extensions=i),e},qr.prototype=Object.assign(Object.create(er.prototype),{constructor:qr,isCamera:!0,copy:function(t,e){return er.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new fn),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){er.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Xr.prototype=Object.assign(Object.create(qr.prototype),{constructor:Xr,isPerspectiveCamera:!0,copy:function(t,e){return qr.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*dn.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*dn.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*dn.RAD2DEG*Math.atan(Math.tan(.5*dn.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*dn.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,e-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=er.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});var Jr,Zr,Qr=90,Kr=1;function $r(t,e,n,r){er.call(this),this.type="CubeCamera";var i=new Xr(Qr,Kr,t,e);i.up.set(0,-1,0),i.lookAt(new fn(1,0,0)),this.add(i);var a=new Xr(Qr,Kr,t,e);a.up.set(0,-1,0),a.lookAt(new fn(-1,0,0)),this.add(a);var o=new Xr(Qr,Kr,t,e);o.up.set(0,0,1),o.lookAt(new fn(0,1,0)),this.add(o);var s=new Xr(Qr,Kr,t,e);s.up.set(0,0,-1),s.lookAt(new fn(0,-1,0)),this.add(s);var l=new Xr(Qr,Kr,t,e);l.up.set(0,-1,0),l.lookAt(new fn(0,0,1)),this.add(l);var u=new Xr(Qr,Kr,t,e);u.up.set(0,-1,0),u.lookAt(new fn(0,0,-1)),this.add(u),r=r||{format:qt,magFilter:kt,minFilter:kt},this.renderTarget=new ti(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=t.getRenderTarget(),r=this.renderTarget,c=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0),t.render(e,i),t.setRenderTarget(r,1),t.render(e,a),t.setRenderTarget(r,2),t.render(e,o),t.setRenderTarget(r,3),t.render(e,s),t.setRenderTarget(r,4),t.render(e,l),r.texture.generateMipmaps=c,t.setRenderTarget(r,5),t.render(e,u),t.setRenderTarget(n)},this.clear=function(t,e,n,r){for(var i=t.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)t.setRenderTarget(a,o),t.clear(e,n,r);t.setRenderTarget(i)}}function ti(t,e,n){kn.call(this,t,e,n)}function ei(t,e,n,r,i,a,o,s,l,u,c,d){Sn.call(this,null,a,o,s,l,u,r,i,c,d),this.image={data:t,width:e,height:n},this.magFilter=void 0!==l?l:At,this.minFilter=void 0!==u?u:At,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function ni(t,e){this.normal=void 0!==t?t:new fn(1,0,0),this.constant=void 0!==e?e:0}function ri(t,e,n,r,i,a){this.planes=[void 0!==t?t:new ni,void 0!==e?e:new ni,void 0!==n?n:new ni,void 0!==r?r:new ni,void 0!==i?i:new ni,void 0!==a?a:new ni]}$r.prototype=Object.create(er.prototype),$r.prototype.constructor=$r,ti.prototype=Object.create(kn.prototype),ti.prototype.constructor=ti,ti.prototype.isWebGLRenderTargetCube=!0,ti.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=e.format,this.texture.encoding=e.encoding;var n=new nr,r={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},i=new Wr({type:"CubemapFromEquirect",uniforms:Hr(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:x,blending:L});i.uniforms.tEquirect.value=e;var a=new Nr(new jr(5,5,5),i);n.add(a);var o=new $r(1,10,1);return o.renderTarget=this,o.renderTarget.texture.name="CubeCameraTexture",o.update(t,n),a.geometry.dispose(),a.material.dispose(),this},ei.prototype=Object.create(Sn.prototype),ei.prototype.constructor=ei,ei.prototype.isDataTexture=!0,Object.assign(ni.prototype,{isPlane:!0,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new fn,e=new fn;return function(n,r,i){var a=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new fn),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new fn;return function(e,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new fn);var r=e.delta(t),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?n.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?void 0:n.copy(r).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new fn),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new fn,e=new mn;return function(n,r){var i=r||e.getNormalMatrix(n),a=this.coplanarPoint(t).applyMatrix4(n),o=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(o),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(ri.prototype,{set:function(t,e,n,r,i,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],d=n[8],h=n[9],p=n[10],f=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return e[0].setComponents(o-r,c-s,f-d,y-m).normalize(),e[1].setComponents(o+r,c+s,f+d,y+m).normalize(),e[2].setComponents(o+i,c+l,f+h,y+v).normalize(),e[3].setComponents(o-i,c-l,f-h,y-v).normalize(),e[4].setComponents(o-a,c-u,f-p,y-g).normalize(),e[5].setComponents(o+a,c+u,f+p,y+g).normalize(),this},intersectsObject:(Zr=new ir,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Zr.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Zr)}),intersectsSprite:function(){var t=new ir;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++)if(e[i].distanceToPoint(n)<r)return!1;return!0},intersectsBox:(Jr=new fn,function(t){for(var e=this.planes,n=0;n<6;n++){var r=e[n];if(Jr.x=r.normal.x>0?t.max.x:t.min.x,Jr.y=r.normal.y>0?t.max.y:t.min.y,Jr.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(Jr)<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}});var ii={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},ai={common:{diffuse:{value:new dr(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new mn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new hn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new dr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new dr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new mn}},sprite:{diffuse:{value:new dr(15658734)},opacity:{value:1},center:{value:new hn(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new mn}}},oi={basic:{uniforms:Yr([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.fog]),vertexShader:ii.meshbasic_vert,fragmentShader:ii.meshbasic_frag},lambert:{uniforms:Yr([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.fog,ai.lights,{emissive:{value:new dr(0)}}]),vertexShader:ii.meshlambert_vert,fragmentShader:ii.meshlambert_frag},phong:{uniforms:Yr([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.gradientmap,ai.fog,ai.lights,{emissive:{value:new dr(0)},specular:{value:new dr(1118481)},shininess:{value:30}}]),vertexShader:ii.meshphong_vert,fragmentShader:ii.meshphong_frag},standard:{uniforms:Yr([ai.common,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.roughnessmap,ai.metalnessmap,ai.fog,ai.lights,{emissive:{value:new dr(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ii.meshphysical_vert,fragmentShader:ii.meshphysical_frag},matcap:{uniforms:Yr([ai.common,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.fog,{matcap:{value:null}}]),vertexShader:ii.meshmatcap_vert,fragmentShader:ii.meshmatcap_frag},points:{uniforms:Yr([ai.points,ai.fog]),vertexShader:ii.points_vert,fragmentShader:ii.points_frag},dashed:{uniforms:Yr([ai.common,ai.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ii.linedashed_vert,fragmentShader:ii.linedashed_frag},depth:{uniforms:Yr([ai.common,ai.displacementmap]),vertexShader:ii.depth_vert,fragmentShader:ii.depth_frag},normal:{uniforms:Yr([ai.common,ai.bumpmap,ai.normalmap,ai.displacementmap,{opacity:{value:1}}]),vertexShader:ii.normal_vert,fragmentShader:ii.normal_frag},sprite:{uniforms:Yr([ai.sprite,ai.fog]),vertexShader:ii.sprite_vert,fragmentShader:ii.sprite_frag},background:{uniforms:{uvTransform:{value:new mn},t2D:{value:null}},vertexShader:ii.background_vert,fragmentShader:ii.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ii.cube_vert,fragmentShader:ii.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ii.equirect_vert,fragmentShader:ii.equirect_frag},distanceRGBA:{uniforms:Yr([ai.common,ai.displacementmap,{referencePosition:{value:new fn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ii.distanceRGBA_vert,fragmentShader:ii.distanceRGBA_frag},shadow:{uniforms:Yr([ai.lights,ai.fog,{color:{value:new dr(0)},opacity:{value:1}}]),vertexShader:ii.shadow_vert,fragmentShader:ii.shadow_frag}};function si(){var t=null,e=!1,n=null;function r(i,a){!1!==e&&(n(i,a),t.requestAnimationFrame(r))}return{start:function(){!0!==e&&null!==n&&(t.requestAnimationFrame(r),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function li(t){var e=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=e.get(n);r&&(t.deleteBuffer(r.buffer),e.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=e.get(n);void 0===i?e.set(n,function(e,n){var r=e.array,i=e.dynamic?35048:35044,a=t.createBuffer();t.bindBuffer(n,a),t.bufferData(n,r,i),e.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(n,r)):i.version<n.version&&(function(e,n,r){var i=n.array,a=n.updateRange;t.bindBuffer(r,e),!1===n.dynamic?t.bufferData(r,i,35044):-1===a.count?t.bufferSubData(r,0,i):0===a.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(r,a.offset*i.BYTES_PER_ELEMENT,i.subarray(a.offset,a.offset+a.count)),a.count=-1)}(i.buffer,n,r),i.version=n.version)}}}function ui(t,e,n,r){Br.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new ci(t,e,n,r)),this.mergeVertices()}function ci(t,e,n,r){Ir.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i,a,o=(t=t||1)/2,s=(e=e||1)/2,l=Math.floor(n)||1,u=Math.floor(r)||1,c=l+1,d=u+1,h=t/l,p=e/u,f=[],m=[],v=[],g=[];for(a=0;a<d;a++){var y=a*p-s;for(i=0;i<c;i++){var _=i*h-o;m.push(_,-y,0),v.push(0,0,1),g.push(i/l),g.push(1-a/u)}}for(a=0;a<u;a++)for(i=0;i<l;i++){var b=i+c*a,x=i+c*(a+1),w=i+1+c*(a+1),M=i+1+c*a;f.push(b,x,M),f.push(x,w,M)}this.setIndex(f),this.addAttribute("position",new Sr(m,3)),this.addAttribute("normal",new Sr(v,3)),this.addAttribute("uv",new Sr(g,2))}function di(t,e,n,r){var i,a,o=new dr(0),s=0,l=null,u=0;function c(t,n){e.buffers.color.setClear(t.r,t.g,t.b,n,r)}return{getClearColor:function(){return o},setClearColor:function(t,e){o.set(t),c(o,s=void 0!==e?e:1)},getClearAlpha:function(){return s},setClearAlpha:function(t){c(o,s=t)},render:function(e,r,d,h){var p=r.background,f=t.vr,m=f.getSession&&f.getSession();if(m&&"additive"===m.environmentBlendMode&&(p=null),null===p?(c(o,s),l=null,u=0):p&&p.isColor&&(c(p,1),h=!0,l=null,u=0),(t.autoClear||h)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLRenderTargetCube)){void 0===a&&((a=new Nr(new jr(1,1,1),new Wr({type:"BackgroundCubeMaterial",uniforms:Hr(oi.cube.uniforms),vertexShader:oi.cube.vertexShader,fragmentShader:oi.cube.fragmentShader,side:x,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(a));var v=p.isWebGLRenderTargetCube?p.texture:p;a.material.uniforms.tCube.value=v,a.material.uniforms.tFlip.value=p.isWebGLRenderTargetCube?1:-1,l===p&&u===v.version||(a.material.needsUpdate=!0,l=p,u=v.version),e.unshift(a,a.geometry,a.material,0,0,null)}else p&&p.isTexture&&(void 0===i&&((i=new Nr(new ci(2,2),new Wr({type:"BackgroundMaterial",uniforms:Hr(oi.background.uniforms),vertexShader:oi.background.vertexShader,fragmentShader:oi.background.fragmentShader,side:b,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),i.material.uniforms.uvTransform.value.copy(p.matrix),l===p&&u===p.version||(i.material.needsUpdate=!0,l=p,u=p.version),e.unshift(i,i.geometry,i.material,0,0,null))}}}function hi(t,e,n,r){var i;this.setMode=function(t){i=t},this.render=function(e,r){t.drawArrays(i,e,r),n.update(r,i)},this.renderInstances=function(a,o,s){var l;if(r.isWebGL2)l=t;else if(null===(l=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,o,s,a.maxInstancedCount),n.update(s,i,a.maxInstancedCount)}}function pi(t,e,n){var r;function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=!0===n.logarithmicDepthBuffer,u=t.getParameter(34930),c=t.getParameter(35660),d=t.getParameter(3379),h=t.getParameter(34076),p=t.getParameter(34921),f=t.getParameter(36347),m=t.getParameter(36348),v=t.getParameter(36349),g=c>0,y=a||!!e.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=e.get("EXT_texture_filter_anisotropic");return r=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:c,maxTextureSize:d,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?t.getParameter(36183):0}}function fi(){var t=this,e=null,n=0,r=!1,i=!1,a=new ni,o=new mn,s={value:null,needsUpdate:!1};function l(){s.value!==e&&(s.value=e,s.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function u(e,n,r,i){var l=null!==e?e.length:0,u=null;if(0!==l){if(u=s.value,!0!==i||null===u){var c=r+4*l,d=n.matrixWorldInverse;o.getNormalMatrix(d),(null===u||u.length<c)&&(u=new Float32Array(c));for(var h=0,p=r;h!==l;++h,p+=4)a.copy(e[h]).applyMatrix4(d,o),a.normal.toArray(u,p),u[p+3]=a.constant}s.value=u,s.needsUpdate=!0}return t.numPlanes=l,u}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,i,a){var o=0!==t.length||i||0!==n||r;return r=i,e=u(t,a,0),n=t.length,o},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1,l()},this.setState=function(t,a,o,c,d,h){if(!r||null===t||0===t.length||i&&!o)i?u(null):l();else{var p=i?0:n,f=4*p,m=d.clippingState||null;s.value=m,m=u(t,c,f,h);for(var v=0;v!==f;++v)m[v]=e[v];d.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=p}}}function mi(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}}}function vi(t,e,n){var r={},i={};function a(t){var o=t.target,s=r[o.id];for(var l in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[l]);o.removeEventListener("dispose",a),delete r[o.id];var u=i[s.id];u&&(e.remove(u),delete i[s.id]),n.memory.geometries--}function o(t){var n=[],r=t.index,a=t.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],d=s[l+1],h=s[l+2];n.push(c,d,d,h,h,c)}}else for(s=a.array,o=a.version,l=0,u=s.length/3-1;l<u;l+=3)c=l+0,d=l+1,h=l+2,n.push(c,d,d,h,h,c);var p=new(Cr(n)>65535?Tr:Ar)(n,1);p.version=o,e.update(p,34963);var f=i[t.id];f&&e.remove(f),i[t.id]=p}return{get:function(t,e){var i=r[e.id];return i||(e.addEventListener("dispose",a),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Ir).setFromObject(t)),i=e._bufferGeometry),r[e.id]=i,n.memory.geometries++,i)},update:function(t){var n=t.index,r=t.attributes;for(var i in null!==n&&e.update(n,34963),r)e.update(r[i],34962);var a=t.morphAttributes;for(var i in a)for(var o=a[i],s=0,l=o.length;s<l;s++)e.update(o[s],34962)},getWireframeAttribute:function(t){var e=i[t.id];if(e){var n=t.index;null!==n&&e.version<n.version&&o(t)}else o(t);return i[t.id]}}}function gi(t,e,n,r){var i,a,o;this.setMode=function(t){i=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,r){t.drawElements(i,r,a,e*o),n.update(r,i)},this.renderInstances=function(s,l,u){var c;if(r.isWebGL2)c=t;else if(null===(c=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,u,a,l*o,s.maxInstancedCount),n.update(u,i,s.maxInstancedCount)}}function yi(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,r){switch(r=r||1,e.calls++,n){case 4:e.triangles+=r*(t/3);break;case 5:case 6:e.triangles+=r*(t-2);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function _i(t,e){return Math.abs(e[1])-Math.abs(t[1])}function bi(t){var e={},n=new Float32Array(8);return{update:function(r,i,a,o){var s=r.morphTargetInfluences,l=s.length,u=e[i.id];if(void 0===u){u=[];for(var c=0;c<l;c++)u[c]=[c,0];e[i.id]=u}var d=a.morphTargets&&i.morphAttributes.position,h=a.morphNormals&&i.morphAttributes.normal;for(c=0;c<l;c++)0!==(p=u[c])[1]&&(d&&i.removeAttribute("morphTarget"+c),h&&i.removeAttribute("morphNormal"+c));for(c=0;c<l;c++)(p=u[c])[0]=c,p[1]=s[c];for(u.sort(_i),c=0;c<8;c++){var p;if(p=u[c]){var f=p[0],m=p[1];if(m){d&&i.addAttribute("morphTarget"+c,d[f]),h&&i.addAttribute("morphNormal"+c,h[f]),n[c]=m;continue}}n[c]=0}o.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function xi(t,e){var n={};return{update:function(r){var i=e.render.frame,a=r.geometry,o=t.get(r,a);return n[o.id]!==i&&(a.isGeometry&&o.updateFromObject(r),t.update(o),n[o.id]=i),o},dispose:function(){n={}}}}function wi(t,e,n,r,i,a,o,s,l,u){t=void 0!==t?t:[],e=void 0!==e?e:ft,o=void 0!==o?o:qt,Sn.call(this,t,e,n,r,i,a,o,s,l,u),this.flipY=!1}function Mi(t,e,n,r){Sn.call(this,null),this.image={data:t,width:e,height:n,depth:r},this.magFilter=At,this.minFilter=At,this.wrapR=wt,this.generateMipmaps=!1,this.flipY=!1}function Ai(t,e,n,r){Sn.call(this,null),this.image={data:t,width:e,height:n,depth:r},this.magFilter=At,this.minFilter=At,this.wrapR=wt,this.generateMipmaps=!1,this.flipY=!1}oi.physical={uniforms:Yr([oi.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ii.meshphysical_vert,fragmentShader:ii.meshphysical_frag},ui.prototype=Object.create(Br.prototype),ui.prototype.constructor=ui,ci.prototype=Object.create(Ir.prototype),ci.prototype.constructor=ci,wi.prototype=Object.create(Sn.prototype),wi.prototype.constructor=wi,wi.prototype.isCubeTexture=!0,Object.defineProperty(wi.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),Mi.prototype=Object.create(Sn.prototype),Mi.prototype.constructor=Mi,Mi.prototype.isDataTexture2DArray=!0,Ai.prototype=Object.create(Sn.prototype),Ai.prototype.constructor=Ai,Ai.prototype.isDataTexture3D=!0;var Ei=new Sn,Ti=new Mi,Si=new Ai,Li=new wi,ki=[],Ci=[],Di=new Float32Array(16),Pi=new Float32Array(9),Ri=new Float32Array(4);function Oi(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,a=ki[i];if(void 0===a&&(a=new Float32Array(i),ki[i]=a),0!==e){r.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function Ii(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ni(t,e){for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}function zi(t,e){var n=Ci[e];void 0===n&&(n=new Int32Array(e),Ci[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Bi(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Fi(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ii(n,e))return;t.uniform2fv(this.addr,e),Ni(n,e)}}function ji(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ii(n,e))return;t.uniform3fv(this.addr,e),Ni(n,e)}}function Hi(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ii(n,e))return;t.uniform4fv(this.addr,e),Ni(n,e)}}function Yi(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Ii(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ni(n,e)}else{if(Ii(n,r))return;Ri.set(r),t.uniformMatrix2fv(this.addr,!1,Ri),Ni(n,r)}}function Ui(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Ii(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ni(n,e)}else{if(Ii(n,r))return;Pi.set(r),t.uniformMatrix3fv(this.addr,!1,Pi),Ni(n,r)}}function Gi(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Ii(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ni(n,e)}else{if(Ii(n,r))return;Di.set(r),t.uniformMatrix4fv(this.addr,!1,Di),Ni(n,r)}}function Vi(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(e||Ei,i)}function Wi(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Ti,i)}function qi(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Si,i)}function Xi(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(e||Li,i)}function Ji(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Zi(t,e){var n=this.cache;Ii(n,e)||(t.uniform2iv(this.addr,e),Ni(n,e))}function Qi(t,e){var n=this.cache;Ii(n,e)||(t.uniform3iv(this.addr,e),Ni(n,e))}function Ki(t,e){var n=this.cache;Ii(n,e)||(t.uniform4iv(this.addr,e),Ni(n,e))}function $i(t,e){t.uniform1fv(this.addr,e)}function ta(t,e){t.uniform1iv(this.addr,e)}function ea(t,e){t.uniform2iv(this.addr,e)}function na(t,e){t.uniform3iv(this.addr,e)}function ra(t,e){t.uniform4iv(this.addr,e)}function ia(t,e){var n=Oi(e,this.size,2);t.uniform2fv(this.addr,n)}function aa(t,e){var n=Oi(e,this.size,3);t.uniform3fv(this.addr,n)}function oa(t,e){var n=Oi(e,this.size,4);t.uniform4fv(this.addr,n)}function sa(t,e){var n=Oi(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function la(t,e){var n=Oi(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function ua(t,e){var n=Oi(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function ca(t,e,n){var r=e.length,i=zi(n,r);t.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTexture2D(e[a]||Ei,i[a])}function da(t,e,n){var r=e.length,i=zi(n,r);t.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTextureCube(e[a]||Li,i[a])}function ha(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Bi;case 35664:return Fi;case 35665:return ji;case 35666:return Hi;case 35674:return Yi;case 35675:return Ui;case 35676:return Gi;case 35678:case 36198:return Vi;case 35679:return qi;case 35680:return Xi;case 36289:return Wi;case 5124:case 35670:return Ji;case 35667:case 35671:return Zi;case 35668:case 35672:return Qi;case 35669:case 35673:return Ki}}(e.type)}function pa(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return $i;case 35664:return ia;case 35665:return aa;case 35666:return oa;case 35674:return sa;case 35675:return la;case 35676:return ua;case 35678:return ca;case 35680:return da;case 5124:case 35670:return ta;case 35667:case 35671:return ea;case 35668:case 35672:return na;case 35669:case 35673:return ra}}(e.type)}function fa(t){this.id=t,this.seq=[],this.map={}}pa.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),Ni(e,t)},fa.prototype.setValue=function(t,e,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(t,e[o.id],n)}};var ma=/([\w\d_]+)(\])?(\[|\.)?/g;function va(t,e){t.seq.push(e),t.map[e.id]=e}function ga(t,e,n){var r=t.name,i=r.length;for(ma.lastIndex=0;;){var a=ma.exec(r),o=ma.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){va(n,void 0===u?new ha(s,t,e):new pa(s,t,e));break}var c=n.map[s];void 0===c&&va(n,c=new fa(s)),n=c}}function ya(t,e){this.seq=[],this.map={};for(var n=t.getProgramParameter(e,35718),r=0;r<n;++r){var i=t.getActiveUniform(e,r);ga(i,t.getUniformLocation(e,i.name),this)}}function _a(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}ya.prototype.setValue=function(t,e,n,r){var i=this.map[e];void 0!==i&&i.setValue(t,n,r)},ya.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},ya.upload=function(t,e,n,r){for(var i=0,a=e.length;i!==a;++i){var o=e[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}},ya.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var a=t[r];a.id in e&&n.push(a)}return n};var ba=0;function xa(t){switch(t){case Ne:return["Linear","( value )"];case ze:return["sRGB","( value )"];case Fe:return["RGBE","( value )"];case He:return["RGBM","( value, 7.0 )"];case Ye:return["RGBM","( value, 16.0 )"];case Ue:return["RGBD","( value, 256.0 )"];case Be:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function wa(t,e,n){var r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}(t.getShaderSource(e))}function Ma(t,e){var n=xa(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Aa(t,e){var n;switch(e){case lt:n="Linear";break;case ut:n="Reinhard";break;case ct:n="Uncharted2";break;case dt:n="OptimizedCineon";break;case ht:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ea(t){return""!==t}function Ta(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Sa(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function La(t){return t.replace(/^[ \t]*#include +<([\w\d.\/]+)>/gm,(function(t,e){var n=ii[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return La(n)}))}function ka(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(t,e,n,r){for(var i="",a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[ i \]/g,"[ "+a+" ]");return i}))}function Ca(t,e,n,r,i,a,o){var s=t.getContext(),l=r.defines,u=i.vertexShader,c=i.fragmentShader,d="SHADOWMAP_TYPE_BASIC";a.shadowMapType===y?d="SHADOWMAP_TYPE_PCF":a.shadowMapType===_&&(d="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(r.envMap.mapping){case ft:case mt:h="ENVMAP_TYPE_CUBE";break;case _t:case bt:h="ENVMAP_TYPE_CUBE_UV";break;case vt:case gt:h="ENVMAP_TYPE_EQUIREC";break;case yt:h="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case mt:case gt:p="ENVMAP_MODE_REFRACTION"}switch(r.combine){case it:f="ENVMAP_BLENDING_MULTIPLY";break;case at:f="ENVMAP_BLENDING_MIX";break;case ot:f="ENVMAP_BLENDING_ADD"}}var m,v,g,b,x=t.gammaFactor>0?t.gammaFactor:1,w=o.isWebGL2?"":function(t,e,n){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ea).join("\n")}(r.extensions,a,e),M=function(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(l),A=s.createProgram();if(r.isRawShaderMaterial?((m=[M].filter(Ea).join("\n")).length>0&&(m+="\n"),(v=[w,M].filter(Ea).join("\n")).length>0&&(v+="\n")):(m=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+i.name,M,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+x,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+p:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+d:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ea).join("\n"),v=[w,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+i.name,M,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+x,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+h:"",a.envMap?"#define "+p:"",a.envMap?"#define "+f:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+d:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==st?"#define TONE_MAPPING":"",a.toneMapping!==st?ii.tonemapping_pars_fragment:"",a.toneMapping!==st?Aa("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?ii.encodings_pars_fragment:"",a.mapEncoding?Ma("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?Ma("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?Ma("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?Ma("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?("linearToOutputTexel",g=a.outputEncoding,b=xa(g),"vec4 linearToOutputTexel( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Ea).join("\n")),u=Sa(u=Ta(u=La(u),a),a),c=Sa(c=Ta(c=La(c),a),a),u=ka(u),c=ka(c),o.isWebGL2&&!r.isRawShaderMaterial){var E=!1,T=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==u.match(T)&&null!==c.match(T)&&(E=!0,u=u.replace(T,""),c=c.replace(T,"")),m=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,v=["#version 300 es\n","#define varying in",E?"":"out highp vec4 pc_fragColor;",E?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v}var S,L,k=v+c,C=_a(s,35633,m+u),D=_a(s,35632,k);if(s.attachShader(A,C),s.attachShader(A,D),void 0!==r.index0AttributeName?s.bindAttribLocation(A,0,r.index0AttributeName):!0===a.morphTargets&&s.bindAttribLocation(A,0,"position"),s.linkProgram(A),t.debug.checkShaderErrors){var P=s.getProgramInfoLog(A).trim(),R=s.getShaderInfoLog(C).trim(),O=s.getShaderInfoLog(D).trim(),I=!0,N=!0;if(!1===s.getProgramParameter(A,35714)){I=!1;var z=wa(s,C,"vertex"),B=wa(s,D,"fragment");console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(A,35715),"gl.getProgramInfoLog",P,z,B)}else""!==P?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",P):""!==R&&""!==O||(N=!1);N&&(this.diagnostics={runnable:I,material:r,programLog:P,vertexShader:{log:R,prefix:m},fragmentShader:{log:O,prefix:v}})}return s.deleteShader(C),s.deleteShader(D),this.getUniforms=function(){return void 0===S&&(S=new ya(s,A)),S},this.getAttributes=function(){return void 0===L&&(L=function(t,e){for(var n={},r=t.getProgramParameter(e,35721),i=0;i<r;i++){var a=t.getActiveAttrib(e,i).name;n[a]=t.getAttribLocation(e,a)}return n}(s,A)),L},this.destroy=function(){s.deleteProgram(A),this.program=void 0},this.name=i.name,this.id=ba++,this.code=n,this.usedTimes=1,this.program=A,this.vertexShader=C,this.fragmentShader=D,this}function Da(t,e,n){var r=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},a=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function o(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=Ne,n===Ne&&e&&(n=Be),n}this.getParameters=function(e,r,a,s,l,u,c){var d=i[e.type],h=c.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=Math.floor((r-20)/4),a=Math.min(i,e.length);return a<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+a+"."),0):a}(c):0,p=n.precision;null!==e.precision&&(p=n.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",p,"instead.");var f=t.getRenderTarget();return{shaderID:d,precision:p,supportsVertexTextures:n.vertexTextures,outputEncoding:o(f?f.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:o(e.map,t.gammaInput),matcap:!!e.matcap,matcapEncoding:o(e.matcap,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:o(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===_t||e.envMap.mapping===bt),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:o(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:e.normalMapType===qe,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexTangents:e.normalMap&&e.vertexTangents,vertexColors:e.vertexColors,fog:!!s,useFog:e.fog,fogExp:s&&s.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:e.skinning&&h>0,maxBones:h,useVertexTexture:n.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:l,numClipIntersection:u,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&c.receiveShadow&&a.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===w,flipSided:e.side===x,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(e.fragmentShader),r.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)r.push(i),r.push(e.defines[i]);for(var o=0;o<a.length;o++)r.push(n[a[o]]);return r.push(e.onBeforeCompile.toString()),r.push(t.gammaOutput),r.push(t.gammaFactor),r.join()},this.acquireProgram=function(i,a,o,s){for(var l,u=0,c=r.length;u<c;u++){var d=r[u];if(d.code===s){++(l=d).usedTimes;break}}return void 0===l&&(l=new Ca(t,e,s,i,a,o,n),r.push(l)),l},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=r.indexOf(t);r[e]=r[r.length-1],r.pop(),t.destroy()}},this.programs=r}function Pa(){var t=new WeakMap;return{get:function(e){var n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,r){t.get(e)[n]=r},dispose:function(){t=new WeakMap}}}function Ra(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Oa(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Ia(){var t=[],e=0,n=[],r=[],i={id:-1};function a(n,r,a,o,s,l){var u=t[e];return void 0===u?(u={id:n.id,object:n,geometry:r,material:a,program:a.program||i,groupOrder:o,renderOrder:n.renderOrder,z:s,group:l},t[e]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=a,u.program=a.program||i,u.groupOrder=o,u.renderOrder=n.renderOrder,u.z=s,u.group=l),e++,u}return{opaque:n,transparent:r,init:function(){e=0,n.length=0,r.length=0},push:function(t,e,i,o,s,l){var u=a(t,e,i,o,s,l);(!0===i.transparent?r:n).push(u)},unshift:function(t,e,i,o,s,l){var u=a(t,e,i,o,s,l);(!0===i.transparent?r:n).unshift(u)},sort:function(){n.length>1&&n.sort(Ra),r.length>1&&r.sort(Oa)}}}function Na(){var t={};function e(n){var r=n.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(n,r){var i,a=t[n.id];return void 0===a?(i=new Ia,t[n.id]={},t[n.id][r.id]=i,n.addEventListener("dispose",e)):void 0===(i=a[r.id])&&(i=new Ia,a[r.id]=i),i},dispose:function(){t={}}}}function za(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new fn,color:new dr,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new hn};break;case"SpotLight":n={position:new fn,direction:new fn,color:new dr,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new hn};break;case"PointLight":n={position:new fn,color:new dr,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new hn,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new fn,skyColor:new dr,groundColor:new dr};break;case"RectAreaLight":n={color:new dr,position:new fn,halfWidth:new fn,halfHeight:new fn}}return t[e.id]=n,n}}}var Ba=0;function Fa(){for(var t=new za,e={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=0;n<9;n++)e.probe.push(new fn);var r=new fn,i=new Dn,a=new Dn;return{setup:function(n,o,s){for(var l=0,u=0,c=0,d=0;d<9;d++)e.probe[d].set(0,0,0);for(var h=0,p=0,f=0,m=0,v=0,g=s.matrixWorldInverse,y=(d=0,n.length);d<y;d++){var _=n[d],b=_.color,x=_.intensity,w=_.distance,M=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)l+=b.r*x,u+=b.g*x,c+=b.b*x;else if(_.isLightProbe)for(var A=0;A<9;A++)e.probe[A].addScaledVector(_.sh.coefficients[A],x);else if(_.isDirectionalLight){if((T=t.get(_)).color.copy(_.color).multiplyScalar(_.intensity),T.direction.setFromMatrixPosition(_.matrixWorld),r.setFromMatrixPosition(_.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.shadow=_.castShadow,_.castShadow){var E=_.shadow;T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize}e.directionalShadowMap[h]=M,e.directionalShadowMatrix[h]=_.shadow.matrix,e.directional[h]=T,h++}else if(_.isSpotLight)(T=t.get(_)).position.setFromMatrixPosition(_.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b).multiplyScalar(x),T.distance=w,T.direction.setFromMatrixPosition(_.matrixWorld),r.setFromMatrixPosition(_.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.coneCos=Math.cos(_.angle),T.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),T.decay=_.decay,T.shadow=_.castShadow,_.castShadow&&(E=_.shadow,T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize),e.spotShadowMap[f]=M,e.spotShadowMatrix[f]=_.shadow.matrix,e.spot[f]=T,f++;else if(_.isRectAreaLight)(T=t.get(_)).color.copy(b).multiplyScalar(x),T.position.setFromMatrixPosition(_.matrixWorld),T.position.applyMatrix4(g),a.identity(),i.copy(_.matrixWorld),i.premultiply(g),a.extractRotation(i),T.halfWidth.set(.5*_.width,0,0),T.halfHeight.set(0,.5*_.height,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),e.rectArea[m]=T,m++;else if(_.isPointLight)(T=t.get(_)).position.setFromMatrixPosition(_.matrixWorld),T.position.applyMatrix4(g),T.color.copy(_.color).multiplyScalar(_.intensity),T.distance=_.distance,T.decay=_.decay,T.shadow=_.castShadow,_.castShadow&&(E=_.shadow,T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize,T.shadowCameraNear=E.camera.near,T.shadowCameraFar=E.camera.far),e.pointShadowMap[p]=M,e.pointShadowMatrix[p]=_.shadow.matrix,e.point[p]=T,p++;else if(_.isHemisphereLight){var T;(T=t.get(_)).direction.setFromMatrixPosition(_.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(_.color).multiplyScalar(x),T.groundColor.copy(_.groundColor).multiplyScalar(x),e.hemi[v]=T,v++}}e.ambient[0]=l,e.ambient[1]=u,e.ambient[2]=c;var S=e.hash;S.directionalLength===h&&S.pointLength===p&&S.spotLength===f&&S.rectAreaLength===m&&S.hemiLength===v&&S.shadowsLength===o.length||(e.directional.length=h,e.spot.length=f,e.rectArea.length=m,e.point.length=p,e.hemi.length=v,S.directionalLength=h,S.pointLength=p,S.spotLength=f,S.rectAreaLength=m,S.hemiLength=v,S.shadowsLength=o.length,e.version=Ba++)},state:e}}function ja(){var t=new Fa,e=[],n=[];return{init:function(){e.length=0,n.length=0},state:{lightsArray:e,shadowsArray:n,lights:t},setupLights:function(r){t.setup(e,n,r)},pushLight:function(t){e.push(t)},pushShadow:function(t){n.push(t)}}}function Ha(){var t={};function e(n){var r=n.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(n,r){var i;return void 0===t[n.id]?(i=new ja,t[n.id]={},t[n.id][r.id]=i,n.addEventListener("dispose",e)):void 0===t[n.id][r.id]?(i=new ja,t[n.id][r.id]=i):i=t[n.id][r.id],i},dispose:function(){t={}}}}function Ya(t){gr.call(this),this.type="MeshDepthMaterial",this.depthPacking=Ge,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Ua(t){gr.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new fn,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Ga(t,e,n){for(var r=new ri,i=new Dn,a=new hn,o=new hn(n,n),s=new fn,l=new fn,u=1,c=2,d=1+(u|c),h=new Array(d),p=new Array(d),f={},m={0:x,1:b,2:w},v=[new fn(1,0,0),new fn(-1,0,0),new fn(0,0,1),new fn(0,0,-1),new fn(0,1,0),new fn(0,-1,0)],g=[new fn(0,1,0),new fn(0,1,0),new fn(0,1,0),new fn(0,1,0),new fn(0,0,1),new fn(0,0,-1)],_=[new Ln,new Ln,new Ln,new Ln,new Ln,new Ln],M=0;M!==d;++M){var A=0!=(M&u),E=0!=(M&c),T=new Ya({depthPacking:Ve,morphTargets:A,skinning:E});h[M]=T;var S=new Ua({morphTargets:A,skinning:E});p[M]=S}var k=this;function C(e,n,r,i,a,o){var s=e.geometry,l=null,d=h,v=e.customDepthMaterial;if(r&&(d=p,v=e.customDistanceMaterial),v)l=v;else{var g=!1;n.morphTargets&&(s&&s.isBufferGeometry?g=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(g=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var y=e.isSkinnedMesh&&n.skinning,_=0;g&&(_|=u),y&&(_|=c),l=d[_]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var b=l.uuid,x=n.uuid,w=f[b];void 0===w&&(w={},f[b]=w);var M=w[x];void 0===M&&(M=l.clone(),w[x]=M),l=M}return l.visible=n.visible,l.wireframe=n.wireframe,l.side=null!=n.shadowSide?n.shadowSide:m[n.side],l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,r&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(i),l.nearDistance=a,l.farDistance=o),l}function D(n,i,a,o){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var s=e.update(n),u=n.material;if(Array.isArray(u))for(var c=s.groups,d=0,h=c.length;d<h;d++){var p=c[d],f=u[p.materialIndex];if(f&&f.visible){var m=C(n,f,o,l,a.near,a.far);t.renderBufferDirect(a,null,s,m,n,p)}}else u.visible&&(m=C(n,u,o,l,a.near,a.far),t.renderBufferDirect(a,null,s,m,n,null))}for(var v=n.children,g=0,y=v.length;g<y;g++)D(v[g],i,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=y,this.render=function(e,n,u){if(!1!==k.enabled&&(!1!==k.autoUpdate||!1!==k.needsUpdate)&&0!==e.length){var c,d=t.getRenderTarget(),h=t.getActiveCubeFace(),p=t.getActiveMipmapLevel(),f=t.state;f.setBlending(L),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var m=0,y=e.length;m<y;m++){var b=e[m],x=b.shadow,w=b&&b.isPointLight;if(void 0!==x){var M=x.camera;if(a.copy(x.mapSize),a.min(o),w){var A=a.x,E=a.y;_[0].set(2*A,E,A,E),_[1].set(0,E,A,E),_[2].set(3*A,E,A,E),_[3].set(A,E,A,E),_[4].set(3*A,0,A,E),_[5].set(A,0,A,E),a.x*=4,a.y*=2}if(null===x.map){var T={minFilter:At,magFilter:At,format:Xt};x.map=new kn(a.x,a.y,T),x.map.texture.name=b.name+".shadowMap",M.updateProjectionMatrix()}x.isSpotLightShadow&&x.update(b);var S=x.map,C=x.matrix;l.setFromMatrixPosition(b.matrixWorld),M.position.copy(l),w?(c=6,C.makeTranslation(-l.x,-l.y,-l.z)):(c=1,s.setFromMatrixPosition(b.target.matrixWorld),M.lookAt(s),M.updateMatrixWorld(),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(M.projectionMatrix),C.multiply(M.matrixWorldInverse)),t.setRenderTarget(S),t.clear();for(var P=0;P<c;P++){if(w){s.copy(M.position),s.add(v[P]),M.up.copy(g[P]),M.lookAt(s),M.updateMatrixWorld();var R=_[P];f.viewport(R)}i.multiplyMatrices(M.projectionMatrix,M.matrixWorldInverse),r.setFromMatrix(i),D(n,u,M,w)}}else console.warn("THREE.WebGLShadowMap:",b,"has no shadow.")}k.needsUpdate=!1,t.setRenderTarget(d,h,p)}}}function Va(t,e,n,r){var i=new function(){var e=!1,n=new Ln,r=null,i=new Ln(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,a,o,s){!0===s&&(e*=o,r*=o,a*=o),n.set(e,r,a,o),!1===i.equals(n)&&(t.clearColor(e,r,a,o),i.copy(n))},reset:function(){e=!1,r=null,i.set(-1,0,0,0)}}},a=new function(){var e=!1,n=null,r=null,i=null;return{setTest:function(t){t?at(2929):ot(2929)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case Z:t.depthFunc(512);break;case Q:t.depthFunc(519);break;case K:t.depthFunc(513);break;case $:t.depthFunc(515);break;case tt:t.depthFunc(514);break;case et:t.depthFunc(518);break;case nt:t.depthFunc(516);break;case rt:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}},o=new function(){var e=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(t){t?at(2960):ot(2960)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,o){r===e&&i===n&&a===o||(t.stencilFunc(e,n,o),r=e,i=n,a=o)},setOp:function(e,n,r){o===e&&s===n&&l===r||(t.stencilOp(e,n,r),o=e,s=n,l=r)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},s=t.getParameter(34921),l=new Uint8Array(s),u=new Uint8Array(s),c=new Uint8Array(s),f={},m=null,v=null,g=null,y=null,_=null,b=null,M=null,A=null,E=null,T=null,S=!1,I=null,N=null,z=null,B=null,F=null,j=t.getParameter(35661),H=!1,Y=0,U=t.getParameter(7938);-1!==U.indexOf("WebGL")?(Y=parseFloat(/^WebGL\ ([0-9])/.exec(U)[1]),H=Y>=1):-1!==U.indexOf("OpenGL ES")&&(Y=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(U)[1]),H=Y>=2);var G=null,V={},W=new Ln,q=new Ln;function X(e,n,r){var i=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<r;o++)t.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var J={};function it(n,i){l[n]=1,0===u[n]&&(t.enableVertexAttribArray(n),u[n]=1),c[n]!==i&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),c[n]=i)}function at(e){!0!==f[e]&&(t.enable(e),f[e]=!0)}function ot(e){!1!==f[e]&&(t.disable(e),f[e]=!1)}function st(e,r,i,a,o,s,l,u){if(e!==L){if(g||(at(3042),g=!0),e===R)o=o||r,s=s||i,l=l||a,r===_&&o===A||(t.blendEquationSeparate(n.convert(r),n.convert(o)),_=r,A=o),i===b&&a===M&&s===E&&l===T||(t.blendFuncSeparate(n.convert(i),n.convert(a),n.convert(s),n.convert(l)),b=i,M=a,E=s,T=l),y=e,S=null;else if(e!==y||u!==S){if(_===O&&A===O||(t.blendEquation(32774),_=O,A=O),u)switch(e){case k:t.blendFuncSeparate(1,771,1,771);break;case C:t.blendFunc(1,1);break;case D:t.blendFuncSeparate(0,0,769,771);break;case P:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case k:t.blendFuncSeparate(770,771,1,771);break;case C:t.blendFunc(770,1);break;case D:t.blendFunc(0,769);break;case P:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}b=null,M=null,E=null,T=null,y=e,S=u}}else g&&(ot(3042),g=!1)}function lt(e){I!==e&&(e?t.frontFace(2304):t.frontFace(2305),I=e)}function ut(e){e!==d?(at(2884),e!==N&&(e===h?t.cullFace(1029):e===p?t.cullFace(1028):t.cullFace(1032))):ot(2884),N=e}function ct(e,n,r){e?(at(32823),B===n&&F===r||(t.polygonOffset(n,r),B=n,F=r)):ot(32823)}function dt(e){void 0===e&&(e=33984+j-1),G!==e&&(t.activeTexture(e),G=e)}return J[3553]=X(3553,3553,1),J[34067]=X(34067,34069,6),i.setClear(0,0,0,1),a.setClear(1),o.setClear(0),at(2929),a.setFunc($),lt(!1),ut(h),at(2884),st(L),{buffers:{color:i,depth:a,stencil:o},initAttributes:function(){for(var t=0,e=l.length;t<e;t++)l[t]=0},enableAttribute:function(t){it(t,0)},enableAttributeAndDivisor:it,disableUnusedAttributes:function(){for(var e=0,n=u.length;e!==n;++e)u[e]!==l[e]&&(t.disableVertexAttribArray(e),u[e]=0)},enable:at,disable:ot,getCompressedTextureFormats:function(){if(null===m&&(m=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var n=t.getParameter(34467),r=0;r<n.length;r++)m.push(n[r]);return m},useProgram:function(e){return v!==e&&(t.useProgram(e),v=e,!0)},setBlending:st,setMaterial:function(t,e){t.side===w?ot(2884):at(2884);var n=t.side===x;e&&(n=!n),lt(n),t.blending===k&&!1===t.transparent?st(L):st(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),a.setFunc(t.depthFunc),a.setTest(t.depthTest),a.setMask(t.depthWrite),i.setMask(t.colorWrite);var r=t.stencilWrite;o.setTest(r),r&&(o.setFunc(t.stencilFunc,t.stencilRef,t.stencilMask),o.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),ct(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:lt,setCullFace:ut,setLineWidth:function(e){e!==z&&(H&&t.lineWidth(e),z=e)},setPolygonOffset:ct,setScissorTest:function(t){t?at(3089):ot(3089)},activeTexture:dt,bindTexture:function(e,n){null===G&&dt();var r=V[G];void 0===r&&(r={type:void 0,texture:void 0},V[G]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||J[e]),r.type=e,r.texture=n)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===W.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),W.copy(e))},viewport:function(e){!1===q.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),q.copy(e))},reset:function(){for(var e=0;e<u.length;e++)1===u[e]&&(t.disableVertexAttribArray(e),u[e]=0);f={},m=null,G=null,V={},v=null,y=null,I=null,N=null,i.reset(),a.reset(),o.reset()}}}function Wa(t,e,n,r,i,a,o){var s,l={},u="undefined"!=typeof OffscreenCanvas;function c(t,e){return u?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function d(t,e,n,r){var i=1;if((t.width>r||t.height>r)&&(i=r/Math.max(t.width,t.height)),i<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?dn.floorPowerOfTwo:Math.floor,o=a(i*t.width),l=a(i*t.height);void 0===s&&(s=c(o,l));var u=n?c(o,l):s;return u.width=o,u.height=l,u.getContext("2d").drawImage(t,0,0,o,l),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+l+")."),u}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function h(t){return dn.isPowerOfTwo(t.width)&&dn.isPowerOfTwo(t.height)}function p(t,e){return t.generateMipmaps&&e&&t.minFilter!==At&&t.minFilter!==kt}function f(e,n,i,a){t.generateMipmap(e),r.get(n).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function m(t,n){if(!i.isWebGL2)return t;var r=t;return 6403===t&&(5126===n&&(r=33326),5131===n&&(r=33325),5121===n&&(r=33321)),6407===t&&(5126===n&&(r=34837),5131===n&&(r=34843),5121===n&&(r=32849)),6408===t&&(5126===n&&(r=34836),5131===n&&(r=34842),5121===n&&(r=32856)),33325===r||33326===r||34842===r||34836===r?e.get("EXT_color_buffer_float"):34843!==r&&34837!==r||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),r}function v(t){return t===At||t===Et||t===St?9728:9729}function g(e){var n=e.target;n.removeEventListener("dispose",g),function(e){var n=r.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),r.remove(e))}(n),n.isVideoTexture&&delete l[n.id],o.memory.textures--}function y(e){var n=e.target;n.removeEventListener("dispose",y),function(e){var n=r.get(e),i=r.get(e.texture);if(e){if(void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[a]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(e.texture),r.remove(e)}}(n),o.memory.textures--}var _=0;function b(t,e){var i=r.get(t);if(t.isVideoTexture&&function(t){var e=t.id,n=o.render.frame;l[e]!==n&&(l[e]=n,t.update())}(t),t.version>0&&i.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void E(i,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,i.__webglTexture)}function x(e,o){var s=r.get(e);if(6===e.image.length)if(e.version>0&&s.__version!==e.version){A(s,e),n.activeTexture(33984+o),n.bindTexture(34067,s.__webglTexture),t.pixelStorei(37440,e.flipY);for(var l=e&&e.isCompressedTexture,u=e.image[0]&&e.image[0].isDataTexture,c=[],v=0;v<6;v++)c[v]=l||u?u?e.image[v].image:e.image[v]:d(e.image[v],!1,!0,i.maxCubemapSize);var g=c[0],y=h(g)||i.isWebGL2,_=a.convert(e.format),b=a.convert(e.type),x=m(_,b);for(M(34067,e,y),v=0;v<6;v++)if(l)for(var w,E=c[v].mipmaps,T=0,S=E.length;T<S;T++)w=E[T],e.format!==Xt&&e.format!==qt?n.getCompressedTextureFormats().indexOf(_)>-1?n.compressedTexImage2D(34069+v,T,x,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+v,T,x,w.width,w.height,0,_,b,w.data);else u?n.texImage2D(34069+v,0,x,c[v].width,c[v].height,0,_,b,c[v].data):n.texImage2D(34069+v,0,x,_,b,c[v]);s.__maxMipLevel=l?E.length-1:0,p(e,y)&&f(34067,e,g.width,g.height),s.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(33984+o),n.bindTexture(34067,s.__webglTexture)}function w(t,e){n.activeTexture(33984+e),n.bindTexture(34067,r.get(t).__webglTexture)}function M(n,o,s){var l;if(s?(t.texParameteri(n,10242,a.convert(o.wrapS)),t.texParameteri(n,10243,a.convert(o.wrapT)),32879!==n&&35866!==n||t.texParameteri(n,32882,a.convert(o.wrapR)),t.texParameteri(n,10240,a.convert(o.magFilter)),t.texParameteri(n,10241,a.convert(o.minFilter))):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),o.wrapS===wt&&o.wrapT===wt||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,v(o.magFilter)),t.texParameteri(n,10241,v(o.minFilter)),o.minFilter!==At&&o.minFilter!==kt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),l=e.get("EXT_texture_filter_anisotropic")){if(o.type===jt&&null===e.get("OES_texture_float_linear"))return;if(o.type===Ht&&null===(i.isWebGL2||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function A(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",g),e.__webglTexture=t.createTexture(),o.memory.textures++)}function E(e,r,o){var s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),A(e,r),n.activeTexture(33984+o),n.bindTexture(s,e.__webglTexture),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment);var l=function(t){return!i.isWebGL2&&(t.wrapS!==wt||t.wrapT!==wt||t.minFilter!==At&&t.minFilter!==kt)}(r)&&!1===h(r.image),u=d(r.image,l,!1,i.maxTextureSize),c=h(u)||i.isWebGL2,v=a.convert(r.format),g=a.convert(r.type),y=m(v,g);M(s,r,c);var _,b=r.mipmaps;if(r.isDepthTexture){if(y=6402,r.type===jt){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");y=36012}else i.isWebGL2&&(y=33189);r.format===Kt&&6402===y&&r.type!==zt&&r.type!==Ft&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=zt,g=a.convert(r.type)),r.format===$t&&(y=34041,r.type!==Vt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Vt,g=a.convert(r.type))),n.texImage2D(3553,0,y,u.width,u.height,0,v,g,null)}else if(r.isDataTexture)if(b.length>0&&c){for(var x=0,w=b.length;x<w;x++)_=b[x],n.texImage2D(3553,x,y,_.width,_.height,0,v,g,_.data);r.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else n.texImage2D(3553,0,y,u.width,u.height,0,v,g,u.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(x=0,w=b.length;x<w;x++)_=b[x],r.format!==Xt&&r.format!==qt?n.getCompressedTextureFormats().indexOf(v)>-1?n.compressedTexImage2D(3553,x,y,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,x,y,_.width,_.height,0,v,g,_.data);e.__maxMipLevel=b.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,y,u.width,u.height,u.depth,0,v,g,u.data),e.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,y,u.width,u.height,u.depth,0,v,g,u.data),e.__maxMipLevel=0;else if(b.length>0&&c){for(x=0,w=b.length;x<w;x++)_=b[x],n.texImage2D(3553,x,y,v,g,_);r.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else n.texImage2D(3553,0,y,v,g,u),e.__maxMipLevel=0;p(r,c)&&f(3553,r,u.width,u.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function T(e,i,o,s){var l=a.convert(i.texture.format),u=a.convert(i.texture.type),c=m(l,u);n.texImage2D(s,0,c,i.width,i.height,0,l,u,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function S(e,n,r){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){if(r){var i=L(n);t.renderbufferStorageMultisample(36161,i,33189,n.width,n.height)}else t.renderbufferStorage(36161,33189,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer)r?(i=L(n),t.renderbufferStorageMultisample(36161,i,35056,n.width,n.height)):t.renderbufferStorage(36161,34041,n.width,n.height),t.framebufferRenderbuffer(36160,33306,36161,e);else{var o=m(a.convert(n.texture.format),a.convert(n.texture.type));r?(i=L(n),t.renderbufferStorageMultisample(36161,i,o,n.width,n.height)):t.renderbufferStorage(36161,o,n.width,n.height)}t.bindRenderbuffer(36161,null)}function L(t){return i.isWebGL2&&t.isWebGLMultisampleRenderTarget?Math.min(i.maxSamples,t.samples):0}var k=!1,C=!1;this.allocateTextureUnit=function(){var t=_;return t>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+i.maxTextures),_+=1,t},this.resetTextureUnits=function(){_=0},this.setTexture2D=b,this.setTexture2DArray=function(t,e){var i=r.get(t);t.version>0&&i.__version!==t.version?E(i,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(t,e){var i=r.get(t);t.version>0&&i.__version!==t.version?E(i,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=x,this.setTextureCubeDynamic=w,this.setupRenderTarget=function(e){var s=r.get(e),l=r.get(e.texture);e.addEventListener("dispose",y),l.__webglTexture=t.createTexture(),o.memory.textures++;var u=!0===e.isWebGLRenderTargetCube,c=!0===e.isWebGLMultisampleRenderTarget,d=h(e)||i.isWebGL2;if(u){s.__webglFramebuffer=[];for(var v=0;v<6;v++)s.__webglFramebuffer[v]=t.createFramebuffer()}else if(s.__webglFramebuffer=t.createFramebuffer(),c)if(i.isWebGL2){s.__webglMultisampledFramebuffer=t.createFramebuffer(),s.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var g=m(a.convert(e.texture.format),a.convert(e.texture.type)),_=L(e);t.renderbufferStorageMultisample(36161,_,g,e.width,e.height),t.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(s.__webglDepthRenderbuffer=t.createRenderbuffer(),S(s.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(u){for(n.bindTexture(34067,l.__webglTexture),M(34067,e.texture,d),v=0;v<6;v++)T(s.__webglFramebuffer[v],e,36064,34069+v);p(e.texture,d)&&f(34067,e.texture,e.width,e.height),n.bindTexture(34067,null)}else n.bindTexture(3553,l.__webglTexture),M(3553,e.texture,d),T(s.__webglFramebuffer,e,36064,3553),p(e.texture,d)&&f(3553,e.texture,e.width,e.height),n.bindTexture(3553,null);e.depthBuffer&&function(e){var n=r.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),b(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Kt)t.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==$t)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=t.createRenderbuffer(),S(n.__webglDepthbuffer[a],e)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),S(n.__webglDepthbuffer,e);t.bindFramebuffer(36160,null)}(e)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(p(e,h(t)||i.isWebGL2)){var a=t.isWebGLRenderTargetCube?34067:3553,o=r.get(e).__webglTexture;n.bindTexture(a,o),f(a,e,t.width,t.height),n.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(i.isWebGL2){var n=r.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);var a=e.width,o=e.height,s=16384;e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024),t.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===k&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),k=!0),t=t.texture),b(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLRenderTargetCube&&(!1===C&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),C=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?x(t,e):w(t,e)}}function qa(t,e,n){return{convert:function(t){var r;if(t===xt)return 10497;if(t===wt)return 33071;if(t===Mt)return 33648;if(t===At)return 9728;if(t===Et)return 9984;if(t===St)return 9986;if(t===kt)return 9729;if(t===Ct)return 9985;if(t===Pt)return 9987;if(t===Ot)return 5121;if(t===Yt)return 32819;if(t===Ut)return 32820;if(t===Gt)return 33635;if(t===It)return 5120;if(t===Nt)return 5122;if(t===zt)return 5123;if(t===Bt)return 5124;if(t===Ft)return 5125;if(t===jt)return 5126;if(t===Ht){if(n.isWebGL2)return 5131;if(null!==(r=e.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(t===Wt)return 6406;if(t===qt)return 6407;if(t===Xt)return 6408;if(t===Jt)return 6409;if(t===Zt)return 6410;if(t===Kt)return 6402;if(t===$t)return 34041;if(t===te)return 6403;if(t===O)return 32774;if(t===I)return 32778;if(t===N)return 32779;if(t===F)return 0;if(t===j)return 1;if(t===H)return 768;if(t===Y)return 769;if(t===U)return 770;if(t===G)return 771;if(t===V)return 772;if(t===W)return 773;if(t===q)return 774;if(t===X)return 775;if(t===J)return 776;if((t===ee||t===ne||t===re||t===ie)&&null!==(r=e.get("WEBGL_compressed_texture_s3tc"))){if(t===ee)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===ne)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===re)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===ie)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===ae||t===oe||t===se||t===le)&&null!==(r=e.get("WEBGL_compressed_texture_pvrtc"))){if(t===ae)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===oe)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===se)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===le)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===ue&&null!==(r=e.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((t===ce||t===de||t===he||t===pe||t===fe||t===me||t===ve||t===ge||t===ye||t===_e||t===be||t===xe||t===we||t===Me)&&null!==(r=e.get("WEBGL_compressed_texture_astc")))return t;if(t===z||t===B){if(n.isWebGL2){if(t===z)return 32775;if(t===B)return 32776}if(null!==(r=e.get("EXT_blend_minmax"))){if(t===z)return r.MIN_EXT;if(t===B)return r.MAX_EXT}}if(t===Vt){if(n.isWebGL2)return 34042;if(null!==(r=e.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Xa(){er.call(this),this.type="Group"}function Ja(t){Xr.call(this),this.cameras=t||[]}Ya.prototype=Object.create(gr.prototype),Ya.prototype.constructor=Ya,Ya.prototype.isMeshDepthMaterial=!0,Ya.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Ua.prototype=Object.create(gr.prototype),Ua.prototype.constructor=Ua,Ua.prototype.isMeshDistanceMaterial=!0,Ua.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Xa.prototype=Object.assign(Object.create(er.prototype),{constructor:Xa,isGroup:!0}),Ja.prototype=Object.assign(Object.create(Xr.prototype),{constructor:Ja,isArrayCamera:!0});var Za,Qa,Ka,$a,to,eo,no=new fn,ro=new fn;function io(t,e,n){no.setFromMatrixPosition(e.matrixWorld),ro.setFromMatrixPosition(n.matrixWorld);var r=no.distanceTo(ro),i=e.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],d=(a[8]+1)/a[0],h=o*c,p=o*d,f=r/(-c+d),m=f*-c;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var v=o+f,g=s+f,y=h-m,_=p+(r-m),b=l*s/g*v,x=u*s/g*v;t.projectionMatrix.makePerspective(y,_,b,x,v,g)}function ao(t){var e,n,r=this,i=null,a=null,o=null,s=[],l=new Dn,u=new Dn,c=1,d="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(a=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",x,!1));var h=new Dn,p=new pn,f=new fn,m=new Xr;m.viewport=new Ln,m.layers.enable(1);var v=new Xr;v.viewport=new Ln,v.layers.enable(2);var g=new Ja([m,v]);function y(){return null!==i&&!0===i.isPresenting}g.layers.enable(1),g.layers.enable(2);var _,b=new hn;function x(){if(y()){var a=i.getEyeParameters("left");e=2*a.renderWidth*c,n=a.renderHeight*c,_=t.getPixelRatio(),t.getSize(b),t.setDrawingBufferSize(e,n,1),m.viewport.set(0,0,e/2,n),v.viewport.set(e/2,0,e/2,n),E.start(),r.dispatchEvent({type:"sessionstart"})}else r.enabled&&t.setDrawingBufferSize(b.width,b.height,_),E.stop(),r.dispatchEvent({type:"sessionend"})}var w=[];function M(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=e.length;n<i;n++){var a=e[n];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("HTC Vive Focus")||a.id.startsWith("Spatial Controller"))){if(r===t)return a;r++}}}function A(t,r){null!==r&&4===r.length&&t.set(r[0]*e,r[1]*n,r[2]*e,r[3]*n)}this.enabled=!1,this.getController=function(t){var e=s[t];return void 0===e&&((e=new Xa).matrixAutoUpdate=!1,e.visible=!1,s[t]=e),e},this.getDevice=function(){return i},this.setDevice=function(t){void 0!==t&&(i=t),E.setContext(t)},this.setFramebufferScaleFactor=function(t){c=t},this.setReferenceSpaceType=function(t){d=t},this.setPoseTarget=function(t){void 0!==t&&(o=t)},this.getCamera=function(t){var e="local-floor"===d?1.6:0;if(!1===y())return t.position.set(0,e,0),t.rotation.set(0,0,0),t;if(i.depthNear=t.near,i.depthFar=t.far,i.getFrameData(a),"local-floor"===d){var n=i.stageParameters;n?l.fromArray(n.sittingToStandingTransform):l.makeTranslation(0,e,0)}var r=a.pose,c=null!==o?o:t;c.matrix.copy(l),c.matrix.decompose(c.position,c.quaternion,c.scale),null!==r.orientation&&(p.fromArray(r.orientation),c.quaternion.multiply(p)),null!==r.position&&(p.setFromRotationMatrix(l),f.fromArray(r.position),f.applyQuaternion(p),c.position.add(f)),c.updateMatrixWorld(),m.near=t.near,v.near=t.near,m.far=t.far,v.far=t.far,m.matrixWorldInverse.fromArray(a.leftViewMatrix),v.matrixWorldInverse.fromArray(a.rightViewMatrix),u.getInverse(l),"local-floor"===d&&(m.matrixWorldInverse.multiply(u),v.matrixWorldInverse.multiply(u));var _=c.parent;null!==_&&(h.getInverse(_.matrixWorld),m.matrixWorldInverse.multiply(h),v.matrixWorldInverse.multiply(h)),m.matrixWorld.getInverse(m.matrixWorldInverse),v.matrixWorld.getInverse(v.matrixWorldInverse),m.projectionMatrix.fromArray(a.leftProjectionMatrix),v.projectionMatrix.fromArray(a.rightProjectionMatrix),io(g,m,v);var b=i.getLayers();if(b.length){var x=b[0];A(m.viewport,x.leftBounds),A(v.viewport,x.rightBounds)}return function(){for(var t=0;t<s.length;t++){var e=s[t],n=M(t);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&e.position.set(.2,-.6,-.05),null!==r.position&&e.position.fromArray(r.position),null!==r.orientation&&e.quaternion.fromArray(r.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(l),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var i="Daydream Controller"===n.id?0:1;void 0===w[t]&&(w[t]=!1),w[t]!==n.buttons[i].pressed&&(w[t]=n.buttons[i].pressed,!0===w[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),g},this.getStandingMatrix=function(){return l},this.isPresenting=y;var E=new si;this.setAnimationLoop=function(t){E.setAnimationLoop(t),y()&&E.start()},this.submitFrame=function(){y()&&i.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",x)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}function oo(t,e){var n=this,r=null,i=null,a="local-floor",o=null,s=[],l=[];function u(){return null!==r&&null!==i}var c=new Xr;c.layers.enable(1),c.viewport=new Ln;var d=new Xr;d.layers.enable(2),d.viewport=new Ln;var h=new Ja([c,d]);function p(t){for(var e=0;e<s.length;e++)l[e]===t.inputSource&&s[e].dispatchEvent({type:t.type})}function f(){t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),y.stop(),n.dispatchEvent({type:"sessionend"})}function m(t){i=t,y.setContext(r),y.start(),n.dispatchEvent({type:"sessionstart"})}function v(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}h.layers.enable(1),h.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=s[t];return void 0===e&&((e=new Xa).matrixAutoUpdate=!1,e.visible=!1,s[t]=e),e},this.setFramebufferScaleFactor=function(t){},this.setReferenceSpaceType=function(t){a=t},this.getSession=function(){return r},this.setSession=function(t){null!==(r=t)&&(r.addEventListener("select",p),r.addEventListener("selectstart",p),r.addEventListener("selectend",p),r.addEventListener("end",f),r.updateRenderState({baseLayer:new XRWebGLLayer(r,e)}),r.requestReferenceSpace(a).then(m),l=r.inputSources,r.addEventListener("inputsourceschange",(function(){l=r.inputSources,console.log(l);for(var t=0;t<s.length;t++)s[t].userData.inputSource=l[t]})))},this.getCamera=function(t){if(u()){var e=t.parent,n=h.cameras;v(h,e);for(var r=0;r<n.length;r++)v(n[r],e);t.matrixWorld.copy(h.matrixWorld);for(var i=t.children,a=(r=0,i.length);r<a;r++)i[r].updateMatrixWorld(!0);return io(h,c,d),h}return t},this.isPresenting=u;var g=null,y=new si;y.setAnimationLoop((function(e,n){if(null!==(o=n.getViewerPose(i))){var a=o.views,u=r.renderState.baseLayer;t.setFramebuffer(u.framebuffer);for(var c=0;c<a.length;c++){var d=a[c],p=u.getViewport(d),f=d.transform.inverse.matrix,m=h.cameras[c];m.matrix.fromArray(f).getInverse(m.matrix),m.projectionMatrix.fromArray(d.projectionMatrix),m.viewport.set(p.x,p.y,p.width,p.height),0===c&&h.matrix.copy(m.matrix)}}for(c=0;c<s.length;c++){var v=s[c],y=l[c];if(y){var _=n.getPose(y.targetRaySpace,i);if(null!==_){v.matrix.fromArray(_.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.visible=!0;continue}}v.visible=!1}g&&g(e)})),this.setAnimationLoop=function(t){g=t},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new Dn},this.getDevice=function(){console.warn("THREE.WebXRManager: getDevice() has been deprecated.")},this.setDevice=function(){console.warn("THREE.WebXRManager: setDevice() has been deprecated.")},this.setFrameOfReferenceType=function(){console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")},this.submitFrame=function(){}}function so(t){console.log("THREE.WebGLRenderer",l);var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,i=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,u=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:"default",d=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,h=null,p=null;this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=lt,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,m,v,g,y,_,b,w,M,A,E,T,S,L,k,C,D,P,R=this,O=!1,I=null,N=0,z=0,B=null,F=null,j=-1,H={geometry:null,program:null,wireframe:!1},Y=null,U=null,G=new Ln,V=new Ln,W=null,q=e.width,X=e.height,J=1,Z=new Ln(0,0,q,X),Q=new Ln(0,0,q,X),K=!1,$=new ri,tt=new fi,et=!1,nt=!1,rt=new Dn,it=new fn;function at(){return null===B?J:1}try{var ot={alpha:r,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:d,xrCompatible:!0};if(e.addEventListener("webglcontextlost",dt,!1),e.addEventListener("webglcontextrestored",ht,!1),null===(f=n||e.getContext("webgl",ot)||e.getContext("experimental-webgl",ot)))throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function st(){m=new mi(f),(v=new pi(f,m,t)).isWebGL2||(m.get("WEBGL_depth_texture"),m.get("OES_texture_float"),m.get("OES_texture_half_float"),m.get("OES_texture_half_float_linear"),m.get("OES_standard_derivatives"),m.get("OES_element_index_uint"),m.get("ANGLE_instanced_arrays")),m.get("OES_texture_float_linear"),P=new qa(f,m,v),(g=new Va(f,m,P,v)).scissor(V.copy(Q).multiplyScalar(J).floor()),g.viewport(G.copy(Z).multiplyScalar(J).floor()),y=new yi(f),_=new Pa,b=new Wa(f,m,g,_,v,P,y),w=new li(f),M=new vi(f,w,y),A=new xi(M,y),k=new bi(f),E=new Da(R,m,v),T=new Na,S=new Ha,L=new di(R,g,A,s),C=new hi(f,m,y,v),D=new gi(f,m,y,v),y.programs=E.programs,R.capabilities=v,R.extensions=m,R.properties=_,R.renderLists=T,R.state=g,R.info=y}st();var ut="undefined"!=typeof navigator&&"xr"in navigator&&"supportsSession"in navigator.xr?new oo(R,f):new ao(R);this.vr=ut;var ct=new Ga(R,A,v.maxTextureSize);function dt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function ht(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1,st()}function pt(t){var e=t.target;e.removeEventListener("dispose",pt),function(t){ft(t),_.remove(t)}(e)}function ft(t){var e=_.get(t).program;t.program=void 0,void 0!==e&&E.releaseProgram(e)}this.shadowMap=ct,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var t=m.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=m.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(t){void 0!==t&&(J=t,this.setSize(q,X,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new hn),t.set(q,X)},this.setSize=function(t,n,r){ut.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(q=t,X=n,e.width=Math.floor(t*J),e.height=Math.floor(n*J),!1!==r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new hn),t.set(q*J,X*J).floor()},this.setDrawingBufferSize=function(t,n,r){q=t,X=n,J=r,e.width=Math.floor(t*r),e.height=Math.floor(n*r),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new Ln),t.copy(G)},this.getViewport=function(t){return t.copy(Z)},this.setViewport=function(t,e,n,r){t.isVector4?Z.set(t.x,t.y,t.z,t.w):Z.set(t,e,n,r),g.viewport(G.copy(Z).multiplyScalar(J).floor())},this.getScissor=function(t){return t.copy(Q)},this.setScissor=function(t,e,n,r){t.isVector4?Q.set(t.x,t.y,t.z,t.w):Q.set(t,e,n,r),g.scissor(V.copy(Q).multiplyScalar(J).floor())},this.getScissorTest=function(){return K},this.setScissorTest=function(t){g.setScissorTest(K=t)},this.getClearColor=function(){return L.getClearColor()},this.setClearColor=function(){L.setClearColor.apply(L,arguments)},this.getClearAlpha=function(){return L.getClearAlpha()},this.setClearAlpha=function(){L.setClearAlpha.apply(L,arguments)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=16384),(void 0===e||e)&&(r|=256),(void 0===n||n)&&(r|=1024),f.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",dt,!1),e.removeEventListener("webglcontextrestored",ht,!1),T.dispose(),S.dispose(),_.dispose(),A.dispose(),ut.dispose(),vt.stop()},this.renderBufferImmediate=function(t,e){g.initAttributes();var n=_.get(t);t.hasPositions&&!n.position&&(n.position=f.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=f.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=f.createBuffer()),t.hasColors&&!n.color&&(n.color=f.createBuffer());var r=e.getAttributes();t.hasPositions&&(f.bindBuffer(34962,n.position),f.bufferData(34962,t.positionArray,35048),g.enableAttribute(r.position),f.vertexAttribPointer(r.position,3,5126,!1,0,0)),t.hasNormals&&(f.bindBuffer(34962,n.normal),f.bufferData(34962,t.normalArray,35048),g.enableAttribute(r.normal),f.vertexAttribPointer(r.normal,3,5126,!1,0,0)),t.hasUvs&&(f.bindBuffer(34962,n.uv),f.bufferData(34962,t.uvArray,35048),g.enableAttribute(r.uv),f.vertexAttribPointer(r.uv,2,5126,!1,0,0)),t.hasColors&&(f.bindBuffer(34962,n.color),f.bufferData(34962,t.colorArray,35048),g.enableAttribute(r.color),f.vertexAttribPointer(r.color,3,5126,!1,0,0)),g.disableUnusedAttributes(),f.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,r,i,a){var o=i.isMesh&&i.matrixWorld.determinant()<0;g.setMaterial(r,o);var s=xt(t,e,r,i),l=!1;H.geometry===n.id&&H.program===s.id&&H.wireframe===(!0===r.wireframe)||(H.geometry=n.id,H.program=s.id,H.wireframe=!0===r.wireframe,l=!0),i.morphTargetInfluences&&(k.update(i,n,r,s),l=!0);var u,c=n.index,d=n.attributes.position,h=1;!0===r.wireframe&&(c=M.getWireframeAttribute(n),h=2);var p=C;null!==c&&(u=w.get(c),(p=D).setIndex(u)),l&&(function(t,e,n){if(n&&n.isInstancedBufferGeometry&&!v.isWebGL2&&null===m.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{g.initAttributes();var r=n.attributes,i=e.getAttributes(),a=t.defaultAttributeValues;for(var o in i){var s=i[o];if(s>=0){var l=r[o];if(void 0!==l){var u=l.normalized,c=l.itemSize,d=w.get(l);if(void 0===d)continue;var h=d.buffer,p=d.type,y=d.bytesPerElement;if(l.isInterleavedBufferAttribute){var _=l.data,b=_.stride,x=l.offset;_&&_.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(s,_.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=_.meshPerAttribute*_.count)):g.enableAttribute(s),f.bindBuffer(34962,h),f.vertexAttribPointer(s,c,p,u,b*y,x*y)}else l.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(s,l.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):g.enableAttribute(s),f.bindBuffer(34962,h),f.vertexAttribPointer(s,c,p,u,0,0)}else if(void 0!==a){var M=a[o];if(void 0!==M)switch(M.length){case 2:f.vertexAttrib2fv(s,M);break;case 3:f.vertexAttrib3fv(s,M);break;case 4:f.vertexAttrib4fv(s,M);break;default:f.vertexAttrib1fv(s,M)}}}}g.disableUnusedAttributes()}}(r,s,n),null!==c&&f.bindBuffer(34963,u.buffer));var y=1/0;null!==c?y=c.count:void 0!==d&&(y=d.count);var _=n.drawRange.start*h,b=n.drawRange.count*h,x=null!==a?a.start*h:0,A=null!==a?a.count*h:1/0,E=Math.max(_,x),T=Math.min(y,_+b,x+A)-1,S=Math.max(0,T-E+1);if(0!==S){if(i.isMesh)if(!0===r.wireframe)g.setLineWidth(r.wireframeLinewidth*at()),p.setMode(1);else switch(i.drawMode){case Re:p.setMode(4);break;case Oe:p.setMode(5);break;case Ie:p.setMode(6)}else if(i.isLine){var L=r.linewidth;void 0===L&&(L=1),g.setLineWidth(L*at()),i.isLineSegments?p.setMode(1):i.isLineLoop?p.setMode(2):p.setMode(3)}else i.isPoints?p.setMode(0):i.isSprite&&p.setMode(4);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&p.renderInstances(n,E,S):p.render(E,S)}},this.compile=function(t,e){(p=S.get(t,e)).init(),t.traverse((function(t){t.isLight&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))})),p.setupLights(e),t.traverse((function(e){if(e.material)if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)bt(e.material[n],t.fog,e);else bt(e.material,t.fog,e)}))};var mt=null,vt=new si;function gt(t,e,n,r){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||$.intersectsSprite(t)){r&&it.setFromMatrixPosition(t.matrixWorld).applyMatrix4(rt);var i=A.update(t);(a=t.material).visible&&h.push(t,i,a,n,it.z,null)}}else if(t.isImmediateRenderObject)r&&it.setFromMatrixPosition(t.matrixWorld).applyMatrix4(rt),h.push(t,null,t.material,n,it.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||$.intersectsObject(t))){r&&it.setFromMatrixPosition(t.matrixWorld).applyMatrix4(rt),i=A.update(t);var a=t.material;if(Array.isArray(a))for(var o=i.groups,s=0,l=o.length;s<l;s++){var u=o[s],c=a[u.materialIndex];c&&c.visible&&h.push(t,i,c,n,it.z,u)}else a.visible&&h.push(t,i,a,n,it.z,null)}var d=t.children;for(s=0,l=d.length;s<l;s++)gt(d[s],e,n,r)}}function yt(t,e,n,r){for(var i=0,a=t.length;i<a;i++){var o=t[i],s=o.object,l=o.geometry,u=void 0===r?o.material:r,c=o.group;if(n.isArrayCamera){U=n;for(var d=n.cameras,h=0,f=d.length;h<f;h++){var m=d[h];s.layers.test(m.layers)&&(g.viewport(G.copy(m.viewport)),p.setupLights(m),_t(s,e,m,l,u,c))}}else U=null,_t(s,e,n,l,u,c)}}function _t(t,e,n,r,i,a){if(t.onBeforeRender(R,e,n,r,i,a),p=S.get(e,U||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){g.setMaterial(i);var o=xt(n,e.fog,i,t);H.geometry=null,H.program=null,H.wireframe=!1,function(t,e){t.render((function(t){R.renderBufferImmediate(t,e)}))}(t,o)}else R.renderBufferDirect(n,e.fog,r,i,t,a);t.onAfterRender(R,e,n,r,i,a),p=S.get(e,U||n)}function bt(t,e,n){var r=_.get(t),i=p.state.lights,a=p.state.shadowsArray,o=i.state.version,s=E.getParameters(t,i.state,a,e,tt.numPlanes,tt.numIntersection,n),l=E.getProgramCode(t,s),u=r.program,c=!0;if(void 0===u)t.addEventListener("dispose",pt);else if(u.code!==l)ft(t);else if(r.lightsStateVersion!==o)r.lightsStateVersion=o,c=!1;else{if(void 0!==s.shaderID)return;c=!1}if(c){if(s.shaderID){var d=oi[s.shaderID];r.shader={name:t.type,uniforms:Hr(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(r.shader,R),l=E.getProgramCode(t,s),u=E.acquireProgram(t,r.shader,s,l),r.program=u,t.program=u}var h=u.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var f=0;f<R.maxMorphTargets;f++)h["morphTarget"+f]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,f=0;f<R.maxMorphNormals;f++)h["morphNormal"+f]>=0&&t.numSupportedMorphNormals++;var m=r.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=tt.numPlanes,r.numIntersection=tt.numIntersection,m.clippingPlanes=tt.uniform),r.fog=e,r.lightsStateVersion=o,t.lights&&(m.ambientLightColor.value=i.state.ambient,m.lightProbe.value=i.state.probe,m.directionalLights.value=i.state.directional,m.spotLights.value=i.state.spot,m.rectAreaLights.value=i.state.rectArea,m.pointLights.value=i.state.point,m.hemisphereLights.value=i.state.hemi,m.directionalShadowMap.value=i.state.directionalShadowMap,m.directionalShadowMatrix.value=i.state.directionalShadowMatrix,m.spotShadowMap.value=i.state.spotShadowMap,m.spotShadowMatrix.value=i.state.spotShadowMatrix,m.pointShadowMap.value=i.state.pointShadowMap,m.pointShadowMatrix.value=i.state.pointShadowMatrix);var v=r.program.getUniforms(),g=ya.seqWithValue(v.seq,m);r.uniformsList=g}function xt(t,e,n,r){b.resetTextureUnits();var i=_.get(n),a=p.state.lights;if(et&&(nt||t!==Y)){var o=t===Y&&n.id===j;tt.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,o)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:n.lights&&i.lightsStateVersion!==a.state.version?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===tt.numPlanes&&i.numIntersection===tt.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(bt(n,e,r),n.needsUpdate=!1);var s,l,u=!1,c=!1,d=!1,h=i.program,m=h.getUniforms(),y=i.shader.uniforms;if(g.useProgram(h.program)&&(u=!0,c=!0,d=!0),n.id!==j&&(j=n.id,c=!0),u||Y!==t){if(m.setValue(f,"projectionMatrix",t.projectionMatrix),v.logarithmicDepthBuffer&&m.setValue(f,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),Y!==t&&(Y=t,c=!0,d=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var w=m.map.cameraPosition;void 0!==w&&w.setValue(f,it.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&m.setValue(f,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){m.setOptional(f,r,"bindMatrix"),m.setOptional(f,r,"bindMatrixInverse");var M=r.skeleton;if(M){var A=M.bones;if(v.floatVertexTextures){if(void 0===M.boneTexture){var E=Math.sqrt(4*A.length);E=dn.ceilPowerOfTwo(E),E=Math.max(E,4);var T=new Float32Array(E*E*4);T.set(M.boneMatrices);var S=new ei(T,E,E,Xt,jt);S.needsUpdate=!0,M.boneMatrices=T,M.boneTexture=S,M.boneTextureSize=E}m.setValue(f,"boneTexture",M.boneTexture,b),m.setValue(f,"boneTextureSize",M.boneTextureSize)}else m.setOptional(f,M,"boneMatrices")}}return c&&(m.setValue(f,"toneMappingExposure",R.toneMappingExposure),m.setValue(f,"toneMappingWhitePoint",R.toneMappingWhitePoint),n.lights&&(l=d,(s=y).ambientLightColor.needsUpdate=l,s.lightProbe.needsUpdate=l,s.directionalLights.needsUpdate=l,s.pointLights.needsUpdate=l,s.spotLights.needsUpdate=l,s.rectAreaLights.needsUpdate=l,s.hemisphereLights.needsUpdate=l),e&&n.fog&&function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(y,e),n.isMeshBasicMaterial?wt(y,n):n.isMeshLambertMaterial?(wt(y,n),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(y,n)):n.isMeshPhongMaterial?(wt(y,n),n.isMeshToonMaterial?function(t,e){Mt(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(y,n):Mt(y,n)):n.isMeshStandardMaterial?(wt(y,n),n.isMeshPhysicalMaterial?function(t,e){At(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}(y,n):At(y,n)):n.isMeshMatcapMaterial?(wt(y,n),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===x&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===x&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(y,n)):n.isMeshDepthMaterial?(wt(y,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(y,n)):n.isMeshDistanceMaterial?(wt(y,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(y,n)):n.isMeshNormalMaterial?(wt(y,n),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===x&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===x&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(y,n)):n.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(y,n),n.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(y,n)):n.isPointsMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*J,t.scale.value=.5*X,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(y,n):n.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(y,n):n.isShadowMaterial&&(y.color.value.copy(n.color),y.opacity.value=n.opacity),void 0!==y.ltc_1&&(y.ltc_1.value=ai.LTC_1),void 0!==y.ltc_2&&(y.ltc_2.value=ai.LTC_2),ya.upload(f,i.uniformsList,y,b)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(ya.upload(f,i.uniformsList,y,b),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&m.setValue(f,"center",r.center),m.setValue(f,"modelViewMatrix",r.modelViewMatrix),m.setValue(f,"normalMatrix",r.normalMatrix),m.setValue(f,"modelMatrix",r.matrixWorld),h}function wt(t,e){var n;t.opacity.value=e.opacity,e.color&&t.diffuse.value.copy(e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=_.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}function Mt(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===x&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===x&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function At(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===x&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===x&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}vt.setAnimationLoop((function(t){ut.isPresenting()||mt&&mt(t)})),"undefined"!=typeof window&&vt.setContext(window),this.setAnimationLoop=function(t){mt=t,ut.setAnimationLoop(t),vt.start()},this.render=function(t,e){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),e&&e.isCamera){if(!O){H.geometry=null,H.program=null,H.wireframe=!1,j=-1,Y=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),ut.enabled&&(e=ut.getCamera(e)),(p=S.get(t,e)).init(),t.onBeforeRender(R,t,e,n||B),rt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),$.setFromMatrix(rt),nt=this.localClippingEnabled,et=tt.init(this.clippingPlanes,nt,e),(h=T.get(t,e)).init(),gt(t,e,0,R.sortObjects),!0===R.sortObjects&&h.sort(),et&&tt.beginShadows();var i=p.state.shadowsArray;ct.render(i,t,e),p.setupLights(e),et&&tt.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),L.render(h,t,e,r);var a=h.opaque,o=h.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;a.length&&yt(a,t,e,s),o.length&&yt(o,t,e,s)}else a.length&&yt(a,t,e),o.length&&yt(o,t,e);t.onAfterRender(R,t,e),null!==B&&(b.updateRenderTargetMipmap(B),b.updateMultisampleRenderTarget(B)),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),ut.enabled&&ut.submitFrame(),h=null,p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(t){I!==t&&f.bindFramebuffer(36160,t),I=t},this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return z},this.getRenderTarget=function(){return B},this.setRenderTarget=function(t,e,n){B=t,N=e,z=n,t&&void 0===_.get(t).__webglFramebuffer&&b.setupRenderTarget(t);var r=I,i=!1;if(t){var a=_.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(r=a[e||0],i=!0):r=t.isWebGLMultisampleRenderTarget?_.get(t).__webglMultisampledFramebuffer:a,G.copy(t.viewport),V.copy(t.scissor),W=t.scissorTest}else G.copy(Z).multiplyScalar(J).floor(),V.copy(Q).multiplyScalar(J).floor(),W=K;if(F!==r&&(f.bindFramebuffer(36160,r),F=r),g.viewport(G),g.scissor(V),g.setScissorTest(W),i){var o=_.get(t.texture);f.framebufferTexture2D(36160,36064,34069+(e||0),o.__webglTexture,n||0)}},this.readRenderTargetPixels=function(t,e,n,r,i,a,o){if(t&&t.isWebGLRenderTarget){var s=_.get(t).__webglFramebuffer;if(t.isWebGLRenderTargetCube&&void 0!==o&&(s=s[o]),s){var l=!1;s!==F&&(f.bindFramebuffer(36160,s),l=!0);try{var u=t.texture,c=u.format,d=u.type;if(c!==Xt&&P.convert(c)!==f.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(d===Ot||P.convert(d)===f.getParameter(35738)||d===jt&&(v.isWebGL2||m.get("OES_texture_float")||m.get("WEBGL_color_buffer_float"))||d===Ht&&(v.isWebGL2?m.get("EXT_color_buffer_float"):m.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===f.checkFramebufferStatus(36160)?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&f.readPixels(e,n,r,i,P.convert(c),P.convert(d),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{l&&f.bindFramebuffer(36160,F)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,n){var r=e.image.width,i=e.image.height,a=P.convert(e.format);b.setTexture2D(e,0),f.copyTexImage2D(3553,n||0,a,t.x,t.y,r,i,0)},this.copyTextureToTexture=function(t,e,n,r){var i=e.image.width,a=e.image.height,o=P.convert(n.format),s=P.convert(n.type);b.setTexture2D(n,0),e.isDataTexture?f.texSubImage2D(3553,r||0,t.x,t.y,i,a,o,s,e.image.data):f.texSubImage2D(3553,r||0,t.x,t.y,o,s,e.image)},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function lo(t,e){this.name="",this.color=new dr(t),this.density=void 0!==e?e:25e-5}function uo(t,e,n){this.name="",this.color=new dr(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function co(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function ho(t,e,n,r){this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function po(t){gr.call(this),this.type="SpriteMaterial",this.color=new dr(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(t)}function fo(t){if(er.call(this),this.type="Sprite",void 0===Za){Za=new Ir;var e=new co(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Za.setIndex([0,1,2,0,2,3]),Za.addAttribute("position",new ho(e,3,0,!1)),Za.addAttribute("uv",new ho(e,2,3,!1))}this.geometry=Za,this.material=void 0!==t?t:new po,this.center=new hn(.5,.5)}function mo(){er.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function vo(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Nr.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Dn,this.bindMatrixInverse=new Dn}function go(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Dn)}}function yo(){er.call(this),this.type="Bone"}function _o(t){gr.call(this),this.type="LineBasicMaterial",this.color=new dr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function bo(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),er.call(this),this.type="Line",this.geometry=void 0!==t?t:new Ir,this.material=void 0!==e?e:new _o({color:16777215*Math.random()})}function xo(t,e){bo.call(this,t,e),this.type="LineSegments"}function wo(t,e){bo.call(this,t,e),this.type="LineLoop"}function Mo(t){gr.call(this),this.type="PointsMaterial",this.color=new dr(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Ao(t,e){er.call(this),this.type="Points",this.geometry=void 0!==t?t:new Ir,this.material=void 0!==e?e:new Mo({color:16777215*Math.random()}),this.updateMorphTargets()}function Eo(t,e,n,r,i,a,o,s,l){Sn.call(this,t,e,n,r,i,a,o,s,l),this.format=void 0!==o?o:qt,this.minFilter=void 0!==a?a:kt,this.magFilter=void 0!==i?i:kt,this.generateMipmaps=!1}function To(t,e,n,r,i,a,o,s,l,u,c,d){Sn.call(this,null,a,o,s,l,u,r,i,c,d),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function So(t,e,n,r,i,a,o,s,l){Sn.call(this,t,e,n,r,i,a,o,s,l),this.needsUpdate=!0}function Lo(t,e,n,r,i,a,o,s,l,u){if((u=void 0!==u?u:Kt)!==Kt&&u!==$t)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===Kt&&(n=zt),void 0===n&&u===$t&&(n=Vt),Sn.call(this,null,r,i,a,o,s,u,n,l),this.image={width:t,height:e},this.magFilter=void 0!==o?o:At,this.minFilter=void 0!==s?s:At,this.flipY=!1,this.generateMipmaps=!1}function ko(t){Ir.call(this),this.type="WireframeGeometry";var e,n,r,i,a,o,s,l,u,c,d=[],h=[0,0],p={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,r=m.length;e<r;e++){var v=m[e];for(n=0;n<3;n++)s=v[f[n]],l=v[f[(n+1)%3]],h[0]=Math.min(s,l),h[1]=Math.max(s,l),void 0===p[u=h[0]+","+h[1]]&&(p[u]={index1:h[0],index2:h[1]})}for(u in p)o=p[u],c=t.vertices[o.index1],d.push(c.x,c.y,c.z),c=t.vertices[o.index2],d.push(c.x,c.y,c.z)}else if(t&&t.isBufferGeometry){var g,y,_,b,x,w,M;if(c=new fn,null!==t.index){for(g=t.attributes.position,y=t.index,0===(_=t.groups).length&&(_=[{start:0,count:y.count,materialIndex:0}]),i=0,a=_.length;i<a;++i)for(e=x=(b=_[i]).start,r=x+b.count;e<r;e+=3)for(n=0;n<3;n++)s=y.getX(e+n),l=y.getX(e+(n+1)%3),h[0]=Math.min(s,l),h[1]=Math.max(s,l),void 0===p[u=h[0]+","+h[1]]&&(p[u]={index1:h[0],index2:h[1]});for(u in p)o=p[u],c.fromBufferAttribute(g,o.index1),d.push(c.x,c.y,c.z),c.fromBufferAttribute(g,o.index2),d.push(c.x,c.y,c.z)}else for(e=0,r=(g=t.attributes.position).count/3;e<r;e++)for(n=0;n<3;n++)w=3*e+n,c.fromBufferAttribute(g,w),d.push(c.x,c.y,c.z),M=3*e+(n+1)%3,c.fromBufferAttribute(g,M),d.push(c.x,c.y,c.z)}this.addAttribute("position",new Sr(d,3))}function Co(t,e,n){Br.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Do(t,e,n)),this.mergeVertices()}function Do(t,e,n){Ir.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r,i,a=[],o=[],s=[],l=[],u=new fn,c=new fn,d=new fn,h=new fn,p=new fn;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var f=e+1;for(r=0;r<=n;r++){var m=r/n;for(i=0;i<=e;i++){var v=i/e;t(v,m,c),o.push(c.x,c.y,c.z),v-1e-5>=0?(t(v-1e-5,m,d),h.subVectors(c,d)):(t(v+1e-5,m,d),h.subVectors(d,c)),m-1e-5>=0?(t(v,m-1e-5,d),p.subVectors(c,d)):(t(v,m+1e-5,d),p.subVectors(d,c)),u.crossVectors(h,p).normalize(),s.push(u.x,u.y,u.z),l.push(v,m)}}for(r=0;r<n;r++)for(i=0;i<e;i++){var g=r*f+i,y=r*f+i+1,_=(r+1)*f+i+1,b=(r+1)*f+i;a.push(g,y,b),a.push(y,_,b)}this.setIndex(a),this.addAttribute("position",new Sr(o,3)),this.addAttribute("normal",new Sr(s,3)),this.addAttribute("uv",new Sr(l,2))}function Po(t,e,n,r){Br.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new Ro(t,e,n,r)),this.mergeVertices()}function Ro(t,e,n,r){Ir.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1;var i=[],a=[];function o(t,e,n,r){var i,a,o=Math.pow(2,r),l=[];for(i=0;i<=o;i++){l[i]=[];var u=t.clone().lerp(n,i/o),c=e.clone().lerp(n,i/o),d=o-i;for(a=0;a<=d;a++)l[i][a]=0===a&&i===o?u:u.clone().lerp(c,a/d)}for(i=0;i<o;i++)for(a=0;a<2*(o-i)-1;a++){var h=Math.floor(a/2);a%2==0?(s(l[i][h+1]),s(l[i+1][h]),s(l[i][h])):(s(l[i][h+1]),s(l[i+1][h+1]),s(l[i+1][h]))}}function s(t){i.push(t.x,t.y,t.z)}function l(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function u(t,e,n,r){r<0&&1===t.x&&(a[e]=t.x-1),0===n.x&&0===n.z&&(a[e]=r/2/Math.PI+.5)}function c(t){return Math.atan2(t.z,-t.x)}function d(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}!function(t){for(var n=new fn,r=new fn,i=new fn,a=0;a<e.length;a+=3)l(e[a+0],n),l(e[a+1],r),l(e[a+2],i),o(n,r,i,t)}(r=r||0),function(t){for(var e=new fn,n=0;n<i.length;n+=3)e.x=i[n+0],e.y=i[n+1],e.z=i[n+2],e.normalize().multiplyScalar(t),i[n+0]=e.x,i[n+1]=e.y,i[n+2]=e.z}(n),function(){for(var t=new fn,e=0;e<i.length;e+=3){t.x=i[e+0],t.y=i[e+1],t.z=i[e+2];var n=c(t)/2/Math.PI+.5,r=d(t)/Math.PI+.5;a.push(n,1-r)}(function(){for(var t=new fn,e=new fn,n=new fn,r=new fn,o=new hn,s=new hn,l=new hn,d=0,h=0;d<i.length;d+=9,h+=6){t.set(i[d+0],i[d+1],i[d+2]),e.set(i[d+3],i[d+4],i[d+5]),n.set(i[d+6],i[d+7],i[d+8]),o.set(a[h+0],a[h+1]),s.set(a[h+2],a[h+3]),l.set(a[h+4],a[h+5]),r.copy(t).add(e).add(n).divideScalar(3);var p=c(r);u(o,h+0,t,p),u(s,h+2,e,p),u(l,h+4,n,p)}})(),function(){for(var t=0;t<a.length;t+=6){var e=a[t+0],n=a[t+2],r=a[t+4],i=Math.max(e,n,r),o=Math.min(e,n,r);i>.9&&o<.1&&(e<.2&&(a[t+0]+=1),n<.2&&(a[t+2]+=1),r<.2&&(a[t+4]+=1))}}()}(),this.addAttribute("position",new Sr(i,3)),this.addAttribute("normal",new Sr(i.slice(),3)),this.addAttribute("uv",new Sr(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Oo(t,e){Br.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Io(t,e)),this.mergeVertices()}function Io(t,e){Ro.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function No(t,e){Br.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new zo(t,e)),this.mergeVertices()}function zo(t,e){Ro.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Bo(t,e){Br.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Fo(t,e)),this.mergeVertices()}function Fo(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];Ro.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function jo(t,e){Br.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ho(t,e)),this.mergeVertices()}function Ho(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];Ro.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Yo(t,e,n,r,i,a){Br.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new Uo(t,e,n,r,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function Uo(t,e,n,r,i){Ir.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},e=e||64,n=n||1,r=r||8,i=i||!1;var a=t.computeFrenetFrames(e,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,l=new fn,u=new fn,c=new hn,d=new fn,h=[],p=[],f=[],m=[];function v(i){d=t.getPointAt(i/e,d);var o=a.normals[i],c=a.binormals[i];for(s=0;s<=r;s++){var f=s/r*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);u.x=v*o.x+m*c.x,u.y=v*o.y+m*c.y,u.z=v*o.z+m*c.z,u.normalize(),p.push(u.x,u.y,u.z),l.x=d.x+n*u.x,l.y=d.y+n*u.y,l.z=d.z+n*u.z,h.push(l.x,l.y,l.z)}}!function(){for(o=0;o<e;o++)v(o);v(!1===i?e:0),function(){for(o=0;o<=e;o++)for(s=0;s<=r;s++)c.x=o/e,c.y=s/r,f.push(c.x,c.y)}(),function(){for(s=1;s<=e;s++)for(o=1;o<=r;o++){var t=(r+1)*(s-1)+(o-1),n=(r+1)*s+(o-1),i=(r+1)*s+o,a=(r+1)*(s-1)+o;m.push(t,n,a),m.push(n,i,a)}}()}(),this.setIndex(m),this.addAttribute("position",new Sr(h,3)),this.addAttribute("normal",new Sr(p,3)),this.addAttribute("uv",new Sr(f,2))}function Go(t,e,n,r,i,a,o){Br.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Vo(t,e,n,r,i,a)),this.mergeVertices()}function Vo(t,e,n,r,i,a){Ir.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:a},t=t||1,e=e||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,a=a||3;var o,s,l=[],u=[],c=[],d=[],h=new fn,p=new fn,f=new fn,m=new fn,v=new fn,g=new fn,y=new fn;for(o=0;o<=n;++o){var _=o/n*i*Math.PI*2;for(S(_,i,a,t,f),S(_+.01,i,a,t,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var b=s/r*Math.PI*2,x=-e*Math.cos(b),w=e*Math.sin(b);h.x=f.x+(x*y.x+w*v.x),h.y=f.y+(x*y.y+w*v.y),h.z=f.z+(x*y.z+w*v.z),u.push(h.x,h.y,h.z),p.subVectors(h,f).normalize(),c.push(p.x,p.y,p.z),d.push(o/n),d.push(s/r)}}for(s=1;s<=n;s++)for(o=1;o<=r;o++){var M=(r+1)*(s-1)+(o-1),A=(r+1)*s+(o-1),E=(r+1)*s+o,T=(r+1)*(s-1)+o;l.push(M,A,T),l.push(A,E,T)}function S(t,e,n,r,i){var a=Math.cos(t),o=Math.sin(t),s=n/e*t,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(l),this.addAttribute("position",new Sr(u,3)),this.addAttribute("normal",new Sr(c,3)),this.addAttribute("uv",new Sr(d,2))}function Wo(t,e,n,r,i){Br.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new qo(t,e,n,r,i)),this.mergeVertices()}function qo(t,e,n,r,i){Ir.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||1,e=e||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var a,o,s=[],l=[],u=[],c=[],d=new fn,h=new fn,p=new fn;for(a=0;a<=n;a++)for(o=0;o<=r;o++){var f=o/r*i,m=a/n*Math.PI*2;h.x=(t+e*Math.cos(m))*Math.cos(f),h.y=(t+e*Math.cos(m))*Math.sin(f),h.z=e*Math.sin(m),l.push(h.x,h.y,h.z),d.x=t*Math.cos(f),d.y=t*Math.sin(f),p.subVectors(h,d).normalize(),u.push(p.x,p.y,p.z),c.push(o/r),c.push(a/n)}for(a=1;a<=n;a++)for(o=1;o<=r;o++){var v=(r+1)*a+o-1,g=(r+1)*(a-1)+o-1,y=(r+1)*(a-1)+o,_=(r+1)*a+o;s.push(v,g,_),s.push(g,y,_)}this.setIndex(s),this.addAttribute("position",new Sr(l,3)),this.addAttribute("normal",new Sr(u,3)),this.addAttribute("uv",new Sr(c,2))}Object.assign(ao.prototype,r.prototype),Object.assign(oo.prototype,r.prototype),Object.assign(lo.prototype,{isFogExp2:!0,clone:function(){return new lo(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(uo.prototype,{isFog:!0,clone:function(){return new uo(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(co.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(co.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Object.defineProperties(ho.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(ho.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}}),po.prototype=Object.create(gr.prototype),po.prototype.constructor=po,po.prototype.isSpriteMaterial=!0,po.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this},fo.prototype=Object.assign(Object.create(er.prototype),{constructor:fo,isSprite:!0,raycast:function(){var t=new fn,e=new fn,n=new fn,r=new hn,i=new hn,a=new Dn,o=new fn,s=new fn,l=new fn,u=new hn,c=new hn,d=new hn;function h(t,e,n,o,s,l){r.subVectors(t,n).addScalar(.5).multiply(o),void 0!==s?(i.x=l*r.x-s*r.y,i.y=s*r.x+l*r.y):i.copy(r),t.copy(e),t.x+=i.x,t.y+=i.y,t.applyMatrix4(a)}return function(r,i){e.setFromMatrixScale(this.matrixWorld),a.copy(r._camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(r._camera.matrixWorldInverse,this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix),r._camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&e.multiplyScalar(-n.z);var p,f,m=this.material.rotation;0!==m&&(f=Math.cos(m),p=Math.sin(m));var v=this.center;h(o.set(-.5,-.5,0),n,v,e,p,f),h(s.set(.5,-.5,0),n,v,e,p,f),h(l.set(.5,.5,0),n,v,e,p,f),u.set(0,0),c.set(1,0),d.set(1,1);var g=r.ray.intersectTriangle(o,s,l,!1,t);if(null!==g||(h(s.set(-.5,.5,0),n,v,e,p,f),c.set(0,1),null!==(g=r.ray.intersectTriangle(o,l,s,!1,t)))){var y=r.ray.origin.distanceTo(t);y<r.near||y>r.far||i.push({distance:y,point:t.clone(),uv:or.getUV(t,o,s,l,u,c,d,new hn),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return er.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),mo.prototype=Object.assign(Object.create(er.prototype),{constructor:mo,isLOD:!0,copy:function(t){er.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);return n.splice(r,0,{distance:e,object:t}),this.add(t),this},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:(Qa=new fn,function(t,e){Qa.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(Qa);this.getObjectForDistance(n).raycast(t,e)}),update:function(){var t=new fn,e=new fn;return function(n){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&i>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(t){var e=er.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),vo.prototype=Object.assign(Object.create(Nr.prototype),{constructor:vo,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new Ln,e=this.geometry.attributes.skinWeight,n=0,r=e.count;n<r;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);var i=1/t.manhattanLength();i!==1/0?t.multiplyScalar(i):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Nr.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(go.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new Dn;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(Ka=new Dn,$a=new Dn,function(){for(var t=this.bones,e=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=t.length;i<a;i++){var o=t[i]?t[i].matrixWorld:$a;Ka.multiplyMatrices(o,e[i]),Ka.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new go(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,n=this.bones.length;e<n;e++){var r=this.bones[e];if(r.name===t)return r}}}),yo.prototype=Object.assign(Object.create(er.prototype),{constructor:yo,isBone:!0}),_o.prototype=Object.create(gr.prototype),_o.prototype.constructor=_o,_o.prototype.isLineBasicMaterial=!0,_o.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},bo.prototype=Object.assign(Object.create(er.prototype),{constructor:bo,isLine:!0,computeLineDistances:(to=new fn,eo=new fn,function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[0],r=1,i=e.count;r<i;r++)to.fromBufferAttribute(e,r-1),eo.fromBufferAttribute(e,r),n[r]=n[r-1],n[r]+=to.distanceTo(eo);t.addAttribute("lineDistance",new Sr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var a=t.vertices;for((n=t.lineDistances)[0]=0,r=1,i=a.length;r<i;r++)n[r]=n[r-1],n[r]+=a[r-1].distanceTo(a[r])}return this}),raycast:function(){var t=new Dn,e=new ar,n=new ir;return function(r,i){var a=r.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),n.radius+=a,!1!==r.ray.intersectsSphere(n)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,c=new fn,d=new fn,h=new fn,p=new fn,f=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,v=o.attributes.position.array;if(null!==m)for(var g=m.array,y=0,_=g.length-1;y<_;y+=f){var b=g[y],x=g[y+1];c.fromArray(v,3*b),d.fromArray(v,3*x),e.distanceSqToSegment(c,d,p,h)>u||(p.applyMatrix4(this.matrixWorld),(A=r.ray.origin.distanceTo(p))<r.near||A>r.far||i.push({distance:A,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else for(y=0,_=v.length/3-1;y<_;y+=f)c.fromArray(v,3*y),d.fromArray(v,3*y+3),e.distanceSqToSegment(c,d,p,h)>u||(p.applyMatrix4(this.matrixWorld),(A=r.ray.origin.distanceTo(p))<r.near||A>r.far||i.push({distance:A,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else if(o.isGeometry){var w=o.vertices,M=w.length;for(y=0;y<M-1;y+=f){var A;e.distanceSqToSegment(w[y],w[y+1],p,h)>u||(p.applyMatrix4(this.matrixWorld),(A=r.ray.origin.distanceTo(p))<r.near||A>r.far||i.push({distance:A,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),xo.prototype=Object.assign(Object.create(bo.prototype),{constructor:xo,isLineSegments:!0,computeLineDistances:function(){var t=new fn,e=new fn;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[],a=0,o=r.count;a<o;a+=2)t.fromBufferAttribute(r,a),e.fromBufferAttribute(r,a+1),i[a]=0===a?0:i[a-1],i[a+1]=i[a]+t.distanceTo(e);n.addAttribute("lineDistance",new Sr(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;for(i=n.lineDistances,a=0,o=s.length;a<o;a+=2)t.copy(s[a]),e.copy(s[a+1]),i[a]=0===a?0:i[a-1],i[a+1]=i[a]+t.distanceTo(e)}return this}}()}),wo.prototype=Object.assign(Object.create(bo.prototype),{constructor:wo,isLineLoop:!0}),Mo.prototype=Object.create(gr.prototype),Mo.prototype.constructor=Mo,Mo.prototype.isPointsMaterial=!0,Mo.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},Ao.prototype=Object.assign(Object.create(er.prototype),{constructor:Ao,isPoints:!0,raycast:function(){var t=new Dn,e=new ar,n=new ir;return function(r,i){var a=this,o=this.geometry,s=this.matrixWorld,l=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),n.radius+=l,!1!==r.ray.intersectsSphere(n)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var u=l/((this.scale.x+this.scale.y+this.scale.z)/3),c=u*u,d=new fn,h=new fn;if(o.isBufferGeometry){var p=o.index,f=o.attributes.position.array;if(null!==p)for(var m=p.array,v=0,g=m.length;v<g;v++){var y=m[v];d.fromArray(f,3*y),x(d,y)}else{v=0;for(var _=f.length/3;v<_;v++)d.fromArray(f,3*v),x(d,v)}}else{var b=o.vertices;for(v=0,_=b.length;v<_;v++)x(b[v],v)}}function x(t,n){var o=e.distanceSqToPoint(t);if(o<c){e.closestPointToPoint(t,h),h.applyMatrix4(s);var l=r.ray.origin.distanceTo(h);if(l<r.near||l>r.far)return;i.push({distance:l,distanceToRay:Math.sqrt(o),point:h.clone(),index:n,face:null,object:a})}}}}(),updateMorphTargets:function(){var t,e,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,a=Object.keys(i);if(a.length>0){var o=i[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)n=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Eo.prototype=Object.assign(Object.create(Sn.prototype),{constructor:Eo,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),To.prototype=Object.create(Sn.prototype),To.prototype.constructor=To,To.prototype.isCompressedTexture=!0,So.prototype=Object.create(Sn.prototype),So.prototype.constructor=So,So.prototype.isCanvasTexture=!0,Lo.prototype=Object.create(Sn.prototype),Lo.prototype.constructor=Lo,Lo.prototype.isDepthTexture=!0,ko.prototype=Object.create(Ir.prototype),ko.prototype.constructor=ko,Co.prototype=Object.create(Br.prototype),Co.prototype.constructor=Co,Do.prototype=Object.create(Ir.prototype),Do.prototype.constructor=Do,Po.prototype=Object.create(Br.prototype),Po.prototype.constructor=Po,Ro.prototype=Object.create(Ir.prototype),Ro.prototype.constructor=Ro,Oo.prototype=Object.create(Br.prototype),Oo.prototype.constructor=Oo,Io.prototype=Object.create(Ro.prototype),Io.prototype.constructor=Io,No.prototype=Object.create(Br.prototype),No.prototype.constructor=No,zo.prototype=Object.create(Ro.prototype),zo.prototype.constructor=zo,Bo.prototype=Object.create(Br.prototype),Bo.prototype.constructor=Bo,Fo.prototype=Object.create(Ro.prototype),Fo.prototype.constructor=Fo,jo.prototype=Object.create(Br.prototype),jo.prototype.constructor=jo,Ho.prototype=Object.create(Ro.prototype),Ho.prototype.constructor=Ho,Yo.prototype=Object.create(Br.prototype),Yo.prototype.constructor=Yo,Uo.prototype=Object.create(Ir.prototype),Uo.prototype.constructor=Uo,Uo.prototype.toJSON=function(){var t=Ir.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},Go.prototype=Object.create(Br.prototype),Go.prototype.constructor=Go,Vo.prototype=Object.create(Ir.prototype),Vo.prototype.constructor=Vo,Wo.prototype=Object.create(Br.prototype),Wo.prototype.constructor=Wo,qo.prototype=Object.create(Ir.prototype),qo.prototype.constructor=qo;function Xo(t,e,n,r,i){var a,o;if(i===function(t,e,n,r){for(var i=0,a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}(t,e,n,r)>0)for(a=e;a<n;a+=r)o=hs(a,t[a],t[a+1],o);else for(a=n-r;a>=e;a-=r)o=hs(a,t[a],t[a+1],o);return o&&ls(o,o.next)&&(ps(o),o=o.next),o}function Jo(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!ls(r,r.next)&&0!==ss(r.prev,r,r.next))r=r.next;else{if(ps(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Zo(t,e,n,r,i,a,o){if(t){!o&&a&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=rs(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,a,o,s,l,u=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(t,r,i,a);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,a?Ko(t,r,i,a):Qo(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),ps(t),t=l.next,u=l.next;else if((t=l)===u){o?1===o?Zo(t=$o(t,e,n),e,n,r,i,a,2):2===o&&ts(t,e,n,r,i,a):Zo(Jo(t),e,n,r,i,a,1);break}}}function Qo(t){var e=t.prev,n=t,r=t.next;if(ss(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(as(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&ss(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ko(t,e,n,r){var i=t.prev,a=t,o=t.next;if(ss(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,l=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,u=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=rs(s,l,e,n,r),h=rs(u,c,e,n,r),p=t.prevZ,f=t.nextZ;p&&p.z>=d&&f&&f.z<=h;){if(p!==t.prev&&p!==t.next&&as(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&ss(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==t.prev&&f!==t.next&&as(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&ss(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=d;){if(p!==t.prev&&p!==t.next&&as(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&ss(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=h;){if(f!==t.prev&&f!==t.next&&as(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&ss(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function $o(t,e,n){var r=t;do{var i=r.prev,a=r.next.next;!ls(i,a)&&us(i,r,r.next,a)&&cs(i,a)&&cs(a,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(a.i/n),ps(r),ps(r.next),r=t=a),r=r.next}while(r!==t);return r}function ts(t,e,n,r,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&os(o,s)){var l=ds(o,s);return o=Jo(o,o.next),l=Jo(l,l.next),Zo(o,e,n,r,i,a),void Zo(l,e,n,r,i,a)}s=s.next}o=o.next}while(o!==t)}function es(t,e){return t.x-e.x}function ns(t,e){if(e=function(t,e){var n,r=e,i=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===o)return n.prev;var l,u=n,c=n.x,d=n.y,h=1/0;for(r=n.next;r!==u;)i>=r.x&&r.x>=c&&i!==r.x&&as(a<d?i:o,a,c,d,a<d?o:i,a,r.x,r.y)&&((l=Math.abs(a-r.y)/(i-r.x))<h||l===h&&r.x>n.x)&&cs(r,t)&&(n=r,h=l),r=r.next;return n}(t,e)){var n=ds(e,t);Jo(n,n.next)}}function rs(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function is(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function as(t,e,n,r,i,a,o,s){return(i-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(n-o)*(e-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function os(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&us(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&cs(t,e)&&cs(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function ss(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function ls(t,e){return t.x===e.x&&t.y===e.y}function us(t,e,n,r){return!!(ls(t,n)&&ls(e,r)||ls(t,r)&&ls(n,e))||ss(t,e,n)>0!=ss(t,e,r)>0&&ss(n,r,t)>0!=ss(n,r,e)>0}function cs(t,e){return ss(t.prev,t,t.next)<0?ss(t,e,t.next)>=0&&ss(t,t.prev,e)>=0:ss(t,e,t.prev)<0||ss(t,t.next,e)<0}function ds(t,e){var n=new fs(t.i,t.x,t.y),r=new fs(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function hs(t,e,n,r){var i=new fs(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ps(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function fs(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var ms={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},isClockWise:function(t){return ms.area(t)<0},triangulateShape:function(t,e){var n=[],r=[],i=[];vs(t),gs(n,t);var a=t.length;e.forEach(vs);for(var o=0;o<e.length;o++)r.push(a),a+=e[o].length,gs(n,e[o]);var s=function(t,e,n){n=n||2;var r,i,a,o,s,l,u,c=e&&e.length,d=c?e[0]*n:t.length,h=Xo(t,0,d,n,!0),p=[];if(!h||h.next===h.prev)return p;if(c&&(h=function(t,e,n,r){var i,a,o,s=[];for(i=0,a=e.length;i<a;i++)(o=Xo(t,e[i]*r,i<a-1?e[i+1]*r:t.length,r,!1))===o.next&&(o.steiner=!0),s.push(is(o));for(s.sort(es),i=0;i<s.length;i++)ns(s[i],n),n=Jo(n,n.next);return n}(t,e,h,n)),t.length>80*n){r=a=t[0],i=o=t[1];for(var f=n;f<d;f+=n)(s=t[f])<r&&(r=s),(l=t[f+1])<i&&(i=l),s>a&&(a=s),l>o&&(o=l);u=0!==(u=Math.max(a-r,o-i))?1/u:0}return Zo(h,p,n,r,i,u),p}(n,r);for(o=0;o<s.length;o+=3)i.push(s.slice(o,o+3));return i}};function vs(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function gs(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}function ys(t,e){Br.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new _s(t,e)),this.mergeVertices()}function _s(t,e){Ir.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var n=this,r=[],i=[],a=0,o=t.length;a<o;a++)s(t[a]);function s(t){var a=[],o=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,l=void 0!==e.depth?e.depth:100,u=void 0===e.bevelEnabled||e.bevelEnabled,c=void 0!==e.bevelThickness?e.bevelThickness:6,d=void 0!==e.bevelSize?e.bevelSize:c-2,h=void 0!==e.bevelOffset?e.bevelOffset:0,p=void 0!==e.bevelSegments?e.bevelSegments:3,f=e.extrudePath,m=void 0!==e.UVGenerator?e.UVGenerator:bs;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=e.amount);var v,g,y,_,b,x,w,M,A=!1;f&&(v=f.getSpacedPoints(s),A=!0,u=!1,g=f.computeFrenetFrames(s,!1),y=new fn,_=new fn,b=new fn),u||(p=0,c=0,d=0,h=0);var E=t.extractPoints(o),T=E.shape,S=E.holes;if(!ms.isClockWise(T))for(T=T.reverse(),w=0,M=S.length;w<M;w++)x=S[w],ms.isClockWise(x)&&(S[w]=x.reverse());var L=ms.triangulateShape(T,S),k=T;for(w=0,M=S.length;w<M;w++)x=S[w],T=T.concat(x);function C(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var D,P,R,O,I,N,z=T.length,B=L.length;function F(t,e,n){var r,i,a,o=t.x-e.x,s=t.y-e.y,l=n.x-t.x,u=n.y-t.y,c=o*o+s*s,d=o*u-s*l;if(Math.abs(d)>Number.EPSILON){var h=Math.sqrt(c),p=Math.sqrt(l*l+u*u),f=e.x-s/h,m=e.y+o/h,v=((n.x-u/p-f)*u-(n.y+l/p-m)*l)/(o*u-s*l),g=(r=f+o*v-t.x)*r+(i=m+s*v-t.y)*i;if(g<=2)return new hn(r,i);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?l>Number.EPSILON&&(y=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new hn(r/a,i/a)}for(var j=[],H=0,Y=k.length,U=Y-1,G=H+1;H<Y;H++,U++,G++)U===Y&&(U=0),G===Y&&(G=0),j[H]=F(k[H],k[U],k[G]);var V,W,q=[],X=j.concat();for(w=0,M=S.length;w<M;w++){for(x=S[w],V=[],H=0,U=(Y=x.length)-1,G=H+1;H<Y;H++,U++,G++)U===Y&&(U=0),G===Y&&(G=0),V[H]=F(x[H],x[U],x[G]);q.push(V),X=X.concat(V)}for(D=0;D<p;D++){for(R=D/p,O=c*Math.cos(R*Math.PI/2),P=d*Math.sin(R*Math.PI/2)+h,H=0,Y=k.length;H<Y;H++)Z((I=C(k[H],j[H],P)).x,I.y,-O);for(w=0,M=S.length;w<M;w++)for(x=S[w],V=q[w],H=0,Y=x.length;H<Y;H++)Z((I=C(x[H],V[H],P)).x,I.y,-O)}for(P=d+h,H=0;H<z;H++)I=u?C(T[H],X[H],P):T[H],A?(_.copy(g.normals[0]).multiplyScalar(I.x),y.copy(g.binormals[0]).multiplyScalar(I.y),b.copy(v[0]).add(_).add(y),Z(b.x,b.y,b.z)):Z(I.x,I.y,0);for(W=1;W<=s;W++)for(H=0;H<z;H++)I=u?C(T[H],X[H],P):T[H],A?(_.copy(g.normals[W]).multiplyScalar(I.x),y.copy(g.binormals[W]).multiplyScalar(I.y),b.copy(v[W]).add(_).add(y),Z(b.x,b.y,b.z)):Z(I.x,I.y,l/s*W);for(D=p-1;D>=0;D--){for(R=D/p,O=c*Math.cos(R*Math.PI/2),P=d*Math.sin(R*Math.PI/2)+h,H=0,Y=k.length;H<Y;H++)Z((I=C(k[H],j[H],P)).x,I.y,l+O);for(w=0,M=S.length;w<M;w++)for(x=S[w],V=q[w],H=0,Y=x.length;H<Y;H++)I=C(x[H],V[H],P),A?Z(I.x,I.y+v[s-1].y,v[s-1].x+O):Z(I.x,I.y,l+O)}function J(t,e){var n,r;for(H=t.length;--H>=0;){n=H,(r=H-1)<0&&(r=t.length-1);var i=0,a=s+2*p;for(i=0;i<a;i++){var o=z*i,l=z*(i+1);K(e+n+o,e+r+o,e+r+l,e+n+l)}}}function Z(t,e,n){a.push(t),a.push(e),a.push(n)}function Q(t,e,i){$(t),$(e),$(i);var a=r.length/3,o=m.generateTopUV(n,r,a-3,a-2,a-1);tt(o[0]),tt(o[1]),tt(o[2])}function K(t,e,i,a){$(t),$(e),$(a),$(e),$(i),$(a);var o=r.length/3,s=m.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);tt(s[0]),tt(s[1]),tt(s[3]),tt(s[1]),tt(s[2]),tt(s[3])}function $(t){r.push(a[3*t+0]),r.push(a[3*t+1]),r.push(a[3*t+2])}function tt(t){i.push(t.x),i.push(t.y)}!function(){var t=r.length/3;if(u){var e=0,i=z*e;for(H=0;H<B;H++)Q((N=L[H])[2]+i,N[1]+i,N[0]+i);for(i=z*(e=s+2*p),H=0;H<B;H++)Q((N=L[H])[0]+i,N[1]+i,N[2]+i)}else{for(H=0;H<B;H++)Q((N=L[H])[2],N[1],N[0]);for(H=0;H<B;H++)Q((N=L[H])[0]+z*s,N[1]+z*s,N[2]+z*s)}n.addGroup(t,r.length/3-t,0)}(),function(){var t=r.length/3,e=0;for(J(k,e),e+=k.length,w=0,M=S.length;w<M;w++)J(x=S[w],e),e+=x.length;n.addGroup(t,r.length/3-t,1)}()}this.addAttribute("position",new Sr(r,3)),this.addAttribute("uv",new Sr(i,2)),this.computeVertexNormals()}ys.prototype=Object.create(Br.prototype),ys.prototype.constructor=ys,ys.prototype.toJSON=function(){var t=Br.prototype.toJSON.call(this);return xs(this.parameters.shapes,this.parameters.options,t)},_s.prototype=Object.create(Ir.prototype),_s.prototype.constructor=_s,_s.prototype.toJSON=function(){var t=Ir.prototype.toJSON.call(this);return xs(this.parameters.shapes,this.parameters.options,t)};var bs={generateTopUV:function(t,e,n,r,i){var a=e[3*n],o=e[3*n+1],s=e[3*r],l=e[3*r+1],u=e[3*i],c=e[3*i+1];return[new hn(a,o),new hn(s,l),new hn(u,c)]},generateSideWallUV:function(t,e,n,r,i,a){var o=e[3*n],s=e[3*n+1],l=e[3*n+2],u=e[3*r],c=e[3*r+1],d=e[3*r+2],h=e[3*i],p=e[3*i+1],f=e[3*i+2],m=e[3*a],v=e[3*a+1],g=e[3*a+2];return Math.abs(s-c)<.01?[new hn(o,1-l),new hn(u,1-d),new hn(h,1-f),new hn(m,1-g)]:[new hn(s,1-l),new hn(c,1-d),new hn(p,1-f),new hn(v,1-g)]}};function xs(t,e,n){if(n.shapes=[],Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var a=t[r];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}function ws(t,e){Br.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new Ms(t,e)),this.mergeVertices()}function Ms(t,e){var n=(e=e||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Br;var r=n.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),_s.call(this,r,e),this.type="TextBufferGeometry"}function As(t,e,n,r,i,a,o){Br.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Es(t,e,n,r,i,a,o)),this.mergeVertices()}function Es(t,e,n,r,i,a,o){Ir.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,l,u=Math.min(a+o,Math.PI),c=0,d=[],h=new fn,p=new fn,f=[],m=[],v=[],g=[];for(l=0;l<=n;l++){var y=[],_=l/n,b=0;for(0==l&&0==a?b=.5/e:l==n&&u==Math.PI&&(b=-.5/e),s=0;s<=e;s++){var x=s/e;h.x=-t*Math.cos(r+x*i)*Math.sin(a+_*o),h.y=t*Math.cos(a+_*o),h.z=t*Math.sin(r+x*i)*Math.sin(a+_*o),m.push(h.x,h.y,h.z),p.copy(h).normalize(),v.push(p.x,p.y,p.z),g.push(x+b,1-_),y.push(c++)}d.push(y)}for(l=0;l<n;l++)for(s=0;s<e;s++){var w=d[l][s+1],M=d[l][s],A=d[l+1][s],E=d[l+1][s+1];(0!==l||a>0)&&f.push(w,M,E),(l!==n-1||u<Math.PI)&&f.push(M,A,E)}this.setIndex(f),this.addAttribute("position",new Sr(m,3)),this.addAttribute("normal",new Sr(v,3)),this.addAttribute("uv",new Sr(g,2))}function Ts(t,e,n,r,i,a){Br.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new Ss(t,e,n,r,i,a)),this.mergeVertices()}function Ss(t,e,n,r,i,a){Ir.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},t=t||.5,e=e||1,i=void 0!==i?i:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var o,s,l,u=[],c=[],d=[],h=[],p=t,f=(e-t)/(r=void 0!==r?Math.max(1,r):1),m=new fn,v=new hn;for(s=0;s<=r;s++){for(l=0;l<=n;l++)o=i+l/n*a,m.x=p*Math.cos(o),m.y=p*Math.sin(o),c.push(m.x,m.y,m.z),d.push(0,0,1),v.x=(m.x/e+1)/2,v.y=(m.y/e+1)/2,h.push(v.x,v.y);p+=f}for(s=0;s<r;s++){var g=s*(n+1);for(l=0;l<n;l++){var y=o=l+g,_=o+n+1,b=o+n+2,x=o+1;u.push(y,_,x),u.push(_,b,x)}}this.setIndex(u),this.addAttribute("position",new Sr(c,3)),this.addAttribute("normal",new Sr(d,3)),this.addAttribute("uv",new Sr(h,2))}function Ls(t,e,n,r){Br.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new ks(t,e,n,r)),this.mergeVertices()}function ks(t,e,n,r){Ir.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=dn.clamp(r,0,2*Math.PI);var i,a,o,s=[],l=[],u=[],c=1/e,d=new fn,h=new hn;for(a=0;a<=e;a++){var p=n+a*c*r,f=Math.sin(p),m=Math.cos(p);for(o=0;o<=t.length-1;o++)d.x=t[o].x*f,d.y=t[o].y,d.z=t[o].x*m,l.push(d.x,d.y,d.z),h.x=a/e,h.y=o/(t.length-1),u.push(h.x,h.y)}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){var v=i=o+a*t.length,g=i+t.length,y=i+t.length+1,_=i+1;s.push(v,g,_),s.push(g,y,_)}if(this.setIndex(s),this.addAttribute("position",new Sr(l,3)),this.addAttribute("uv",new Sr(u,2)),this.computeVertexNormals(),r===2*Math.PI){var b=this.attributes.normal.array,x=new fn,w=new fn,M=new fn;for(i=e*t.length*3,a=0,o=0;a<t.length;a++,o+=3)x.x=b[o+0],x.y=b[o+1],x.z=b[o+2],w.x=b[i+o+0],w.y=b[i+o+1],w.z=b[i+o+2],M.addVectors(x,w).normalize(),b[o+0]=b[i+o+0]=M.x,b[o+1]=b[i+o+1]=M.y,b[o+2]=b[i+o+2]=M.z}}function Cs(t,e){Br.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new Ds(t,e)),this.mergeVertices()}function Ds(t,e){Ir.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var n=[],r=[],i=[],a=[],o=0,s=0;if(!1===Array.isArray(t))u(t);else for(var l=0;l<t.length;l++)u(t[l]),this.addGroup(o,s,l),o+=s,s=0;function u(t){var o,l,u,c=r.length/3,d=t.extractPoints(e),h=d.shape,p=d.holes;for(!1===ms.isClockWise(h)&&(h=h.reverse()),o=0,l=p.length;o<l;o++)u=p[o],!0===ms.isClockWise(u)&&(p[o]=u.reverse());var f=ms.triangulateShape(h,p);for(o=0,l=p.length;o<l;o++)u=p[o],h=h.concat(u);for(o=0,l=h.length;o<l;o++){var m=h[o];r.push(m.x,m.y,0),i.push(0,0,1),a.push(m.x,m.y)}for(o=0,l=f.length;o<l;o++){var v=f[o],g=v[0]+c,y=v[1]+c,_=v[2]+c;n.push(g,y,_),s+=3}}this.setIndex(n),this.addAttribute("position",new Sr(r,3)),this.addAttribute("normal",new Sr(i,3)),this.addAttribute("uv",new Sr(a,2))}function Ps(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,r=t.length;n<r;n++){var i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}function Rs(t,e){Ir.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n,r,i,a,o=[],s=Math.cos(dn.DEG2RAD*e),l=[0,0],u={},c=["a","b","c"];t.isBufferGeometry?(a=new Br).fromBufferGeometry(t):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var d=a.vertices,h=a.faces,p=0,f=h.length;p<f;p++)for(var m=h[p],v=0;v<3;v++)n=m[c[v]],r=m[c[(v+1)%3]],l[0]=Math.min(n,r),l[1]=Math.max(n,r),void 0===u[i=l[0]+","+l[1]]?u[i]={index1:l[0],index2:l[1],face1:p,face2:void 0}:u[i].face2=p;for(i in u){var g=u[i];if(void 0===g.face2||h[g.face1].normal.dot(h[g.face2].normal)<=s){var y=d[g.index1];o.push(y.x,y.y,y.z),y=d[g.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new Sr(o,3))}function Os(t,e,n,r,i,a,o,s){Br.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Is(t,e,n,r,i,a,o,s)),this.mergeVertices()}function Is(t,e,n,r,i,a,o,s){Ir.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};var l=this;t=void 0!==t?t:1,e=void 0!==e?e:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var u=[],c=[],d=[],h=[],p=0,f=[],m=n/2,v=0;function g(n){var i,a,f,g=new hn,y=new fn,_=0,b=!0===n?t:e,x=!0===n?1:-1;for(a=p,i=1;i<=r;i++)c.push(0,m*x,0),d.push(0,x,0),h.push(.5,.5),p++;for(f=p,i=0;i<=r;i++){var w=i/r*s+o,M=Math.cos(w),A=Math.sin(w);y.x=b*A,y.y=m*x,y.z=b*M,c.push(y.x,y.y,y.z),d.push(0,x,0),g.x=.5*M+.5,g.y=.5*A*x+.5,h.push(g.x,g.y),p++}for(i=0;i<r;i++){var E=a+i,T=f+i;!0===n?u.push(T,T+1,E):u.push(T+1,T,E),_+=3}l.addGroup(v,_,!0===n?1:2),v+=_}!function(){var a,g,y=new fn,_=new fn,b=0,x=(e-t)/n;for(g=0;g<=i;g++){var w=[],M=g/i,A=M*(e-t)+t;for(a=0;a<=r;a++){var E=a/r,T=E*s+o,S=Math.sin(T),L=Math.cos(T);_.x=A*S,_.y=-M*n+m,_.z=A*L,c.push(_.x,_.y,_.z),y.set(S,x,L).normalize(),d.push(y.x,y.y,y.z),h.push(E,1-M),w.push(p++)}f.push(w)}for(a=0;a<r;a++)for(g=0;g<i;g++){var k=f[g][a],C=f[g+1][a],D=f[g+1][a+1],P=f[g][a+1];u.push(k,C,P),u.push(C,D,P),b+=6}l.addGroup(v,b,0),v+=b}(),!1===a&&(t>0&&g(!0),e>0&&g(!1)),this.setIndex(u),this.addAttribute("position",new Sr(c,3)),this.addAttribute("normal",new Sr(d,3)),this.addAttribute("uv",new Sr(h,2))}function Ns(t,e,n,r,i,a,o){Os.call(this,0,t,e,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function zs(t,e,n,r,i,a,o){Is.call(this,0,t,e,n,r,i,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function Bs(t,e,n,r){Br.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Fs(t,e,n,r)),this.mergeVertices()}function Fs(t,e,n,r){Ir.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,a,o=[],s=[],l=[],u=[],c=new fn,d=new hn;for(s.push(0,0,0),l.push(0,0,1),u.push(.5,.5),a=0,i=3;a<=e;a++,i+=3){var h=n+a/e*r;c.x=t*Math.cos(h),c.y=t*Math.sin(h),s.push(c.x,c.y,c.z),l.push(0,0,1),d.x=(s[i]/t+1)/2,d.y=(s[i+1]/t+1)/2,u.push(d.x,d.y)}for(i=1;i<=e;i++)o.push(i,i+1,0);this.setIndex(o),this.addAttribute("position",new Sr(s,3)),this.addAttribute("normal",new Sr(l,3)),this.addAttribute("uv",new Sr(u,2))}ws.prototype=Object.create(Br.prototype),ws.prototype.constructor=ws,Ms.prototype=Object.create(_s.prototype),Ms.prototype.constructor=Ms,As.prototype=Object.create(Br.prototype),As.prototype.constructor=As,Es.prototype=Object.create(Ir.prototype),Es.prototype.constructor=Es,Ts.prototype=Object.create(Br.prototype),Ts.prototype.constructor=Ts,Ss.prototype=Object.create(Ir.prototype),Ss.prototype.constructor=Ss,Ls.prototype=Object.create(Br.prototype),Ls.prototype.constructor=Ls,ks.prototype=Object.create(Ir.prototype),ks.prototype.constructor=ks,Cs.prototype=Object.create(Br.prototype),Cs.prototype.constructor=Cs,Cs.prototype.toJSON=function(){var t=Br.prototype.toJSON.call(this);return Ps(this.parameters.shapes,t)},Ds.prototype=Object.create(Ir.prototype),Ds.prototype.constructor=Ds,Ds.prototype.toJSON=function(){var t=Ir.prototype.toJSON.call(this);return Ps(this.parameters.shapes,t)},Rs.prototype=Object.create(Ir.prototype),Rs.prototype.constructor=Rs,Os.prototype=Object.create(Br.prototype),Os.prototype.constructor=Os,Is.prototype=Object.create(Ir.prototype),Is.prototype.constructor=Is,Ns.prototype=Object.create(Os.prototype),Ns.prototype.constructor=Ns,zs.prototype=Object.create(Is.prototype),zs.prototype.constructor=zs,Bs.prototype=Object.create(Br.prototype),Bs.prototype.constructor=Bs,Fs.prototype=Object.create(Ir.prototype),Fs.prototype.constructor=Fs;var js=Object.freeze({WireframeGeometry:ko,ParametricGeometry:Co,ParametricBufferGeometry:Do,TetrahedronGeometry:Oo,TetrahedronBufferGeometry:Io,OctahedronGeometry:No,OctahedronBufferGeometry:zo,IcosahedronGeometry:Bo,IcosahedronBufferGeometry:Fo,DodecahedronGeometry:jo,DodecahedronBufferGeometry:Ho,PolyhedronGeometry:Po,PolyhedronBufferGeometry:Ro,TubeGeometry:Yo,TubeBufferGeometry:Uo,TorusKnotGeometry:Go,TorusKnotBufferGeometry:Vo,TorusGeometry:Wo,TorusBufferGeometry:qo,TextGeometry:ws,TextBufferGeometry:Ms,SphereGeometry:As,SphereBufferGeometry:Es,RingGeometry:Ts,RingBufferGeometry:Ss,PlaneGeometry:ui,PlaneBufferGeometry:ci,LatheGeometry:Ls,LatheBufferGeometry:ks,ShapeGeometry:Cs,ShapeBufferGeometry:Ds,ExtrudeGeometry:ys,ExtrudeBufferGeometry:_s,EdgesGeometry:Rs,ConeGeometry:Ns,ConeBufferGeometry:zs,CylinderGeometry:Os,CylinderBufferGeometry:Is,CircleGeometry:Bs,CircleBufferGeometry:Fs,BoxGeometry:Fr,BoxBufferGeometry:jr});function Hs(t){gr.call(this),this.type="ShadowMaterial",this.color=new dr(0),this.transparent=!0,this.setValues(t)}function Ys(t){Wr.call(this,t),this.type="RawShaderMaterial"}function Us(t){gr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new dr(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=We,this.normalScale=new hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Gs(t){Us.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function Vs(t){gr.call(this),this.type="MeshPhongMaterial",this.color=new dr(16777215),this.specular=new dr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=We,this.normalScale=new hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=it,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ws(t){Vs.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function qs(t){gr.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=We,this.normalScale=new hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Xs(t){gr.call(this),this.type="MeshLambertMaterial",this.color=new dr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=it,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Js(t){gr.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new dr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=We,this.normalScale=new hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(t)}function Zs(t){_o.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}Hs.prototype=Object.create(gr.prototype),Hs.prototype.constructor=Hs,Hs.prototype.isShadowMaterial=!0,Hs.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.color.copy(t.color),this},Ys.prototype=Object.create(Wr.prototype),Ys.prototype.constructor=Ys,Ys.prototype.isRawShaderMaterial=!0,Us.prototype=Object.create(gr.prototype),Us.prototype.constructor=Us,Us.prototype.isMeshStandardMaterial=!0,Us.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Gs.prototype=Object.create(Us.prototype),Gs.prototype.constructor=Gs,Gs.prototype.isMeshPhysicalMaterial=!0,Gs.prototype.copy=function(t){return Us.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},Vs.prototype=Object.create(gr.prototype),Vs.prototype.constructor=Vs,Vs.prototype.isMeshPhongMaterial=!0,Vs.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Ws.prototype=Object.create(Vs.prototype),Ws.prototype.constructor=Ws,Ws.prototype.isMeshToonMaterial=!0,Ws.prototype.copy=function(t){return Vs.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},qs.prototype=Object.create(gr.prototype),qs.prototype.constructor=qs,qs.prototype.isMeshNormalMaterial=!0,qs.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Xs.prototype=Object.create(gr.prototype),Xs.prototype.constructor=Xs,Xs.prototype.isMeshLambertMaterial=!0,Xs.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Js.prototype=Object.create(gr.prototype),Js.prototype.constructor=Js,Js.prototype.isMeshMatcapMaterial=!0,Js.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Zs.prototype=Object.create(_o.prototype),Zs.prototype.constructor=Zs,Zs.prototype.isLineDashedMaterial=!0,Zs.prototype.copy=function(t){return _o.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Qs=Object.freeze({ShadowMaterial:Hs,SpriteMaterial:po,RawShaderMaterial:Ys,ShaderMaterial:Wr,PointsMaterial:Mo,MeshPhysicalMaterial:Gs,MeshStandardMaterial:Us,MeshPhongMaterial:Vs,MeshToonMaterial:Ws,MeshNormalMaterial:qs,MeshLambertMaterial:Xs,MeshDepthMaterial:Ya,MeshDistanceMaterial:Ua,MeshBasicMaterial:yr,MeshMatcapMaterial:Js,LineDashedMaterial:Zs,LineBasicMaterial:_o,Material:gr}),Ks={arraySlice:function(t,e,n){return Ks.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),r=0;r!==e;++r)n[r]=r;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*e,l=0;l!==e;++l)i[o++]=t[s+l];return i},flattenJSON:function(t,e,n,r){for(var i=1,a=t[0];void 0!==a&&void 0===a[r];)a=t[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(e.push(a.time),n.push.apply(n,o)),a=t[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(e.push(a.time),o.toArray(n,n.length)),a=t[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(e.push(a.time),n.push(o)),a=t[i++]}while(void 0!==a)}}};function $s(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function tl(t,e,n,r){$s.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function el(t,e,n,r){$s.call(this,t,e,n,r)}function nl(t,e,n,r){$s.call(this,t,e,n,r)}function rl(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Ks.convertArray(e,this.TimeBufferType),this.values=Ks.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function il(t,e,n){rl.call(this,t,e,n)}function al(t,e,n,r){rl.call(this,t,e,n,r)}function ol(t,e,n,r){rl.call(this,t,e,n,r)}function sl(t,e,n,r){$s.call(this,t,e,n,r)}function ll(t,e,n,r){rl.call(this,t,e,n,r)}function ul(t,e,n,r){rl.call(this,t,e,n,r)}function cl(t,e,n,r){rl.call(this,t,e,n,r)}function dl(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=dn.generateUUID(),this.duration<0&&this.resetDuration()}function hl(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ol;case"vector":case"vector2":case"vector3":case"vector4":return cl;case"color":return al;case"quaternion":return ll;case"bool":case"boolean":return il;case"string":return ul}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var n=[],r=[];Ks.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign($s.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var a;n:{r:if(!(t<r)){for(var o=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===o)break;if(i=r,t<(r=e[++n]))break e}a=e.length;break n}if(t>=i)break t;var s=e[1];for(t<s&&(n=2,i=s),o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===o)break;if(r=i,t>=(i=e[--n-1]))break e}a=n,n=0}for(;n<a;){var l=n+a>>>1;t<e[l]?a=l:n=l+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,a=0;a!==r;++a)e[a]=n[i+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign($s.prototype,{beforeStart_:$s.prototype.copySampleValue_,afterEnd_:$s.prototype.copySampleValue_}),tl.prototype=Object.assign(Object.create($s.prototype),{constructor:tl,DefaultSettings_:{endingStart:Ce,endingEnd:Ce},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,a=t+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case De:i=t,o=2*e-n;break;case Pe:o=e+r[i=r.length-2]-r[i+1];break;default:i=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case De:a=t,s=2*n-e;break;case Pe:a=1,s=n+r[1]-r[0];break;default:a=t-1,s=e}var l=.5*(n-e),u=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-e)/(r-e),f=p*p,m=f*p,v=-d*m+2*d*f-d*p,g=(1+d)*m+(-1.5-2*d)*f+(-.5+d)*p+1,y=(-1-h)*m+(1.5+h)*f+.5*p,_=h*m-h*f,b=0;b!==o;++b)i[b]=v*a[u+b]+g*a[l+b]+y*a[s+b]+_*a[c+b];return i}}),el.prototype=Object.assign(Object.create($s.prototype),{constructor:el,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=(n-e)/(r-e),c=1-u,d=0;d!==o;++d)i[d]=a[l+d]*c+a[s+d]*u;return i}}),nl.prototype=Object.assign(Object.create($s.prototype),{constructor:nl,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(rl,{toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:Ks.convertArray(t.times,Array),values:Ks.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e}}),Object.assign(rl.prototype,{constructor:rl,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Le,InterpolantFactoryMethodDiscrete:function(t){return new nl(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new el(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new tl(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case Se:e=this.InterpolantFactoryMethodDiscrete;break;case Le:e=this.InterpolantFactoryMethodLinear;break;case ke:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Se;case this.InterpolantFactoryMethodLinear:return Le;case this.InterpolantFactoryMethodSmooth:return ke}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<t;)++i;for(;-1!==a&&n[a]>e;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Ks.arraySlice(n,i,a),this.values=Ks.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),t=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),t=!1;break}a=s}if(void 0!==r&&Ks.isTypedArray(r)){o=0;for(var l=r.length;o!==l;++o){var u=r[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=this.getInterpolation()===ke,i=1,a=t.length-1,o=1;o<a;++o){var s=!1,l=t[o];if(l!==t[o+1]&&(1!==o||l!==l[0]))if(r)s=!0;else for(var u=o*n,c=u-n,d=u+n,h=0;h!==n;++h){var p=e[u+h];if(p!==e[c+h]||p!==e[d+h]){s=!0;break}}if(s){if(o!==i){t[i]=t[o];var f=o*n,m=i*n;for(h=0;h!==n;++h)e[m+h]=e[f+h]}++i}}if(a>0){for(t[i]=t[a],f=a*n,m=i*n,h=0;h!==n;++h)e[m+h]=e[f+h];++i}return i!==t.length&&(this.times=Ks.arraySlice(t,0,i),this.values=Ks.arraySlice(e,0,i*n)),this},clone:function(){var t=Ks.arraySlice(this.times,0),e=Ks.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),il.prototype=Object.assign(Object.create(rl.prototype),{constructor:il,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Se,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),al.prototype=Object.assign(Object.create(rl.prototype),{constructor:al,ValueTypeName:"color"}),ol.prototype=Object.assign(Object.create(rl.prototype),{constructor:ol,ValueTypeName:"number"}),sl.prototype=Object.assign(Object.create($s.prototype),{constructor:sl,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=(n-e)/(r-e),u=s+o;s!==u;s+=4)pn.slerpFlat(i,0,a,s-o,a,s,l);return i}}),ll.prototype=Object.assign(Object.create(rl.prototype),{constructor:ll,ValueTypeName:"quaternion",DefaultInterpolation:Le,InterpolantFactoryMethodLinear:function(t){return new sl(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),ul.prototype=Object.assign(Object.create(rl.prototype),{constructor:ul,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Se,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),cl.prototype=Object.assign(Object.create(rl.prototype),{constructor:cl,ValueTypeName:"vector"}),Object.assign(dl,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,a=n.length;i!==a;++i)e.push(hl(n[i]).scale(r));return new dl(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},i=0,a=n.length;i!==a;++i)e.push(rl.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,a=[],o=0;o<i;o++){var s=[],l=[];s.push((o+i-1)%i,o,(o+1)%i),l.push(0,1,0);var u=Ks.getKeyframeOrder(s);s=Ks.sortedArray(s,1,u),l=Ks.sortedArray(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),a.push(new ol(".morphTargetInfluences["+e[o].name+"]",s,l).scale(1/n))}return new dl(t,-1,a)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],l=s.name.match(i);if(l&&l.length>1){var u=r[d=l[1]];u||(r[d]=u=[]),u.push(s)}}var c=[];for(var d in r)c.push(dl.CreateFromMorphTargetSequence(d,r[d],e,n));return c},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var a=[],o=[];Ks.flattenJSON(n,a,o,r),0!==a.length&&i.push(new t(e,a,o))}},r=[],i=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],l=0;l<s.length;l++){var u=s[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var c={},d=0;d<u.length;d++)if(u[d].morphTargets)for(var h=0;h<u[d].morphTargets.length;h++)c[u[d].morphTargets[h]]=-1;for(var p in c){var f=[],m=[];for(h=0;h!==u[d].morphTargets.length;++h){var v=u[d];f.push(v.time),m.push(v.morphTarget===p?1:0)}r.push(new ol(".morphTargetInfluence["+p+"]",f,m))}a=c.length*(o||1)}else{var g=".bones["+e[l].name+"]";n(cl,g+".position",u,"pos",r),n(ll,g+".quaternion",u,"rot",r),n(cl,g+".scale",u,"scl",r)}}return 0===r.length?null:new dl(i,a,r)}}),Object.assign(dl.prototype,{resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new dl(this.name,this.duration,t)}});var pl={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function fl(t,e,n){var r=this,i=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){o++,!1===i&&void 0!==r.onStart&&r.onStart(t,a,o),i=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,o),a===o&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var ml=new fl,vl={};function gl(t){this.manager=void 0!==t?t:ml}function yl(t){this.manager=void 0!==t?t:ml}function _l(t){this.manager=void 0!==t?t:ml,this._parser=null}function bl(t){this.manager=void 0!==t?t:ml,this._parser=null}function xl(t){this.manager=void 0!==t?t:ml}function wl(t){this.manager=void 0!==t?t:ml}function Ml(t){this.manager=void 0!==t?t:ml}function Al(){this.type="Curve",this.arcLengthDivisions=200}function El(t,e,n,r,i,a,o,s){Al.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function Tl(t,e,n,r,i,a){El.call(this,t,e,n,n,r,i,a),this.type="ArcCurve"}function Sl(){var t=0,e=0,n=0,r=0;function i(i,a,o,s){t=i,e=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(t,e,n,r,a){i(e,n,a*(n-t),a*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,a,o,s){var l=(e-t)/a-(n-t)/(a+o)+(n-e)/o,u=(n-e)/o-(r-e)/(o+s)+(r-n)/s;i(e,n,l*=o,u*=o)},calc:function(i){var a=i*i;return t+e*i+n*a+r*(a*i)}}}Object.assign(gl.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,a=pl.get(t);if(void 0!==a)return i.manager.itemStart(t),setTimeout((function(){e&&e(a),i.manager.itemEnd(t)}),0),a;if(void 0===vl[t]){var o=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],l=!!o[2],u=o[3];u=decodeURIComponent(u),l&&(u=atob(u));try{var c,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var h=new Uint8Array(u.length),p=0;p<u.length;p++)h[p]=u.charCodeAt(p);c="blob"===d?new Blob([h.buffer],{type:s}):h.buffer;break;case"document":var f=new DOMParser;c=f.parseFromString(u,s);break;case"json":c=JSON.parse(u);break;default:c=u}setTimeout((function(){e&&e(c),i.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}),0)}}else{vl[t]=[],vl[t].push({onLoad:e,onProgress:n,onError:r});var m=new XMLHttpRequest;for(var v in m.open("GET",t,!0),m.addEventListener("load",(function(e){var n=this.response;pl.add(t,n);var r=vl[t];if(delete vl[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var a=0,o=r.length;a<o;a++)(s=r[a]).onLoad&&s.onLoad(n);i.manager.itemEnd(t)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}}),!1),m.addEventListener("progress",(function(e){for(var n=vl[t],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(e)}}),!1),m.addEventListener("error",(function(e){var n=vl[t];delete vl[t];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!1),m.addEventListener("abort",(function(e){var n=vl[t];delete vl[t];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return i.manager.itemStart(t),m}vl[t].push({onLoad:e,onProgress:n,onError:r})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(yl.prototype,{load:function(t,e,n,r){var i=this,a=new gl(i.manager);a.setPath(i.path),a.load(t,(function(t){e(i.parse(JSON.parse(t)))}),n,r)},parse:function(t){for(var e=[],n=0;n<t.length;n++){var r=dl.parse(t[n]);e.push(r)}return e},setPath:function(t){return this.path=t,this}}),Object.assign(_l.prototype,{load:function(t,e,n,r){var i=this,a=[],o=new To;o.image=a;var s=new gl(this.manager);function l(l){s.load(t[l],(function(t){var n=i._parser(t,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(o.minFilter=kt),o.format=n.format,o.needsUpdate=!0,e&&e(o))}),n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var u=0,c=0,d=t.length;c<d;++c)l(c);else s.load(t,(function(t){var n=i._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=kt),o.format=n.format,o.needsUpdate=!0,e&&e(o)}),n,r);return o},setPath:function(t){return this.path=t,this}}),Object.assign(bl.prototype,{load:function(t,e,n,r){var i=this,a=new ei,o=new gl(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(t,(function(t){var n=i._parser(t);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:wt,a.wrapT=void 0!==n.wrapT?n.wrapT:wt,a.magFilter=void 0!==n.magFilter?n.magFilter:kt,a.minFilter=void 0!==n.minFilter?n.minFilter:Pt,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps),1===n.mipmapCount&&(a.minFilter=kt),a.needsUpdate=!0,e&&e(a,n))}),n,r),a},setPath:function(t){return this.path=t,this}}),Object.assign(xl.prototype,{crossOrigin:"anonymous",load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,a=pl.get(t);if(void 0!==a)return i.manager.itemStart(t),setTimeout((function(){e&&e(a),i.manager.itemEnd(t)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),pl.add(t,this),e&&e(this),i.manager.itemEnd(t)}function l(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(wl.prototype,{crossOrigin:"anonymous",load:function(t,e,n,r){var i=new wi,a=new xl(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(t[n],(function(t){i.images[n]=t,6===++o&&(i.needsUpdate=!0,e&&e(i))}),void 0,r)}for(var l=0;l<t.length;++l)s(l);return i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Ml.prototype,{crossOrigin:"anonymous",load:function(t,e,n,r){var i=new Sn,a=new xl(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(n){i.image=n;var r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);i.format=r?qt:Xt,i.needsUpdate=!0,void 0!==e&&e(i)}),n,r),i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Al.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),a=0;for(r.push(0),n=1;n<=t;n++)a+=(e=this.getPoint(n/t)).distanceTo(i),r.push(a),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,a=r.length;n=e||t*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(a-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(a-1)},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,r,i,a=new fn,o=[],s=[],l=[],u=new fn,c=new Dn;for(n=0;n<=t;n++)r=n/t,o[n]=this.getTangentAt(r),o[n].normalize();s[0]=new fn,l[0]=new fn;var d=Number.MAX_VALUE,h=Math.abs(o[0].x),p=Math.abs(o[0].y),f=Math.abs(o[0].z);for(h<=d&&(d=h,a.set(1,0,0)),p<=d&&(d=p,a.set(0,1,0)),f<=d&&a.set(0,0,1),u.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],u),l[0].crossVectors(o[0],s[0]),n=1;n<=t;n++)s[n]=s[n-1].clone(),l[n]=l[n-1].clone(),u.crossVectors(o[n-1],o[n]),u.length()>Number.EPSILON&&(u.normalize(),i=Math.acos(dn.clamp(o[n-1].dot(o[n]),-1,1)),s[n].applyMatrix4(c.makeRotationAxis(u,i))),l[n].crossVectors(o[n],s[n]);if(!0===e)for(i=Math.acos(dn.clamp(s[0].dot(s[t]),-1,1)),i/=t,o[0].dot(u.crossVectors(s[0],s[t]))>0&&(i=-i),n=1;n<=t;n++)s[n].applyMatrix4(c.makeRotationAxis(o[n],i*n)),l[n].crossVectors(o[n],s[n]);return{tangents:o,normals:s,binormals:l}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),El.prototype=Object.create(Al.prototype),El.prototype.constructor=El,El.prototype.isEllipseCurve=!0,El.prototype.getPoint=function(t,e){for(var n=e||new hn,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+t*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),d=s-this.aX,h=l-this.aY;s=d*u-h*c+this.aX,l=d*c+h*u+this.aY}return n.set(s,l)},El.prototype.copy=function(t){return Al.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},El.prototype.toJSON=function(){var t=Al.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},El.prototype.fromJSON=function(t){return Al.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Tl.prototype=Object.create(El.prototype),Tl.prototype.constructor=Tl,Tl.prototype.isArcCurve=!0;var Ll=new fn,kl=new Sl,Cl=new Sl,Dl=new Sl;function Pl(t,e,n,r){Al.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=n||"centripetal",this.tension=r||.5}function Rl(t,e,n,r,i){var a=.5*(r-e),o=.5*(i-n),s=t*t;return(2*n-2*r+a+o)*(t*s)+(-3*n+3*r-2*a-o)*s+a*t+n}function Ol(t,e,n,r){return function(t,e){var n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,r)}function Il(t,e,n,r,i){return function(t,e){var n=1-t;return n*n*n*e}(t,e)+function(t,e){var n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,i)}function Nl(t,e,n,r){Al.call(this),this.type="CubicBezierCurve",this.v0=t||new hn,this.v1=e||new hn,this.v2=n||new hn,this.v3=r||new hn}function zl(t,e,n,r){Al.call(this),this.type="CubicBezierCurve3",this.v0=t||new fn,this.v1=e||new fn,this.v2=n||new fn,this.v3=r||new fn}function Bl(t,e){Al.call(this),this.type="LineCurve",this.v1=t||new hn,this.v2=e||new hn}function Fl(t,e){Al.call(this),this.type="LineCurve3",this.v1=t||new fn,this.v2=e||new fn}function jl(t,e,n){Al.call(this),this.type="QuadraticBezierCurve",this.v0=t||new hn,this.v1=e||new hn,this.v2=n||new hn}function Hl(t,e,n){Al.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new fn,this.v1=e||new fn,this.v2=n||new fn}function Yl(t){Al.call(this),this.type="SplineCurve",this.points=t||[]}Pl.prototype=Object.create(Al.prototype),Pl.prototype.constructor=Pl,Pl.prototype.isCatmullRomCurve3=!0,Pl.prototype.getPoint=function(t,e){var n,r,i,a,o=e||new fn,s=this.points,l=s.length,u=(l-(this.closed?0:1))*t,c=Math.floor(u),d=u-c;if(this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/l)+1)*l:0===d&&c===l-1&&(c=l-2,d=1),this.closed||c>0?n=s[(c-1)%l]:(Ll.subVectors(s[0],s[1]).add(s[0]),n=Ll),r=s[c%l],i=s[(c+1)%l],this.closed||c+2<l?a=s[(c+2)%l]:(Ll.subVectors(s[l-1],s[l-2]).add(s[l-1]),a=Ll),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,p=Math.pow(n.distanceToSquared(r),h),f=Math.pow(r.distanceToSquared(i),h),m=Math.pow(i.distanceToSquared(a),h);f<1e-4&&(f=1),p<1e-4&&(p=f),m<1e-4&&(m=f),kl.initNonuniformCatmullRom(n.x,r.x,i.x,a.x,p,f,m),Cl.initNonuniformCatmullRom(n.y,r.y,i.y,a.y,p,f,m),Dl.initNonuniformCatmullRom(n.z,r.z,i.z,a.z,p,f,m)}else"catmullrom"===this.curveType&&(kl.initCatmullRom(n.x,r.x,i.x,a.x,this.tension),Cl.initCatmullRom(n.y,r.y,i.y,a.y,this.tension),Dl.initCatmullRom(n.z,r.z,i.z,a.z,this.tension));return o.set(kl.calc(d),Cl.calc(d),Dl.calc(d)),o},Pl.prototype.copy=function(t){Al.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Pl.prototype.toJSON=function(){var t=Al.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},Pl.prototype.fromJSON=function(t){Al.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push((new fn).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Nl.prototype=Object.create(Al.prototype),Nl.prototype.constructor=Nl,Nl.prototype.isCubicBezierCurve=!0,Nl.prototype.getPoint=function(t,e){var n=e||new hn,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(Il(t,r.x,i.x,a.x,o.x),Il(t,r.y,i.y,a.y,o.y)),n},Nl.prototype.copy=function(t){return Al.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Nl.prototype.toJSON=function(){var t=Al.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Nl.prototype.fromJSON=function(t){return Al.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},zl.prototype=Object.create(Al.prototype),zl.prototype.constructor=zl,zl.prototype.isCubicBezierCurve3=!0,zl.prototype.getPoint=function(t,e){var n=e||new fn,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(Il(t,r.x,i.x,a.x,o.x),Il(t,r.y,i.y,a.y,o.y),Il(t,r.z,i.z,a.z,o.z)),n},zl.prototype.copy=function(t){return Al.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},zl.prototype.toJSON=function(){var t=Al.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},zl.prototype.fromJSON=function(t){return Al.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Bl.prototype=Object.create(Al.prototype),Bl.prototype.constructor=Bl,Bl.prototype.isLineCurve=!0,Bl.prototype.getPoint=function(t,e){var n=e||new hn;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},Bl.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Bl.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Bl.prototype.copy=function(t){return Al.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Bl.prototype.toJSON=function(){var t=Al.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Bl.prototype.fromJSON=function(t){return Al.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Fl.prototype=Object.create(Al.prototype),Fl.prototype.constructor=Fl,Fl.prototype.isLineCurve3=!0,Fl.prototype.getPoint=function(t,e){var n=e||new fn;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},Fl.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Fl.prototype.copy=function(t){return Al.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Fl.prototype.toJSON=function(){var t=Al.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Fl.prototype.fromJSON=function(t){return Al.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},jl.prototype=Object.create(Al.prototype),jl.prototype.constructor=jl,jl.prototype.isQuadraticBezierCurve=!0,jl.prototype.getPoint=function(t,e){var n=e||new hn,r=this.v0,i=this.v1,a=this.v2;return n.set(Ol(t,r.x,i.x,a.x),Ol(t,r.y,i.y,a.y)),n},jl.prototype.copy=function(t){return Al.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},jl.prototype.toJSON=function(){var t=Al.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},jl.prototype.fromJSON=function(t){return Al.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Hl.prototype=Object.create(Al.prototype),Hl.prototype.constructor=Hl,Hl.prototype.isQuadraticBezierCurve3=!0,Hl.prototype.getPoint=function(t,e){var n=e||new fn,r=this.v0,i=this.v1,a=this.v2;return n.set(Ol(t,r.x,i.x,a.x),Ol(t,r.y,i.y,a.y),Ol(t,r.z,i.z,a.z)),n},Hl.prototype.copy=function(t){return Al.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Hl.prototype.toJSON=function(){var t=Al.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Hl.prototype.fromJSON=function(t){return Al.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Yl.prototype=Object.create(Al.prototype),Yl.prototype.constructor=Yl,Yl.prototype.isSplineCurve=!0,Yl.prototype.getPoint=function(t,e){var n=e||new hn,r=this.points,i=(r.length-1)*t,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],l=r[a],u=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(Rl(o,s.x,l.x,u.x,c.x),Rl(o,s.y,l.y,u.y,c.y)),n},Yl.prototype.copy=function(t){Al.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push(r.clone())}return this},Yl.prototype.toJSON=function(){var t=Al.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var r=this.points[e];t.points.push(r.toArray())}return t},Yl.prototype.fromJSON=function(t){Al.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push((new hn).fromArray(r))}return this};var Ul=Object.freeze({ArcCurve:Tl,CatmullRomCurve3:Pl,CubicBezierCurve:Nl,CubicBezierCurve3:zl,EllipseCurve:El,LineCurve:Bl,LineCurve3:Fl,QuadraticBezierCurve:jl,QuadraticBezierCurve3:Hl,SplineCurve:Yl});function Gl(){Al.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Vl(t){Gl.call(this),this.type="Path",this.currentPoint=new hn,t&&this.setFromPoints(t)}function Wl(t){Vl.call(this,t),this.uuid=dn.generateUUID(),this.type="Shape",this.holes=[]}function ql(t,e){er.call(this),this.type="Light",this.color=new dr(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Xl(t,e,n){ql.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(er.DefaultUp),this.updateMatrix(),this.groundColor=new dr(e)}function Jl(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new hn(512,512),this.map=null,this.matrix=new Dn}function Zl(){Jl.call(this,new Xr(50,1,.5,500))}function Ql(t,e,n,r,i,a){ql.call(this,t,e),this.type="SpotLight",this.position.copy(er.DefaultUp),this.updateMatrix(),this.target=new er,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new Zl}function Kl(t,e,n,r){ql.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Jl(new Xr(90,1,.5,500))}function $l(t,e,n,r,i,a){qr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function tu(){Jl.call(this,new $l(-5,5,5,-5,.5,500))}function eu(t,e){ql.call(this,t,e),this.type="DirectionalLight",this.position.copy(er.DefaultUp),this.updateMatrix(),this.target=new er,this.shadow=new tu}function nu(t,e){ql.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function ru(t,e,n,r){ql.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function iu(t){this.manager=void 0!==t?t:ml,this.textures={}}Gl.prototype=Object.assign(Object.create(Al.prototype),{constructor:Gl,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Bl(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,a=this.curves[r],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(t){Al.prototype.copy.call(this,t),this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=Al.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,n=this.curves.length;e<n;e++){var r=this.curves[e];t.curves.push(r.toJSON())}return t},fromJSON:function(t){Al.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var r=t.curves[e];this.curves.push((new Ul[r.type]).fromJSON(r))}return this}}),Vl.prototype=Object.assign(Object.create(Gl.prototype),{constructor:Vl,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new Bl(this.currentPoint.clone(),new hn(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var i=new jl(this.currentPoint.clone(),new hn(t,e),new hn(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,i,a){var o=new Nl(this.currentPoint.clone(),new hn(t,e),new hn(n,r),new hn(i,a));this.curves.push(o),this.currentPoint.set(i,a)},splineThru:function(t){var e=new Yl([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,n,r,i,a)},absarc:function(t,e,n,r,i,a){this.absellipse(t,e,n,n,r,i,a)},ellipse:function(t,e,n,r,i,a,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(t+l,e+u,n,r,i,a,o,s)},absellipse:function(t,e,n,r,i,a,o,s){var l=new El(t,e,n,r,i,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);this.currentPoint.copy(c)},copy:function(t){return Gl.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=Gl.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return Gl.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),Wl.prototype=Object.assign(Object.create(Vl.prototype),{constructor:Wl,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Vl.prototype.copy.call(this,t),this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var r=t.holes[e];this.holes.push(r.clone())}return this},toJSON:function(){var t=Vl.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,n=this.holes.length;e<n;e++){var r=this.holes[e];t.holes.push(r.toJSON())}return t},fromJSON:function(t){Vl.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var r=t.holes[e];this.holes.push((new Vl).fromJSON(r))}return this}}),ql.prototype=Object.assign(Object.create(er.prototype),{constructor:ql,isLight:!0,copy:function(t){return er.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=er.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Xl.prototype=Object.assign(Object.create(ql.prototype),{constructor:Xl,isHemisphereLight:!0,copy:function(t){return ql.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Jl.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Zl.prototype=Object.assign(Object.create(Jl.prototype),{constructor:Zl,isSpotLightShadow:!0,update:function(t){var e=this.camera,n=2*dn.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;n===e.fov&&r===e.aspect&&i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix())}}),Ql.prototype=Object.assign(Object.create(ql.prototype),{constructor:Ql,isSpotLight:!0,copy:function(t){return ql.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Kl.prototype=Object.assign(Object.create(ql.prototype),{constructor:Kl,isPointLight:!0,copy:function(t){return ql.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),$l.prototype=Object.assign(Object.create(qr.prototype),{constructor:$l,isOrthographicCamera:!0,copy:function(t,e){return qr.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,a=n+t,o=r+e,s=r-e;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,d=(this.top-this.bottom)/this.view.height;a=(i+=c*(this.view.offsetX/l))+c*(this.view.width/l),s=(o-=d*(this.view.offsetY/u))-d*(this.view.height/u)}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=er.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),tu.prototype=Object.assign(Object.create(Jl.prototype),{constructor:tu}),eu.prototype=Object.assign(Object.create(ql.prototype),{constructor:eu,isDirectionalLight:!0,copy:function(t){return ql.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),nu.prototype=Object.assign(Object.create(ql.prototype),{constructor:nu,isAmbientLight:!0}),ru.prototype=Object.assign(Object.create(ql.prototype),{constructor:ru,isRectAreaLight:!0,copy:function(t){return ql.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=ql.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),Object.assign(iu.prototype,{load:function(t,e,n,r){var i=this,a=new gl(i.manager);a.setPath(i.path),a.load(t,(function(t){e(i.parse(JSON.parse(t)))}),n,r)},parse:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var r=new Qs[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(r.morphNormals=t.morphNormals),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.uniforms)for(var i in t.uniforms){var a=t.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=n(a.value);break;case"c":r.uniforms[i].value=(new dr).setHex(a.value);break;case"v2":r.uniforms[i].value=(new hn).fromArray(a.value);break;case"v3":r.uniforms[i].value=(new fn).fromArray(a.value);break;case"v4":r.uniforms[i].value=(new Ln).fromArray(a.value);break;case"m3":r.uniforms[i].value=(new mn).fromArray(a.value);case"m4":r.uniforms[i].value=(new Dn).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)r.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=n(t.map)),void 0!==t.matcap&&(r.matcap=n(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=n(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new hn).fromArray(s)}return void 0!==t.displacementMap&&(r.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=n(t.specularMap)),void 0!==t.envMap&&(r.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(r.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(r.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=n(t.gradientMap)),r},setPath:function(t){return this.path=t,this},setTextures:function(t){return this.textures=t,this}});var au={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(t){return e}},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function ou(){Ir.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function su(t,e,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),_r.call(this,t,e,n),this.meshPerAttribute=r||1}function lu(t){this.manager=void 0!==t?t:ml}ou.prototype=Object.assign(Object.create(Ir.prototype),{constructor:ou,isInstancedBufferGeometry:!0,copy:function(t){return Ir.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=Ir.prototype.toJSON.call(this);return t.maxInstancedCount=this.maxInstancedCount,t.isInstancedBufferGeometry=!0,t}}),su.prototype=Object.assign(Object.create(_r.prototype),{constructor:su,isInstancedBufferAttribute:!0,copy:function(t){return _r.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=_r.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),Object.assign(lu.prototype,{load:function(t,e,n,r){var i=this,a=new gl(i.manager);a.setPath(i.path),a.load(t,(function(t){e(i.parse(JSON.parse(t)))}),n,r)},parse:function(t){var e=t.isInstancedBufferGeometry?new ou:new Ir,n=t.data.index;if(void 0!==n){var r=new uu[n.type](n.array);e.setIndex(new _r(r,1))}var i=t.data.attributes;for(var a in i){var o=i[a],s=(r=new uu[o.type](o.array),new(o.isInstancedBufferAttribute?su:_r)(r,o.itemSize,o.normalized));void 0!==o.name&&(s.name=o.name),e.addAttribute(a,s)}var l=t.data.morphAttributes;if(l)for(var a in l){for(var u=l[a],c=[],d=0,h=u.length;d<h;d++)o=u[d],s=new _r(r=new uu[o.type](o.array),o.itemSize,o.normalized),void 0!==o.name&&(s.name=o.name),c.push(s);e.morphAttributes[a]=c}var p=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==p){d=0;for(var f=p.length;d!==f;++d){var m=p[d];e.addGroup(m.start,m.count,m.materialIndex)}}var v=t.data.boundingSphere;if(void 0!==v){var g=new fn;void 0!==v.center&&g.fromArray(v.center),e.boundingSphere=new ir(g,v.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e},setPath:function(t){return this.path=t,this}});var uu={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function cu(t){this.manager=void 0!==t?t:ml,this.resourcePath=""}Object.assign(cu.prototype,{crossOrigin:"anonymous",load:function(t,e,n,r){var i=this,a=void 0===this.path?au.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;var o=new gl(i.manager);o.setPath(this.path),o.load(t,(function(n){var a=null;try{a=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,e):console.error("THREE.ObjectLoader: Can't load "+t)}),n,r)},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var n=this.parseShape(t.shapes),r=this.parseGeometries(t.geometries,n),i=this.parseImages(t.images,(function(){void 0!==e&&e(s)})),a=this.parseTextures(t.textures,i),o=this.parseMaterials(t.materials,a),s=this.parseObject(t.object,r,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var n=0,r=t.length;n<r;n++){var i=(new Wl).fromJSON(t[n]);e[i.uuid]=i}return e},parseGeometries:function(t,e){var n={};if(void 0!==t)for(var r=new lu,i=0,a=t.length;i<a;i++){var o,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new js[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new js[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new js[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new js[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new js[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new js[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new js[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new js[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new js[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new js[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new js[s.type]((new Ul[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new js[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new js[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var l=[],u=0,c=s.shapes.length;u<c;u++){var d=e[s.shapes[u]];l.push(d)}o=new js[s.type](l,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(l=[],u=0,c=s.shapes.length;u<c;u++)d=e[s.shapes[u]],l.push(d);var h=s.options.extrudePath;void 0!==h&&(s.options.extrudePath=(new Ul[h.type]).fromJSON(h)),o=new js[s.type](l,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE?o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry:console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n},parseMaterials:function(t,e){var n={},r={};if(void 0!==t){var i=new iu;i.setTextures(e);for(var a=0,o=t.length;a<o;a++){var s=t[a];if("MultiMaterial"===s.type){for(var l=[],u=0;u<s.materials.length;u++){var c=s.materials[u];void 0===n[c.uuid]&&(n[c.uuid]=i.parse(c)),l.push(n[c.uuid])}r[s.uuid]=l}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=dl.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),e.push(i)}return e},parseImages:function(t,e){var n=this,r={};function i(t){return n.manager.itemStart(t),a.load(t,(function(){n.manager.itemEnd(t)}),void 0,(function(){n.manager.itemError(t),n.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var a=new xl(new fl(e));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=t.length;o<s;o++){var l=t[o],u=l.url;if(Array.isArray(u)){r[l.uuid]=[];for(var c=0,d=u.length;c<d;c++){var h=u[c],p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h;r[l.uuid].push(i(p))}}else p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.resourcePath+l.url,r[l.uuid]=i(p)}}return r},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={};if(void 0!==t)for(var i=0,a=t.length;i<a;i++){var o,s=t[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(o=Array.isArray(e[s.image])?new wi(e[s.image]):new Sn(e[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=n(s.mapping,vu)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=n(s.wrap[0],gu),o.wrapT=n(s.wrap[1],gu)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=n(s.minFilter,yu)),void 0!==s.magFilter&&(o.magFilter=n(s.magFilter,yu)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),r[s.uuid]=o}return r},parseObject:function(t,e,n){var r;function i(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],r=0,i=t.length;r<i;r++){var a=t[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),e.push(n[a])}return e}return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}}switch(t.type){case"Scene":r=new nr,void 0!==t.background&&Number.isInteger(t.background)&&(r.background=new dr(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?r.fog=new uo(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(r.fog=new lo(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":r=new Xr(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(r.focus=t.focus),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.filmGauge&&(r.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(r.filmOffset=t.filmOffset),void 0!==t.view&&(r.view=Object.assign({},t.view));break;case"OrthographicCamera":r=new $l(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.view&&(r.view=Object.assign({},t.view));break;case"AmbientLight":r=new nu(t.color,t.intensity);break;case"DirectionalLight":r=new eu(t.color,t.intensity);break;case"PointLight":r=new Kl(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":r=new ru(t.color,t.intensity,t.width,t.height);break;case"SpotLight":r=new Ql(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":r=new Xl(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=i(t.geometry),s=a(t.material);r=o.bones&&o.bones.length>0?new vo(o,s):new Nr(o,s),void 0!==t.drawMode&&r.setDrawMode(t.drawMode);break;case"LOD":r=new mo;break;case"Line":r=new bo(i(t.geometry),a(t.material),t.mode);break;case"LineLoop":r=new wo(i(t.geometry),a(t.material));break;case"LineSegments":r=new xo(i(t.geometry),a(t.material));break;case"PointCloud":case"Points":r=new Ao(i(t.geometry),a(t.material));break;case"Sprite":r=new fo(a(t.material));break;case"Group":r=new Xa;break;default:r=new er}if(r.uuid=t.uuid,void 0!==t.name&&(r.name=t.name),void 0!==t.matrix?(r.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(r.matrixAutoUpdate=t.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==t.position&&r.position.fromArray(t.position),void 0!==t.rotation&&r.rotation.fromArray(t.rotation),void 0!==t.quaternion&&r.quaternion.fromArray(t.quaternion),void 0!==t.scale&&r.scale.fromArray(t.scale)),void 0!==t.castShadow&&(r.castShadow=t.castShadow),void 0!==t.receiveShadow&&(r.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(r.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(r.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&r.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(r.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.frustumCulled&&(r.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(r.renderOrder=t.renderOrder),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.layers&&(r.layers.mask=t.layers),void 0!==t.children)for(var l=t.children,u=0;u<l.length;u++)r.add(this.parseObject(l[u],e,n));if("LOD"===t.type)for(var c=t.levels,d=0;d<c.length;d++){var h=c[d],p=r.getObjectByProperty("uuid",h.object);void 0!==p&&r.addLevel(p,h.distance)}return r}});var du,hu,pu,fu,mu,vu={UVMapping:pt,CubeReflectionMapping:ft,CubeRefractionMapping:mt,EquirectangularReflectionMapping:vt,EquirectangularRefractionMapping:gt,SphericalReflectionMapping:yt,CubeUVReflectionMapping:_t,CubeUVRefractionMapping:bt},gu={RepeatWrapping:xt,ClampToEdgeWrapping:wt,MirroredRepeatWrapping:Mt},yu={NearestFilter:At,NearestMipmapNearestFilter:Et,NearestMipmapLinearFilter:St,LinearFilter:kt,LinearMipmapNearestFilter:Ct,LinearMipmapLinearFilter:Pt};function _u(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==t?t:ml,this.options=void 0}function bu(){this.type="ShapePath",this.color=new dr,this.subPaths=[],this.currentPath=null}function xu(t){this.type="Font",this.data=t}function wu(t,e,n,r,i){var a=i.glyphs[t]||i.glyphs["?"];if(a){var o,s,l,u,c,d,h,p,f=new bu;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;)switch(m[v++]){case"m":o=m[v++]*e+n,s=m[v++]*e+r,f.moveTo(o,s);break;case"l":o=m[v++]*e+n,s=m[v++]*e+r,f.lineTo(o,s);break;case"q":l=m[v++]*e+n,u=m[v++]*e+r,c=m[v++]*e+n,d=m[v++]*e+r,f.quadraticCurveTo(c,d,l,u);break;case"b":l=m[v++]*e+n,u=m[v++]*e+r,c=m[v++]*e+n,d=m[v++]*e+r,h=m[v++]*e+n,p=m[v++]*e+r,f.bezierCurveTo(c,d,h,p,l,u)}return{offsetX:a.ha*e,path:f}}console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".")}function Mu(t){this.manager=void 0!==t?t:ml}function Au(){}_u.prototype={constructor:_u,setOptions:function(t){return this.options=t,this},load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,a=pl.get(t);if(void 0!==a)return i.manager.itemStart(t),setTimeout((function(){e&&e(a),i.manager.itemEnd(t)}),0),a;fetch(t).then((function(t){return t.blob()})).then((function(t){return void 0===i.options?createImageBitmap(t):createImageBitmap(t,i.options)})).then((function(n){pl.add(t,n),e&&e(n),i.manager.itemEnd(t)})).catch((function(e){r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)})),i.manager.itemStart(t)},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},Object.assign(bu.prototype,{moveTo:function(t,e){this.currentPath=new Vl,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,a){this.currentPath.bezierCurveTo(t,e,n,r,i,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],a=new Wl;a.curves=i.curves,e.push(a)}return e}function r(t,e){for(var n=e.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=e[i],s=e[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=e[a],l=-l,s=e[i],u=-u),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var c=u*(t.x-o.x)-l*(t.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return r}var i=ms.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return n(a);var o,s,l,u=[];if(1===a.length)return s=a[0],(l=new Wl).curves=s.curves,u.push(l),u;var c=!i(a[0].getPoints());c=t?!c:c;var d,h,p=[],f=[],m=[],v=0;f[v]=void 0,m[v]=[];for(var g=0,y=a.length;g<y;g++)o=i(d=(s=a[g]).getPoints()),(o=t?!o:o)?(!c&&f[v]&&v++,f[v]={s:new Wl,p:d},f[v].s.curves=s.curves,c&&v++,m[v]=[]):m[v].push({h:s,p:d[0]});if(!f[0])return n(a);if(f.length>1){for(var _=!1,b=[],x=0,w=f.length;x<w;x++)p[x]=[];for(x=0,w=f.length;x<w;x++)for(var M=m[x],A=0;A<M.length;A++){for(var E=M[A],T=!0,S=0;S<f.length;S++)r(E.p,f[S].p)&&(x!==S&&b.push({froms:x,tos:S,hole:A}),T?(T=!1,p[S].push(E)):_=!0);T&&p[x].push(E)}b.length>0&&(_||(m=p))}g=0;for(var L=f.length;g<L;g++){l=f[g].s,u.push(l);for(var k=0,C=(h=m[g]).length;k<C;k++)l.holes.push(h[k].h)}return u}}),Object.assign(xu.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var n=[],r=function(t,e,n){for(var r=Array.from?Array.from(t):String(t).split(""),i=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,l=0,u=0;u<r.length;u++){var c=r[u];if("\n"===c)s=0,l-=a;else{var d=wu(c,i,s,l,n);s+=d.offsetX,o.push(d.path)}}return o}(t,e,this.data),i=0,a=r.length;i<a;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),Object.assign(Mu.prototype,{load:function(t,e,n,r){var i=this,a=new gl(this.manager);a.setPath(this.path),a.load(t,(function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)}),n,r)},parse:function(t){return new xu(t)},setPath:function(t){return this.path=t,this}}),Au.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],a=e[n+1];if(i.test(t))return a}return null}},Object.assign(Au.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:(du={NoBlending:L,NormalBlending:k,AdditiveBlending:C,SubtractiveBlending:D,MultiplyBlending:P,CustomBlending:R},hu=new dr,pu=new Ml,fu=new iu,function(t,e,n){var r={};function i(t,i,a,o,s){var l,u=e+t,c=Au.Handlers.get(u);null!==c?l=c.load(u):(pu.setCrossOrigin(n),l=pu.load(u)),void 0!==i&&(l.repeat.fromArray(i),1!==i[0]&&(l.wrapS=xt),1!==i[1]&&(l.wrapT=xt)),void 0!==a&&l.offset.fromArray(a),void 0!==o&&("repeat"===o[0]&&(l.wrapS=xt),"mirror"===o[0]&&(l.wrapS=Mt),"repeat"===o[1]&&(l.wrapT=xt),"mirror"===o[1]&&(l.wrapT=Mt)),void 0!==s&&(l.anisotropy=s);var d=dn.generateUUID();return r[d]=l,d}var a={uuid:dn.generateUUID(),type:"MeshLambertMaterial"};for(var o in t){var s=t[o];switch(o){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":a.name=s;break;case"blending":a.blending=du[s];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",o,"is no longer supported.");break;case"colorDiffuse":a.color=hu.fromArray(s).getHex();break;case"colorSpecular":a.specular=hu.fromArray(s).getHex();break;case"colorEmissive":a.emissive=hu.fromArray(s).getHex();break;case"specularCoef":a.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(a.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(a.type="MeshPhongMaterial"),"standard"===s.toLowerCase()&&(a.type="MeshStandardMaterial");break;case"mapDiffuse":a.map=i(s,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":a.emissiveMap=i(s,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":a.lightMap=i(s,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":a.aoMap=i(s,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":a.bumpMap=i(s,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":a.bumpScale=s;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":a.normalMap=i(s,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":a.normalScale=s;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":a.specularMap=i(s,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":a.metalnessMap=i(s,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":a.roughnessMap=i(s,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":a.alphaMap=i(s,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":a.side=x;break;case"doubleSided":a.side=w;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),a.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":a[o]=s;break;case"vertexColors":!0===s&&(a.vertexColors=S),"face"===s&&(a.vertexColors=T);break;default:console.error("THREE.Loader.createMaterial: Unsupported",o,s)}}return"MeshBasicMaterial"===a.type&&delete a.emissive,"MeshPhongMaterial"!==a.type&&delete a.specular,a.opacity<1&&(a.transparent=!0),fu.setTextures(r),fu.parse(a)})});var Eu,Tu,Su,Lu,ku,Cu,Du,Pu,Ru,Ou,Iu,Nu,zu,Bu,Fu,ju={getContext:function(){return void 0===mu&&(mu=new(window.AudioContext||window.webkitAudioContext)),mu},setContext:function(t){mu=t}};function Hu(t){this.manager=void 0!==t?t:ml}function Yu(){this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new fn)}function Uu(t,e){ql.call(this,void 0,e),this.sh=void 0!==t?t:new Yu}function Gu(t,e,n){Uu.call(this,void 0,n);var r=(new dr).set(t),i=(new dr).set(e),a=new fn(r.r,r.g,r.b),o=new fn(i.r,i.g,i.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(l)}function Vu(t,e){Uu.call(this,void 0,e);var n=(new dr).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}function Wu(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Xr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Xr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function qu(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Xu(){er.call(this),this.type="AudioListener",this.context=ju.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function Ju(t){er.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Zu(t){Ju.call(this,t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Qu(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Ku(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function $u(t,e,n){var r=n||tc.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function tc(t,e,n){this.path=e,this.parsedPath=n||tc.parseTrackName(e),this.node=tc.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function ec(){this.uuid=dn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function nc(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,a=new Array(i),o={endingStart:Ce,endingEnd:Ce},s=0;s!==i;++s){var l=r[s].createInterpolant(null);a[s]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ee,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function rc(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function ic(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function ac(t,e,n){co.call(this,t,e),this.meshPerAttribute=n||1}function oc(t,e,n,r){this.ray=new ar(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function sc(t,e){return t.distance-e.distance}function lc(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,a=0,o=i.length;a<o;a++)lc(i[a],e,n,!0)}function uc(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function cc(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function dc(t,e){this.min=void 0!==t?t:new hn(1/0,1/0),this.max=void 0!==e?e:new hn(-1/0,-1/0)}function hc(t,e){this.start=void 0!==t?t:new fn,this.end=void 0!==e?e:new fn}function pc(t){er.call(this),this.material=t,this.render=function(){}}function fc(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var l=new Ir,u=new Sr(2*o*3,3);l.addAttribute("position",u),xo.call(this,l,new _o({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function mc(t,e){er.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var n=new Ir,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,a=1;i<32;i++,a++){var o=i/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new Sr(r,3));var l=new _o({fog:!1});this.cone=new xo(n,l),this.add(this.cone),this.update()}function vc(t){for(var e=function t(e){var n=[];e&&e.isBone&&n.push(e);for(var r=0;r<e.children.length;r++)n.push.apply(n,t(e.children[r]));return n}(t),n=new Ir,r=[],i=[],a=new dr(0,0,1),o=new dr(0,1,0),s=0;s<e.length;s++){var l=e[s];l.parent&&l.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}n.addAttribute("position",new Sr(r,3)),n.addAttribute("color",new Sr(i,3));var u=new _o({vertexColors:S,depthTest:!1,depthWrite:!1,transparent:!0});xo.call(this,n,u),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function gc(t,e,n){this.light=t,this.light.updateMatrixWorld(),this.color=n;var r=new Es(e,4,2),i=new yr({wireframe:!0,fog:!1});Nr.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function yc(t,e){this.type="RectAreaLightHelper",this.light=t,this.color=e;var n=new Ir;n.addAttribute("position",new Sr([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var r=new _o({fog:!1});bo.call(this,n,r);var i=new Ir;i.addAttribute("position",new Sr([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Nr(i,new yr({side:x,fog:!1}))),this.update()}function _c(t,e,n){er.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new zo(e);r.rotateY(.5*Math.PI),this.material=new yr({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=S);var i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.addAttribute("color",new _r(a,3)),this.add(new Nr(r,this.material)),this.update()}function bc(t,e){this.lightProbe=t,this.size=e;var n=new Wr({defines:{GAMMA_OUTPUT:""},uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),r=new Es(1,32,16);Nr.call(this,r,n),this.onBeforeRender()}function xc(t,e,n,r){t=t||10,e=e||10,n=new dr(void 0!==n?n:4473924),r=new dr(void 0!==r?r:8947848);for(var i=e/2,a=t/e,o=t/2,s=[],l=[],u=0,c=0,d=-o;u<=e;u++,d+=a){s.push(-o,0,d,o,0,d),s.push(d,0,-o,d,0,o);var h=u===i?n:r;h.toArray(l,c),c+=3,h.toArray(l,c),c+=3,h.toArray(l,c),c+=3,h.toArray(l,c),c+=3}var p=new Ir;p.addAttribute("position",new Sr(s,3)),p.addAttribute("color",new Sr(l,3));var f=new _o({vertexColors:S});xo.call(this,p,f)}function wc(t,e,n,r,i,a){t=t||10,e=e||16,n=n||8,r=r||64,i=new dr(void 0!==i?i:4473924),a=new dr(void 0!==a?a:8947848);var o,s,l,u,c,d,h,p=[],f=[];for(u=0;u<=e;u++)l=u/e*(2*Math.PI),o=Math.sin(l)*t,s=Math.cos(l)*t,p.push(0,0,0),p.push(o,0,s),h=1&u?i:a,f.push(h.r,h.g,h.b),f.push(h.r,h.g,h.b);for(u=0;u<=n;u++)for(h=1&u?i:a,d=t-t/n*u,c=0;c<r;c++)l=c/r*(2*Math.PI),o=Math.sin(l)*d,s=Math.cos(l)*d,p.push(o,0,s),f.push(h.r,h.g,h.b),l=(c+1)/r*(2*Math.PI),o=Math.sin(l)*d,s=Math.cos(l)*d,p.push(o,0,s),f.push(h.r,h.g,h.b);var m=new Ir;m.addAttribute("position",new Sr(p,3)),m.addAttribute("color",new Sr(f,3));var v=new _o({vertexColors:S});xo.call(this,m,v)}function Mc(t,e,n,r){this.audio=t,this.range=e||1,this.divisionsInnerAngle=n||16,this.divisionsOuterAngle=r||2;var i=new Ir,a=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*a+3));i.addAttribute("position",new _r(o,3));var s=new _o({color:65280}),l=new _o({color:16776960});bo.call(this,i,[l,s]),this.update()}function Ac(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new Ir,u=new Sr(2*o*3,3);l.addAttribute("position",u),xo.call(this,l,new _o({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Ec(t,e,n){er.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);var r=new Ir;r.addAttribute("position",new Sr([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var i=new _o({fog:!1});this.lightPlane=new bo(r,i),this.add(this.lightPlane),(r=new Ir).addAttribute("position",new Sr([0,0,0,0,0,1],3)),this.targetLine=new bo(r,i),this.add(this.targetLine),this.update()}function Tc(t){var e=new Ir,n=new _o({color:16777215,vertexColors:T}),r=[],i=[],a={},o=new dr(16755200),s=new dr(16711680),l=new dr(43775),u=new dr(16777215),c=new dr(3355443);function d(t,e,n){h(t,n),h(e,n)}function h(t,e){r.push(0,0,0),i.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(r.length/3-1)}d("n1","n2",o),d("n2","n4",o),d("n4","n3",o),d("n3","n1",o),d("f1","f2",o),d("f2","f4",o),d("f4","f3",o),d("f3","f1",o),d("n1","f1",o),d("n2","f2",o),d("n3","f3",o),d("n4","f4",o),d("p","n1",s),d("p","n2",s),d("p","n3",s),d("p","n4",s),d("u1","u2",l),d("u2","u3",l),d("u3","u1",l),d("c","t",u),d("p","c",c),d("cn1","cn2",c),d("cn3","cn4",c),d("cf1","cf2",c),d("cf3","cf4",c),e.addAttribute("position",new Sr(r,3)),e.addAttribute("color",new Sr(i,3)),xo.call(this,e,n),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Sc(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Ir;i.setIndex(new _r(n,1)),i.addAttribute("position",new _r(r,3)),xo.call(this,i,new _o({color:e})),this.matrixAutoUpdate=!1,this.update()}function Lc(t,e){this.type="Box3Helper",this.box=t,e=e||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Ir;r.setIndex(new _r(n,1)),r.addAttribute("position",new Sr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),xo.call(this,r,new _o({color:e})),this.geometry.computeBoundingSphere()}function kc(t,e,n){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var r=void 0!==n?n:16776960,i=new Ir;i.addAttribute("position",new Sr([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),bo.call(this,i,new _o({color:r}));var a=new Ir;a.addAttribute("position",new Sr([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new Nr(a,new yr({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function Cc(t,e,n,r,i,a){er.call(this),void 0===t&&(t=new fn(0,0,1)),void 0===e&&(e=new fn(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===a&&(a=.2*i),void 0===Nu&&((Nu=new Ir).addAttribute("position",new Sr([0,0,0,0,1,0],3)),(zu=new Is(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new bo(Nu,new _o({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Nr(zu,new yr({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,a)}function Dc(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new Ir;n.addAttribute("position",new Sr(e,3)),n.addAttribute("color",new Sr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new _o({vertexColors:S});xo.call(this,n,r)}function Pc(t,e,n,r,i,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new mr(t,e,n,i,a,o)}Object.assign(Hu.prototype,{load:function(t,e,n,r){var i=new gl(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(t,(function(t){var n=t.slice(0);ju.getContext().decodeAudioData(n,(function(t){e(t)}))}),n,r)},setPath:function(t){return this.path=t,this}}),Object.assign(Yu.prototype,{isSphericalHarmonics3:!0,set:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this},zero:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this},getAt:function(t,e){var n=t.x,r=t.y,i=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.282095),e.addScale(a[1],.488603*r),e.addScale(a[2],.488603*i),e.addScale(a[3],.488603*n),e.addScale(a[4],n*r*1.092548),e.addScale(a[5],r*i*1.092548),e.addScale(a[6],.315392*(3*i*i-1)),e.addScale(a[7],n*i*1.092548),e.addScale(a[8],.546274*(n*n-r*r)),e},getIrradianceAt:function(t,e){var n=t.x,r=t.y,i=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.886227),e.addScale(a[1],1.023328*r),e.addScale(a[2],1.023328*i),e.addScale(a[3],1.023328*n),e.addScale(a[4],.858086*n*r),e.addScale(a[5],.858086*r*i),e.addScale(a[6],.743125*i*i-.247708),e.addScale(a[7],.858086*n*i),e.addScale(a[8],.429043*(n*n-r*r)),e},add:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this},scale:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this},lerp:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this},equals:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(t){for(var e=this.coefficients,n=0;n<9;n++)e[n].fromArray(t,3*n);return this},toArray:function(){for(var t=[],e=this.coefficients,n=0;n<9;n++)e[n].toArray(t,3*n);return t}}),Object.assign(Yu,{getBasisAt:function(t,e){var n=t.x,r=t.y,i=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*i,e[3]=.488603*n,e[4]=1.092548*n*r,e[5]=1.092548*r*i,e[6]=.315392*(3*i*i-1),e[7]=1.092548*n*i,e[8]=.546274*(n*n-r*r)}}),Uu.prototype=Object.assign(Object.create(ql.prototype),{constructor:Uu,isLightProbe:!0,copy:function(t){return ql.prototype.copy.call(this,t),this.sh.copy(t.sh),this.intensity=t.intensity,this},toJSON:function(t){return ql.prototype.toJSON.call(this,t)}}),Gu.prototype=Object.assign(Object.create(Uu.prototype),{constructor:Gu,isHemisphereLightProbe:!0,copy:function(t){return Uu.prototype.copy.call(this,t),this},toJSON:function(t){return Uu.prototype.toJSON.call(this,t)}}),Vu.prototype=Object.assign(Object.create(Uu.prototype),{constructor:Vu,isAmbientLightProbe:!0,copy:function(t){return Uu.prototype.copy.call(this,t),this},toJSON:function(t){return Uu.prototype.toJSON.call(this,t)}}),Object.assign(Wu.prototype,{update:function(){var t,e,n,r,i,a,o,s,l=new Dn,u=new Dn;return function(c){if(t!==this||e!==c.focus||n!==c.fov||r!==c.aspect*this.aspect||i!==c.near||a!==c.far||o!==c.zoom||s!==this.eyeSep){t=this,e=c.focus,n=c.fov,r=c.aspect*this.aspect,i=c.near,a=c.far,o=c.zoom;var d,h,p=c.projectionMatrix.clone(),f=(s=this.eyeSep/2)*i/e,m=i*Math.tan(dn.DEG2RAD*n*.5)/o;u.elements[12]=-s,l.elements[12]=s,d=-m*r+f,h=m*r+f,p.elements[0]=2*i/(h-d),p.elements[8]=(h+d)/(h-d),this.cameraL.projectionMatrix.copy(p),d=-m*r-f,h=m*r-f,p.elements[0]=2*i/(h-d),p.elements[8]=(h+d)/(h-d),this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(c.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(c.matrixWorld).multiply(l)}}()}),Object.assign(qu.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Xu.prototype=Object.assign(Object.create(er.prototype),{constructor:Xu,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new fn,e=new pn,n=new fn,r=new fn,i=new qu;return function(a){er.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,s=this.up;if(this.timeDelta=i.getDelta(),this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),o.positionX){var l=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(t.x,l),o.positionY.linearRampToValueAtTime(t.y,l),o.positionZ.linearRampToValueAtTime(t.z,l),o.forwardX.linearRampToValueAtTime(r.x,l),o.forwardY.linearRampToValueAtTime(r.y,l),o.forwardZ.linearRampToValueAtTime(r.z,l),o.upX.linearRampToValueAtTime(s.x,l),o.upY.linearRampToValueAtTime(s.y,l),o.upZ.linearRampToValueAtTime(s.z,l)}else o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),Ju.prototype=Object.assign(Object.create(er.prototype),{constructor:Ju,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),Zu.prototype=Object.assign(Object.create(Ju.prototype),{constructor:Zu,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var t=new fn,e=new pn,n=new fn,r=new fn;return function(i){if(er.prototype.updateMatrixWorld.call(this,i),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(t,e,n),r.set(0,0,1).applyQuaternion(e);var a=this.panner;if(a.positionX){var o=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(t.x,o),a.positionY.linearRampToValueAtTime(t.y,o),a.positionZ.linearRampToValueAtTime(t.z,o),a.orientationX.linearRampToValueAtTime(r.x,o),a.orientationY.linearRampToValueAtTime(r.y,o),a.orientationZ.linearRampToValueAtTime(r.z,o)}else a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z)}}}()}),Object.assign(Qu.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(Ku.prototype,{accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=e}else{var s=e/(a+=e);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,i<1){var o=3*e;this._mixBufferRegion(n,r,o,1-i,e)}for(var s=e,l=e+e;s!==l;++s)if(n[s]!==n[s+e]){a.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,a=r;i!==a;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)t[e+a]=t[n+a]},_slerp:function(t,e,n,r){pn.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=e+o;t[s]=t[s]*a+t[n+o]*r}}}),Object.assign($u.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(tc,{Composite:$u,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new tc.Composite(t,e,n):new tc(t,e,n)},sanitizeNodeName:(Ru=new RegExp("[\\[\\]\\.:\\/]","g"),function(t){return t.replace(/\s/g,"_").replace(Ru,"")}),parseTrackName:(Eu="[^\\[\\]\\.:\\/]",Tu="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Su=/((?:WC+[\/:])*)/.source.replace("WC",Eu),Lu=/(WCOD+)?/.source.replace("WCOD",Tu),ku=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Eu),Cu=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Eu),Du=new RegExp("^"+Su+Lu+ku+Cu+"$"),Pu=["material","materials","bones"],function(t){var e=Du.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Pu.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var r=function t(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===e||i.uuid===e)return i;var a=t(i.children);if(a)return a}return null}(t.children);if(r)return r}return null}}),Object.assign(tc.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=tc.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var a=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var s=t[r];if(void 0!==s){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var u=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===i){i=o;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===i){i=o;break}}}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}else{var c=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(tc.prototype,{_getValue_unbound:tc.prototype.getValue,_setValue_unbound:tc.prototype.setValue}),Object.assign(ec.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,l=void 0,u=0,c=arguments.length;u!==c;++u){var d=arguments[u],h=d.uuid,p=r[h];if(void 0===p){p=e++,r[h]=p,t.push(d);for(var f=0,m=s;f!==m;++f)o[f].push(new tc(d,i[f],a[f]))}else if(p<n){l=t[p];var v=--n,g=t[v];for(r[g.uuid]=p,t[p]=g,r[h]=v,t[v]=d,f=0,m=s;f!==m;++f){var y=o[f],_=y[v],b=y[p];y[p]=_,void 0===b&&(b=new tc(d,i[f],a[f])),y[v]=b}}else t[p]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,u=n[l];if(void 0!==u&&u>=e){var c=e++,d=t[c];n[d.uuid]=u,t[u]=d,n[l]=c,t[c]=s;for(var h=0,p=i;h!==p;++h){var f=r[h],m=f[c],v=f[u];f[u]=m,f[c]=v}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,a=i.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],u=l.uuid,c=r[u];if(void 0!==c)if(delete r[u],c<n){var d=--n,h=t[d],p=t[y=--e];r[h.uuid]=c,t[c]=h,r[p.uuid]=d,t[d]=p,t.pop();for(var f=0,m=a;f!==m;++f){var v=(_=i[f])[d],g=_[y];_[c]=v,_[d]=g,_.pop()}}else{var y;for(r[(p=t[y=--e]).uuid]=c,t[c]=p,t.pop(),f=0,m=a;f!==m;++f){var _;(_=i[f])[c]=_[y],_.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[t]=r,a.push(t),o.push(e),i.push(c);for(var d=u,h=s.length;d!==h;++d){var p=s[d];c[d]=new tc(p,t,e)}return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}),Object.assign(nc.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,a=i/r,o=r/i;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=i,s[1]=i+n,l[0]=t/o,l[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(t-i)*n;if(a<0||0===n)return;this._startTime=null,e=n*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var l=this._interpolants,u=this._propertyBindings,c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulate(r,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,n=this._clip.duration,r=this.loop,i=this._loopCount,a=r===Te;if(0===t)return-1===i?e:a&&1==(1&i)?n-e:e;if(r===Ae){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0)){this.time=e;break t}e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=n||e<0){var o=Math.floor(e/n);e-=n*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var l=t<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=e;if(a&&1==(1&i))return n-e}return e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=De,r.endingEnd=De):(r.endingStart=t?this.zeroSlopeAtStart?De:Ce:Pe,r.endingEnd=e?this.zeroSlopeAtEnd?De:Ce:Pe)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=e,o[1]=i+t,s[1]=n,this}}),rc.prototype=Object.assign(Object.create(r.prototype),{constructor:rc,_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,a=t._propertyBindings,o=t._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var d=r[c],h=d.name,p=u[h];if(void 0!==p)a[c]=p;else{if(void 0!==(p=a[c])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,h));continue}var f=e&&e._propertyBindings[c].binding.parsedPath;++(p=new Ku(tc.create(n,h,f),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(p,s,h),a[c]=p}o[c].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,a=i[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=r.length,r.push(t),a.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],u=t._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],a=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=e[e.length-1],l=t._cacheIndex;s._cacheIndex=l,e[l]=s,e.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new el(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?dl.findByName(n,t):t,a=null!==i?i.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var l=o.actionByRoot[r];if(void 0!==l)return l;s=o.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var u=new nc(this,i,e);return this._bindAction(u,s),this._addInactiveAction(u,a,r),u},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?dl.findByName(n,t):t,a=i?i.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),a=this._accuIndex^=1,o=0;o!==n;++o)e[o]._update(r,t,i,a);var s=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,c=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,e[u]=c,e.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),ic.prototype.clone=function(){return new ic(void 0===this.value.clone?this.value:this.value.clone())},ac.prototype=Object.assign(Object.create(co.prototype),{constructor:ac,isInstancedInterleavedBuffer:!0,copy:function(t){return co.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(oc.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this._camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this._camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){var r=n||[];return lc(t,this,r,e),r.sort(sc),r},intersectObjects:function(t,e,n){var r=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,a=t.length;i<a;i++)lc(t[i],this,r,e);return r.sort(sc),r}}),Object.assign(uc.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(dn.clamp(e/this.radius,-1,1))),this}}),Object.assign(cc.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}}),Object.assign(dc.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new hn;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new hn),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new hn),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new hn),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new hn),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new hn;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(hc.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new fn),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new fn),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new fn),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(t,e){void 0===Ou&&(Ou=new fn,Iu=new fn),Ou.subVectors(t,this.start),Iu.subVectors(this.end,this.start);var n=Iu.dot(Iu),r=Iu.dot(Ou)/n;return e&&(r=dn.clamp(r,0,1)),r},closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new fn),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),pc.prototype=Object.create(er.prototype),pc.prototype.constructor=pc,pc.prototype.isImmediateRenderObject=!0,fc.prototype=Object.create(xo.prototype),fc.prototype.constructor=fc,fc.prototype.update=function(){var t=new fn,e=new fn,n=new mn;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,l=o.faces,u=0,c=0,d=l.length;c<d;c++)for(var h=l[c],p=0,f=h.vertexNormals.length;p<f;p++){var m=s[h[r[p]]],v=h.vertexNormals[p];t.copy(m).applyMatrix4(i),e.copy(v).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(u,t.x,t.y,t.z),u+=1,a.setXYZ(u,e.x,e.y,e.z),u+=1}else if(o&&o.isBufferGeometry){var g=o.attributes.position,y=o.attributes.normal;for(u=0,p=0,f=g.count;p<f;p++)t.set(g.getX(p),g.getY(p),g.getZ(p)).applyMatrix4(i),e.set(y.getX(p),y.getY(p),y.getZ(p)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(u,t.x,t.y,t.z),u+=1,a.setXYZ(u,e.x,e.y,e.z),u+=1}a.needsUpdate=!0}}(),mc.prototype=Object.create(er.prototype),mc.prototype.constructor=mc,mc.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},mc.prototype.update=function(){var t=new fn;return function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),vc.prototype=Object.create(xo.prototype),vc.prototype.constructor=vc,vc.prototype.updateMatrixWorld=function(){var t=new fn,e=new Dn,n=new Dn;return function(r){var i=this.bones,a=this.geometry,o=a.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,l=0;s<i.length;s++){var u=i[s];u.parent&&u.parent.isBone&&(e.multiplyMatrices(n,u.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(l,t.x,t.y,t.z),e.multiplyMatrices(n,u.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(l+1,t.x,t.y,t.z),l+=2)}a.getAttribute("position").needsUpdate=!0,er.prototype.updateMatrixWorld.call(this,r)}}(),gc.prototype=Object.create(Nr.prototype),gc.prototype.constructor=gc,gc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},gc.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},yc.prototype=Object.create(bo.prototype),yc.prototype.constructor=yc,yc.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var t=this.material.color,e=Math.max(t.r,t.g,t.b);e>1&&t.multiplyScalar(1/e),this.children[0].material.color.copy(this.material.color)}},yc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},_c.prototype=Object.create(er.prototype),_c.prototype.constructor=_c,_c.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},_c.prototype.update=function(){var t=new fn,e=new dr,n=new dr;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute("color");e.copy(this.light.color),n.copy(this.light.groundColor);for(var a=0,o=i.count;a<o;a++){var s=a<o/2?e:n;i.setXYZ(a,s.r,s.g,s.b)}i.needsUpdate=!0}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),bc.prototype=Object.create(Nr.prototype),bc.prototype.constructor=bc,bc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},bc.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},xc.prototype=Object.assign(Object.create(xo.prototype),{constructor:xc,copy:function(t){return xo.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return(new this.constructor).copy(this)}}),wc.prototype=Object.create(xo.prototype),wc.prototype.constructor=wc,Mc.prototype=Object.create(bo.prototype),Mc.prototype.constructor=Mc,Mc.prototype.update=function(){var t,e,n=this.audio,r=this.range,i=this.divisionsInnerAngle,a=this.divisionsOuterAngle,o=dn.degToRad(n.panner.coneInnerAngle),s=dn.degToRad(n.panner.coneOuterAngle),l=o/2,u=s/2,c=0,d=0,h=this.geometry,p=h.attributes.position;function f(n,i,a,o){var s=(i-n)/a;for(p.setXYZ(c,0,0,0),d++,t=n;t<i;t+=s)e=c+d,p.setXYZ(e,Math.sin(t)*r,0,Math.cos(t)*r),p.setXYZ(e+1,Math.sin(Math.min(t+s,i))*r,0,Math.cos(Math.min(t+s,i))*r),p.setXYZ(e+2,0,0,0),d+=3;h.addGroup(c,d,o),c+=d,d=0}h.clearGroups(),f(-u,-l,a,0),f(-l,l,i,1),f(l,u,a,0),p.needsUpdate=!0,o===s&&(this.material[0].visible=!1)},Mc.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},Ac.prototype=Object.create(xo.prototype),Ac.prototype.constructor=Ac,Ac.prototype.update=function(){var t=new fn,e=new fn,n=new mn;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,l=0,u=0,c=s.length;u<c;u++){var d=s[u],h=d.normal;t.copy(o[d.a]).add(o[d.b]).add(o[d.c]).divideScalar(3).applyMatrix4(r),e.copy(h).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),i.setXYZ(l,t.x,t.y,t.z),l+=1,i.setXYZ(l,e.x,e.y,e.z),l+=1}i.needsUpdate=!0}}(),Ec.prototype=Object.create(er.prototype),Ec.prototype.constructor=Ec,Ec.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Ec.prototype.update=function(){var t=new fn,e=new fn,n=new fn;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t),this.lightPlane.lookAt(e),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(e),this.targetLine.scale.z=n.length()}}(),Tc.prototype=Object.create(xo.prototype),Tc.prototype.constructor=Tc,Tc.prototype.update=function(){var t,e,n=new fn,r=new qr;function i(i,a,o,s){n.set(a,o,s).unproject(r);var l=e[i];if(void 0!==l)for(var u=t.getAttribute("position"),c=0,d=l.length;c<d;c++)u.setXYZ(l[c],n.x,n.y,n.z)}return function(){t=this.geometry,e=this.pointMap,r.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),Sc.prototype=Object.create(xo.prototype),Sc.prototype.constructor=Sc,Sc.prototype.update=function(){var t=new rr;return function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var n=t.min,r=t.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=n.x,a[4]=r.y,a[5]=r.z,a[6]=n.x,a[7]=n.y,a[8]=r.z,a[9]=r.x,a[10]=n.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=n.z,a[15]=n.x,a[16]=r.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=r.x,a[22]=n.y,a[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Sc.prototype.setFromObject=function(t){return this.object=t,this.update(),this},Sc.prototype.copy=function(t){return xo.prototype.copy.call(this,t),this.object=t.object,this},Sc.prototype.clone=function(){return(new this.constructor).copy(this)},Lc.prototype=Object.create(xo.prototype),Lc.prototype.constructor=Lc,Lc.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),er.prototype.updateMatrixWorld.call(this,t))},kc.prototype=Object.create(bo.prototype),kc.prototype.constructor=kc,kc.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?x:b,this.lookAt(this.plane.normal),er.prototype.updateMatrixWorld.call(this,t)},Cc.prototype=Object.create(er.prototype),Cc.prototype.constructor=Cc,Cc.prototype.setDirection=(Fu=new fn,function(t){t.y>.99999?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(Fu.set(t.z,0,-t.x).normalize(),Bu=Math.acos(t.y),this.quaternion.setFromAxisAngle(Fu,Bu))}),Cc.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},Cc.prototype.setColor=function(t){this.line.material.color.set(t),this.cone.material.color.set(t)},Cc.prototype.copy=function(t){return er.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},Cc.prototype.clone=function(){return(new this.constructor).copy(this)},Dc.prototype=Object.create(xo.prototype),Dc.prototype.constructor=Dc;var Rc=0,Oc=1;function Ic(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function Nc(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function zc(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ao(t,e)}function Bc(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new fo(t)}function Fc(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ao(t,e)}function jc(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Mo(t)}function Hc(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Mo(t)}function Yc(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Mo(t)}function Uc(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new fn(t,e,n)}function Gc(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new _r(t,e).setDynamic(!0)}function Vc(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new br(t,e)}function Wc(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new xr(t,e)}function qc(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new wr(t,e)}function Xc(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Mr(t,e)}function Jc(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ar(t,e)}function Zc(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Er(t,e)}function Qc(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Tr(t,e)}function Kc(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Sr(t,e)}function $c(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Lr(t,e)}function td(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Pl.call(this,t),this.type="catmullrom",this.closed=!0}function ed(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Pl.call(this,t),this.type="catmullrom"}function nd(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Pl.call(this,t),this.type="catmullrom"}function rd(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Dc(t)}function id(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Sc(t,e)}function ad(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new xo(new Rs(t.geometry),new _o({color:void 0!==e?e:16777215}))}function od(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new xo(new ko(t.geometry),new _o({color:void 0!==e?e:16777215}))}function sd(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new gl(t)}function ld(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new bl(t)}Al.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Al.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(Gl.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new Br,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new fn(i.x,i.y,i.z||0))}return e}}),Object.assign(Vl.prototype,{fromPoints:function(t){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),td.prototype=Object.create(Pl.prototype),ed.prototype=Object.create(Pl.prototype),nd.prototype=Object.create(Pl.prototype),Object.assign(nd.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),xc.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},vc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Au.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),au.extractUrlBase(t)}}),Object.assign(cu.prototype,{setTexturePath:function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}),Object.assign(dc.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(rr.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),hc.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(dn,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),dn.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),dn.ceilPowerOfTwo(t)}}),Object.assign(mn.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Dn.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new fn),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,a)}}),ni.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},pn.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(ar.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(or.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(or,{barycoordFromPoint:function(t,e,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),or.getBarycoord(t,e,n,r,i)},normal:function(t,e,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),or.getNormal(t,e,n,r)}}),Object.assign(Wl.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ys(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Cs(this,t)}}),Object.assign(hn.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(fn.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ln.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Br.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(er.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(er.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(mo.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(go.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),vo.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Al.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Xr.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(ql.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(_r.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(Ir.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Ir.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(_s.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(ic.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(gr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new dr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===M}}}),Object.defineProperties(Vs.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Wr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(so.prototype,{clearTarget:function(t,e,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,r)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(so.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}}}),Object.defineProperties(Ga.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ti.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(kn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(ao.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Ju.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Hu).load(t,(function(t){e.setBuffer(t)})),this},Qu.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},$r.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};var ud={merge:function(t,e,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}};function cd(){console.error("THREE.CanvasRenderer has been removed")}function dd(){console.error("THREE.JSONLoader has been removed.")}En.crossOrigin=void 0,En.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Ml;i.setCrossOrigin(this.crossOrigin);var a=i.load(t,n,void 0,r);return e&&(a.mapping=e),a},En.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new wl;i.setCrossOrigin(this.crossOrigin);var a=i.load(t,n,void 0,r);return e&&(a.mapping=e),a},En.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},En.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var hd={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function pd(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),o=(r=a)&&r.__esModule?r:{default:r};n(5);var s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Component),i(e,[{key:"render",value:function(){var t=this,e=void 0,n=void 0,r=void 0,i=void 0,a=void 0,l=void 0,u=void 0,c=void 0,d=void 0,h=void 0,p=void 0,f=void 0;i="ordinal"===this.props.scaleType?this.props.domain:this.props.scale.ticks(this.props.tick.noOfTicks);var m=0;switch(this.props.padding&&(m=this.props.padding/2),this.props.title&&(p=this.props.title.padding?this.props.title.padding:0),this.props.axis){case"x":switch(a=this.props.tick.rotation?this.props.tick.rotation:"-90 0 0",this.props.title&&(h=this.props.title.align?this.props.title.align:"center",d=this.props.title.rotation?this.props.title.rotation:"-90 0 0"),l=this.props.tick.align?this.props.tick.align:"center",this.props.orient){case"front-top":if(this.props.title&&(c=this.props.title.position?this.props.title.position:this.props.dimensions.width/2+" "+this.props.dimensions.height+" "+(this.props.dimensions.depth+this.props.tick.size+p),u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),this.props.grid){var v=[];i.forEach((function(e,n){v.push({x:t.props.scale(e)+m,y:t.props.dimensions.height,z:t.props.dimensions.depth}),v.push({x:t.props.scale(e)+m,y:t.props.dimensions.height,z:0})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(v),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}r=o.default.createElement("a-entity",{line:"start:0, "+this.props.dimensions.height+", "+this.props.dimensions.depth+"; end:"+this.props.dimensions.width+" "+this.props.dimensions.height+" "+this.props.dimensions.depth+"; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var g=[];if(i.forEach((function(e,n){g.push({x:t.props.scale(e)+m,y:t.props.dimensions.height,z:t.props.dimensions.depth}),g.push({x:t.props.scale(e)+m,y:t.props.dimensions.height,z:t.props.dimensions.depth+t.props.tick.size})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(g),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:l,rotation:a,position:t.props.scale(e)+m+" "+t.props.dimensions.height+" "+(t.props.dimensions.depth+t.props.tick.size+.05)})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:l,rotation:a,position:t.props.scale(e)+m+" "+t.props.dimensions.height+" "+(t.props.dimensions.depth+t.props.tick.size+.05)})}));break;case"back-bottom":if(this.props.title&&(c=this.props.title.position?this.props.title.position:this.props.dimensions.width/2+" 0.001 "+(0-this.props.tick.size-p),u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),this.props.grid){var y=[];i.forEach((function(e,n){y.push({x:t.props.scale(e)+m,y:.001,z:t.props.dimensions.depth}),y.push({x:t.props.scale(e)+m,y:.001,z:0})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(y),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}r=o.default.createElement("a-entity",{line:"start:0, 0.001, 0; end:"+this.props.dimensions.width+" 0.001 0; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var _=[];if(i.forEach((function(e,n){_.push({x:t.props.scale(e)+m,y:.001,z:0}),_.push({x:t.props.scale(e)+m,y:.001,z:0-t.props.tick.size})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(_),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:l,rotation:a,position:t.props.scale(e)+m+" 0.001 "+(0-t.props.tick.size-.05)})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:l,rotation:a,position:t.props.scale(e)+m+" 0.001 "+(0-t.props.tick.size-.05)})}));break;case"back-top":if(this.props.title&&(c=this.props.title.position?this.props.title.position:this.props.dimensions.width/2+" "+this.props.dimensions.height+" "+(0-this.props.tick.size-p),u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),this.props.grid){var b=[];i.forEach((function(e,n){b.push({x:t.props.scale(e)+m,y:t.props.dimensions.height,z:t.props.dimensions.depth}),b.push({x:t.props.scale(e)+m,y:t.props.dimensions.height,z:0})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(b),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}r=o.default.createElement("a-entity",{line:"start:0, "+this.props.dimensions.height+", 0; end:"+this.props.dimensions.width+" "+this.props.dimensions.height+" 0; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var x=[];if(i.forEach((function(e,n){x.push({x:t.props.scale(e)+m,y:t.props.dimensions.height,z:0}),x.push({x:t.props.scale(e)+m,y:t.props.dimensions.height,z:0-t.props.tick.size})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(x),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:l,rotation:a,position:t.props.scale(e)+m+" "+t.props.dimensions.height+" "+(0-t.props.tick.size-.05)})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:l,rotation:a,position:t.props.scale(e)+m+" "+t.props.dimensions.height+" "+(0-t.props.tick.size-.05)})}));break;case"front-bottom":if(this.props.title&&(c=this.props.title.position?this.props.title.position:this.props.dimensions.width/2+" 0.001 "+(this.props.dimensions.depth+this.props.tick.size+p),u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),this.props.grid){var w=[];i.forEach((function(e,n){w.push({x:t.props.scale(e)+m,y:.001,z:t.props.dimensions.depth}),w.push({x:t.props.scale(e)+m,y:.001,z:0})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(w),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}r=o.default.createElement("a-entity",{line:"start:0, 0.001, "+this.props.dimensions.depth+"; end:"+this.props.dimensions.width+" 0.001 "+this.props.dimensions.depth+"; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var M=[];if(i.forEach((function(e,n){M.push({x:t.props.scale(e)+m,y:.001,z:t.props.dimensions.depth}),M.push({x:t.props.scale(e)+m,y:.001,z:t.props.dimensions.depth+t.props.tick.size})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(M),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:l,rotation:a,position:t.props.scale(e)+m+" 0.001 "+(t.props.dimensions.depth+t.props.tick.size+.05)})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:l,rotation:a,position:t.props.scale(e)+m+" 0.001 "+(t.props.dimensions.depth+t.props.tick.size+.05)})}));break;default:if(this.props.title&&(c=this.props.title.position?this.props.title.position:this.props.dimensions.width/2+" 0.001 "+(this.props.dimensions.depth+this.props.tick.size+p),u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),this.props.grid){var A=[];i.forEach((function(e,n){A.push({x:t.props.scale(e)+m,y:.001,z:t.props.dimensions.depth}),A.push({x:t.props.scale(e)+m,y:.001,z:0})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(A),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}r=o.default.createElement("a-entity",{line:"start:0, 0.001, "+this.props.dimensions.depth+"; end:"+this.props.dimensions.width+" 0.001 "+this.props.dimensions.depth+"; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var E=[];if(i.forEach((function(e,n){E.push({x:t.props.scale(e)+m,y:.001,z:t.props.dimensions.depth}),E.push({x:t.props.scale(e)+m,y:.001,z:t.props.dimensions.depth+t.props.tick.size})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(E),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:l,rotation:a,position:t.props.scale(e)+m+" 0.001 "+(t.props.dimensions.depth+t.props.tick.size+.05)})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:l,rotation:a,position:t.props.scale(e)+m+" 0.001 "+(t.props.dimensions.depth+t.props.tick.size+.05)})}))}break;case"y":switch(a=this.props.tick.rotation?this.props.tick.rotation:"0 0 0",this.props.title&&(h=this.props.title.align?this.props.title.align:"right",d=this.props.title.rotation?this.props.title.rotation:"0 0 0"),l=this.props.tick.align?this.props.tick.align:"right",this.props.orient){case"front-left":if(this.props.grid){var T=[];i.forEach((function(e,n){T.push({x:0,y:t.props.scale(e)+m,z:0}),T.push({x:0,y:t.props.scale(e)+m,z:t.props.dimensions.depth})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(T),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}this.props.title&&(h=this.props.title.align?this.props.title.align:"right",c=this.props.title.position?this.props.title.position:0-this.props.tick.size-p+" "+this.props.dimensions.height/2+" "+this.props.dimensions.depth,u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),r=o.default.createElement("a-entity",{line:"start:0, "+this.props.dimensions.height+", "+this.props.dimensions.depth+"; end:0 0.001 "+this.props.dimensions.depth+"; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var S=[];if(i.forEach((function(e,n){S.push({x:0,y:t.props.scale(e)+m,z:t.props.dimensions.depth}),S.push({x:0-t.props.tick.size,y:t.props.scale(e)+m,z:t.props.dimensions.depth})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(S),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:l,rotation:a,position:0-t.props.tick.size-.05+" "+(t.props.scale(e)+m)+" "+t.props.dimensions.depth})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:l,rotation:a,position:0-t.props.tick.size-.05+" "+(t.props.scale(e)+m)+" "+t.props.dimensions.depth})}));break;case"back-left":if(this.props.grid){var L=[];i.forEach((function(e,n){L.push({x:0,y:t.props.scale(e)+m,z:0}),L.push({x:0,y:t.props.scale(e)+m,z:t.props.dimensions.depth})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(L),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}this.props.title&&(h=this.props.title.align?this.props.title.align:"right",c=this.props.title.position?this.props.title.position:0-this.props.tick.size-p+" "+this.props.dimensions.height/2+" 0",u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),r=o.default.createElement("a-entity",{line:"start:0, "+this.props.dimensions.height+", 0; end:0 0.001 0; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var k=[];if(i.forEach((function(e,n){k.push({x:0,y:t.props.scale(e)+m,z:0}),k.push({x:0-t.props.tick.size,y:t.props.scale(e)+m,z:0})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(k),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:l,rotation:a,position:0-t.props.tick.size-.05+" "+(t.props.scale(e)+m)+" 0"})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:l,rotation:a,position:0-t.props.tick.size-.05+" "+(t.props.scale(e)+m)+" 0"})}));break;case"front-right":if(this.props.grid){var C=[];i.forEach((function(e,n){C.push({x:t.props.dimensions.width,y:t.props.scale(e)+m,z:0}),C.push({x:t.props.dimensions.width,y:t.props.scale(e)+m,z:t.props.dimensions.depth})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(C),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}this.props.title&&(h=this.props.title.align?this.props.title.align:"left",c=this.props.title.position?this.props.title.position:this.props.dimensions.width+this.props.tick.size+.05+" "+this.props.dimensions.height/2+" "+this.props.dimensions.depth,u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),r=o.default.createElement("a-entity",{line:"start:"+this.props.dimensions.width+", "+this.props.dimensions.height+", "+this.props.dimensions.depth+"; end:"+this.props.dimensions.width+" 0.001 "+this.props.dimensions.depth+"; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var D=[];if(i.forEach((function(e,n){D.push({x:t.props.dimensions.width,y:t.props.scale(e)+m,z:t.props.dimensions.depth}),D.push({x:t.props.dimensions.width+t.props.tick.size,y:t.props.scale(e)+m,z:t.props.dimensions.depth})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(D),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:"left",rotation:a,position:t.props.dimensions.width+t.props.tick.size+.05+" "+(t.props.scale(e)+m)+" "+t.props.dimensions.depth})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:"left",rotation:a,position:t.props.dimensions.width+t.props.tick.size+.05+" "+(t.props.scale(e)+m)+" "+t.props.dimensions.depth})}));break;case"back-right":if(this.props.grid){var P=[];i.forEach((function(e,n){P.push({x:t.props.dimensions.width,y:t.props.scale(e)+m,z:0}),P.push({x:t.props.dimensions.width,y:t.props.scale(e)+m,z:t.props.dimensions.depth})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(P),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}this.props.title&&(h=this.props.title.align?this.props.title.align:"left",c=this.props.title.position?this.props.title.position:this.props.dimensions.width+this.props.tick.size+p+" "+this.props.dimensions.height/2+" 0",u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),r=o.default.createElement("a-entity",{line:"start:"+this.props.dimensions.width+", "+this.props.dimensions.height+", 0; end:"+this.props.dimensions.width+" 0.001 0; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var R=[];if(i.forEach((function(e,n){R.push({x:t.props.dimensions.width,y:t.props.scale(e)+m,z:0}),R.push({x:t.props.dimensions.width+t.props.tick.size,y:t.props.scale(e)+m,z:0})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(R),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:"left",rotation:a,position:t.props.dimensions.width+t.props.tick.size+.05+" "+(t.props.scale(e)+m)+" 0"})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:"left",rotation:a,position:t.props.dimensions.width+t.props.tick.size+.05+" "+(t.props.scale(e)+m)+" 0"})}));break;default:if(this.props.grid){var O=[];i.forEach((function(e,n){O.push({x:0,y:t.props.scale(e)+m,z:0}),O.push({x:0,y:t.props.scale(e)+m,z:t.props.dimensions.depth})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(O),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}this.props.title&&(h=this.props.title.align?this.props.title.align:"right",c=this.props.title.position?this.props.title.position:0-this.props.tick.size-p+" "+this.props.dimensions.height/2+" "+this.props.dimensions.depth,u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),r=o.default.createElement("a-entity",{line:"start:0, "+this.props.dimensions.height+", "+this.props.dimensions.depth+"; end:0 0.001 "+this.props.dimensions.depth+"; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var I=[];if(i.forEach((function(e,n){I.push({x:0,y:t.props.scale(e)+m,z:t.props.dimensions.depth}),I.push({x:0-t.props.tick.size,y:t.props.scale(e)+m,z:t.props.dimensions.depth})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(I),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:l,rotation:a,position:0-t.props.tick.size-.05+" "+(t.props.scale(e)+m)+" "+t.props.dimensions.depth})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:l,rotation:a,position:0-t.props.tick.size-.05+" "+(t.props.scale(e)+m)+" "+t.props.dimensions.depth})}))}break;case"z":switch(a=this.props.tick.rotation?this.props.tick.rotation:"-90 0 0",l=this.props.tick.align?this.props.tick.align:"right",this.props.title&&(d=this.props.title.rotation?this.props.title.rotation:"-90 0 0"),this.props.orient){case"bottom-left":if(this.props.grid){var N=[];i.forEach((function(e,n){N.push({x:0,y:.001,z:t.props.scale(e)+m}),N.push({x:t.props.dimensions.width,y:.001,z:t.props.scale(e)+m}),N.push({x:.001,y:0,z:t.props.scale(e)+m}),N.push({x:.001,y:t.props.dimensions.height,z:t.props.scale(e)+m})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(N),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}this.props.title&&(h=this.props.title.align?this.props.title.align:"right",c=this.props.title.position?this.props.title.position:0-this.props.tick.size-p+" 0.001 "+this.props.dimensions.depth/2,u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),r=o.default.createElement("a-entity",{line:"start:0, 0.001, 0; end:0 0.001 "+this.props.dimensions.depth+"; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var z=[];if(i.forEach((function(e,n){z.push({x:0,y:.001,z:t.props.scale(e)+m}),z.push({x:0-t.props.tick.size,y:.001,z:t.props.scale(e)+m})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(z),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:l,rotation:a,position:0-t.props.tick.size-.05+" 0.001 "+(t.props.scale(e)+m)})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:l,rotation:a,position:0-t.props.tick.size-.05+" 0.001 "+(t.props.scale(e)+m)})}));break;case"top-left":if(this.props.grid){var B=[];i.forEach((function(e,n){B.push({x:0,y:t.props.dimensions.height,z:t.props.scale(e)+m}),B.push({x:t.props.dimensions.width,y:t.props.dimensions.height,z:t.props.scale(e)+m}),B.push({x:.001,y:0,z:t.props.scale(e)+m}),B.push({x:.001,y:t.props.dimensions.height,z:t.props.scale(e)+m})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(B),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}this.props.title&&(h=this.props.title.align?this.props.title.align:"right",c=this.props.title.position?this.props.title.position:0-this.props.tick.size-p+" "+this.props.dimensions.height+" "+this.props.dimensions.depth/2,u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),r=o.default.createElement("a-entity",{line:"start:0, "+this.props.dimensions.height+", 0; end:0 "+this.props.dimensions.height+" "+this.props.dimensions.depth+"; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var F=[];if(i.forEach((function(e,n){F.push({x:0,y:t.props.dimensions.height,z:t.props.scale(e)+m}),F.push({x:0-t.props.tick.size,y:t.props.dimensions.height,z:t.props.scale(e)+m})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(F),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:l,rotation:a,position:0-t.props.tick.size-.05+" 0.001 "+(t.props.scale(e)+m)})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:l,rotation:a,position:0-t.props.tick.size-.05+" "+t.props.dimensions.height+" "+(t.props.scale(e)+m)})}));break;case"top-right":if(this.props.grid){var j=[];i.forEach((function(e,n){j.push({x:0,y:.001,z:t.props.scale(e)+m}),j.push({x:t.props.dimensions.width,y:.001,z:t.props.scale(e)+m}),j.push({x:t.props.dimensions.width,y:0,z:t.props.scale(e)+m}),j.push({x:t.props.dimensions.width,y:t.props.dimensions.height,z:t.props.scale(e)+m})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(j),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}this.props.title&&(h=this.props.title.align?this.props.title.align:"left",c=this.props.title.position?this.props.title.position:this.props.dimensions.width+this.props.tick.size+p+" "+this.props.dimensions.height+" "+this.props.dimensions.depth/2,u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),r=o.default.createElement("a-entity",{line:"start:"+this.props.dimensions.width+", 0.001, 0; end:"+this.props.dimensions.width+" 0.001 "+this.props.dimensions.depth+"; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var H=[];if(i.forEach((function(e,n){H.push({x:t.props.dimensions.width,y:t.props.dimensions.height,z:t.props.scale(e)+m}),H.push({x:t.props.dimensions.width+t.props.tick.size,y:t.props.dimensions.height,z:t.props.scale(e)+m})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(H),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:l,rotation:a,position:0-t.props.tick.size-.05+" "+t.props.dimensions.height+" "+(t.props.scale(e)+m)})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:"left",rotation:a,position:t.props.dimensions.width+t.props.tick.size+.05+" "+t.props.dimensions.height+" "+(t.props.scale(e)+m)})}));break;case"bottom-right":if(this.props.grid){var Y=[];i.forEach((function(e,n){Y.push({x:0,y:.001,z:t.props.scale(e)+m}),Y.push({x:t.props.dimensions.width,y:.001,z:t.props.scale(e)+m}),Y.push({x:t.props.dimensions.width,y:0,z:t.props.scale(e)+m}),Y.push({x:t.props.dimensions.width,y:t.props.dimensions.height,z:t.props.scale(e)+m})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(Y),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}this.props.title&&(h=this.props.title.align?this.props.title.align:"left",c=this.props.title.position?this.props.title.position:this.props.dimensions.width+this.props.tick.size+p+" 0.001 "+this.props.dimensions.depth/2,u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),r=o.default.createElement("a-entity",{line:"start:"+this.props.dimensions.width+", 0.001, 0; end:"+this.props.dimensions.width+" 0.001 "+this.props.dimensions.depth+"; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var U=[];if(i.forEach((function(e,n){U.push({x:t.props.dimensions.width,y:.001,z:t.props.scale(e)+m}),U.push({x:t.props.dimensions.width+t.props.tick.size,y:.001,z:t.props.scale(e)+m})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(U),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:l,rotation:a,position:0-t.props.tick.size-.05+" 0.001 "+(t.props.scale(e)+m)})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:"left",rotation:a,position:t.props.dimensions.width+t.props.tick.size+.05+" 0.001 "+(t.props.scale(e)+m)})}));break;default:if(this.props.grid){var G=[];i.forEach((function(e,n){G.push({x:0,y:.001,z:t.props.scale(e)+m}),G.push({x:t.props.dimensions.width,y:.001,z:t.props.scale(e)+m}),G.push({x:.001,y:0,z:t.props.scale(e)+m}),G.push({x:.001,y:t.props.dimensions.height,z:t.props.scale(e)+m})})),f=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(G),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity})}this.props.title&&(h=this.props.title.align?this.props.title.align:"right",c=this.props.title.position?this.props.title.position:0-this.props.tick.size-p+" 0.001 "+this.props.dimensions.depth/2,u=o.default.createElement("a-text",{opacity:this.props.title.opacity,color:""+this.props.title.color,width:this.props.title.fontSize,value:""+this.props.title.text,anchor:"align",side:"double",align:h,rotation:d,position:c,billboard:this.props.title.billboarding})),r=o.default.createElement("a-entity",{line:"start:0, 0.001, 0; end:0 0.001 "+this.props.dimensions.depth+"; opacity:"+this.props.tick.opacity+"; color:"+this.props.tick.color});var V=[];if(i.forEach((function(e,n){V.push({x:0,y:.001,z:t.props.scale(e)+m}),V.push({x:0-t.props.tick.size,y:.001,z:t.props.scale(e)+m})})),e=o.default.createElement("a-frame-curve-line",{points:JSON.stringify(V),type:"lineSegment",color:this.props.grid.color,opacity:this.props.grid.opacity}),this.props.tick.format){n=i.map((function(e,n){var r=s(e).format(t.props.tick.format);return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+r,anchor:"align",side:"double",align:l,rotation:a,position:0-t.props.tick.size-.05+" 0.001 "+(t.props.scale(e)+m)})}));break}n=i.map((function(e,n){return o.default.createElement("a-text",{key:n,billboard:t.props.tick.billboarding,opacity:t.props.tick.opacity,color:""+t.props.tick.color,width:t.props.tick.fontSize,value:""+e,anchor:"align",side:"double",align:l,rotation:a,position:0-t.props.tick.size-.05+" 0.001 "+(t.props.scale(e)+m)})}))}}return o.default.createElement("a-entity",null,e,r,f,n,u)}}]),e}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),o=(r=a)&&r.__esModule?r:{default:r},s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Component),i(e,[{key:"render",value:function(){return o.default.createElement("a-entity",{line:"start: 0, 0, 0; end: "+this.props.width+" 0 0; color: "+this.props.color,line__2:"start: 0, 0, 0; end: 0 "+this.props.height+" 0; color: "+this.props.color,line__3:"start: 0, 0, 0; end: 0 0 "+this.props.depth+"; color: "+this.props.color,line__4:"start: "+this.props.width+", "+this.props.height+", "+this.props.depth+"; end: 0 "+this.props.height+" "+this.props.depth+"; color: "+this.props.color,line__5:"start: "+this.props.width+", "+this.props.height+", "+this.props.depth+"; end: "+this.props.width+" 0 "+this.props.depth+"; color: "+this.props.color,line__6:"start: "+this.props.width+", "+this.props.height+", "+this.props.depth+"; end: "+this.props.width+" "+this.props.height+" 0; color: "+this.props.color,line__7:"start: "+this.props.width+", 0, "+this.props.depth+"; end: 0 0 "+this.props.depth+"; color: "+this.props.color,line__8:"start: "+this.props.width+", 0, "+this.props.depth+"; end: "+this.props.width+" 0 0; color: "+this.props.color,line__9:"start: 0, "+this.props.height+", 0; end: 0 "+this.props.height+" "+this.props.depth+"; color: "+this.props.color,line__10:"start: 0, "+this.props.height+", 0; end: "+this.props.width+" "+this.props.height+" 0; color: "+this.props.color,line__11:"start: 0, 0, "+this.props.depth+"; end: 0 "+this.props.height+" "+this.props.depth+"; color: "+this.props.color,line__12:"start: "+this.props.width+", 0, 0; end: "+this.props.width+" "+this.props.height+" 0; color: "+this.props.color})}}]),e}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),o=(r=a)&&r.__esModule?r:{default:r},s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Component),i(e,[{key:"render",value:function(){var t="0 0 0";if(this.props.rotation&&(t=this.props.rotation),this.props.hover)switch(this.props.type){case"box":return o.default.createElement("a-box",{id:this.props.id,data:this.props.data,color:this.props.color,class:"shapes "+this.props.class,opacity:this.props.opacity,depth:this.props.depth,height:this.props.height,width:this.props.width,position:this.props.position,rotation:t,"change-color-on-hover":"hoverText:"+this.props.hoverText+"; prevOpacity:"+this.props.opacity+";focusedObjectOpacity: "+this.props.hover.focusedObject.opacity+";focusedObjectfill:"+this.props.hover.focusedObject.fill+";nonFocusedObjectOpacity:"+this.props.hover.nonFocusedObject.opacity+";labelWidth:"+this.props.hover.label.width+";lineHeight:"+this.props.hover.label.lineHeight+";labelHeight:"+this.props.hover.label.height+";labelAlign:"+this.props.hover.label.align+";wrapCount:"+this.props.hover.label.wrapCount+";labelBackgroundColor:"+this.props.hover.label.backgroundColor+";labelFontColor:"+this.props.hover.label.fontColor+";labelPosition:"+this.props.hover.label.position+";labelRotation:"+this.props.hover.label.rotation+";prevColor:"+this.props.color+";graphID:"+this.props.graphID+";backgroundOpacity:"+this.props.hover.label.backgroundOpacity});case"cylinder":return o.default.createElement("a-cylinder",{id:this.props.id,data:this.props.data,color:this.props.color,class:"shapes "+this.props.class,opacity:this.props.opacity,height:this.props.height,radius:this.props.radius,"segments-radial":this.props.segments,position:this.props.position,rotation:t,"change-color-on-hover":"hoverText:"+this.props.hoverText+"; prevOpacity:"+this.props.opacity+";focusedObjectOpacity: "+this.props.hover.focusedObject.opacity+";focusedObjectfill:"+this.props.hover.focusedObject.fill+";nonFocusedObjectOpacity:"+this.props.hover.nonFocusedObject.opacity+";labelWidth:"+this.props.hover.label.width+";lineHeight:"+this.props.hover.label.lineHeight+";labelHeight:"+this.props.hover.label.height+";labelAlign:"+this.props.hover.label.align+";wrapCount:"+this.props.hover.label.wrapCount+";labelBackgroundColor:"+this.props.hover.label.backgroundColor+";labelFontColor:"+this.props.hover.label.fontColor+";labelPosition:"+this.props.hover.label.position+";labelRotation:"+this.props.hover.label.rotation+";prevColor:"+this.props.color+";graphID:"+this.props.graphID+";backgroundOpacity:"+this.props.hover.label.backgroundOpacity});case"cone":return o.default.createElement("a-cone",{id:this.props.id,data:this.props.data,color:this.props.color,class:"shapes "+this.props.class,opacity:this.props.opacity,height:this.props.height,"radius-bottom":this.props.radius,"radius-top":0,"segments-radial":this.props.segments,position:this.props.position,rotation:t,"change-color-on-hover":"hoverText:"+this.props.hoverText+"; prevOpacity:"+this.props.opacity+";focusedObjectOpacity: "+this.props.hover.focusedObject.opacity+";focusedObjectfill:"+this.props.hover.focusedObject.fill+";nonFocusedObjectOpacity:"+this.props.hover.nonFocusedObject.opacity+";labelWidth:"+this.props.hover.label.width+";lineHeight:"+this.props.hover.label.lineHeight+";labelHeight:"+this.props.hover.label.height+";labelAlign:"+this.props.hover.label.align+";wrapCount:"+this.props.hover.label.wrapCount+";labelBackgroundColor:"+this.props.hover.label.backgroundColor+";labelFontColor:"+this.props.hover.label.fontColor+";labelPosition:"+this.props.hover.label.position+";labelRotation:"+this.props.hover.label.rotation+";prevColor:"+this.props.color+";graphID:"+this.props.graphID+";backgroundOpacity:"+this.props.hover.label.backgroundOpacity});case"sphere":return o.default.createElement("a-sphere",{id:this.props.id,data:this.props.data,color:this.props.color,class:"shapes "+this.props.class,opacity:this.props.opacity,radius:this.props.radius,position:this.props.position,"change-color-on-hover":"hoverText:"+this.props.hoverText+"; prevOpacity:"+this.props.opacity+";focusedObjectOpacity: "+this.props.hover.focusedObject.opacity+";focusedObjectfill:"+this.props.hover.focusedObject.fill+";nonFocusedObjectOpacity:"+this.props.hover.nonFocusedObject.opacity+";labelWidth:"+this.props.hover.label.width+";lineHeight:"+this.props.hover.label.lineHeight+";labelHeight:"+this.props.hover.label.height+";labelAlign:"+this.props.hover.label.align+";wrapCount:"+this.props.hover.label.wrapCount+";labelBackgroundColor:"+this.props.hover.label.backgroundColor+";labelFontColor:"+this.props.hover.label.fontColor+";labelPosition:"+this.props.hover.label.position+";labelRotation:"+this.props.hover.label.rotation+";prevColor:"+this.props.color+";graphID:"+this.props.graphID+";backgroundOpacity:"+this.props.hover.label.backgroundOpacity});default:return o.default.createElement("a-box",{id:this.props.id,data:this.props.data,color:this.props.color,class:"shapes "+this.props.class,opacity:this.props.opacity,depth:this.props.depth,height:this.props.hght,width:this.props.width,position:this.props.position,rotation:t,"change-color-on-hover":"hoverText:"+this.props.hoverText+"; prevOpacity:"+this.props.opacity+";focusedObjectOpacity: "+this.props.hover.focusedObject.opacity+";focusedObjectfill:"+this.props.hover.focusedObject.fill+";nonFocusedObjectOpacity:"+this.props.hover.nonFocusedObject.opacity+";labelWidth:"+this.props.hover.label.width+";lineHeight:"+this.props.hover.label.lineHeight+";labelHeight:"+this.props.hover.label.height+";labelAlign:"+this.props.hover.label.align+";wrapCount:"+this.props.hover.label.wrapCount+";labelBackgroundColor:"+this.props.hover.label.backgroundColor+";labelFontColor:"+this.props.hover.label.fontColor+";labelPosition:"+this.props.hover.label.position+";labelRotation:"+this.props.hover.label.rotation+";prevColor:"+this.props.color+";graphID:"+this.props.graphID+";backgroundOpacity:"+this.props.hover.label.backgroundOpacity})}else switch(this.props.type){case"box":return o.default.createElement("a-box",{id:this.props.id,data:this.props.data,color:this.props.color,class:"shapes "+this.props.class,opacity:this.props.opacity,depth:this.props.depth,height:this.props.height,width:this.props.width,position:this.props.position,rotation:t});case"cylinder":return o.default.createElement("a-cylinder",{id:this.props.id,data:this.props.data,color:this.props.color,class:"shapes "+this.props.class,opacity:this.props.opacity,height:this.props.height,radius:this.props.radius,"segments-radial":this.props.segments,position:this.props.position,rotation:t});case"cone":return o.default.createElement("a-cone",{id:this.props.id,data:this.props.data,color:this.props.color,class:"shapes "+this.props.class,opacity:this.props.opacity,height:this.props.height,"radius-bottom":this.props.radius,"radius-top":0,"segments-radial":this.props.segments,position:this.props.position,rotation:t});case"sphere":return o.default.createElement("a-sphere",{id:this.props.id,data:this.props.data,color:this.props.color,class:"shapes "+this.props.class,opacity:this.props.opacity,radius:this.props.radius,position:this.props.position});default:return o.default.createElement("a-box",{id:this.props.id,data:this.props.data,color:this.props.color,class:"shapes "+this.props.class,opacity:this.props.opacity,depth:this.props.depth,height:this.props.hght,width:this.props.width,position:this.props.position,rotation:t})}}}]),e}();e.default=s},function(t,e){t.exports=function t(e,n){var r;if(e||(e={}),n)for(r in n)if(n.hasOwnProperty(r)){var i=e.hasOwnProperty(r),a=typeof n[r];!i||typeof e[r]!==a?e[r]=n[r]:"object"===a&&(e[r]=t(e[r],n[r]))}return e}},function(t,e){function n(t){var e="number"==typeof t?t:+new Date,n=function(){return(268435455&(e=4294967295&(3042594569^(e=4251993797+(e=4294967295&(3550635116+(e=374761393+(e=4294967295&(3345072700^(e=e+2127912214+(e<<12)&4294967295)^e>>>19))+(e<<5)&4294967295)^e<<9))+(e<<3)&4294967295)^e>>>16)))/268435456};return{next:function(t){return Math.floor(n()*t)},nextDouble:function(){return n()}}}t.exports={random:n,randomIterator:function(t,e){var r=e||n();if("function"!=typeof r.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(e){var n,i,a;for(n=t.length-1;n>0;--n)i=r.next(n+1),a=t[i],t[i]=t[n],t[n]=a,e(a);t.length&&e(t[0])},shuffle:function(){var e,n,i;for(e=t.length-1;e>0;--e)n=r.next(e+1),i=t[n],t[n]=t[e],t[e]=i;return t}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,o,s,l){var u=void 0;switch(e){case"Mercator":u=i.geoMercator();break;case"Robinson":u=r.geoRobinson();break;case"Gall-Peter":u=r.geoCylindricalEqualArea.parallel(45);break;case"Winkel-Tripel":u=r.geoWinkel3();break;case"Equirectangular":u=i.geoEquirectangular();break;case"Natural Earth1":u=i.geoNaturalEarth1();break;case"AlbersUSA":u=i.geoAlbersUsa();break;default:u=r.geoRobinson()}var c=a.feature(t,t.objects[l]).features,d=u.scale(n).translate([o[0],o[1]]),h=i.geoPath().projection(d),p=[];c.forEach((function(t,e){h(t)?p.push(t):console.log("Path doesn't exist in "+t)}));for(var f=p.map((function(t,e){return t[s]})),m=p.map((function(t,e){if(h(t)){var n=h(t).split("M");return n.shift(),n}})).map((function(t,e){return t.map((function(t,e){return t.split("L")}))})).map((function(t,e){return t.map((function(t,e){var n=t.map((function(t,e){var n=t.split(",");return n[1].indexOf("Z")>=0&&(n[1]=n[1].replace("Z","")),n[0]=parseFloat(n[0]),n[1]=-1*parseFloat(n[1]),n}));return n.push(n[0]),n}))})),v={},g=0;g<f.length;g++)v[f[g]]=m[g];for(var y=Object.keys(v),_=[],b=0;b<y.length;b++)for(var x=0;x<v[y[b]].length;x++){_.push({code:y[b],vertices:v[y[b]][x][0][0]+" "+v[y[b]][x][0][1]});for(var w=1;w<v[y[b]][x].length;w++)_[_.length-1].vertices=_[_.length-1].vertices+", "+v[y[b]][x][w][0]+" "+v[y[b]][x][w][1]}return _};var r=o(n(146)),i=o(n(2)),a=o(n(223));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}},function(t,e){function n(t,e,n){if(t.hasOwnProperty(n)){if("function"==typeof e[n])return;e[n]=function(r){return void 0!==r?(t[n]=r,e):t[n]}}}t.exports=function(t,e,r){if("[object Array]"===Object.prototype.toString.call(r))for(var i=0;i<r.length;++i)n(t,e,r[i]);else for(var a in t)n(t,e,a)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,a,o){var s=void 0;switch(n){case"Mercator":s=i.geoMercator();break;case"Robinson":s=r.geoRobinson();break;case"Gall-Peter":s=r.geoCylindricalEqualArea.parallel(45);break;case"Winkel-Tripel":s=r.geoWinkel3();break;case"Equirectangular":s=i.geoEquirectangular();break;case"Natural Earth1":s=i.geoNaturalEarth1();break;default:s=r.geoRobinson()}return s.scale(a).translate([o[0],o[1]])([t,e])};var r=a(n(146)),i=a(n(2));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}},function(t,e){t.exports=function(t){!function(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],n=0;n<e.length;++n)if(t.hasOwnProperty(e[n]))throw new Error("Subject cannot be eventified, since it already has property '"+e[n]+"'")}(t);var e=function(t){var e=Object.create(null);return{on:function(n,r,i){if("function"!=typeof r)throw new Error("callback is expected to be a function");var a=e[n];return a||(a=e[n]=[]),a.push({callback:r,ctx:i}),t},off:function(n,r){if(void 0===n)return e=Object.create(null),t;if(e[n])if("function"!=typeof r)delete e[n];else for(var i=e[n],a=0;a<i.length;++a)i[a].callback===r&&i.splice(a,1);return t},fire:function(n){var r,i=e[n];if(!i)return t;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var a=0;a<i.length;++a){var o=i[a];o.callback.apply(o.ctx,r)}return t}}}(t);return t.on=e.on,t.off=e.off,t.fire=e.fire,t}},function(t,e,n){!function(t){"use strict";t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},r=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},a=function(t){return function(e,n,a,o){var s=r(e),l=i[t][r(e)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,e)}},o=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];t.defineLocale("ar",{months:o,monthsShort:o,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:a("s"),ss:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(t){return n[t]})).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ar-dz",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u0623\u062d_\u0625\u062b_\u062b\u0644\u0627_\u0623\u0631_\u062e\u0645_\u062c\u0645_\u0633\u0628".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},r={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},i=function(t){return function(e,i,a,o){var s=n(e),l=r[t][n(e)];return 2===s&&(l=l[i?0:1]),l.replace(/%d/i,e)}},a=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];t.defineLocale("ar-ly",{months:a,monthsShort:a,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};t.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(t){return n[t]})).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"birne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(t){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(t)},meridiem:function(t,e,n){return t<4?"gec\u0259":t<12?"s\u0259h\u0259r":t<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(t){if(0===t)return t+"-\u0131nc\u0131";var n=t%10;return t+(e[n]||e[t%100-n]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var r,i;return"m"===n?e?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===n?e?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":t+" "+(r=+t,i={ss:e?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:e?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:e?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}t.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:e,mm:e,h:e,hh:e,d:"\u0434\u0437\u0435\u043d\u044c",dd:e,M:"\u043c\u0435\u0441\u044f\u0446",MM:e,y:"\u0433\u043e\u0434",yy:e},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"\u043d\u043e\u0447\u044b":t<12?"\u0440\u0430\u043d\u0456\u0446\u044b":t<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-\u044b":t+"-\u0456";case"D":return t+"-\u0433\u0430";default:return t}},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0412 \u0438\u0437\u043c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u0412 \u0438\u0437\u043c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u043d\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-\u0435\u0432":0===n?t+"-\u0435\u043d":n>10&&n<20?t+"-\u0442\u0438":1===e?t+"-\u0432\u0438":2===e?t+"-\u0440\u0438":7===e||8===e?t+"-\u043c\u0438":t+"-\u0442\u0438"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},n={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};t.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09c0_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2_\u0986\u0997_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u0983_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(t){return t.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u09b0\u09be\u09a4"===e&&t>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===e&&t<5||"\u09ac\u09bf\u0995\u09be\u09b2"===e?t+12:t},meridiem:function(t,e,n){return t<4?"\u09b0\u09be\u09a4":t<10?"\u09b8\u0995\u09be\u09b2":t<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":t<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},n={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};t.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(t){return t.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===e&&t>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===e&&t<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===e?t+12:t},meridiem:function(t,e,n){return t<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":t<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":t<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":t<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){return t+" "+function(t,e){return 2===e?function(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}(t):t}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],t)}t.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:function(t){switch(function t(e){return e>9?t(e%10):e}(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(t){return t+(1===t?"a\xf1":"vet")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var r=t+" ";switch(n){case"ss":return r+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+(1===t?"minuta":2===t||3===t||4===t?"minute":"minuta");case"h":return e?"jedan sat":"jednog sata";case"hh":return r+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return r+(1===t?"dan":"dana");case"MM":return r+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return r+(1===t?"godina":2===t||3===t||4===t?"godine":"godina")}}t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"\xe8";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),n="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),r=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],i=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function a(t){return t>1&&t<5&&1!=~~(t/10)}function o(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return e||r?i+(a(t)?"sekundy":"sekund"):i+"sekundami";case"m":return e?"minuta":r?"minutu":"minutou";case"mm":return e||r?i+(a(t)?"minuty":"minut"):i+"minutami";case"h":return e?"hodina":r?"hodinu":"hodinou";case"hh":return e||r?i+(a(t)?"hodiny":"hodin"):i+"hodinami";case"d":return e||r?"den":"dnem";case"dd":return e||r?i+(a(t)?"dny":"dn\xed"):i+"dny";case"M":return e||r?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return e||r?i+(a(t)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):i+"m\u011bs\xedci";case"y":return e||r?"rok":"rokem";case"yy":return e||r?i+(a(t)?"roky":"let"):i+"lety"}}t.defineLocale("cs",{months:e,monthsShort:n,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(t){return t+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(t)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(t)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return t>20?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}t.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}t.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}t.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],n=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];t.defineLocale("dv",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(t){return"\u0789\u078a"===t},meridiem:function(t,e,n){return t<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(t,e,n){return t>11?n?"\u03bc\u03bc":"\u039c\u039c":n?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(t){return"\u03bc"===(t+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,e){var n,r=this._calendarEl[t],i=e&&e.hours();return((n=r)instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(r=r.apply(e)),r.replace("{}",i%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_a\u016dg_sep_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,n){return t>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[t+" minuti",t+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[t+" tunni",t+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[t+" kuu",t+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[t+" aasta",t+" aastat"]};return e?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}t.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d p\xe4eva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},n={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};t.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(t){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(t)},meridiem:function(t,e,n){return t<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"\u062b\u0627\u0646\u06cc\u0647 d%",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/[\u06f0-\u06f9]/g,(function(t){return n[t]})).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),n=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",e[7],e[8],e[9]];function r(t,r,i,a){var o="";switch(i){case"s":return a?"muutaman sekunnin":"muutama sekunti";case"ss":return a?"sekunnin":"sekuntia";case"m":return a?"minuutin":"minuutti";case"mm":o=a?"minuutin":"minuuttia";break;case"h":return a?"tunnin":"tunti";case"hh":o=a?"tunnin":"tuntia";break;case"d":return a?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":o=a?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return a?"kuukauden":"kuukausi";case"MM":o=a?"kuukauden":"kuukautta";break;case"y":return a?"vuoden":"vuosi";case"yy":o=a?"vuoden":"vuotta"}return function(t,r){return t<10?r?n[t]:e[t]:t}(t,a)+" "+o}t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","M\xe9itheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deaireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean\xe1","Feab","M\xe1rt","Aibr","Beal","M\xe9it","I\xfail","L\xfana","Me\xe1n","Deai","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Satharn"],weekdaysShort:["Dom","Lua","M\xe1i","C\xe9a","D\xe9a","hAo","Sat"],weekdaysMin:["Do","Lu","M\xe1","Ce","D\xe9","hA","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 aig] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xed",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["thodde secondanim","thodde second"],ss:[t+" secondanim",t+" second"],m:["eka mintan","ek minute"],mm:[t+" mintanim",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voranim",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disanim",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineanim",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsanim",t+" vorsam"]};return e?i[n][0]:i[n][1]}t.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokalli"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"rati":t<12?"sokalli":t<16?"donparam":t<20?"sanje":"rati"}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},n={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};t.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ac7\u0ab9\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(t){return t.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0ab0\u0abe\u0aa4"===e?t<4?t:t+12:"\u0ab8\u0ab5\u0abe\u0ab0"===e?t:"\u0aac\u0aaa\u0acb\u0ab0"===e?t>=10?t:t+12:"\u0ab8\u0abe\u0a82\u0a9c"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0ab0\u0abe\u0aa4":t<10?"\u0ab8\u0ab5\u0abe\u0ab0":t<17?"\u0aac\u0aaa\u0acb\u0ab0":t<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(t){return 2===t?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":t+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(t){return 2===t?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":t+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(t){return 2===t?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":t+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(t){return 2===t?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":t%10==0&&10!==t?t+" \u05e9\u05e0\u05d4":t+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(t){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(t)},meridiem:function(t,e,n){return t<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":t<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":t<12?n?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":t<18?n?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};t.defineLocale("hi",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0930\u093e\u0924"===e?t<4?t:t+12:"\u0938\u0941\u092c\u0939"===e?t:"\u0926\u094b\u092a\u0939\u0930"===e?t>=10?t:t+12:"\u0936\u093e\u092e"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0930\u093e\u0924":t<10?"\u0938\u0941\u092c\u0939":t<17?"\u0926\u094b\u092a\u0939\u0930":t<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var r=t+" ";switch(n){case"ss":return r+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+(1===t?"minuta":2===t||3===t||4===t?"minute":"minuta");case"h":return e?"jedan sat":"jednog sata";case"hh":return r+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return r+(1===t?"dan":"dana");case"MM":return r+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return r+(1===t?"godina":2===t||3===t||4===t?"godine":"godina")}}t.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function n(t,e,n,r){var i=t;switch(n){case"s":return r||e?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return i+(r||e)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(r||e?" perc":" perce");case"mm":return i+(r||e?" perc":" perce");case"h":return"egy"+(r||e?" \xf3ra":" \xf3r\xe1ja");case"hh":return i+(r||e?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(r||e?" nap":" napja");case"dd":return i+(r||e?" nap":" napja");case"M":return"egy"+(r||e?" h\xf3nap":" h\xf3napja");case"MM":return i+(r||e?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(r||e?" \xe9v":" \xe9ve");case"yy":return i+(r||e?" \xe9v":" \xe9ve")}return""}function r(t){return(t?"":"[m\xfalt] ")+"["+e[this.day()]+"] LT[-kor]"}t.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,n){return t<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(t){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(t)},meridiem:function(t){return t<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":t<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":t<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-\u056b\u0576":t+"-\u0580\u0564";default:return t}},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t){return t%100==11||t%10!=1}function n(t,n,r,i){var a=t+" ";switch(r){case"s":return n||i?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return e(t)?a+(n||i?"sek\xfandur":"sek\xfandum"):a+"sek\xfanda";case"m":return n?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return e(t)?a+(n||i?"m\xedn\xfatur":"m\xedn\xfatum"):n?a+"m\xedn\xfata":a+"m\xedn\xfatu";case"hh":return e(t)?a+(n||i?"klukkustundir":"klukkustundum"):a+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return e(t)?n?a+"dagar":a+(i?"daga":"d\xf6gum"):n?a+"dagur":a+(i?"dag":"degi");case"M":return n?"m\xe1nu\xf0ur":i?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return e(t)?n?a+"m\xe1nu\xf0ir":a+(i?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):n?a+"m\xe1nu\xf0ur":a+(i?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return n||i?"\xe1r":"\xe1ri";case"yy":return e(t)?a+(n||i?"\xe1r":"\xe1rum"):a+(n||i?"\xe1r":"\xe1ri")}}t.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ja",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(t){return"\u5348\u5f8c"===t},meridiem:function(t,e,n){return t<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(t){return t.week()<this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(t){return this.week()<t.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";default:return t}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ka",{months:{standalone:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),format:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_")},monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(t){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10ec\u10d4\u10da\u10d8)/.test(t)?t.replace(/\u10d8$/,"\u10e8\u10d8"):t+"\u10e8\u10d8"},past:function(t){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(t)?t.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(t)?t.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):void 0},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(t){return 0===t?t:1===t?t+"-\u10da\u10d8":t<20||t<=100&&t%20==0||t%100==0?"\u10db\u10d4-"+t:t+"-\u10d4"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};t.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},n={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};t.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(t){return"\u179b\u17d2\u1784\u17b6\u1785"===t},meridiem:function(t,e,n){return t<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(t){return t.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},n={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};t.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(t){return t.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===e?t<4?t:t+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===e?t:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===e?t>=10?t:t+12:"\u0cb8\u0c82\u0c9c\u0cc6"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":t<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":t<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":t<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(t){return t+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\uc77c";case"M":return t+"\uc6d4";case"w":case"W":return t+"\uc8fc";default:return t}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(t){return"\uc624\ud6c4"===t},meridiem:function(t,e,n){return t<12?"\uc624\uc804":"\uc624\ud6c4"}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},r=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];t.defineLocale("ku",{months:r,monthsShort:r,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(t){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(t)},meridiem:function(t,e,n){return t<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(t){return n[t]})).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};t.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?i[n][0]:i[n][1]}function n(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return n(0===e?t/10:e)}if(t<1e4){for(;t>=10;)t/=10;return n(t)}return n(t/=1e3)}t.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(t){return n(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return n(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d M\xe9int",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(t){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===t},meridiem:function(t,e,n){return t<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(t){return"\u0e97\u0eb5\u0ec8"+t}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function n(t,e,n,r){return e?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(t){return t%10==0||t>10&&t<20}function i(t){return e[t].split("_")}function a(t,e,a,o){var s=t+" ";return 1===t?s+n(0,e,a[0],o):e?s+(r(t)?i(a)[1]:i(a)[0]):o?s+i(a)[1]:s+(r(t)?i(a)[1]:i(a)[2])}t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(t,e,n,r){return e?"kelios sekund\u0117s":r?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:a,m:n,mm:a,h:n,hh:a,d:n,dd:a,M:n,MM:a,y:n,yy:a},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(t,e,n){return n?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function r(t,r,i){return t+" "+n(e[i],t,r)}function i(t,r,i){return n(e[i],t,r)}t.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(t,e){return e?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u043e\u0441\u043b\u0435 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-\u0435\u0432":0===n?t+"-\u0435\u043d":n>10&&n<20?t+"-\u0442\u0438":1===e?t+"-\u0432\u0438":2===e?t+"-\u0440\u0438":7===e||8===e?t+"-\u043c\u0438":t+"-\u0442\u0438"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===e&&t>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===e||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===e?t+12:t},meridiem:function(t,e,n){return t<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":t<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":t<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":t<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){switch(n){case"s":return e?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return t+(e?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return t+(e?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return t+(e?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return t+(e?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return t+(e?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return t+(e?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return t}}t.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(t){return"\u04ae\u0425"===t},meridiem:function(t,e,n){return t<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" \u04e9\u0434\u04e9\u0440";default:return t}}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function r(t,e,n,r){var i="";if(e)switch(n){case"s":i="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":i="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":i="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":i="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":i="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":i="%d \u0924\u093e\u0938";break;case"d":i="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":i="%d \u0926\u093f\u0935\u0938";break;case"M":i="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":i="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":i="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":i="%d \u0935\u0930\u094d\u0937\u0947"}else switch(n){case"s":i="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":i="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":i="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":i="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":i="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":i="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":i="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":i="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":i="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":i="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":i="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":i="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return i.replace(/%d/i,t)}t.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0930\u093e\u0924\u094d\u0930\u0940|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0930\u093e\u0924\u094d\u0930\u0940"===e?t<4?t:t+12:"\u0938\u0915\u093e\u0933\u0940"===e?t:"\u0926\u0941\u092a\u093e\u0930\u0940"===e?t>=10?t:t+12:"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0930\u093e\u0924\u094d\u0930\u0940":t<10?"\u0938\u0915\u093e\u0933\u0940":t<17?"\u0926\u0941\u092a\u093e\u0930\u0940":t<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},n={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};t.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(t){return t.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};t.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0930\u093e\u0924\u093f"===e?t<4?t:t+12:"\u092c\u093f\u0939\u093e\u0928"===e?t:"\u0926\u093f\u0909\u0901\u0938\u094b"===e?t>=10?t:t+12:"\u0938\u093e\u0901\u091d"===e?t+12:void 0},meridiem:function(t,e,n){return t<3?"\u0930\u093e\u0924\u093f":t<12?"\u092c\u093f\u0939\u093e\u0928":t<16?"\u0926\u093f\u0909\u0901\u0938\u094b":t<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_m\xe5n_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},n={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};t.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(t){return t.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0a30\u0a3e\u0a24"===e?t<4?t:t+12:"\u0a38\u0a35\u0a47\u0a30"===e?t:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===e?t>=10?t:t+12:"\u0a38\u0a3c\u0a3e\u0a2e"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0a30\u0a3e\u0a24":t<10?"\u0a38\u0a35\u0a47\u0a30":t<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":t<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_");function r(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function i(t,e,n){var i=t+" ";switch(n){case"ss":return i+(r(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut\u0119";case"mm":return i+(r(t)?"minuty":"minut");case"h":return e?"godzina":"godzin\u0119";case"hh":return i+(r(t)?"godziny":"godzin");case"MM":return i+(r(t)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return i+(r(t)?"lata":"lat")}}t.defineLocale("pl",{months:function(t,r){return t?""===r?"("+n[t.month()]+"|"+e[t.month()]+")":/D MMMM/.test(r)?n[t.month()]:e[t.month()]:e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:i,m:i,mm:i,h:i,hh:i,d:"1 dzie\u0144",dd:"%d dni",M:"miesi\u0105c",MM:i,y:"rok",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("pt",{months:"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba"})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var r=" ";return(t%100>=20||t>=100&&t%100==0)&&(r=" de "),t+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:e,m:"un minut",mm:e,h:"o or\u0103",hh:e,d:"o zi",dd:e,M:"o lun\u0103",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var r,i;return"m"===n?e?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":t+" "+(r=+t,i={ss:e?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:e?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}var n=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];t.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?\] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:e,m:e,mm:e,h:"\u0447\u0430\u0441",hh:e,d:"\u0434\u0435\u043d\u044c",dd:e,M:"\u043c\u0435\u0441\u044f\u0446",MM:e,y:"\u0433\u043e\u0434",yy:e},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"\u043d\u043e\u0447\u0438":t<12?"\u0443\u0442\u0440\u0430":t<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-\u0439";case"D":return t+"-\u0433\u043e";case"w":case"W":return t+"-\u044f";default:return t}},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],n=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];t.defineLocale("sd",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return"\u0634\u0627\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(t){return t+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(t){return"\u0db4.\u0dc0."===t||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===t},meridiem:function(t,e,n){return t>11?n?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":n?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),n="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function r(t){return t>1&&t<5}function i(t,e,n,i){var a=t+" ";switch(n){case"s":return e||i?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return e||i?a+(r(t)?"sekundy":"sek\xfand"):a+"sekundami";case"m":return e?"min\xfata":i?"min\xfatu":"min\xfatou";case"mm":return e||i?a+(r(t)?"min\xfaty":"min\xfat"):a+"min\xfatami";case"h":return e?"hodina":i?"hodinu":"hodinou";case"hh":return e||i?a+(r(t)?"hodiny":"hod\xedn"):a+"hodinami";case"d":return e||i?"de\u0148":"d\u0148om";case"dd":return e||i?a+(r(t)?"dni":"dn\xed"):a+"d\u0148ami";case"M":return e||i?"mesiac":"mesiacom";case"MM":return e||i?a+(r(t)?"mesiace":"mesiacov"):a+"mesiacmi";case"y":return e||i?"rok":"rokom";case"yy":return e||i?a+(r(t)?"roky":"rokov"):a+"rokmi"}}t.defineLocale("sk",{months:e,monthsShort:n,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+(1===t?e?"sekundo":"sekundi":2===t?e||r?"sekundi":"sekundah":t<5?e||r?"sekunde":"sekundah":"sekund");case"m":return e?"ena minuta":"eno minuto";case"mm":return i+(1===t?e?"minuta":"minuto":2===t?e||r?"minuti":"minutama":t<5?e||r?"minute":"minutami":e||r?"minut":"minutami");case"h":return e?"ena ura":"eno uro";case"hh":return i+(1===t?e?"ura":"uro":2===t?e||r?"uri":"urama":t<5?e||r?"ure":"urami":e||r?"ur":"urami");case"d":return e||r?"en dan":"enim dnem";case"dd":return i+(1===t?e||r?"dan":"dnem":2===t?e||r?"dni":"dnevoma":e||r?"dni":"dnevi");case"M":return e||r?"en mesec":"enim mesecem";case"MM":return i+(1===t?e||r?"mesec":"mesecem":2===t?e||r?"meseca":"mesecema":t<5?e||r?"mesece":"meseci":e||r?"mesecev":"meseci");case"y":return e||r?"eno leto":"enim letom";case"yy":return i+(1===t?e||r?"leto":"letom":2===t?e||r?"leti":"letoma":t<5?e||r?"leta":"leti":e||r?"let":"leti")}}t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,n){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u0435 \u043c\u0438\u043d\u0443\u0442\u0435"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0435","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"\u0434\u0430\u043d",dd:e.translate,M:"\u043c\u0435\u0441\u0435\u0446",MM:e.translate,y:"\u0433\u043e\u0434\u0438\u043d\u0443",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,n){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"e":1===e?"a":2===e?"a":"e")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},n={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};t.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(t){return t+"\u0bb5\u0ba4\u0bc1"},preparse:function(t){return t.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(t,e,n){return t<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":t<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":t<10?" \u0b95\u0bbe\u0bb2\u0bc8":t<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":t<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":t<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(t,e){return 12===t&&(t=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===e?t<2?t:t+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===e||"\u0b95\u0bbe\u0bb2\u0bc8"===e?t:"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===e&&t>=10?t:t+12},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===e?t<4?t:t+12:"\u0c09\u0c26\u0c2f\u0c02"===e?t:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===e?t>=10?t:t+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":t<10?"\u0c09\u0c26\u0c2f\u0c02":t<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":t<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};t.defineLocale("tg",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u041f\u0430\u0433\u043e\u04b3 \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0448\u0430\u0431"===e?t<4?t:t+12:"\u0441\u0443\u0431\u04b3"===e?t:"\u0440\u04ef\u0437"===e?t>=11?t:t+12:"\u0431\u0435\u0433\u043e\u04b3"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0448\u0430\u0431":t<11?"\u0441\u0443\u0431\u04b3":t<16?"\u0440\u04ef\u0437":t<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(t){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===t},meridiem:function(t,e,n){return t<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(t,n,r,i){var a=function(t){var n=Math.floor(t%1e3/100),r=Math.floor(t%100/10),i=t%10,a="";return n>0&&(a+=e[n]+"vatlh"),r>0&&(a+=(""!==a?" ":"")+e[r]+"maH"),i>0&&(a+=(""!==a?" ":"")+e[i]),""===a?"pagh":a}(t);switch(r){case"ss":return a+" lup";case"mm":return a+" tup";case"hh":return a+" rep";case"dd":return a+" jaj";case"MM":return a+" jar";case"yy":return a+" DIS"}}t.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(t){var e=t;return-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"},past:function(t){var e=t;return-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu\u2019":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"},s:"puS lup",ss:n,m:"wa\u2019 tup",mm:n,h:"wa\u2019 rep",hh:n,d:"wa\u2019 jaj",dd:n,M:"wa\u2019 jar",MM:n,y:"wa\u2019 DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};t.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'\u0131nc\u0131";var r=t%10;return t+(e[r]||e[t%100-r]||e[t>=100?100:null])}},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[t+" m\xeduts",t+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[t+" \xfeoras",t+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return r?i[n][0]:e?i[n][0]:i[n][1]}t.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,n){return t>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===e||"\u0633\u06d5\u06be\u06d5\u0631"===e||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===e?t:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===e||"\u0643\u06d5\u0686"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":r<900?"\u0633\u06d5\u06be\u06d5\u0631":r<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":r<1230?"\u0686\u06c8\u0634":r<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return t+"-\u06be\u06d5\u067e\u062a\u06d5";default:return t}},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var r,i;return"m"===n?e?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===n?e?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":t+" "+(r=+t,i={ss:e?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:e?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:e?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}function n(t){return function(){return t+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}t.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function(t,e){var n={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===t?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):t?n[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(e)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:n.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:n("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:n("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:n("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:n("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return n("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:e,m:e,mm:e,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:e,d:"\u0434\u0435\u043d\u044c",dd:e,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:e,y:"\u0440\u0456\u043a",yy:e},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"\u043d\u043e\u0447\u0456":t<12?"\u0440\u0430\u043d\u043a\u0443":t<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-\u0439";case"D":return t+"-\u0433\u043e";default:return t}},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],n=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];t.defineLocale("ur",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return"\u0634\u0627\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n r\u1ed3i l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u51cc\u6668"===e||"\u65e9\u4e0a"===e||"\u4e0a\u5348"===e?t:"\u4e0b\u5348"===e||"\u665a\u4e0a"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";case"M":return t+"\u6708";case"w":case"W":return t+"\u5468";default:return t}},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u51cc\u6668"===e||"\u65e9\u4e0a"===e||"\u4e0a\u5348"===e?t:"\u4e2d\u5348"===e?t>=11?t:t+12:"\u4e0b\u5348"===e||"\u665a\u4e0a"===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";case"M":return t+"\u6708";case"w":case"W":return t+"\u9031";default:return t}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u51cc\u6668"===e||"\u65e9\u4e0a"===e||"\u4e0a\u5348"===e?t:"\u4e2d\u5348"===e?t>=11?t:t+12:"\u4e0b\u5348"===e||"\u665a\u4e0a"===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";case"M":return t+"\u6708";case"w":case"W":return t+"\u9031";default:return t}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(n(0))},function(t,e,n){t.exports=function(t){var e=n(165),r=n(14),i=n(11),a=n(16),o=(t=i(t,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20,stableThreshold:.009})).createQuadTree||n(166),s=t.createBounds||n(170),l=t.createDragForce||n(171),u=t.createSpringForce||n(172),c=t.integrator||n(173),d=t.createBody||n(174),h=[],p=[],f=o(t),m=s(h,t),v=u(t),g=l(t),y=0,_=!1,b={bodies:h,springs:p,settings:t,step:function(){!function(){var t,e=h.length;if(e)for(f.insertBodies(h);e--;)(t=h[e]).isPinned||(t.force.reset(),f.updateBodyForce(t),g.update(t));for(e=p.length;e--;)v.update(p[e])}(),y=c(h,t.timeStep),m.update();var e=y<t.stableThreshold;return _!==e&&b.fire("stable",e),_=e,e},addBody:function(t){if(!t)throw new Error("Body is required");return h.push(t),t},addBodyAt:function(t){if(!t)throw new Error("Body position is required");var e=d(t);return h.push(e),e},removeBody:function(t){if(t){var e=h.indexOf(t);if(!(e<0))return h.splice(e,1),0===h.length&&m.reset(),!0}},addSpring:function(t,n,r,i,a){if(!t||!n)throw new Error("Cannot add null spring to force simulator");"number"!=typeof r&&(r=-1);var o=new e(t,n,r,a>=0?a:-1,i);return p.push(o),o},getTotalMovement:function(){return y},removeSpring:function(t){if(t){var e=p.indexOf(t);return e>-1?(p.splice(e,1),!0):void 0}},getBestNewBodyPosition:function(t){return m.getBestNewPosition(t)},getBBox:function(){return m.box},gravity:function(e){return void 0!==e?(t.gravity=e,f.options({gravity:e}),this):t.gravity},theta:function(e){return void 0!==e?(t.theta=e,f.options({theta:e}),this):t.theta}};return r(t,b),a(b),b}},function(t,e){function n(t,e){this.pos=new r(t,e),this.prevPos=new r(t,e),this.force=new r,this.velocity=new r,this.mass=1}function r(t,e){t&&"number"!=typeof t?(this.x="number"==typeof t.x?t.x:0,this.y="number"==typeof t.y?t.y:0):(this.x="number"==typeof t?t:0,this.y="number"==typeof e?e:0)}function i(t,e,n){this.pos=new a(t,e,n),this.prevPos=new a(t,e,n),this.force=new a,this.velocity=new a,this.mass=1}function a(t,e,n){t&&"number"!=typeof t?(this.x="number"==typeof t.x?t.x:0,this.y="number"==typeof t.y?t.y:0,this.z="number"==typeof t.z?t.z:0):(this.x="number"==typeof t?t:0,this.y="number"==typeof e?e:0,this.z="number"==typeof n?n:0)}t.exports={Body:n,Vector2d:r,Body3d:i,Vector3d:a},n.prototype.setPosition=function(t,e){this.prevPos.x=this.pos.x=t,this.prevPos.y=this.pos.y=e},r.prototype.reset=function(){this.x=this.y=0},i.prototype.setPosition=function(t,e,n){this.prevPos.x=this.pos.x=t,this.prevPos.y=this.pos.y=e,this.prevPos.z=this.pos.z=n},a.prototype.reset=function(){this.x=this.y=this.z=0}},function(t,e,n){"use strict";n.r(e);var r=function(){return new i};function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(t){o(a,t,this.t),o(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new i;function o(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var s=1e-6,l=1e-12,u=Math.PI,c=u/2,d=u/4,h=2*u,p=180/u,f=u/180,m=Math.abs,v=Math.atan,g=Math.atan2,y=Math.cos,_=(Math.ceil,Math.exp,Math.floor,Math.log,Math.pow,Math.sin),b=Math.sign||function(t){return t>0?1:t<0?-1:0},x=Math.sqrt;Math.tan;function w(t){return t>1?0:t<-1?u:Math.acos(t)}function M(t){return t>1?c:t<-1?-c:Math.asin(t)}function A(t){return(t=_(t/2))*t}function E(){}function T(t,e){t&&L.hasOwnProperty(t.type)&&L[t.type](t,e)}var S={Feature:function(t,e){T(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)T(n[r].geometry,e)}},L={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){k(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)k(n[r],e,0)},Polygon:function(t,e){C(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)C(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)T(n[r],e)}};function k(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function C(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)k(t[n],e,1);e.polygonEnd()}var D,P,R,O,I,N=function(t,e){t&&S.hasOwnProperty(t.type)?S[t.type](t,e):T(t,e)},z=r(),B=r(),F={point:E,lineStart:E,lineEnd:E,polygonStart:function(){z.reset(),F.lineStart=j,F.lineEnd=H},polygonEnd:function(){var t=+z;B.add(t<0?h+t:t),this.lineStart=this.lineEnd=this.point=E},sphere:function(){B.add(h)}};function j(){F.point=Y}function H(){U(D,P)}function Y(t,e){F.point=U,D=t,P=e,R=t*=f,O=y(e=(e*=f)/2+d),I=_(e)}function U(t,e){var n=(t*=f)-R,r=n>=0?1:-1,i=r*n,a=y(e=(e*=f)/2+d),o=_(e),s=I*o,l=O*a+s*y(i),u=s*r*_(i);z.add(g(u,l)),R=t,O=a,I=o}function G(t){return[g(t[1],t[0]),M(t[2])]}function V(t){var e=t[0],n=t[1],r=y(n);return[r*y(e),r*_(e),_(n)]}function W(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function q(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function X(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function J(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Z(t){var e=x(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Q,K,$,tt,et,nt,rt,it,at,ot,st=r(),lt={point:ut,lineStart:dt,lineEnd:ht,polygonStart:function(){lt.point=pt,lt.lineStart=ft,lt.lineEnd=mt,st.reset(),F.polygonStart()},polygonEnd:function(){F.polygonEnd(),lt.point=ut,lt.lineStart=dt,lt.lineEnd=ht,z<0?(Q=-($=180),K=-(tt=90)):st>s?tt=90:st<-s&&(K=-90),ot[0]=Q,ot[1]=$},sphere:function(){Q=-($=180),K=-(tt=90)}};function ut(t,e){at.push(ot=[Q=t,$=t]),e<K&&(K=e),e>tt&&(tt=e)}function ct(t,e){var n=V([t*f,e*f]);if(it){var r=q(it,n),i=q([r[1],-r[0],0],r);Z(i),i=G(i);var a,o=t-et,s=o>0?1:-1,l=i[0]*p*s,u=m(o)>180;u^(s*et<l&&l<s*t)?(a=i[1]*p)>tt&&(tt=a):u^(s*et<(l=(l+360)%360-180)&&l<s*t)?(a=-i[1]*p)<K&&(K=a):(e<K&&(K=e),e>tt&&(tt=e)),u?t<et?vt(Q,t)>vt(Q,$)&&($=t):vt(t,$)>vt(Q,$)&&(Q=t):$>=Q?(t<Q&&(Q=t),t>$&&($=t)):t>et?vt(Q,t)>vt(Q,$)&&($=t):vt(t,$)>vt(Q,$)&&(Q=t)}else at.push(ot=[Q=t,$=t]);e<K&&(K=e),e>tt&&(tt=e),it=n,et=t}function dt(){lt.point=ct}function ht(){ot[0]=Q,ot[1]=$,lt.point=ut,it=null}function pt(t,e){if(it){var n=t-et;st.add(m(n)>180?n+(n>0?360:-360):n)}else nt=t,rt=e;F.point(t,e),ct(t,e)}function ft(){F.lineStart()}function mt(){pt(nt,rt),F.lineEnd(),m(st)>s&&(Q=-($=180)),ot[0]=Q,ot[1]=$,it=null}function vt(t,e){return(e-=t)<0?e+360:e}function gt(t,e){return t[0]-e[0]}function yt(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var _t,bt,xt,wt,Mt,At,Et,Tt,St,Lt,kt,Ct,Dt,Pt,Rt,Ot,It={sphere:E,point:Nt,lineStart:Bt,lineEnd:Ht,polygonStart:function(){It.lineStart=Yt,It.lineEnd=Ut},polygonEnd:function(){It.lineStart=Bt,It.lineEnd=Ht}};function Nt(t,e){t*=f;var n=y(e*=f);zt(n*y(t),n*_(t),_(e))}function zt(t,e,n){xt+=(t-xt)/++_t,wt+=(e-wt)/_t,Mt+=(n-Mt)/_t}function Bt(){It.point=Ft}function Ft(t,e){t*=f;var n=y(e*=f);Pt=n*y(t),Rt=n*_(t),Ot=_(e),It.point=jt,zt(Pt,Rt,Ot)}function jt(t,e){t*=f;var n=y(e*=f),r=n*y(t),i=n*_(t),a=_(e),o=g(x((o=Rt*a-Ot*i)*o+(o=Ot*r-Pt*a)*o+(o=Pt*i-Rt*r)*o),Pt*r+Rt*i+Ot*a);bt+=o,At+=o*(Pt+(Pt=r)),Et+=o*(Rt+(Rt=i)),Tt+=o*(Ot+(Ot=a)),zt(Pt,Rt,Ot)}function Ht(){It.point=Nt}function Yt(){It.point=Gt}function Ut(){Vt(Ct,Dt),It.point=Nt}function Gt(t,e){Ct=t,Dt=e,t*=f,e*=f,It.point=Vt;var n=y(e);Pt=n*y(t),Rt=n*_(t),Ot=_(e),zt(Pt,Rt,Ot)}function Vt(t,e){t*=f;var n=y(e*=f),r=n*y(t),i=n*_(t),a=_(e),o=Rt*a-Ot*i,s=Ot*r-Pt*a,l=Pt*i-Rt*r,u=x(o*o+s*s+l*l),c=M(u),d=u&&-c/u;St+=d*o,Lt+=d*s,kt+=d*l,bt+=c,At+=c*(Pt+(Pt=r)),Et+=c*(Rt+(Rt=i)),Tt+=c*(Ot+(Ot=a)),zt(Pt,Rt,Ot)}var Wt=function(t){_t=bt=xt=wt=Mt=At=Et=Tt=St=Lt=kt=0,N(t,It);var e=St,n=Lt,r=kt,i=e*e+n*n+r*r;return i<l&&(e=At,n=Et,r=Tt,bt<s&&(e=xt,n=wt,r=Mt),(i=e*e+n*n+r*r)<l)?[NaN,NaN]:[g(n,e)*p,M(r/x(i))*p]},qt=function(t){return function(){return t}},Xt=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};function Jt(t,e){return[m(t)>u?t+Math.round(-t/h)*h:t,e]}function Zt(t,e,n){return(t%=h)?e||n?Xt(Kt(t),$t(e,n)):Kt(t):e||n?$t(e,n):Jt}function Qt(t){return function(e,n){return[(e+=t)>u?e-h:e<-u?e+h:e,n]}}function Kt(t){var e=Qt(t);return e.invert=Qt(-t),e}function $t(t,e){var n=y(t),r=_(t),i=y(e),a=_(e);function o(t,e){var o=y(e),s=y(t)*o,l=_(t)*o,u=_(e),c=u*n+s*r;return[g(l*i-c*a,s*n-u*r),M(c*i+l*a)]}return o.invert=function(t,e){var o=y(e),s=y(t)*o,l=_(t)*o,u=_(e),c=u*i-l*a;return[g(l*i+u*a,s*n+c*r),M(c*n-s*r)]},o}Jt.invert=Jt;var te=function(t){function e(e){return(e=t(e[0]*f,e[1]*f))[0]*=p,e[1]*=p,e}return t=Zt(t[0]*f,t[1]*f,t.length>2?t[2]*f:0),e.invert=function(e){return(e=t.invert(e[0]*f,e[1]*f))[0]*=p,e[1]*=p,e},e};function ee(t,e,n,r,i,a){if(n){var o=y(e),s=_(e),l=r*n;null==i?(i=e+r*h,a=e-l/2):(i=ne(o,i),a=ne(o,a),(r>0?i<a:i>a)&&(i+=r*h));for(var u,c=i;r>0?c>a:c<a;c-=l)u=G([o,-s*y(c),-s*_(c)]),t.point(u[0],u[1])}}function ne(t,e){(e=V(e))[0]-=t,Z(e);var n=w(-e[1]);return((-e[2]<0?-n:n)+h-s)%h}var re=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:E,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},ie=function(t,e){return m(t[0]-e[0])<s&&m(t[1]-e[1])<s};function ae(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var oe=function(t,e,n,r,i){var a,o,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if(ie(r,o)){for(i.lineStart(),a=0;a<e;++a)i.point((r=t[a])[0],r[1]);i.lineEnd()}else s.push(n=new ae(r,t,null,!0)),l.push(n.o=new ae(r,null,n,!1)),s.push(n=new ae(o,t,null,!1)),l.push(n.o=new ae(o,null,n,!0))}})),s.length){for(l.sort(e),se(s),se(l),a=0,o=l.length;a<o;++a)l[a].e=n=!n;for(var u,c,d=s[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,o=u.length;a<o;++a)i.point((c=u[a])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,a=u.length-1;a>=0;--a)i.point((c=u[a])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}u=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}};function se(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var le=r();function ue(t){return m(t[0])<=u?t[0]:b(t[0])*((m(t[0])+u)%h-u)}var ce,de,he=function(t,e){var n=ue(e),r=e[1],i=_(r),a=[_(n),-y(n),0],o=0,l=0;le.reset(),1===i?r=c+s:-1===i&&(r=-c-s);for(var p=0,f=t.length;p<f;++p)if(v=(m=t[p]).length)for(var m,v,b=m[v-1],x=ue(b),w=b[1]/2+d,A=_(w),E=y(w),T=0;T<v;++T,x=L,A=C,E=D,b=S){var S=m[T],L=ue(S),k=S[1]/2+d,C=_(k),D=y(k),P=L-x,R=P>=0?1:-1,O=R*P,I=O>u,N=A*C;if(le.add(g(N*R*_(O),E*D+N*y(O))),o+=I?P+R*h:P,I^x>=n^L>=n){var z=q(V(b),V(S));Z(z);var B=q(a,z);Z(B);var F=(I^P>=0?-1:1)*M(B[2]);(r>F||r===F&&(z[0]||z[1]))&&(l+=I^P>=0?1:-1)}}return(o<-s||o<s&&le<-s)^1&l},pe=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};1===(ce=pe).length&&(de=ce,ce=function(t,e){return pe(de(t),e)});var fe=Array.prototype,me=(fe.slice,fe.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var ve=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--o]=r[e];return n},ge=function(t,e,n,r){return function(i){var a,o,s,l=e(i),u=re(),c=e(u),d=!1,h={point:p,lineStart:m,lineEnd:v,polygonStart:function(){h.point=g,h.lineStart=y,h.lineEnd=_,o=[],a=[]},polygonEnd:function(){h.point=p,h.lineStart=m,h.lineEnd=v,o=ve(o);var t=he(a,r);o.length?(d||(i.polygonStart(),d=!0),oe(o,_e,t,n,i)):t&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(e,n){t(e,n)&&i.point(e,n)}function f(t,e){l.point(t,e)}function m(){h.point=f,l.lineStart()}function v(){h.point=p,l.lineEnd()}function g(t,e){s.push([t,e]),c.point(t,e)}function y(){c.lineStart(),s=[]}function _(){g(s[0][0],s[0][1]),c.lineEnd();var t,e,n,r,l=c.clean(),h=u.result(),p=h.length;if(s.pop(),a.push(s),s=null,p)if(1&l){if((e=(n=h[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else p>1&&2&l&&h.push(h.pop().concat(h.shift())),o.push(h.filter(ye))}return h}};function ye(t){return t.length>1}function _e(t,e){return((t=t.x)[0]<0?t[1]-c-s:c-t[1])-((e=e.x)[0]<0?e[1]-c-s:c-e[1])}var be=ge((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var l=a>0?u:-u,d=m(a-n);m(d-u)<s?(t.point(n,r=(r+o)/2>0?c:-c),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(a,r),e=0):i!==l&&d>=u&&(m(n-i)<s&&(n-=i*s),m(a-l)<s&&(a-=l*s),r=function(t,e,n,r){var i,a,o=_(t-n);return m(o)>s?v((_(e)*(a=y(r))*_(n)-_(r)*(i=y(e))*_(t))/(i*a*o)):(e+r)/2}(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(l,r),e=0),t.point(n=a,r=o),i=l},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*c,r.point(-u,i),r.point(0,i),r.point(u,i),r.point(u,0),r.point(u,-i),r.point(0,-i),r.point(-u,-i),r.point(-u,0),r.point(-u,i);else if(m(t[0]-e[0])>s){var a=t[0]<e[0]?u:-u;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}),[-u,-c]),xe=function(t){var e=y(t),n=6*f,r=e>0,i=m(e)>s;function a(t,n){return y(t)*y(n)>e}function o(t,n,r){var i=[1,0,0],a=q(V(t),V(n)),o=W(a,a),l=a[0],c=o-l*l;if(!c)return!r&&t;var d=e*o/c,h=-e*l/c,p=q(i,a),f=J(i,d);X(f,J(a,h));var v=p,g=W(f,v),y=W(v,v),_=g*g-y*(W(f,f)-1);if(!(_<0)){var b=x(_),w=J(v,(-g-b)/y);if(X(w,f),w=G(w),!r)return w;var M,A=t[0],E=n[0],T=t[1],S=n[1];E<A&&(M=A,A=E,E=M);var L=E-A,k=m(L-u)<s;if(!k&&S<T&&(M=T,T=S,S=M),k||L<s?k?T+S>0^w[1]<(m(w[0]-A)<s?T:S):T<=w[1]&&w[1]<=S:L>u^(A<=w[0]&&w[0]<=E)){var C=J(v,(-g+b)/y);return X(C,f),[w,G(C)]}}}function l(e,n){var i=r?t:u-t,a=0;return e<-i?a|=1:e>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return ge(a,(function(t){var e,n,c,d,h;return{lineStart:function(){d=c=!1,h=1},point:function(p,f){var m,v=[p,f],g=a(p,f),y=r?g?0:l(p,f):g?l(p+(p<0?u:-u),f):0;if(!e&&(d=c=g)&&t.lineStart(),g!==c&&(!(m=o(e,v))||ie(e,m)||ie(v,m))&&(v[0]+=s,v[1]+=s,g=a(v[0],v[1])),g!==c)h=0,g?(t.lineStart(),m=o(v,e),t.point(m[0],m[1])):(m=o(e,v),t.point(m[0],m[1]),t.lineEnd()),e=m;else if(i&&e&&r^g){var _;y&n||!(_=o(v,e,!0))||(h=0,r?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1])))}!g||e&&ie(e,v)||t.point(v[0],v[1]),e=v,c=g,n=y},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return h|(d&&c)<<1}}}),(function(e,r,i,a){ee(a,t,n,i,e,r)}),r?[0,-t]:[-u,t-u])},we=function(t,e,n,r,i,a){var o,s=t[0],l=t[1],u=0,c=1,d=e[0]-s,h=e[1]-l;if(o=n-s,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<c&&(c=o)}else if(d>0){if(o>c)return;o>u&&(u=o)}if(o=i-s,d||!(o<0)){if(o/=d,d<0){if(o>c)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<c&&(c=o)}if(o=r-l,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<c&&(c=o)}else if(h>0){if(o>c)return;o>u&&(u=o)}if(o=a-l,h||!(o<0)){if(o/=h,h<0){if(o>c)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<c&&(c=o)}return u>0&&(t[0]=s+u*d,t[1]=l+u*h),c<1&&(e[0]=s+c*d,e[1]=l+c*h),!0}}}}},Me=1e9,Ae=-Me;function Ee(t,e,n,r){function i(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function a(i,a,s,l){var c=0,d=0;if(null==i||(c=o(i,s))!==(d=o(a,s))||u(i,a)<0^s>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==d);else l.point(a[0],a[1])}function o(r,i){return m(r[0]-t)<s?i>0?0:3:m(r[0]-n)<s?i>0?2:1:m(r[1]-e)<s?i>0?1:0:i>0?3:2}function l(t,e){return u(t.x,e.x)}function u(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){var s,u,c,d,h,p,f,m,v,g,y,_=o,b=re(),x={point:w,lineStart:function(){x.point=M,u&&u.push(c=[]),g=!0,v=!1,f=m=NaN},lineEnd:function(){s&&(M(d,h),p&&v&&b.rejoin(),s.push(b.result())),x.point=w,v&&_.lineEnd()},polygonStart:function(){_=b,s=[],u=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=u.length;n<i;++n)for(var a,o,s=u[n],l=1,c=s.length,d=s[0],h=d[0],p=d[1];l<c;++l)a=h,o=p,h=(d=s[l])[0],p=d[1],o<=r?p>r&&(h-a)*(r-o)>(p-o)*(t-a)&&++e:p<=r&&(h-a)*(r-o)<(p-o)*(t-a)&&--e;return e}(),n=y&&e,i=(s=ve(s)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&oe(s,l,e,a,o),o.polygonEnd()),_=o,s=u=c=null}};function w(t,e){i(t,e)&&_.point(t,e)}function M(a,o){var s=i(a,o);if(u&&c.push([a,o]),g)d=a,h=o,p=s,g=!1,s&&(_.lineStart(),_.point(a,o));else if(s&&v)_.point(a,o);else{var l=[f=Math.max(Ae,Math.min(Me,f)),m=Math.max(Ae,Math.min(Me,m))],b=[a=Math.max(Ae,Math.min(Me,a)),o=Math.max(Ae,Math.min(Me,o))];we(l,b,t,e,n,r)?(v||(_.lineStart(),_.point(l[0],l[1])),_.point(b[0],b[1]),s||_.lineEnd(),y=!1):s&&(_.lineStart(),_.point(a,o),y=!1)}f=a,m=o,v=s}return x}}r();var Te=function(t,e){var n=t[0]*f,r=t[1]*f,i=e[0]*f,a=e[1]*f,o=y(r),s=_(r),l=y(a),u=_(a),c=o*y(n),d=o*_(n),h=l*y(i),m=l*_(i),v=2*M(x(A(a-r)+o*l*A(i-n))),b=_(v),w=v?function(t){var e=_(t*=v)/b,n=_(v-t)/b,r=n*c+e*h,i=n*d+e*m,a=n*s+e*u;return[g(i,r)*p,g(a,x(r*r+i*i))*p]}:function(){return[n*p,r*p]};return w.distance=v,w},Se=function(t){return t};r(),r();var Le=1/0,ke=Le,Ce=-Le,De=Ce,Pe={point:function(t,e){t<Le&&(Le=t),t>Ce&&(Ce=t),e<ke&&(ke=e),e>De&&(De=e)},lineStart:E,lineEnd:E,polygonStart:E,polygonEnd:E,result:function(){var t=[[Le,ke],[Ce,De]];return Ce=De=-(ke=Le=1/0),t}};function Re(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Oe(t){return function(e){var n=new Ie;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Ie(){}function Ne(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),N(n,t.stream(Pe)),e(Pe.result()),null!=r&&t.clipExtent(r),t}function ze(t,e,n){return Ne(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+e[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([o,s])}),n)}r(),Re(4.5),Ie.prototype={constructor:Ie,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Be=16,Fe=y(30*f),je=function(t,e){return+e?function(t,e){function n(r,i,a,o,l,u,c,d,h,p,f,v,y,_){var b=c-r,w=d-i,A=b*b+w*w;if(A>4*e&&y--){var E=o+p,T=l+f,S=u+v,L=x(E*E+T*T+S*S),k=M(S/=L),C=m(m(S)-1)<s||m(a-h)<s?(a+h)/2:g(T,E),D=t(C,k),P=D[0],R=D[1],O=P-r,I=R-i,N=w*O-b*I;(N*N/A>e||m((b*O+w*I)/A-.5)>.3||o*p+l*f+u*v<Fe)&&(n(r,i,a,o,l,u,P,R,C,E/=L,T/=L,S,y,_),_.point(P,R),n(P,R,C,E,T,S,c,d,h,p,f,v,y,_))}}return function(e){var r,i,a,o,s,l,u,c,d,h,p,f,m={point:v,lineStart:g,lineEnd:_,polygonStart:function(){e.polygonStart(),m.lineStart=b},polygonEnd:function(){e.polygonEnd(),m.lineStart=g}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function g(){c=NaN,m.point=y,e.lineStart()}function y(r,i){var a=V([r,i]),o=t(r,i);n(c,d,u,h,p,f,c=o[0],d=o[1],u=r,h=a[0],p=a[1],f=a[2],Be,e),e.point(c,d)}function _(){m.point=v,e.lineEnd()}function b(){g(),m.point=x,m.lineEnd=w}function x(t,e){y(r=t,e),i=c,a=d,o=h,s=p,l=f,m.point=y}function w(){n(c,d,u,h,p,f,i,a,r,o,s,l,Be,e),m.lineEnd=_,_()}return m}}(t,e):function(t){return Oe({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},He=Oe({point:function(t,e){this.stream.point(t*f,e*f)}});function Ye(t,e,n,r){var i=y(r),a=_(r),o=i*t,s=a*t,l=i/t,u=a/t,c=(a*n-i*e)/t,d=(a*e+i*n)/t;function h(t,r){return[o*t-s*r+e,n-s*t-o*r]}return h.invert=function(t,e){return[l*t-u*e+c,d-u*t-l*e]},h}function Ue(t){return Ge((function(){return t}))()}function Ge(t){var e,n,r,i,a,o,s,l,u,c,d=150,h=480,m=250,v=0,g=0,y=0,_=0,b=0,w=0,M=null,A=be,E=null,T=Se,S=.5;function L(t){return l(t[0]*f,t[1]*f)}function k(t){return(t=l.invert(t[0],t[1]))&&[t[0]*p,t[1]*p]}function C(){var t=Ye(d,0,0,w).apply(null,e(v,g)),r=(w?Ye:function(t,e,n){function r(r,i){return[e+t*r,n-t*i]}return r.invert=function(r,i){return[(r-e)/t,(n-i)/t]},r})(d,h-t[0],m-t[1],w);return n=Zt(y,_,b),s=Xt(e,r),l=Xt(n,s),o=je(s,S),D()}function D(){return u=c=null,L}return L.stream=function(t){return u&&c===t?u:u=He(function(t){return Oe({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(A(o(T(c=t)))))},L.preclip=function(t){return arguments.length?(A=t,M=void 0,D()):A},L.postclip=function(t){return arguments.length?(T=t,E=r=i=a=null,D()):T},L.clipAngle=function(t){return arguments.length?(A=+t?xe(M=t*f):(M=null,be),D()):M*p},L.clipExtent=function(t){return arguments.length?(T=null==t?(E=r=i=a=null,Se):Ee(E=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),D()):null==E?null:[[E,r],[i,a]]},L.scale=function(t){return arguments.length?(d=+t,C()):d},L.translate=function(t){return arguments.length?(h=+t[0],m=+t[1],C()):[h,m]},L.center=function(t){return arguments.length?(v=t[0]%360*f,g=t[1]%360*f,C()):[v*p,g*p]},L.rotate=function(t){return arguments.length?(y=t[0]%360*f,_=t[1]%360*f,b=t.length>2?t[2]%360*f:0,C()):[y*p,_*p,b*p]},L.angle=function(t){return arguments.length?(w=t%360*f,C()):w*p},L.precision=function(t){return arguments.length?(o=je(s,S=t*t),D()):x(S)},L.fitExtent=function(t,e){return ze(L,t,e)},L.fitSize=function(t,e){return function(t,e,n){return ze(t,[[0,0],e],n)}(L,t,e)},L.fitWidth=function(t,e){return function(t,e,n){return Ne(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];t.scale(150*i).translate([a,o])}),n)}(L,t,e)},L.fitHeight=function(t,e){return function(t,e,n){return Ne(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,o])}),n)}(L,t,e)},function(){return e=t.apply(this,arguments),L.invert=e.invert&&k,C()}}function Ve(t){return function(e,n){var r=y(e),i=y(n),a=t(r*i);return[a*i*_(e),a*_(n)]}}function We(t){return function(e,n){var r=x(e*e+n*n),i=t(r),a=_(i),o=y(i);return[g(e*a,r*o),M(r&&n*a/r)]}}var qe=Ve((function(t){return x(2/(1+t))}));qe.invert=We((function(t){return 2*M(t/2)}));var Xe=Ve((function(t){return(t=w(t))&&t/_(t)}));function Je(t,e){return[t,e]}Xe.invert=We((function(t){return t})),Je.invert=Je;x(3);function Ze(t,e){var n=y(e),r=y(t)*n;return[n*_(t)/r,_(e)/r]}Ze.invert=We(v);var Qe=function(){return Ue(Ze).scale(144.049).clipAngle(60)};function Ke(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Ke.invert=function(t,e){var n,r=e,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-e)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(m(n)>s&&--i>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]};var $e=function(){return Ue(Ke).scale(175.295)};function tn(t,e){return[y(e)*_(t),_(e)]}tn.invert=We(M);var en=function(){return Ue(tn).scale(249.5).clipAngle(90+s)};We((function(t){return 2*v(t)}));var nn=Math.abs,rn=Math.atan,an=Math.atan2,on=(Math.ceil,Math.cos),sn=Math.exp,ln=Math.floor,un=Math.log,cn=Math.max,dn=Math.min,hn=Math.pow,pn=Math.round,fn=Math.sign||function(t){return t>0?1:t<0?-1:0},mn=Math.sin,vn=Math.tan,gn=1e-6,yn=1e-12,_n=Math.PI,bn=_n/2,xn=_n/4,wn=Math.SQRT1_2,Mn=Cn(2),An=Cn(_n),En=2*_n,Tn=180/_n,Sn=_n/180;function Ln(t){return t>1?bn:t<-1?-bn:Math.asin(t)}function kn(t){return t>1?0:t<-1?_n:Math.acos(t)}function Cn(t){return t>0?Math.sqrt(t):0}function Dn(t){return(sn(t)-sn(-t))/2}function Pn(t){return(sn(t)+sn(-t))/2}function Rn(t){var e=vn(t/2),n=2*un(on(t/2))/(e*e);function r(t,e){var r=on(t),i=on(e),a=mn(e),o=i*r,s=-((1-o?un((1+o)/2)/(1-o):-.5)+n/(1+o));return[s*i*mn(t),s*a]}return r.invert=function(e,r){var i,a=Cn(e*e+r*r),o=-t/2,s=50;if(!a)return[0,0];do{var l=o/2,u=on(l),c=mn(l),d=vn(l),h=un(1/u);o-=i=(2/d*h-n*d-a)/(-h/(c*c)+1-n/(2*u*u))}while(nn(i)>gn&&--s>0);var p=mn(o);return[an(e*p,a*on(o)),Ln(r*p/a)]},r}var On=function(){var t=bn,e=Ge(Rn),n=e(t);return n.radius=function(n){return arguments.length?e(t=n*Sn):t*Tn},n.scale(179.976).clipAngle(147)};function In(t,e){var n=on(e),r=function(t){return t?t/Math.sin(t):1}(kn(n*on(t/=2)));return[2*n*mn(t)*r,mn(e)*r]}In.invert=function(t,e){if(!(t*t+4*e*e>_n*_n+gn)){var n=t,r=e,i=25;do{var a,o=mn(n),s=mn(n/2),l=on(n/2),u=mn(r),c=on(r),d=mn(2*r),h=u*u,p=c*c,f=s*s,m=1-p*l*l,v=m?kn(c*l)*Cn(a=1/m):a=0,g=2*v*c*s-t,y=v*u-e,_=a*(p*f+v*c*l*h),b=a*(.5*o*d-2*v*u*s),x=.25*a*(d*s-v*u*p*o),w=a*(h*l+v*f*c),M=b*x-w*_;if(!M)break;var A=(y*b-g*w)/M,E=(g*x-y*_)/M;n-=A,r-=E}while((nn(A)>gn||nn(E)>gn)&&--i>0);return[n,r]}};var Nn=function(){return Ue(In).scale(152.63)};function zn(t){var e=mn(t),n=on(t),r=t>=0?1:-1,i=vn(r*t),a=(1+e-n)/2;function o(t,o){var s=on(o),l=on(t/=2);return[(1+s)*mn(t),(r*o>-an(l,i)-.001?0:10*-r)+a+mn(o)*n-(1+s)*e*l]}return o.invert=function(t,o){var s=0,l=0,u=50;do{var c=on(s),d=mn(s),h=on(l),p=mn(l),f=1+h,m=f*d-t,v=a+p*n-f*e*c-o,g=f*c/2,y=-d*p,_=e*f*d/2,b=n*h+e*c*p,x=y*_-b*g,w=(v*y-m*b)/x/2,M=(m*_-v*g)/x;s-=w,l-=M}while((nn(w)>gn||nn(M)>gn)&&--u>0);return r*l>-an(on(s),i)-.001?[2*s,l]:null},o}var Bn=function(){var t=20*Sn,e=t>=0?1:-1,n=vn(e*t),r=Ge(zn),i=r(t),a=i.stream;return i.parallel=function(i){return arguments.length?(n=vn((e=(t=i*Sn)>=0?1:-1)*t),r(t)):t*Tn},i.stream=function(r){var o=i.rotate(),s=a(r),l=(i.rotate([0,0]),a(r)),u=i.precision();return i.rotate(o),s.sphere=function(){l.polygonStart(),l.lineStart();for(var r=-180*e;e*r<180;r+=90*e)l.point(r,90*e);if(t)for(;e*(r-=3*e*u)>=-180;)l.point(r,e*-an(on(r*Sn/2),n)*Tn);l.lineEnd(),l.polygonEnd()},s},i.scale(218.695).center([0,28.0974])};function Fn(t,e){var n=vn(e/2),r=Cn(1-n*n),i=1+r*on(t/=2),a=mn(t)*r/i,o=n/i,s=a*a,l=o*o;return[4/3*a*(3+s-3*l),4/3*o*(3+3*s-l)]}Fn.invert=function(t,e){if(e*=3/8,!(t*=3/8)&&nn(e)>1)return null;var n=1+t*t+e*e,r=Cn((n-Cn(n*n-4*e*e))/2),i=Ln(r)/3,a=r?function(t){return un(t+Cn(t*t-1))}(nn(e/r))/3:function(t){return un(t+Cn(t*t+1))}(nn(t))/3,o=on(i),s=Pn(a),l=s*s-o*o;return[2*fn(t)*an(Dn(a)*o,.25-l),2*fn(e)*an(s*mn(i),.25+l)]};var jn=function(){return Ue(Fn).scale(66.1603)},Hn=Cn(8),Yn=un(1+Mn);function Un(t,e){var n=nn(e);return n<xn?[t,un(vn(xn+e/2))]:[t*on(n)*(2*Mn-1/mn(n)),fn(e)*(2*Mn*(n-xn)-un(vn(n/2)))]}Un.invert=function(t,e){if((r=nn(e))<Yn)return[t,2*rn(sn(e))-bn];var n,r,i=xn,a=25;do{var o=on(i/2),s=vn(i/2);i-=n=(Hn*(i-xn)-un(s)-r)/(Hn-o*o/(2*s))}while(nn(n)>yn&&--a>0);return[t/(on(i)*(Hn-1/mn(i))),fn(e)*i]};var Gn=function(){return Ue(Un).scale(112.314)};function Vn(t){var e=2*_n/t;function n(t,n){var r=Xe(t,n);if(nn(t)>bn){var i=an(r[1],r[0]),a=Cn(r[0]*r[0]+r[1]*r[1]),o=e*pn((i-bn)/e)+bn,s=an(mn(i-=o),2-on(i));i=o+Ln(_n/a*mn(s))-s,r[0]=a*on(i),r[1]=a*mn(i)}return r}return n.invert=function(t,n){var r=Cn(t*t+n*n);if(r>bn){var i=an(n,t),a=e*pn((i-bn)/e)+bn,o=i>a?-1:1,s=r*on(a-i),l=1/vn(o*kn((s-_n)/Cn(_n*(_n-2*s)+r*r)));i=a+2*rn((l+o*Cn(l*l-3))/3),t=r*on(i),n=r*mn(i)}return Xe.invert(t,n)},n}var Wn=function(){var t=5,e=Ge(Vn),n=e(t),r=n.stream,i=-on(.01*Sn),a=mn(.01*Sn);return n.lobes=function(n){return arguments.length?e(t=+n):t},n.stream=function(e){var o=n.rotate(),s=r(e),l=(n.rotate([0,0]),r(e));return n.rotate(o),s.sphere=function(){l.polygonStart(),l.lineStart();for(var e=0,n=360/t,r=2*_n/t,o=90-180/t,s=bn;e<t;++e,o-=n,s-=r)l.point(an(a*on(s),i)*Tn,Ln(a*mn(s))*Tn),o<-90?(l.point(-90,-180-o-.01),l.point(-90,-180-o+.01)):(l.point(90,o+.01),l.point(90,o-.01));l.lineEnd(),l.polygonEnd()},s},n.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};function qn(t,e){if(arguments.length<2&&(e=t),1===e)return qe;if(e===1/0)return Xn;function n(n,r){var i=qe(n/e,r);return i[0]*=t,i}return n.invert=function(n,r){var i=qe.invert(n/t,r);return i[0]*=e,i},n}function Xn(t,e){return[t*on(e)/on(e/=2),2*mn(e)]}Xn.invert=function(t,e){var n=2*Ln(e/2);return[t*on(n/2)/on(n),n]};var Jn=function(){var t=2,e=Ge(qn),n=e(t);return n.coefficient=function(n){return arguments.length?e(t=+n):t},n.scale(169.529)};function Zn(){var t=qn(1.68,2);return function(e,n){if(e+n<-1.4){var r=(e-n+1.6)*(e+n+1.4)/8;e+=r,n-=.8*r*mn(n+_n/2)}var i=t(e,n),a=(1-on(e*n))/12;return i[1]<0&&(i[0]*=1+a),i[1]>0&&(i[1]*=1+a/1.5*i[0]*i[0]),i}}var Qn=function(){var t=Ue(Zn());return t.rotate([-16.5,-42]),delete t.rotate,t.scale(176.57).center([7.93,.09])};function Kn(t,e){var n,r=t*mn(e),i=30;do{e-=n=(e+mn(e)-r)/(1+on(e))}while(nn(n)>gn&&--i>0);return e/2}function $n(t,e,n){function r(r,i){return[t*r*on(i=Kn(n,i)),e*mn(i)]}return r.invert=function(r,i){return i=Ln(i/e),[r/(t*on(i)),Ln((2*i+mn(2*i))/n)]},r}var tr=$n(Mn/bn,Mn,_n),er=function(){return Ue(tr).scale(169.529)},nr=2.00276,rr=1.11072;function ir(t,e){var n=Kn(_n,e);return[nr*t/(1/on(e)+rr/on(n)),(e+Mn*mn(n))/nr]}ir.invert=function(t,e){var n,r,i=nr*e,a=e<0?-xn:xn,o=25;do{r=i-Mn*mn(a),a-=n=(mn(2*a)+2*a-_n*mn(r))/(2*on(2*a)+2+_n*on(r)*Mn*on(a))}while(nn(n)>gn&&--o>0);return r=i-Mn*mn(a),[t*(1/on(r)+rr/on(a))/nr,r]};var ar=function(){return Ue(ir).scale(160.857)},or=function(t){var e=0,n=Ge(t),r=n(e);return r.parallel=function(t){return arguments.length?n(e=t*Sn):e*Tn},r};function sr(t,e){return[t*on(e),e]}sr.invert=function(t,e){return[t/on(e),e]};var lr=function(){return Ue(sr).scale(152.63)};function ur(t){if(!t)return sr;var e=1/vn(t);function n(n,r){var i=e+t-r,a=i?n*on(r)/i:i;return[i*mn(a),e-i*on(a)]}return n.invert=function(n,r){var i=Cn(n*n+(r=e-r)*r),a=e+t-i;return[i/on(a)*an(n,r),a]},n}var cr=function(){return or(ur).scale(123.082).center([0,26.1441]).parallel(45)};function dr(t){function e(e,n){var r=bn-n,i=r?e*t*mn(r)/r:r;return[r*mn(i)/t,bn-r*on(i)]}return e.invert=function(e,n){var r=e*t,i=bn-n,a=Cn(r*r+i*i),o=an(r,i);return[(a?a/mn(a):1)*o/t,bn-a]},e}var hr=function(){var t=.5,e=Ge(dr),n=e(t);return n.fraction=function(n){return arguments.length?e(t=+n):t},n.scale(158.837)},pr=$n(1,4/_n,_n),fr=function(){return Ue(pr).scale(152.63)};function mr(t,e,n,r,i,a){var o,s=on(a);if(nn(t)>1||nn(a)>1)o=kn(n*i+e*r*s);else{var l=mn(t/2),u=mn(a/2);o=2*Ln(Cn(l*l+e*r*u*u))}return nn(o)>gn?[o,an(r*mn(a),e*i-n*r*s)]:[0,0]}function vr(t,e,n){return kn((t*t+e*e-n*n)/(2*t*e))}function gr(t){return t-2*_n*ln((t+_n)/(2*_n))}function yr(t,e,n){for(var r,i=[[t[0],t[1],mn(t[1]),on(t[1])],[e[0],e[1],mn(e[1]),on(e[1])],[n[0],n[1],mn(n[1]),on(n[1])]],a=i[2],o=0;o<3;++o,a=r)r=i[o],a.v=mr(r[1]-a[1],a[3],a[2],r[3],r[2],r[0]-a[0]),a.point=[0,0];var s=vr(i[0].v[0],i[2].v[0],i[1].v[0]),l=vr(i[0].v[0],i[1].v[0],i[2].v[0]),u=_n-s;i[2].point[1]=0,i[0].point[0]=-(i[1].point[0]=i[0].v[0]/2);var c=[i[2].point[0]=i[0].point[0]+i[2].v[0]*on(s),2*(i[0].point[1]=i[1].point[1]=i[2].v[0]*mn(s))];return function(t,e){var n,r=mn(e),a=on(e),o=new Array(3);for(n=0;n<3;++n){var s=i[n];if(o[n]=mr(e-s[1],s[3],s[2],a,r,t-s[0]),!o[n][0])return s.point;o[n][1]=gr(o[n][1]-s.v[1])}var d=c.slice();for(n=0;n<3;++n){var h=2==n?0:n+1,p=vr(i[n].v[0],o[n][0],o[h][0]);o[n][1]<0&&(p=-p),n?1==n?(p=l-p,d[0]-=o[n][0]*on(p),d[1]-=o[n][0]*mn(p)):(p=u-p,d[0]+=o[n][0]*on(p),d[1]+=o[n][0]*mn(p)):(d[0]+=o[n][0]*on(p),d[1]-=o[n][0]*mn(p))}return d[0]/=3,d[1]/=3,d}}function _r(t){return t[0]*=Sn,t[1]*=Sn,t}function br(){return xr([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function xr(t,e,n){var r=Wt({type:"MultiPoint",coordinates:[t,e,n]}),i=[-r[0],-r[1]],a=te(i),o=Ue(yr(_r(a(t)),_r(a(e)),_r(a(n)))).rotate(i),s=o.center;return delete o.rotate,o.center=function(t){return arguments.length?s(a(t)):a.invert(s())},o.clipAngle(90)}function wr(t,e){var n=Cn(1-mn(e));return[2/An*t*n,An*(1-n)]}wr.invert=function(t,e){var n=(n=e/An-1)*n;return[n>0?t*Cn(_n/n)/2:0,Ln(1-n)]};var Mr=function(){return Ue(wr).scale(95.6464).center([0,30])};function Ar(t){var e=vn(t);function n(t,n){return[t,(t?t/mn(t):1)*(mn(n)*on(t)-e*on(n))]}return n.invert=e?function(t,n){t&&(n*=mn(t)/t);var r=on(t);return[t,2*an(Cn(r*r+e*e-n*n)-r,e-n)]}:function(t,e){return[t,Ln(t?e*vn(t)/t:e)]},n}var Er=function(){return or(Ar).scale(249.828).clipAngle(90)},Tr=Cn(3);function Sr(t,e){return[Tr*t*(2*on(2*e/3)-1)/An,Tr*An*mn(e/3)]}Sr.invert=function(t,e){var n=3*Ln(e/(Tr*An));return[An*t/(Tr*(2*on(2*n/3)-1)),n]};var Lr=function(){return Ue(Sr).scale(156.19)};function kr(t){var e=on(t);function n(t,n){return[t*e,mn(n)/e]}return n.invert=function(t,n){return[t/e,Ln(n*e)]},n}var Cr=function(){return or(kr).parallel(38.58).scale(195.044)};function Dr(t){var e=on(t);function n(t,n){return[t*e,(1+e)*vn(n/2)]}return n.invert=function(t,n){return[t/e,2*rn(n/(1+e))]},n}var Pr=function(){return or(Dr).scale(124.75)};function Rr(t,e){var n=Cn(8/(3*_n));return[n*t*(1-nn(e)/_n),n*e]}Rr.invert=function(t,e){var n=Cn(8/(3*_n)),r=e/n;return[t/(n*(1-nn(r)/_n)),r]};var Or=function(){return Ue(Rr).scale(165.664)};function Ir(t,e){var n=Cn(4-3*mn(nn(e)));return[2/Cn(6*_n)*t*n,fn(e)*Cn(2*_n/3)*(2-n)]}Ir.invert=function(t,e){var n=2-nn(e)/Cn(2*_n/3);return[t*Cn(6*_n)/(2*n),fn(e)*Ln((4-n*n)/3)]};var Nr=function(){return Ue(Ir).scale(165.664)};function zr(t,e){var n=Cn(_n*(4+_n));return[2/n*t*(1+Cn(1-4*e*e/(_n*_n))),4/n*e]}zr.invert=function(t,e){var n=Cn(_n*(4+_n))/2;return[t*n/(1+Cn(1-e*e*(4+_n)/(4*_n))),e*n/2]};var Br=function(){return Ue(zr).scale(180.739)};function Fr(t,e){var n=(2+bn)*mn(e);e/=2;for(var r=0,i=1/0;r<10&&nn(i)>gn;r++){var a=on(e);e-=i=(e+mn(e)*(a+2)-n)/(2*a*(1+a))}return[2/Cn(_n*(4+_n))*t*(1+on(e)),2*Cn(_n/(4+_n))*mn(e)]}Fr.invert=function(t,e){var n=e*Cn((4+_n)/_n)/2,r=Ln(n),i=on(r);return[t/(2/Cn(_n*(4+_n))*(1+i)),Ln((r+n*(i+2))/(2+bn))]};var jr=function(){return Ue(Fr).scale(180.739)};function Hr(t,e){return[t*(1+on(e))/Cn(2+_n),2*e/Cn(2+_n)]}Hr.invert=function(t,e){var n=Cn(2+_n),r=e*n/2;return[n*t/(1+on(r)),r]};var Yr=function(){return Ue(Hr).scale(173.044)};function Ur(t,e){for(var n=(1+bn)*mn(e),r=0,i=1/0;r<10&&nn(i)>gn;r++)e-=i=(e+mn(e)-n)/(1+on(e));return n=Cn(2+_n),[t*(1+on(e))/n,2*e/n]}Ur.invert=function(t,e){var n=1+bn,r=Cn(n/2);return[2*t*r/(1+on(e*=r)),Ln((e+mn(e))/n)]};var Gr=function(){return Ue(Ur).scale(173.044)},Vr=3+2*Mn;function Wr(t,e){var n=mn(t/=2),r=on(t),i=Cn(on(e)),a=on(e/=2),o=mn(e)/(a+Mn*r*i),s=Cn(2/(1+o*o)),l=Cn((Mn*a+(r+n)*i)/(Mn*a+(r-n)*i));return[Vr*(s*(l-1/l)-2*un(l)),Vr*(s*o*(l+1/l)-2*rn(o))]}Wr.invert=function(t,e){if(!(n=Fn.invert(t/1.2,1.065*e)))return null;var n,r=n[0],i=n[1],a=20;t/=Vr,e/=Vr;do{var o=r/2,s=i/2,l=mn(o),u=on(o),c=mn(s),d=on(s),h=on(i),p=Cn(h),f=c/(d+Mn*u*p),m=f*f,v=Cn(2/(1+m)),g=(Mn*d+(u+l)*p)/(Mn*d+(u-l)*p),y=Cn(g),_=y-1/y,b=y+1/y,x=v*_-2*un(y)-t,w=v*f*b-2*rn(f)-e,M=c&&wn*p*l*m/c,A=(Mn*u*d+p)/(2*(d+Mn*u*p)*(d+Mn*u*p)*p),E=-.5*f*v*v*v,T=E*M,S=E*A,L=(L=2*d+Mn*p*(u-l))*L*y,k=(Mn*u*d*p+h)/L,C=-Mn*l*c/(p*L),D=_*T-2*k/y+v*(k+k/g),P=_*S-2*C/y+v*(C+C/g),R=f*b*T-2*M/(1+m)+v*b*M+v*f*(k-k/g),O=f*b*S-2*A/(1+m)+v*b*A+v*f*(C-C/g),I=P*R-O*D;if(!I)break;var N=(w*P-x*O)/I,z=(x*R-w*D)/I;r-=N,i=cn(-bn,dn(bn,i-z))}while((nn(N)>gn||nn(z)>gn)&&--a>0);return nn(nn(i)-bn)<gn?[0,i]:a&&[r,i]};var qr=function(){return Ue(Wr).scale(62.5271)},Xr=on(35*Sn);function Jr(t,e){var n=vn(e/2);return[t*Xr*Cn(1-n*n),(1+Xr)*n]}Jr.invert=function(t,e){var n=e/(1+Xr);return[t&&t/(Xr*Cn(1-n*n)),2*rn(n)]};var Zr=function(){return Ue(Jr).scale(137.152)};function Qr(t,e){var n=e/2,r=on(n);return[2*t/An*on(e)*r*r,An*vn(n)]}Qr.invert=function(t,e){var n=rn(e/An),r=on(n),i=2*n;return[t*An/2/(on(i)*r*r),i]};var Kr=function(){return Ue(Qr).scale(135.264)};function $r(t,e,n){var r,i,a,o=100;n=void 0===n?0:+n,e=+e;do{(i=t(n))===(a=t(n+gn))&&(a=i+gn),n-=r=-1*gn*(i-e)/(i-a)}while(o-- >0&&nn(r)>gn);return o<0?NaN:n}function ti(t){var e=1-t,n=i(_n,0)[0]-i(-_n,0)[0],r=Cn(2*(i(0,bn)[1]-i(0,-bn)[1])/n);function i(n,r){var i=on(r),a=mn(r);return[i/(e+t*i)*n,e*r+t*a]}function a(t,e){var n=i(t,e);return[n[0]*r,n[1]/r]}function o(t){return a(0,t)[1]}return a.invert=function(n,i){var a=$r(o,i);return[n/r*(t+e/on(a)),a]},a}var ei=function(){var t=.5,e=Ge(ti),n=e(t);return n.alpha=function(n){return arguments.length?e(t=+n):t},n.scale(168.725)};function ni(t){return[t[0]/2,Ln(vn(t[1]/2*Sn))*Tn]}function ri(t){return[2*t[0],2*rn(mn(t[1]*Sn))*Tn]}var ii=function(t){null==t&&(t=en);var e=t(),n=Ue(Je).scale(152.63).scale(Tn).precision(0).clipAngle(null).translate([0,0]);function r(t){return e(ni(t))}function i(t){r[t]=function(){return arguments.length?(e[t].apply(e,arguments),r):e[t]()}}return e.invert&&(r.invert=function(t){return ri(e.invert(t))}),r.stream=function(t){var r=e.stream(t),i=n.stream({point:function(t,e){r.point(t/2,Ln(vn(-e/2*Sn))*Tn)},lineStart:function(){r.lineStart()},lineEnd:function(){r.lineEnd()},polygonStart:function(){r.polygonStart()},polygonEnd:function(){r.polygonEnd()}});return i.sphere=r.sphere,i},r.rotate=function(t){return arguments.length?(n.rotate(t),r):n.rotate()},r.center=function(t){return arguments.length?(e.center(ni(t)),r):ri(e.center())},i("angle"),i("clipAngle"),i("clipExtent"),i("fitExtent"),i("fitHeight"),i("fitSize"),i("fitWidth"),i("scale"),i("translate"),i("precision"),r.scale(249.5)};function ai(t,e){var n=2*_n/e,r=t*t;function i(e,i){var a=Xe(e,i),o=a[0],s=a[1],l=o*o+s*s;if(l>r){var u=Cn(l),c=an(s,o),d=n*pn(c/n),h=c-d,p=t*on(h),f=(t*mn(h)-h*mn(p))/(bn-p),m=oi(h,f),v=(_n-t)/si(m,p,_n);o=u;var g,y=50;do{o-=g=(t+si(m,p,o)*v-u)/(m(o)*v)}while(nn(g)>gn&&--y>0);s=h*mn(o),o<bn&&(s-=f*(o-bn));var _=mn(d),b=on(d);a[0]=o*b-s*_,a[1]=o*_+s*b}return a}return i.invert=function(e,i){var a=e*e+i*i;if(a>r){var o=Cn(a),s=an(i,e),l=n*pn(s/n),u=s-l;e=o*on(u),i=o*mn(u);for(var c=e-bn,d=mn(e),h=i/d,p=e<bn?1/0:0,f=10;;){var m=t*mn(h),v=t*on(h),g=mn(v),y=bn-v,_=(m-h*g)/y,b=oi(h,_);if(nn(p)<yn||!--f)break;h-=p=(h*d-_*c-i)/(d-2*c*(y*(v+h*m*on(v)-g)-m*(m-h*g))/(y*y))}e=(o=t+si(b,v,e)*(_n-t)/si(b,v,_n))*on(s=l+h),i=o*mn(s)}return Xe.invert(e,i)},i}function oi(t,e){return function(n){var r=t*on(n);return n<bn&&(r-=e),Cn(1+r*r)}}function si(t,e,n){for(var r=(n-e)/50,i=t(e)+t(n),a=1,o=e;a<50;++a)i+=2*t(o+=r);return.5*i*r}var li=function(){var t=6,e=30*Sn,n=on(e),r=mn(e),i=Ge(ai),a=i(e,t),o=a.stream,s=-on(.01*Sn),l=mn(.01*Sn);return a.radius=function(a){return arguments.length?(n=on(e=a*Sn),r=mn(e),i(e,t)):e*Tn},a.lobes=function(n){return arguments.length?i(e,t=+n):t},a.stream=function(e){var i=a.rotate(),u=o(e),c=(a.rotate([0,0]),o(e));return a.rotate(i),u.sphere=function(){c.polygonStart(),c.lineStart();for(var e=0,i=2*_n/t,a=0;e<t;++e,a-=i)c.point(an(l*on(a),s)*Tn,Ln(l*mn(a))*Tn),c.point(an(r*on(a-i/2),n)*Tn,Ln(r*mn(a-i/2))*Tn);c.lineEnd(),c.polygonEnd()},u},a.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},ui=function(t,e,n,r,i,a,o,s){function l(l,u){if(!u)return[t*l/_n,0];var c=u*u,d=t+c*(e+c*(n+c*r)),h=u*(i-1+c*(a-s+c*o)),p=(d*d+h*h)/(2*h),f=l*Ln(d/p)/_n;return[p*mn(f),u*(1+c*s)+p*(1-on(f))]}return arguments.length<8&&(s=0),l.invert=function(l,u){var c,d,h=_n*l/t,p=u,f=50;do{var m=p*p,v=t+m*(e+m*(n+m*r)),g=p*(i-1+m*(a-s+m*o)),y=v*v+g*g,_=2*g,b=y/_,x=b*b,w=Ln(v/b)/_n,M=h*w,A=v*v,E=(2*e+m*(4*n+6*m*r))*p,T=i+m*(3*a+5*m*o),S=(2*(v*E+g*(T-1))*_-y*(2*(T-1)))/(_*_),L=on(M),k=mn(M),C=b*L,D=b*k,P=h/_n*(1/Cn(1-A/x))*(E*b-v*S)/x,R=D-l,O=p*(1+m*s)+b-C-u,I=S*k+C*P,N=C*w,z=1+S-(S*L-D*P),B=D*w,F=I*B-z*N;if(!F)break;h-=c=(O*I-R*z)/F,p-=d=(R*B-O*N)/F}while((nn(c)>gn||nn(d)>gn)&&--f>0);return[h,p]},l},ci=ui(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),di=function(){return Ue(ci).scale(149.995)},hi=ui(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),pi=function(){return Ue(hi).scale(153.93)},fi=ui(5/6*_n,-.62636,-.0344,0,1.3493,-.05524,0,.045),mi=function(){return Ue(fi).scale(130.945)};function vi(t,e){var n=t*t,r=e*e;return[t*(1-.162388*r)*(.87-952426e-9*n*n),e*(1+r/12)]}vi.invert=function(t,e){var n,r=t,i=e,a=50;do{var o=i*i;i-=n=(i*(1+o/12)-e)/(1+o/4)}while(nn(n)>gn&&--a>0);a=50,t/=1-.162388*o;do{var s=(s=r*r)*s;r-=n=(r*(.87-952426e-9*s)-t)/(.87-.00476213*s)}while(nn(n)>gn&&--a>0);return[r,i]};var gi=function(){return Ue(vi).scale(131.747)},yi=ui(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762),_i=function(){return Ue(yi).scale(131.087)},bi=function(t){var e=t(bn,0)[0]-t(-bn,0)[0];function n(n,r){var i=n>0?-.5:.5,a=t(n+i*_n,r);return a[0]-=i*e,a}return t.invert&&(n.invert=function(n,r){var i=n>0?-.5:.5,a=t.invert(n+i*e,r),o=a[0]-i*_n;return o<-_n?o+=2*_n:o>_n&&(o-=2*_n),a[0]=o,a}),n};function xi(t,e){var n=fn(t),r=fn(e),i=on(e),a=on(t)*i,o=mn(t)*i,s=mn(r*e);t=nn(an(o,s)),e=Ln(a),nn(t-bn)>gn&&(t%=bn);var l=function(t,e){if(e===bn)return[0,0];var n,r,i=mn(e),a=i*i,o=a*a,s=1+o,l=1+3*o,u=1-o,c=Ln(1/Cn(s)),d=u+a*s*c,h=(1-i)/d,p=Cn(h),f=h*s,m=Cn(f),v=p*u;if(0===t)return[0,-(v+a*m)];var g,y=on(e),_=1/y,b=2*i*y,x=(-d*y-(-3*a+c*l)*b*(1-i))/(d*d),w=-_*b,M=-_*(a*s*x+h*l*b),A=-2*_*(u*(.5*x/p)-2*a*p*b),E=4*t/_n;if(t>.222*_n||e<_n/4&&t>.175*_n){if(n=(v+a*Cn(f*(1+o)-v*v))/(1+o),t>_n/4)return[n,n];var T=n,S=.5*n;n=.5*(S+T),r=50;do{var L=n*(A+w*Cn(f-n*n))+M*Ln(n/m)-E;if(!L)break;L<0?S=n:T=n,n=.5*(S+T)}while(nn(T-S)>gn&&--r>0)}else{n=gn,r=25;do{var k=n*n,C=Cn(f-k),D=A+w*C,P=n*D+M*Ln(n/m)-E;n-=g=C?P/(D+(M-w*k)/C):0}while(nn(g)>gn&&--r>0)}return[n,-v-a*Cn(f-n*n)]}(t>_n/4?bn-t:t,e);return t>_n/4&&(s=l[0],l[0]=-l[1],l[1]=-s),l[0]*=n,l[1]*=-r,l}xi.invert=function(t,e){nn(t)>1&&(t=2*fn(t)-t),nn(e)>1&&(e=2*fn(e)-e);var n=fn(t),r=fn(e),i=-n*t,a=-r*e,o=a/i<1,s=function(t,e){for(var n=0,r=1,i=.5,a=50;;){var o=i*i,s=Cn(i),l=Ln(1/Cn(1+o)),u=1-o+i*(1+o)*l,c=(1-s)/u,d=Cn(c),h=c*(1+o),p=d*(1-o),f=Cn(h-t*t),m=e+p+i*f;if(nn(r-n)<yn||0==--a||0===m)break;m>0?n=i:r=i,i=.5*(n+r)}if(!a)return null;var v=Ln(s),g=on(v),y=1/g,_=2*s*g,b=(-u*g-(-3*i+l*(1+3*o))*_*(1-s))/(u*u);return[_n/4*(t*(-2*y*(.5*b/d*(1-o)-2*i*d*_)+-y*_*f)+-y*(i*(1+o)*b+c*(1+3*o)*_)*Ln(t/Cn(h))),v]}(o?a:i,o?i:a),l=s[0],u=s[1],c=on(u);return o&&(l=-bn-l),[n*(an(mn(l)*c,-mn(u))+_n),r*Ln(on(l)*c)]};var wi=function(){return Ue(bi(xi)).scale(239.75)};function Mi(t,e){var n,r,i,a,o,s;if(e<gn)return[(a=mn(t))-(n=e*(t-a*(r=on(t)))/4)*r,r+n*a,1-e*a*a/2,t-n];if(e>=1-gn)return n=(1-e)/4,i=1/(r=Pn(t)),[(a=((s=sn(2*(s=t)))-1)/(s+1))+n*((o=r*Dn(t))-t)/(r*r),i-n*a*i*(o-t),i+n*a*i*(o+t),2*rn(sn(t))-bn+n*(o-t)/r];var l=[1,0,0,0,0,0,0,0,0],u=[Cn(e),0,0,0,0,0,0,0,0],c=0;for(r=Cn(1-e),o=1;nn(u[c]/l[c])>gn&&c<8;)n=l[c++],u[c]=(n-r)/2,l[c]=(n+r)/2,r=Cn(n*r),o*=2;i=o*l[c]*t;do{i=(Ln(a=u[c]*mn(r=i)/l[c])+i)/2}while(--c);return[mn(i),a=on(i),a/on(i-r),i]}function Ai(t,e){if(!e)return t;if(1===e)return un(vn(t/2+xn));for(var n=1,r=Cn(1-e),i=Cn(e),a=0;nn(i)>gn;a++){if(t%_n){var o=rn(r*vn(t)/n);o<0&&(o+=_n),t+=o+~~(t/_n)*_n}else t+=t;i=(n+r)/2,r=Cn(n*r),i=((n=i)-r)/2}return t/(hn(2,a)*n)}function Ei(t,e){var n=(Mn-1)/(Mn+1),r=Cn(1-n*n),i=Ai(bn,r*r),a=un(vn(_n/4+nn(e)/2)),o=sn(-1*a)/Cn(n),s=function(t,e){var n=t*t,r=e+1,i=1-n-e*e;return[.5*((t>=0?bn:-bn)-an(i,2*t)),-.25*un(i*i+4*n)+.5*un(r*r+n)]}(o*on(-1*t),o*mn(-1*t)),l=function(t,e,n){var r=nn(t),i=Dn(nn(e));if(r){var a=1/mn(r),o=1/(vn(r)*vn(r)),s=-(o+n*(i*i*a*a)-1+n),l=(-s+Cn(s*s-(n-1)*o*4))/2;return[Ai(rn(1/Cn(l)),n)*fn(t),Ai(rn(Cn((l/o-1)/n)),1-n)*fn(e)]}return[0,Ai(rn(i),1-n)*fn(e)]}(s[0],s[1],r*r);return[-l[1],(e>=0?1:-1)*(.5*i-l[0])]}Ei.invert=function(t,e){var n,r,i,a,o,s,l=(Mn-1)/(Mn+1),u=Cn(1-l*l),c=(r=-t,i=u*u,(n=.5*Ai(bn,u*u)-e)?(a=Mi(n,i),r?(s=(o=Mi(r,1-i))[1]*o[1]+i*a[0]*a[0]*o[0]*o[0],[[a[0]*o[2]/s,a[1]*a[2]*o[0]*o[1]/s],[a[1]*o[1]/s,-a[0]*a[2]*o[0]*o[2]/s],[a[2]*o[1]*o[2]/s,-i*a[0]*a[1]*o[0]/s]]):[[a[0],0],[a[1],0],[a[2],0]]):[[0,(o=Mi(r,1-i))[0]/o[1]],[1/o[1],0],[o[2]/o[1],0]]),d=function(t,e){var n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}(c[0],c[1]);return[an(d[1],d[0])/-1,2*rn(sn(-.5*un(l*d[0]*d[0]+l*d[1]*d[1])))-bn]};var Ti=function(){return Ue(bi(Ei)).scale(151.496)};function Si(t){var e=mn(t),n=on(t),r=Li(t);function i(t,i){var a=r(t,i);t=a[0],i=a[1];var o=mn(i),s=on(i),l=on(t),u=kn(e*o+n*s*l),c=mn(u),d=nn(c)>gn?u/c:1;return[d*n*mn(t),(nn(t)>bn?d:-d)*(e*s-n*o*l)]}return r.invert=Li(-t),i.invert=function(t,n){var i=Cn(t*t+n*n),a=-mn(i),o=on(i),s=i*o,l=-n*a,u=i*e,c=Cn(s*s+l*l-u*u),d=an(s*u+l*c,l*u-s*c),h=(i>bn?-1:1)*an(t*a,i*on(d)*o+n*mn(d)*a);return r.invert(h,d)},i}function Li(t){var e=mn(t),n=on(t);return function(t,r){var i=on(r),a=on(t)*i,o=mn(t)*i,s=mn(r);return[an(o,a*n-s*e),Ln(s*n+a*e)]}}var ki=function(){var t=0,e=Ge(Si),n=e(t),r=n.rotate,i=n.stream,a=function(){var t,e,n=qt([0,0]),r=qt(90),i=qt(6),a={point:function(n,r){t.push(n=e(n,r)),n[0]*=p,n[1]*=p}};function o(){var o=n.apply(this,arguments),s=r.apply(this,arguments)*f,l=i.apply(this,arguments)*f;return t=[],e=Zt(-o[0]*f,-o[1]*f,0).invert,ee(a,s,l,1),o={type:"Polygon",coordinates:[t]},t=e=null,o}return o.center=function(t){return arguments.length?(n="function"==typeof t?t:qt([+t[0],+t[1]]),o):n},o.radius=function(t){return arguments.length?(r="function"==typeof t?t:qt(+t),o):r},o.precision=function(t){return arguments.length?(i="function"==typeof t?t:qt(+t),o):i},o}();return n.parallel=function(r){if(!arguments.length)return t*Tn;var i=n.rotate();return e(t=r*Sn).rotate(i)},n.rotate=function(e){return arguments.length?(r.call(n,[e[0],e[1]-t*Tn]),a.center([-e[0],-e[1]]),n):((e=r.call(n))[1]+=t*Tn,e)},n.stream=function(t){return(t=i(t)).sphere=function(){t.polygonStart();var e,n=a.radius(89.99)().coordinates[0],r=n.length-1,i=-1;for(t.lineStart();++i<r;)t.point((e=n[i])[0],e[1]);for(t.lineEnd(),r=(n=a.radius(90.01)().coordinates[0]).length-1,t.lineStart();--i>=0;)t.point((e=n[i])[0],e[1]);t.lineEnd(),t.polygonEnd()},t},n.scale(79.4187).parallel(45).clipAngle(179.999)},Ci=41+48/36+37/3600,Di=kr(0);function Pi(t){var e=Ci*Sn,n=wr(_n,e)[0]-wr(-_n,e)[0],r=Di(0,e)[1],i=wr(0,e)[1],a=An-i,o=En/t,s=4/En,l=r+a*a*4/En;function u(u,c){var d,h=nn(c);if(h>e){var p=dn(t-1,cn(0,ln((u+_n)/o)));(d=wr(u+=_n*(t-1)/t-p*o,h))[0]=d[0]*En/n-En*(t-1)/(2*t)+p*En/t,d[1]=r+4*(d[1]-i)*a/En,c<0&&(d[1]=-d[1])}else d=Di(u,c);return d[0]*=s,d[1]/=l,d}return u.invert=function(e,u){e/=s;var c=nn(u*=l);if(c>r){var d=dn(t-1,cn(0,ln((e+_n)/o)));e=(e+_n*(t-1)/t-d*o)*n/En;var h=wr.invert(e,.25*(c-r)*En/a+i);return h[0]-=_n*(t-1)/t-d*o,u<0&&(h[1]=-h[1]),h}return Di.invert(e,u)},u}function Ri(t,e){return[t,1&e?90-gn:Ci]}function Oi(t,e){return[t,1&e?-90+gn:-Ci]}function Ii(t){return[t[0]*(1-gn),t[1]]}var Ni=function(){var t=4,e=Ge(Pi),n=e(t),r=n.stream;return n.lobes=function(n){return arguments.length?e(t=+n):t},n.stream=function(e){var i=n.rotate(),a=r(e),o=(n.rotate([0,0]),r(e));return n.rotate(i),a.sphere=function(){var e,n;N((n=[].concat(me(-180,180+(e=180/t)/2,e).map(Ri),me(180,-180-e/2,-e).map(Oi)),{type:"Polygon",coordinates:[180===e?n.map(Ii):n]}),o)},a},n.scale(239.75)};function zi(t){var e,n=1+t,r=Ln(mn(1/n)),i=2*Cn(_n/(e=_n+4*r*n)),a=.5*i*(n+Cn(t*(2+t))),o=t*t,s=n*n;function l(l,u){var c,d,h=1-mn(u);if(h&&h<2){var p,f=bn-u,m=25;do{var v=mn(f),g=on(f),y=r+an(v,n-g),_=1+s-2*n*g;f-=p=(f-o*r-n*v+_*y-.5*h*e)/(2*n*v*y)}while(nn(p)>yn&&--m>0);c=i*Cn(_),d=l*y/_n}else c=i*(t+h),d=l*r/_n;return[c*mn(d),a-c*on(d)]}return l.invert=function(t,l){var u=t*t+(l-=a)*l,c=(1+s-u/(i*i))/(2*n),d=kn(c),h=mn(d),p=r+an(h,n-c);return[Ln(t/Cn(u))*_n/p,Ln(1-2*(d-o*r-n*h+(1+s-2*n*c)*p)/e)]},l}var Bi=function(){var t=1,e=Ge(zi),n=e(t);return n.ratio=function(n){return arguments.length?e(t=+n):t},n.scale(167.774).center([0,18.67])},Fi=.7109889596207567,ji=.0528035274542;function Hi(t,e){return e>-Fi?((t=tr(t,e))[1]+=ji,t):sr(t,e)}Hi.invert=function(t,e){return e>-Fi?tr.invert(t,e-ji):sr.invert(t,e)};var Yi=function(){return Ue(Hi).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};function Ui(t,e){return nn(e)>Fi?((t=tr(t,e))[1]-=e>0?ji:-ji,t):sr(t,e)}Ui.invert=function(t,e){return nn(e)>Fi?tr.invert(t,e+(e>0?ji:-ji)):sr.invert(t,e)};var Gi=function(){return Ue(Ui).scale(152.63)};function Vi(t,e,n,r){var i=Cn(4*_n/(2*n+(1+t-e/2)*mn(2*n)+(t+e)/2*mn(4*n)+e/2*mn(6*n))),a=Cn(r*mn(n)*Cn((1+t*on(2*n)+e*on(4*n))/(1+t+e))),o=n*l(1);function s(n){return Cn(1+t*on(2*n)+e*on(4*n))}function l(r){var i=r*n;return(2*i+(1+t-e/2)*mn(2*i)+(t+e)/2*mn(4*i)+e/2*mn(6*i))/n}function u(t){return s(t)*mn(t)}var c=function(t,e){var r=n*$r(l,o*mn(e)/n,e/_n);isNaN(r)&&(r=n*fn(e));var u=i*s(r);return[u*a*t/_n*on(r),u/a*mn(r)]};return c.invert=function(t,e){var r=$r(u,e*a/i);return[t*_n/(on(r)*i*a*s(r)),Ln(n*l(r/n)/o)]},0===n&&(i=Cn(r/_n),(c=function(t,e){return[t*i,mn(e)/i]}).invert=function(t,e){return[t/i,Ln(e*i)]}),c}var Wi=function(){var t=1,e=0,n=45*Sn,r=2,i=Ge(Vi),a=i(t,e,n,r);return a.a=function(a){return arguments.length?i(t=+a,e,n,r):t},a.b=function(a){return arguments.length?i(t,e=+a,n,r):e},a.psiMax=function(a){return arguments.length?i(t,e,n=+a*Sn,r):n*Tn},a.ratio=function(a){return arguments.length?i(t,e,n,r=+a):r},a.scale(180.739)};function qi(t,e,n){function r(n){return t+(1-t)*hn(1-hn(n,e),1/e)}function i(t){return function(t,e,n,r,i){void 0===r&&(r=1e-8),void 0===i&&(i=20);var a=t(e),o=t(.5*(e+n)),s=t(n);return function t(e,n,r,i,a,o,s,l,u,c,d){if(d.nanEncountered)return NaN;var h,p,f,m,v,g,y,_,b,x;if(p=e(n+.25*(h=r-n)),f=e(r-.25*h),isNaN(p))d.nanEncountered=!0;else{if(!isNaN(f))return x=((g=(m=h*(i+4*p+a)/12)+(v=h*(a+4*f+o)/12))-s)/15,c>u?(d.maxDepthCount++,g+x):Math.abs(x)<l?g+x:(_=t(e,n,y=n+.5*h,i,p,a,m,.5*l,u,c+1,d),isNaN(_)?(d.nanEncountered=!0,NaN):(b=t(e,y,r,a,f,o,v,.5*l,u,c+1,d),isNaN(b)?(d.nanEncountered=!0,NaN):_+b));d.nanEncountered=!0}}(t,e,n,a,o,s,(a+4*o+s)*(n-e)/6,r,i,1,{maxDepthCount:0,nanEncountered:!1})}(r,0,t,1e-4)}for(var a=1/i(1),o=1e3,s=(1+1e-8)*a,l=[],u=0;u<=o;u++)l.push(i(u/o)*s);function c(t){var e=0,n=o,r=o>>1;do{l[r]>t?n=r:e=r,r=e+n>>1}while(r>e);var i=l[r+1]-l[r];return i&&(i=(t-l[r+1])/i),(r+1+i)/o}var d=2*c(1)/_n*a/n,h=function(t,e){var n=c(nn(mn(e))),i=r(n)*t;return n/=d,[i,e>=0?n:-n]};return h.invert=function(t,e){var n;return nn(e*=d)<1&&(n=fn(e)*Ln(i(nn(e))*a)),[t/r(nn(e)),n]},h}var Xi=function(){var t=0,e=2.5,n=1.183136,r=Ge(qi),i=r(t,e,n);return i.alpha=function(i){return arguments.length?r(t=+i,e,n):t},i.k=function(i){return arguments.length?r(t,e=+i,n):e},i.gamma=function(i){return arguments.length?r(t,e,n=+i):n},i.scale(152.63)};function Ji(t,e){return nn(t[0]-e[0])<gn&&nn(t[1]-e[1])<gn}function Zi(t,e){for(var n,r,i,a=-1,o=t.length,s=t[0],l=[];++a<o;){r=((n=t[a])[0]-s[0])/e,i=(n[1]-s[1])/e;for(var u=0;u<e;++u)l.push([s[0]+u*r,s[1]+u*i]);s=n}return l.push(n),l}function Qi(t){var e,n,r,i,a,o,s,l=[],u=t[0].length;for(s=0;s<u;++s)n=(e=t[0][s])[0][0],r=e[0][1],i=e[1][1],a=e[2][0],o=e[2][1],l.push(Zi([[n+gn,r+gn],[n+gn,i-gn],[a-gn,i-gn],[a-gn,o+gn]],30));for(s=t[1].length-1;s>=0;--s)n=(e=t[1][s])[0][0],r=e[0][1],i=e[1][1],a=e[2][0],o=e[2][1],l.push(Zi([[a-gn,o-gn],[a-gn,i+gn],[n+gn,i+gn],[n+gn,r-gn]],30));return{type:"Polygon",coordinates:[ve(l)]}}var Ki=function(t,e){var n,r;function i(n,r){for(var i=r<0?-1:1,a=e[+(r<0)],o=0,s=a.length-1;o<s&&n>a[o][2][0];++o);var l=t(n-a[o][1][0],r);return l[0]+=t(a[o][1][0],i*r>i*a[o][0][1]?a[o][0][1]:r)[0],l}t.invert&&(i.invert=function(n,a){for(var o=r[+(a<0)],s=e[+(a<0)],l=0,u=o.length;l<u;++l){var c=o[l];if(c[0][0]<=n&&n<c[1][0]&&c[0][1]<=a&&a<c[1][1]){var d=t.invert(n-t(s[l][1][0],0)[0],a);return d[0]+=s[l][1][0],Ji(i(d[0],d[1]),[n,a])?d:null}}});var a=Ue(i),o=a.stream;return a.stream=function(t){var e=a.rotate(),r=o(t),i=(a.rotate([0,0]),o(t));return a.rotate(e),r.sphere=function(){N(n,i)},r},a.lobes=function(i){return arguments.length?(n=Qi(i),e=i.map((function(t){return t.map((function(t){return[[t[0][0]*Sn,t[0][1]*Sn],[t[1][0]*Sn,t[1][1]*Sn],[t[2][0]*Sn,t[2][1]*Sn]]}))})),r=e.map((function(e){return e.map((function(e){var n,r=t(e[0][0],e[0][1])[0],i=t(e[2][0],e[2][1])[0],a=t(e[1][0],e[0][1])[1],o=t(e[1][0],e[1][1])[1];return a>o&&(n=a,a=o,o=n),[[r,a],[i,o]]}))})),a):e.map((function(t){return t.map((function(t){return[[t[0][0]*Tn,t[0][1]*Tn],[t[1][0]*Tn,t[1][1]*Tn],[t[2][0]*Tn,t[2][1]*Tn]]}))}))},null!=e&&a.lobes(e),a},$i=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],ta=function(){return Ki(ir,$i).scale(160.857)},ea=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],na=function(){return Ki(Ui,ea).scale(152.63)},ra=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],ia=function(){return Ki(tr,ra).scale(169.529)},aa=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],oa=function(){return Ki(tr,aa).scale(169.529).rotate([20,0])},sa=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],la=function(){return Ki(Hi,sa).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},ua=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]],ca=function(){return Ki(sr,ua).scale(152.63).rotate([-20,0])};function da(t,e){return[3/En*t*Cn(_n*_n/3-e*e),e]}da.invert=function(t,e){return[En/3*t/Cn(_n*_n/3-e*e),e]};var ha=function(){return Ue(da).scale(158.837)};function pa(t){function e(e,n){if(nn(nn(n)-bn)<gn)return[0,n<0?-2:2];var r=mn(n),i=hn((1+r)/(1-r),t/2),a=.5*(i+1/i)+on(e*=t);return[2*mn(e)/a,(i-1/i)/a]}return e.invert=function(e,n){var r=nn(n);if(nn(r-2)<gn)return e?null:[0,fn(n)*bn];if(r>2)return null;var i=(e/=2)*e,a=(n/=2)*n,o=2*n/(1+i+a);return o=hn((1+o)/(1-o),1/t),[an(2*e,1-i-a)/t,Ln((o-1)/(o+1))]},e}var fa=function(){var t=.5,e=Ge(pa),n=e(t);return n.spacing=function(n){return arguments.length?e(t=+n):t},n.scale(124.75)},ma=_n/Mn;function va(t,e){return[t*(1+Cn(on(e)))/2,e/(on(e/2)*on(t/6))]}va.invert=function(t,e){var n=nn(t),r=nn(e),i=gn,a=bn;r<ma?a*=r/ma:i+=6*kn(ma/r);for(var o=0;o<25;o++){var s=mn(a),l=Cn(on(a)),u=mn(a/2),c=on(a/2),d=mn(i/6),h=on(i/6),p=.5*i*(1+l)-n,f=a/(c*h)-r,m=l?-.25*i*s/l:0,v=.5*(1+l),g=(1+.5*a*u/c)/(c*h),y=a/c*(d/6)/(h*h),_=m*y-g*v,b=(p*y-f*v)/_,x=(f*m-p*g)/_;if(a-=b,i-=x,nn(b)<gn&&nn(x)<gn)break}return[t<0?-i:i,e<0?-a:a]};var ga=function(){return Ue(va).scale(97.2672)};function ya(t,e){var n=t*t,r=e*e;return[t*(.975534+r*(-.0143059*n-.119161+-.0547009*r)),e*(1.00384+n*(.0802894+-.02855*r+199025e-9*n)+r*(.0998909+-.0491032*r))]}ya.invert=function(t,e){var n=fn(t)*_n,r=e/2,i=50;do{var a=n*n,o=r*r,s=n*r,l=n*(.975534+o*(-.0143059*a-.119161+-.0547009*o))-t,u=r*(1.00384+a*(.0802894+-.02855*o+199025e-9*a)+o*(.0998909+-.0491032*o))-e,c=.975534-o*(.119161+3*a*.0143059+.0547009*o),d=-s*(.238322+.2188036*o+.0286118*a),h=s*(.1605788+7961e-7*a+-.0571*o),p=1.00384+a*(.0802894+199025e-9*a)+o*(3*(.0998909-.02855*a)-.245516*o),f=d*h-p*c,m=(u*d-l*p)/f,v=(l*h-u*c)/f;n-=m,r-=v}while((nn(m)>gn||nn(v)>gn)&&--i>0);return i&&[n,r]};var _a=function(){return Ue(ya).scale(139.98)};function ba(t,e){return[mn(t)/on(e),vn(e)*on(t)]}ba.invert=function(t,e){var n=t*t,r=e*e+1,i=n+r,a=t?wn*Cn((i-Cn(i*i-4*n))/n):1/Cn(r);return[Ln(t*a),fn(e)*kn(a)]};var xa=function(){return Ue(ba).scale(144.049).clipAngle(89.999)};function wa(t){var e=on(t),n=vn(xn+t/2);function r(r,i){var a=i-t,o=nn(a)<gn?r*e:nn(o=xn+i/2)<gn||nn(nn(o)-bn)<gn?0:r*a/un(vn(o)/n);return[o,a]}return r.invert=function(r,i){var a,o=i+t;return[nn(i)<gn?r/e:nn(a=xn+o/2)<gn||nn(nn(a)-bn)<gn?0:r*un(vn(a)/n)/i,o]},r}var Ma=function(){return or(wa).parallel(40).scale(158.837)};function Aa(t,e){return[t,1.25*un(vn(xn+.4*e))]}Aa.invert=function(t,e){return[t,2.5*rn(sn(.8*e))-.625*_n]};var Ea=function(){return Ue(Aa).scale(108.318)};function Ta(t){var e=t.length-1;function n(n,r){for(var i,a=on(r),o=2/(1+a*on(n)),s=o*a*mn(n),l=o*mn(r),u=e,c=t[u],d=c[0],h=c[1];--u>=0;)d=(c=t[u])[0]+s*(i=d)-l*h,h=c[1]+s*h+l*i;return[d=s*(i=d)-l*h,h=s*h+l*i]}return n.invert=function(n,r){var i=20,a=n,o=r;do{for(var s,l=e,u=t[l],c=u[0],d=u[1],h=0,p=0;--l>=0;)h=c+a*(s=h)-o*p,p=d+a*p+o*s,c=(u=t[l])[0]+a*(s=c)-o*d,d=u[1]+a*d+o*s;var f,m,v=(h=c+a*(s=h)-o*p)*h+(p=d+a*p+o*s)*p;a-=f=((c=a*(s=c)-o*d-n)*h+(d=a*d+o*s-r)*p)/v,o-=m=(d*h-c*p)/v}while(nn(f)+nn(m)>gn*gn&&--i>0);if(i){var g=Cn(a*a+o*o),y=2*rn(.5*g),_=mn(y);return[an(a*_,g*on(y)),g?Ln(o*_/g):0]}},n}var Sa=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],La=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],ka=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Ca=[[.9245,0],[0,0],[.01943,0]],Da=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Pa(){return za(Sa,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)}function Ra(){return za(La,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Oa(){return za(ka,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Ia(){return za(Ca,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Na(){return za(Da,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function za(t,e){var n=Ue(Ta(t)).rotate(e).clipAngle(90),r=te(e),i=n.center;return delete n.rotate,n.center=function(t){return arguments.length?i(r(t)):r.invert(i())},n}var Ba=Cn(6),Fa=Cn(7);function ja(t,e){var n=Ln(7*mn(e)/(3*Ba));return[Ba*t*(2*on(2*n/3)-1)/Fa,9*mn(n/3)/Fa]}ja.invert=function(t,e){var n=3*Ln(e*Fa/9);return[t*Fa/(Ba*(2*on(2*n/3)-1)),Ln(3*mn(n)*Ba/7)]};var Ha=function(){return Ue(ja).scale(164.859)};function Ya(t,e){for(var n,r=(1+wn)*mn(e),i=e,a=0;a<25&&(i-=n=(mn(i/2)+mn(i)-r)/(.5*on(i/2)+on(i)),!(nn(n)<gn));a++);return[t*(1+2*on(i)/on(i/2))/(3*Mn),2*Cn(3)*mn(i/2)/Cn(2+Mn)]}Ya.invert=function(t,e){var n=e*Cn(2+Mn)/(2*Cn(3)),r=2*Ln(n);return[3*Mn*t/(1+2*on(r)/on(r/2)),Ln((n+mn(r))/(1+wn))]};var Ua=function(){return Ue(Ya).scale(188.209)};function Ga(t,e){for(var n,r=Cn(6/(4+_n)),i=(1+_n/4)*mn(e),a=e/2,o=0;o<25&&(a-=n=(a/2+mn(a)-i)/(.5+on(a)),!(nn(n)<gn));o++);return[r*(.5+on(a))*t/1.5,r*a]}Ga.invert=function(t,e){var n=Cn(6/(4+_n)),r=e/n;return nn(nn(r)-bn)<gn&&(r=r<0?-bn:bn),[1.5*t/(n*(.5+on(r))),Ln((r/2+mn(r))/(1+_n/4))]};var Va=function(){return Ue(Ga).scale(166.518)};function Wa(t,e){var n=e*e,r=n*n,i=n*r;return[t*(.84719-.13063*n+i*i*(.05494*n-.04515-.02326*r+.00331*i)),e*(1.01183+r*r*(.01926*n-.02625-.00396*r))]}Wa.invert=function(t,e){var n,r,i,a,o=e,s=25;do{o-=n=(o*(1.01183+(i=(r=o*o)*r)*i*(.01926*r-.02625-.00396*i))-e)/(1.01183+i*i*(.21186*r-.23625+-.05148*i))}while(nn(n)>yn&&--s>0);return[t/(.84719-.13063*(r=o*o)+(a=r*(i=r*r))*a*(.05494*r-.04515-.02326*i+.00331*a)),o]};var qa=function(){return Ue(Wa).scale(175.295)};function Xa(t,e){return[t*(1+on(e))/2,2*(e-vn(e/2))]}Xa.invert=function(t,e){for(var n=e/2,r=0,i=1/0;r<10&&nn(i)>gn;++r){var a=on(e/2);e-=i=(e-vn(e/2)-n)/(1-.5/(a*a))}return[2*t/(1+on(e)),e]};var Ja=function(){return Ue(Xa).scale(152.63)},Za=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Qa=function(){return Ki(qn(1/0),Za).rotate([20,0]).scale(152.63)};function Ka(t,e){var n=mn(e),r=on(e),i=fn(t);if(0===t||nn(e)===bn)return[0,e];if(0===e)return[t,0];if(nn(t)===bn)return[t*r,bn*n];var a=_n/(2*t)-2*t/_n,o=2*e/_n,s=(1-o*o)/(n-o),l=a*a,u=s*s,c=1+l/u,d=1+u/l,h=(a*n/s-a/2)/c,p=(u*n/l+s/2)/d,f=p*p-(u*n*n/l+s*n-1)/d;return[bn*(h+Cn(h*h+r*r/c)*i),bn*(p+Cn(f<0?0:f)*fn(-e*a)*i)]}Ka.invert=function(t,e){var n=(t/=bn)*t,r=n+(e/=bn)*e,i=_n*_n;return[t?(r-1+Cn((1-r)*(1-r)+4*n))/(2*t)*bn:0,$r((function(t){return r*(_n*mn(t)-2*t)*_n+4*t*t*(e-mn(t))+2*_n*t-i*e}),0)]};var $a=function(){return Ue(Ka).scale(127.267)},to=1.0148,eo=.23185,no=-.14499,ro=.02406,io=to,ao=5*eo,oo=7*no,so=9*ro;function lo(t,e){var n=e*e;return[t,e*(to+n*n*(eo+n*(no+ro*n)))]}lo.invert=function(t,e){e>1.790857183?e=1.790857183:e<-1.790857183&&(e=-1.790857183);var n,r=e;do{var i=r*r;r-=n=(r*(to+i*i*(eo+i*(no+ro*i)))-e)/(io+i*i*(ao+i*(oo+so*i)))}while(nn(n)>gn);return[t,r]};var uo=function(){return Ue(lo).scale(139.319)};function co(t,e){if(nn(e)<gn)return[t,0];var n=vn(e),r=t*mn(e);return[mn(r)/n,e+(1-on(r))/n]}co.invert=function(t,e){if(nn(e)<gn)return[t,0];var n,r=t*t+e*e,i=.5*e,a=10;do{var o=vn(i),s=1/on(i),l=r-2*e*i+i*i;i-=n=(o*l+2*(i-e))/(2+l*s*s+2*(i-e)*o)}while(nn(n)>gn&&--a>0);return o=vn(i),[(nn(e)<nn(i+1/o)?Ln(t*o):fn(t)*(kn(nn(t*o))+bn))/mn(i),i]};var ho=function(){return Ue(co).scale(103.74)};function po(t,e){return[t[0]*e[0]+t[1]*e[3],t[0]*e[1]+t[1]*e[4],t[0]*e[2]+t[1]*e[5]+t[2],t[3]*e[0]+t[4]*e[3],t[3]*e[1]+t[4]*e[4],t[3]*e[2]+t[4]*e[5]+t[5]]}function fo(t,e){return[t[0]-e[0],t[1]-e[1]]}function mo(t){return Cn(t[0]*t[0]+t[1]*t[1])}var vo=function(t,e,n){function r(t,n){var r,i=e(t,n),a=i.project([t*Tn,n*Tn]);return(r=i.transform)?[r[0]*a[0]+r[1]*a[1]+r[2],-(r[3]*a[0]+r[4]*a[1]+r[5])]:(a[1]=-a[1],a)}!function t(e,n){if(e.edges=function(t){for(var e=t.length,n=[],r=t[e-1],i=0;i<e;++i)n.push([r,r=t[i]]);return n}(e.face),n.face){var r=e.shared=function(t,e){for(var n,r,i=t.length,a=null,o=0;o<i;++o){n=t[o];for(var s=e.length;--s>=0;)if(r=e[s],n[0]===r[0]&&n[1]===r[1]){if(a)return[a,n];a=n}}}(e.face,n.face),i=function(t,e){var n=fo(t[1],t[0]),r=fo(e[1],e[0]),i=function(t,e){return an(t[0]*e[1]-t[1]*e[0],t[0]*e[0]+t[1]*e[1])}(n,r),a=mo(n)/mo(r);return po([1,0,t[0][0],0,1,t[0][1]],po([a,0,0,0,a,0],po([on(i),mn(i),0,-mn(i),on(i),0],[1,0,-e[0][0],0,1,-e[0][1]])))}(r.map(n.project),r.map(e.project));e.transform=n.transform?po(n.transform,i):i;for(var a=n.edges,o=0,s=a.length;o<s;++o)go(r[0],a[o][1])&&go(r[1],a[o][0])&&(a[o]=e),go(r[0],a[o][0])&&go(r[1],a[o][1])&&(a[o]=e);for(o=0,s=(a=e.edges).length;o<s;++o)go(r[0],a[o][0])&&go(r[1],a[o][1])&&(a[o]=n),go(r[0],a[o][1])&&go(r[1],a[o][0])&&(a[o]=n)}else e.transform=n.transform;return e.children&&e.children.forEach((function(n){t(n,e)})),e}(t,{transform:null}),yo(t)&&(r.invert=function(n,r){var i=function t(n,r){var i,a,o=n.project.invert,s=n.transform,l=r;if(s&&(l=[(s=[(a=1/((i=s)[0]*i[4]-i[1]*i[3]))*i[4],-a*i[1],a*(i[1]*i[5]-i[2]*i[4]),-a*i[3],a*i[0],a*(i[2]*i[3]-i[0]*i[5])])[0]*l[0]+s[1]*l[1]+s[2],s[3]*l[0]+s[4]*l[1]+s[5]]),o&&n===function(t){return e(t[0]*Sn,t[1]*Sn)}(u=o(l)))return u;for(var u,c=n.children,d=0,h=c&&c.length;d<h;++d)if(u=t(c[d],r))return u}(t,[n,-r]);return i&&(i[0]*=Sn,i[1]*=Sn,i)});var i=Ue(r),a=i.stream;return i.stream=function(e){var n=i.rotate(),r=a(e),o=(i.rotate([0,0]),a(e));return i.rotate(n),r.sphere=function(){o.polygonStart(),o.lineStart(),function t(e,n,r){var i,a,o=n.edges,s=o.length,l={type:"MultiPoint",coordinates:n.face},u=function(t){var e,n,r,i,a,o,s;if(tt=$=-(Q=K=1/0),at=[],N(t,lt),n=at.length){for(at.sort(gt),e=1,a=[r=at[0]];e<n;++e)yt(r,(i=at[e])[0])||yt(r,i[1])?(vt(r[0],i[1])>vt(r[0],r[1])&&(r[1]=i[1]),vt(i[0],r[1])>vt(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,e=0,r=a[n=a.length-1];e<=n;r=i,++e)i=a[e],(s=vt(r[1],i[0]))>o&&(o=s,Q=i[0],$=r[1])}return at=ot=null,Q===1/0||K===1/0?[[NaN,NaN],[NaN,NaN]]:[[Q,K],[$,tt]]}({type:"MultiPoint",coordinates:n.face.filter((function(t){return 90!==nn(t[1])}))}),c=!1,d=-1,h=u[1][0]-u[0][0],p=180===h||360===h?[(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2]:Wt(l);if(r)for(;++d<s&&o[d]!==r;);++d;for(var f=0;f<s;++f)a=o[(f+d)%s],Array.isArray(a)?(c||(e.point((i=Te(a[0],p)(gn))[0],i[1]),c=!0),e.point((i=Te(a[1],p)(gn))[0],i[1])):(c=!1,a!==r&&t(e,a,n))}(o,t),o.lineEnd(),o.polygonEnd()},r},i.angle(null==n?-30:n*Tn)};function go(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}function yo(t){return t.project.invert||t.children&&t.children.some(yo)}var _o=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],bo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map((function(t){return t.map((function(t){return _o[t]}))})),xo=function(t){t=t||function(t){var e=Wt({type:"MultiPoint",coordinates:t});return Qe().scale(1).translate([0,0]).rotate([-e[0],-e[1]])};var e=bo.map((function(e){return{face:e,project:t(e)}}));return[-1,0,0,1,0,1,4,5].forEach((function(t,n){var r=e[t];r&&(r.children||(r.children=[])).push(e[n])})),vo(e[0],(function(t,n){return e[t<-_n/2?n<0?6:4:t<0?n<0?2:0:t<_n/2?n<0?3:1:n<0?7:5]})).angle(-30).scale(101.858).center([0,45])},wo=2/Cn(3);function Mo(t,e){var n=wr(t,e);return[n[0]*wo,n[1]]}Mo.invert=function(t,e){return wr.invert(t/wo,e)};var Ao=function(t){t=t||function(t){var e=Wt({type:"MultiPoint",coordinates:t});return Ue(Mo).translate([0,0]).scale(1).rotate(e[1]>0?[-e[0],0]:[180-e[0],180])};var e=bo.map((function(e){return{face:e,project:t(e)}}));return[-1,0,0,1,0,1,4,5].forEach((function(t,n){var r=e[t];r&&(r.children||(r.children=[])).push(e[n])})),vo(e[0],(function(t,n){return e[t<-_n/2?n<0?6:4:t<0?n<0?2:0:t<_n/2?n<0?3:1:n<0?7:5]})).angle(-30).scale(121.906).center([0,48.5904])},Eo=function(t){t=t||function(t){var e=6===t.length?Wt({type:"MultiPoint",coordinates:t}):t[0];return Qe().scale(1).translate([0,0]).rotate([-e[0],-e[1]])};var e=bo.map((function(t){for(var e,n=t.map(Lo),r=n.length,i=n[r-1],a=[],o=0;o<r;++o)e=n[o],a.push(So([.9486832980505138*i[0]+.31622776601683794*e[0],.9486832980505138*i[1]+.31622776601683794*e[1],.9486832980505138*i[2]+.31622776601683794*e[2]]),So([.9486832980505138*e[0]+.31622776601683794*i[0],.9486832980505138*e[1]+.31622776601683794*i[1],.9486832980505138*e[2]+.31622776601683794*i[2]])),i=e;return a})),n=[],r=[-1,0,0,1,0,1,4,5];e.forEach((function(t,i){for(var a,o,s=bo[i],l=s.length,u=n[i]=[],c=0;c<l;++c)e.push([s[c],t[(2*c+2)%(2*l)],t[(2*c+1)%(2*l)]]),r.push(i),u.push((a=Lo(t[(2*c+2)%(2*l)]),o=Lo(t[(2*c+1)%(2*l)]),[a[1]*o[2]-a[2]*o[1],a[2]*o[0]-a[0]*o[2],a[0]*o[1]-a[1]*o[0]]))}));var i=e.map((function(e){return{project:t(e),face:e}}));return r.forEach((function(t,e){var n=i[t];n&&(n.children||(n.children=[])).push(i[e])})),vo(i[0],(function(t,e){var r=on(e),a=[r*on(t),r*mn(t),mn(e)],o=t<-_n/2?e<0?6:4:t<0?e<0?2:0:t<_n/2?e<0?3:1:e<0?7:5,s=n[o];return i[To(s[0],a)<0?8+3*o:To(s[1],a)<0?8+3*o+1:To(s[2],a)<0?8+3*o+2:o]})).angle(-30).scale(110.625).center([0,45])};function To(t,e){for(var n=0,r=t.length,i=0;n<r;++n)i+=t[n]*e[n];return i}function So(t){return[an(t[1],t[0])*Tn,Ln(cn(-1,dn(1,t[2])))*Tn]}function Lo(t){var e=t[0]*Sn,n=t[1]*Sn,r=on(n);return[r*on(e),r*mn(e),mn(n)]}var ko=function(){},Co=function(t,e){var n,r=e.stream;if(!r)throw new Error("invalid projection");switch(t&&t.type){case"Feature":n=Po;break;case"FeatureCollection":n=Do;break;default:n=Ro}return n(t,r)};function Do(t,e){return{type:"FeatureCollection",features:t.features.map((function(t){return Po(t,e)}))}}function Po(t,e){return{type:"Feature",id:t.id,properties:t.properties,geometry:Ro(t.geometry,e)}}function Ro(t,e){if(!t)return null;if("GeometryCollection"===t.type)return function(t,e){return{type:"GeometryCollection",geometries:t.geometries.map((function(t){return Ro(t,e)}))}}(t,e);var n;switch(t.type){case"Point":case"MultiPoint":n=No;break;case"LineString":case"MultiLineString":n=zo;break;case"Polygon":case"MultiPolygon":case"Sphere":n=Bo;break;default:return null}return N(t,e(n)),n.result()}var Oo=[],Io=[],No={point:function(t,e){Oo.push([t,e])},result:function(){var t=Oo.length?Oo.length<2?{type:"Point",coordinates:Oo[0]}:{type:"MultiPoint",coordinates:Oo}:null;return Oo=[],t}},zo={lineStart:ko,point:function(t,e){Oo.push([t,e])},lineEnd:function(){Oo.length&&(Io.push(Oo),Oo=[])},result:function(){var t=Io.length?Io.length<2?{type:"LineString",coordinates:Io[0]}:{type:"MultiLineString",coordinates:Io}:null;return Io=[],t}},Bo={polygonStart:ko,lineStart:ko,point:function(t,e){Oo.push([t,e])},lineEnd:function(){var t=Oo.length;if(t){do{Oo.push(Oo[0].slice())}while(++t<4);Io.push(Oo),Oo=[]}},polygonEnd:ko,result:function(){if(!Io.length)return null;var t=[],e=[];return Io.forEach((function(n){!function(t){if((e=t.length)<4)return!1;for(var e,n=0,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r<=0}(n)?e.push(n):t.push([n])})),e.forEach((function(e){var n=e[0];t.some((function(t){if(function(t,e){for(var n=e[0],r=e[1],i=!1,a=0,o=t.length,s=o-1;a<o;s=a++){var l=t[a],u=l[0],c=l[1],d=t[s],h=d[0],p=d[1];c>r^p>r&&n<(h-u)*(r-c)/(p-c)+u&&(i=!i)}return i}(t[0],n))return t.push(e),!0}))||t.push([e])})),Io=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}},Fo=function(t){var e=t(bn,0)[0]-t(-bn,0)[0];function n(n,r){var i=nn(n)<bn,a=t(i?n:n>0?n-_n:n+_n,r),o=(a[0]-a[1])*wn,s=(a[0]+a[1])*wn;if(i)return[o,s];var l=e*wn,u=o>0^s>0?-1:1;return[u*o-fn(s)*l,u*s-fn(o)*l]}return t.invert&&(n.invert=function(n,r){var i=(n+r)*wn,a=(r-n)*wn,o=nn(i)<.5*e&&nn(a)<.5*e;if(!o){var s=e*wn,l=i>0^a>0?-1:1,u=-l*n+(a>0?1:-1)*s,c=-l*r+(i>0?1:-1)*s;i=(-u-c)*wn,a=(u-c)*wn}var d=t.invert(i,a);return o||(d[0]+=i>0?_n:-_n),d}),Ue(n).rotate([-90,-90,45]).clipAngle(179.999)},jo=function(){return Fo(xi).scale(176.423)},Ho=function(){return Fo(Ei).scale(111.48)},Yo=function(t,e){if(!(0<=(e=+e)&&e<=20))throw new Error("invalid digits");function n(t){var n=t.length,r=2,i=new Array(n);for(i[0]=+t[0].toFixed(e),i[1]=+t[1].toFixed(e);r<n;)i[r]=t[r],++r;return i}function r(t){return t.map(n)}function i(t){for(var e=n(t[0]),r=[e],i=1;i<t.length;i++){var a=n(t[i]);(a.length>2||a[0]!=e[0]||a[1]!=e[1])&&(r.push(a),e=a)}return 1===r.length&&t.length>1&&r.push(n(t[t.length-1])),r}function a(t){return t.map(i)}function o(t){if(null==t)return t;var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(o)};break;case"Point":e={type:"Point",coordinates:n(t.coordinates)};break;case"MultiPoint":e={type:t.type,coordinates:r(t.coordinates)};break;case"LineString":e={type:t.type,coordinates:i(t.coordinates)};break;case"MultiLineString":case"Polygon":e={type:t.type,coordinates:a(t.coordinates)};break;case"MultiPolygon":e={type:"MultiPolygon",coordinates:t.coordinates.map(a)};break;default:return t}return null!=t.bbox&&(e.bbox=t.bbox),e}function s(t){var e={type:"Feature",properties:t.properties,geometry:o(t.geometry)};return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),e}if(null!=t)switch(t.type){case"Feature":return s(t);case"FeatureCollection":var l={type:"FeatureCollection",features:t.features.map(s)};return null!=t.bbox&&(l.bbox=t.bbox),l;default:return o(t)}return t};function Uo(t){var e=mn(t);function n(n,r){var i=e?vn(n*e/2)/e:n/2;if(!r)return[2*i,-t];var a=2*rn(i*mn(r)),o=1/vn(r);return[mn(a)*o,r+(1-on(a))*o-t]}return n.invert=function(n,r){if(nn(r+=t)<gn)return[e?2*rn(e*n/2)/e:n,0];var i,a=n*n+r*r,o=0,s=10;do{var l=vn(o),u=1/on(o),c=a-2*r*o+o*o;o-=i=(l*c+2*(o-r))/(2+c*u*u+2*(o-r)*l)}while(nn(i)>gn&&--s>0);var d=n*(l=vn(o)),h=vn(nn(r)<nn(o+1/l)?.5*Ln(d):.5*kn(d)+_n/4)/mn(o);return[e?2*rn(e*h)/e:2*h,o]},n}var Go=function(){return or(Uo).scale(131.215)},Vo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Wo(t,e){var n,r=dn(18,36*nn(e)/_n),i=ln(r),a=r-i,o=(n=Vo[i])[0],s=n[1],l=(n=Vo[++i])[0],u=n[1],c=(n=Vo[dn(19,++i)])[0],d=n[1];return[t*(l+a*(c-o)/2+a*a*(c-2*l+o)/2),(e>0?bn:-bn)*(u+a*(d-s)/2+a*a*(d-2*u+s)/2)]}Vo.forEach((function(t){t[1]*=1.0144})),Wo.invert=function(t,e){var n=e/bn,r=90*n,i=dn(18,nn(r/5)),a=cn(0,ln(i));do{var o=Vo[a][1],s=Vo[a+1][1],l=Vo[dn(19,a+2)][1],u=l-o,c=l-2*s+o,d=2*(nn(n)-s)/u,h=c/u,p=d*(1-h*d*(1-2*h*d));if(p>=0||1===a){r=(e>=0?5:-5)*(p+i);var f,m=50;do{p=(i=dn(18,nn(r)/5))-(a=ln(i)),o=Vo[a][1],s=Vo[a+1][1],l=Vo[dn(19,a+2)][1],r-=(f=(e>=0?bn:-bn)*(s+p*(l-o)/2+p*p*(l-2*s+o)/2)-e)*Tn}while(nn(f)>yn&&--m>0);break}}while(--a>=0);var v=Vo[a][0],g=Vo[a+1][0],y=Vo[dn(19,a+2)][0];return[t/(g+p*(y-v)/2+p*p*(y-2*g+v)/2),r*Sn]};var qo=function(){return Ue(Wo).scale(152.63)};function Xo(t,e){var n=function(t){function e(e,n){var r=on(n),i=(t-1)/(t-r*on(e));return[i*r*mn(e),i*mn(n)]}return e.invert=function(e,n){var r=e*e+n*n,i=Cn(r),a=(t-Cn(1-r*(t+1)/(t-1)))/((t-1)/i+i/(t-1));return[an(e*a,i*Cn(1-a*a)),i?Ln(n*a/i):0]},e}(t);if(!e)return n;var r=on(e),i=mn(e);function a(e,a){var o=n(e,a),s=o[1],l=s*i/(t-1)+r;return[o[0]*r/l,s/l]}return a.invert=function(e,a){var o=(t-1)/(t-1-a*i);return n.invert(o*e,o*a*r)},a}var Jo=function(){var t=2,e=0,n=Ge(Xo),r=n(t,e);return r.distance=function(r){return arguments.length?n(t=+r,e):t},r.tilt=function(r){return arguments.length?n(t,e=r*Sn):e*Tn},r.scale(432.147).clipAngle(kn(1/t)*Tn-1e-6)},Zo=1e4,Qo=-180,Ko=Qo+1e-4,$o=180,ts=$o-1e-4,es=-90,ns=es+1e-4,rs=90,is=rs-1e-4;function as(t){return t.length>0}function os(t){return t===es||t===rs?[0,t]:[Qo,(e=t,Math.floor(e*Zo)/Zo)];var e}function ss(t){var e=t[0],n=t[1],r=!1;return e<=Ko?(e=Qo,r=!0):e>=ts&&(e=$o,r=!0),n<=ns?(n=es,r=!0):n>=is&&(n=rs,r=!0),r?[e,n]:t}function ls(t){return t.map(ss)}function us(t,e,n){for(var r=0,i=t.length;r<i;++r){var a=t[r].slice();n.push({index:-1,polygon:e,ring:a});for(var o=0,s=a.length;o<s;++o){var l=a[o],u=l[0],c=l[1];if(u<=Ko||u>=ts||c<=ns||c>=is){a[o]=ss(l);for(var d=o+1;d<s;++d){var h=a[d],p=h[0],f=h[1];if(p>Ko&&p<ts&&f>ns&&f<is)break}if(d===o+1)continue;if(o){var m={index:-1,polygon:e,ring:a.slice(0,o+1)};m.ring[m.ring.length-1]=os(c),n[n.length-1]=m}else n.pop();if(d>=s)break;n.push({index:-1,polygon:e,ring:a=a.slice(d-1)}),a[0]=os(a[0][1]),o=-1,s=a.length}}}}function cs(t){var e,n,r,i,a,o,s=t.length,l={},u={};for(e=0;e<s;++e)r=(n=t[e]).ring[0],a=n.ring[n.ring.length-1],r[0]!==a[0]||r[1]!==a[1]?(n.index=e,l[r]=u[a]=n):(n.polygon.push(n.ring),t[e]=null);for(e=0;e<s;++e)if(n=t[e]){if(r=n.ring[0],a=n.ring[n.ring.length-1],i=u[r],o=l[a],delete l[r],delete u[a],r[0]===a[0]&&r[1]===a[1]){n.polygon.push(n.ring);continue}i?(delete u[r],delete l[i.ring[0]],i.ring.pop(),t[i.index]=null,n={index:-1,polygon:i.polygon,ring:i.ring.concat(n.ring)},i===o?n.polygon.push(n.ring):(n.index=s++,t.push(l[n.ring[0]]=u[n.ring[n.ring.length-1]]=n))):o?(delete l[a],delete u[o.ring[o.ring.length-1]],n.ring.pop(),n={index:s++,polygon:o.polygon,ring:n.ring.concat(o.ring)},t[o.index]=null,t.push(l[n.ring[0]]=u[n.ring[n.ring.length-1]]=n)):(n.ring.push(n.ring[0]),n.polygon.push(n.ring))}}function ds(t){var e={type:"Feature",geometry:hs(t.geometry)};return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}function hs(t){if(null==t)return t;var e,n,r,i;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(hs)};break;case"Point":e={type:"Point",coordinates:ss(t.coordinates)};break;case"MultiPoint":case"LineString":e={type:t.type,coordinates:ls(t.coordinates)};break;case"MultiLineString":e={type:"MultiLineString",coordinates:t.coordinates.map(ls)};break;case"Polygon":var a=[];us(t.coordinates,a,n=[]),cs(n),e={type:"Polygon",coordinates:a};break;case"MultiPolygon":n=[],r=-1,i=t.coordinates.length;for(var o=new Array(i);++r<i;)us(t.coordinates[r],o[r]=[],n);cs(n),e={type:"MultiPolygon",coordinates:o.filter(as)};break;default:return t}return null!=t.bbox&&(e.bbox=t.bbox),e}var ps=function(t){if(null==t)return t;switch(t.type){case"Feature":return ds(t);case"FeatureCollection":var e={type:"FeatureCollection",features:t.features.map(ds)};return null!=t.bbox&&(e.bbox=t.bbox),e;default:return hs(t)}};function fs(t,e){var n=vn(e/2),r=mn(xn*n);return[t*(.74482-.34588*r*r),1.70711*n]}fs.invert=function(t,e){var n=e/1.70711,r=mn(xn*n);return[t/(.74482-.34588*r*r),2*rn(n)]};var ms=function(){return Ue(fs).scale(146.153)},vs=function(t,e,n){var r=Te(e,n),i=r(.5),a=te([-i[0],-i[1]])(e),o=r.distance/2,s=-Ln(mn(a[1]*Sn)/mn(o)),l=[-i[0],-i[1],-(a[0]>0?_n-s:s)*Tn],u=Ue(t(o)).rotate(l),c=te(l),d=u.center;return delete u.rotate,u.center=function(t){return arguments.length?d(c(t)):c.invert(d())},u.clipAngle(90)};function gs(t){var e=on(t);function n(t,n){var r=Ze(t,n);return r[0]*=e,r}return n.invert=function(t,n){return Ze.invert(t/e,n)},n}function ys(){return _s([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function _s(t,e){return vs(gs,t,e)}function bs(t){if(!(t*=2))return Xe;var e=-t/2,n=-e,r=t*t,i=vn(n),a=.5/mn(n);function o(i,a){var o=kn(on(a)*on(i-e)),s=kn(on(a)*on(i-n));return[((o*=o)-(s*=s))/(2*t),(a<0?-1:1)*Cn(4*r*s-(r-o+s)*(r-o+s))/(2*t)]}return o.invert=function(t,r){var o,s,l=r*r,u=on(Cn(l+(o=t+e)*o)),c=on(Cn(l+(o=t+n)*o));return[an(s=u-c,o=(u+c)*i),(r<0?-1:1)*kn(Cn(o*o+s*s)*a)]},o}function xs(){return ws([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function ws(t,e){return vs(bs,t,e)}function Ms(t,e){if(nn(e)<gn)return[t,0];var n=nn(e/bn),r=Ln(n);if(nn(t)<gn||nn(nn(e)-bn)<gn)return[0,fn(e)*_n*vn(r/2)];var i=on(r),a=nn(_n/t-t/_n)/2,o=a*a,s=i/(n+i-1),l=s*(2/n-1),u=l*l,c=u+o,d=s-u,h=o+s;return[fn(t)*_n*(a*d+Cn(o*d*d-c*(s*s-u)))/c,fn(e)*_n*(l*h-a*Cn((o+1)*c-h*h))/c]}Ms.invert=function(t,e){if(nn(e)<gn)return[t,0];if(nn(t)<gn)return[0,bn*mn(2*rn(e/_n))];var n=(t/=_n)*t,r=(e/=_n)*e,i=n+r,a=i*i,o=-nn(e)*(1+i),s=o-2*r+n,l=-2*o+1+2*r+a,u=r/l+(2*s*s*s/(l*l*l)-9*o*s/(l*l))/27,c=(o-s*s/(3*l))/l,d=2*Cn(-c/3),h=kn(3*u/(c*d))/3;return[_n*(i-1+Cn(1+2*(n-r)+a))/(2*t),fn(e)*_n*(-d*on(h+_n/3)-s/(3*l))]};var As=function(){return Ue(Ms).scale(79.4183)};function Es(t,e){if(nn(e)<gn)return[t,0];var n=nn(e/bn),r=Ln(n);if(nn(t)<gn||nn(nn(e)-bn)<gn)return[0,fn(e)*_n*vn(r/2)];var i=on(r),a=nn(_n/t-t/_n)/2,o=a*a,s=i*(Cn(1+o)-a*i)/(1+o*n*n);return[fn(t)*_n*s,fn(e)*_n*Cn(1-s*(2*a+s))]}Es.invert=function(t,e){if(!t)return[0,bn*mn(2*rn(e/_n))];var n=nn(t/_n),r=(1-n*n-(e/=_n)*e)/(2*n),i=Cn(r*r+1);return[fn(t)*_n*(i-r),fn(e)*bn*mn(2*an(Cn((1-2*r*n)*(r+i)-n),Cn(i+r+n)))]};var Ts=function(){return Ue(Es).scale(79.4183)};function Ss(t,e){if(nn(e)<gn)return[t,0];var n=e/bn,r=Ln(n);if(nn(t)<gn||nn(nn(e)-bn)<gn)return[0,_n*vn(r/2)];var i=(_n/t-t/_n)/2,a=n/(1+on(r));return[_n*(fn(t)*Cn(i*i+1-a*a)-i),_n*a]}Ss.invert=function(t,e){if(!e)return[t,0];var n=e/_n,r=(_n*_n*(1-n*n)-t*t)/(2*_n*t);return[t?_n*(fn(t)*Cn(r*r+1)-r):0,bn*mn(2*rn(n))]};var Ls=function(){return Ue(Ss).scale(79.4183)};function ks(t,e){if(!e)return[t,0];var n=nn(e);if(!t||n===bn)return[0,e];var r=n/bn,i=r*r,a=(8*r-i*(i+2)-5)/(2*i*(r-1)),o=a*a,s=r*a,l=i+o+2*s,u=r+3*a,c=t/bn,d=c+1/c,h=fn(nn(t)-bn)*Cn(d*d-4),p=h*h,f=(h*(l+o-1)+2*Cn(l*(i+o*p-1)+(1-i)*(i*(u*u+4*o)+12*s*o+4*o*o)))/(4*l+p);return[fn(t)*bn*f,fn(e)*bn*Cn(1+h*nn(f)-f*f)]}ks.invert=function(t,e){var n;if(!t||!e)return[t,e];e/=_n;var r=fn(t)*t/bn,i=(r*r-1+4*e*e)/nn(r),a=i*i,o=2*e,s=50;do{var l=o*o,u=(8*o-l*(l+2)-5)/(2*l*(o-1)),c=(3*o-l*o-10)/(2*l*o),d=u*u,h=o*u,p=o+u,f=p*p,m=o+3*u,v=-2*p*(4*h*d+(1-4*l+3*l*l)*(1+c)+d*(14*l-6-a+(8*l-8-2*a)*c)+h*(12*l-8+(10*l-10-a)*c)),g=Cn(f*(l+d*a-1)+(1-l)*(l*(m*m+4*d)+d*(12*h+4*d)));o-=n=(i*(f+d-1)+2*g-r*(4*f+a))/(i*(2*u*c+2*p*(1+c))+v/g-8*p*(i*(-1+d+f)+2*g)*(1+c)/(a+4*f))}while(n>gn&&--s>0);return[fn(t)*(Cn(i*i+4)+i)*_n/4,bn*o]};var Cs=function(){return Ue(ks).scale(127.16)};function Ds(t,e,n,r){var i=_n/3;t=cn(t,gn),e=cn(e,gn),t=dn(t,bn),e=dn(e,_n-gn),n=cn(n,0),n=dn(n,100-gn);var a=(r=cn(r,gn))/100,o=kn((n/100+1)*on(i))/i,s=mn(t)/mn(o*bn),l=e/_n,u=Cn(a*mn(t/2)/mn(e/2));return function(t,e,n,r,i){function a(a,o){var s=n*mn(r*o),l=Cn(1-s*s),u=Cn(2/(1+l*on(a*=i)));return[t*l*u*mn(a),e*s*u]}return a.invert=function(a,o){var s=a/t,l=o/e,u=Cn(s*s+l*l),c=2*Ln(u/2);return[an(a*vn(c),t*u)/i,u&&Ln(o*mn(c)/(e*n*u))/r]},a}(u/Cn(l*s*o),1/(u*Cn(l*s*o)),s,o,l)}var Ps=function(){var t=65*Sn,e=60*Sn,n=20,r=200,i=Ge(Ds),a=i(t,e,n,r);return a.poleline=function(a){return arguments.length?i(t=+a*Sn,e,n,r):t*Tn},a.parallels=function(a){return arguments.length?i(t,e=+a*Sn,n,r):e*Tn},a.inflation=function(a){return arguments.length?i(t,e,n=+a,r):n},a.ratio=function(a){return arguments.length?i(t,e,n,r=+a):r},a.scale(163.775)},Rs=4*_n+3*Cn(3),Os=2*Cn(2*_n*Cn(3)/Rs),Is=$n(Os*Cn(3)/_n,Os,Rs/6),Ns=function(){return Ue(Is).scale(176.84)};function zs(t,e){return[t*Cn(1-3*e*e/(_n*_n)),e]}zs.invert=function(t,e){return[t/Cn(1-3*e*e/(_n*_n)),e]};var Bs=function(){return Ue(zs).scale(152.63)};function Fs(t,e){var n=.90631*mn(e),r=Cn(1-n*n),i=Cn(2/(1+r*on(t/=3)));return[2.66723*r*i*mn(t),1.24104*n*i]}Fs.invert=function(t,e){var n=t/2.66723,r=e/1.24104,i=Cn(n*n+r*r),a=2*Ln(i/2);return[3*an(t*vn(a),2.66723*i),i&&Ln(e*mn(a)/(1.24104*.90631*i))]};var js=function(){return Ue(Fs).scale(172.632)};function Hs(t,e){var n=on(e),r=on(t)*n,i=1-r,a=on(t=an(mn(t)*n,-mn(e))),o=mn(t);return[o*(n=Cn(1-r*r))-a*i,-a*n-o*i]}Hs.invert=function(t,e){var n=(t*t+e*e)/-2,r=Cn(-n*(2+n)),i=e*n+t*r,a=t*n-e*r,o=Cn(a*a+i*i);return[an(r*i,o*(1+n)),o?-Ln(r*a/o):0]};var Ys=function(){return Ue(Hs).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};function Us(t,e){var n=In(t,e);return[(n[0]+t/bn)/2,(n[1]+e)/2]}Us.invert=function(t,e){var n=t,r=e,i=25;do{var a,o=on(r),s=mn(r),l=mn(2*r),u=s*s,c=o*o,d=mn(n),h=on(n/2),p=mn(n/2),f=p*p,m=1-c*h*h,v=m?kn(o*h)*Cn(a=1/m):a=0,g=.5*(2*v*o*p+n/bn)-t,y=.5*(v*s+r)-e,_=.5*a*(c*f+v*o*h*u)+.5/bn,b=a*(d*l/4-v*s*p),x=.125*a*(l*p-v*s*c*d),w=.5*a*(u*h+v*f*o)+.5,M=b*x-w*_,A=(y*b-g*w)/M,E=(g*x-y*_)/M;n-=A,r-=E}while((nn(A)>gn||nn(E)>gn)&&--i>0);return[n,r]};var Gs=function(){return Ue(Us).scale(158.837)};n.d(e,"geoAiry",(function(){return On})),n.d(e,"geoAiryRaw",(function(){return Rn})),n.d(e,"geoAitoff",(function(){return Nn})),n.d(e,"geoAitoffRaw",(function(){return In})),n.d(e,"geoArmadillo",(function(){return Bn})),n.d(e,"geoArmadilloRaw",(function(){return zn})),n.d(e,"geoAugust",(function(){return jn})),n.d(e,"geoAugustRaw",(function(){return Fn})),n.d(e,"geoBaker",(function(){return Gn})),n.d(e,"geoBakerRaw",(function(){return Un})),n.d(e,"geoBerghaus",(function(){return Wn})),n.d(e,"geoBerghausRaw",(function(){return Vn})),n.d(e,"geoBertin1953",(function(){return Qn})),n.d(e,"geoBertin1953Raw",(function(){return Zn})),n.d(e,"geoBoggs",(function(){return ar})),n.d(e,"geoBoggsRaw",(function(){return ir})),n.d(e,"geoBonne",(function(){return cr})),n.d(e,"geoBonneRaw",(function(){return ur})),n.d(e,"geoBottomley",(function(){return hr})),n.d(e,"geoBottomleyRaw",(function(){return dr})),n.d(e,"geoBromley",(function(){return fr})),n.d(e,"geoBromleyRaw",(function(){return pr})),n.d(e,"geoChamberlin",(function(){return xr})),n.d(e,"geoChamberlinRaw",(function(){return yr})),n.d(e,"geoChamberlinAfrica",(function(){return br})),n.d(e,"geoCollignon",(function(){return Mr})),n.d(e,"geoCollignonRaw",(function(){return wr})),n.d(e,"geoCraig",(function(){return Er})),n.d(e,"geoCraigRaw",(function(){return Ar})),n.d(e,"geoCraster",(function(){return Lr})),n.d(e,"geoCrasterRaw",(function(){return Sr})),n.d(e,"geoCylindricalEqualArea",(function(){return Cr})),n.d(e,"geoCylindricalEqualAreaRaw",(function(){return kr})),n.d(e,"geoCylindricalStereographic",(function(){return Pr})),n.d(e,"geoCylindricalStereographicRaw",(function(){return Dr})),n.d(e,"geoEckert1",(function(){return Or})),n.d(e,"geoEckert1Raw",(function(){return Rr})),n.d(e,"geoEckert2",(function(){return Nr})),n.d(e,"geoEckert2Raw",(function(){return Ir})),n.d(e,"geoEckert3",(function(){return Br})),n.d(e,"geoEckert3Raw",(function(){return zr})),n.d(e,"geoEckert4",(function(){return jr})),n.d(e,"geoEckert4Raw",(function(){return Fr})),n.d(e,"geoEckert5",(function(){return Yr})),n.d(e,"geoEckert5Raw",(function(){return Hr})),n.d(e,"geoEckert6",(function(){return Gr})),n.d(e,"geoEckert6Raw",(function(){return Ur})),n.d(e,"geoEisenlohr",(function(){return qr})),n.d(e,"geoEisenlohrRaw",(function(){return Wr})),n.d(e,"geoFahey",(function(){return Zr})),n.d(e,"geoFaheyRaw",(function(){return Jr})),n.d(e,"geoFoucaut",(function(){return Kr})),n.d(e,"geoFoucautRaw",(function(){return Qr})),n.d(e,"geoFoucautSinusoidal",(function(){return ei})),n.d(e,"geoFoucautSinusoidalRaw",(function(){return ti})),n.d(e,"geoGilbert",(function(){return ii})),n.d(e,"geoGingery",(function(){return li})),n.d(e,"geoGingeryRaw",(function(){return ai})),n.d(e,"geoGinzburg4",(function(){return di})),n.d(e,"geoGinzburg4Raw",(function(){return ci})),n.d(e,"geoGinzburg5",(function(){return pi})),n.d(e,"geoGinzburg5Raw",(function(){return hi})),n.d(e,"geoGinzburg6",(function(){return mi})),n.d(e,"geoGinzburg6Raw",(function(){return fi})),n.d(e,"geoGinzburg8",(function(){return gi})),n.d(e,"geoGinzburg8Raw",(function(){return vi})),n.d(e,"geoGinzburg9",(function(){return _i})),n.d(e,"geoGinzburg9Raw",(function(){return yi})),n.d(e,"geoGringorten",(function(){return wi})),n.d(e,"geoGringortenRaw",(function(){return xi})),n.d(e,"geoGuyou",(function(){return Ti})),n.d(e,"geoGuyouRaw",(function(){return Ei})),n.d(e,"geoHammer",(function(){return Jn})),n.d(e,"geoHammerRaw",(function(){return qn})),n.d(e,"geoHammerRetroazimuthal",(function(){return ki})),n.d(e,"geoHammerRetroazimuthalRaw",(function(){return Si})),n.d(e,"geoHealpix",(function(){return Ni})),n.d(e,"geoHealpixRaw",(function(){return Pi})),n.d(e,"geoHill",(function(){return Bi})),n.d(e,"geoHillRaw",(function(){return zi})),n.d(e,"geoHomolosine",(function(){return Gi})),n.d(e,"geoHomolosineRaw",(function(){return Ui})),n.d(e,"geoHufnagel",(function(){return Wi})),n.d(e,"geoHufnagelRaw",(function(){return Vi})),n.d(e,"geoHyperelliptical",(function(){return Xi})),n.d(e,"geoHyperellipticalRaw",(function(){return qi})),n.d(e,"geoInterrupt",(function(){return Ki})),n.d(e,"geoInterruptedBoggs",(function(){return ta})),n.d(e,"geoInterruptedHomolosine",(function(){return na})),n.d(e,"geoInterruptedMollweide",(function(){return ia})),n.d(e,"geoInterruptedMollweideHemispheres",(function(){return oa})),n.d(e,"geoInterruptedSinuMollweide",(function(){return la})),n.d(e,"geoInterruptedSinusoidal",(function(){return ca})),n.d(e,"geoKavrayskiy7",(function(){return ha})),n.d(e,"geoKavrayskiy7Raw",(function(){return da})),n.d(e,"geoLagrange",(function(){return fa})),n.d(e,"geoLagrangeRaw",(function(){return pa})),n.d(e,"geoLarrivee",(function(){return ga})),n.d(e,"geoLarriveeRaw",(function(){return va})),n.d(e,"geoLaskowski",(function(){return _a})),n.d(e,"geoLaskowskiRaw",(function(){return ya})),n.d(e,"geoLittrow",(function(){return xa})),n.d(e,"geoLittrowRaw",(function(){return ba})),n.d(e,"geoLoximuthal",(function(){return Ma})),n.d(e,"geoLoximuthalRaw",(function(){return wa})),n.d(e,"geoMiller",(function(){return Ea})),n.d(e,"geoMillerRaw",(function(){return Aa})),n.d(e,"geoModifiedStereographic",(function(){return za})),n.d(e,"geoModifiedStereographicRaw",(function(){return Ta})),n.d(e,"geoModifiedStereographicAlaska",(function(){return Pa})),n.d(e,"geoModifiedStereographicGs48",(function(){return Ra})),n.d(e,"geoModifiedStereographicGs50",(function(){return Oa})),n.d(e,"geoModifiedStereographicMiller",(function(){return Ia})),n.d(e,"geoModifiedStereographicLee",(function(){return Na})),n.d(e,"geoMollweide",(function(){return er})),n.d(e,"geoMollweideRaw",(function(){return tr})),n.d(e,"geoMtFlatPolarParabolic",(function(){return Ha})),n.d(e,"geoMtFlatPolarParabolicRaw",(function(){return ja})),n.d(e,"geoMtFlatPolarQuartic",(function(){return Ua})),n.d(e,"geoMtFlatPolarQuarticRaw",(function(){return Ya})),n.d(e,"geoMtFlatPolarSinusoidal",(function(){return Va})),n.d(e,"geoMtFlatPolarSinusoidalRaw",(function(){return Ga})),n.d(e,"geoNaturalEarth",(function(){return $e})),n.d(e,"geoNaturalEarthRaw",(function(){return Ke})),n.d(e,"geoNaturalEarth2",(function(){return qa})),n.d(e,"geoNaturalEarth2Raw",(function(){return Wa})),n.d(e,"geoNellHammer",(function(){return Ja})),n.d(e,"geoNellHammerRaw",(function(){return Xa})),n.d(e,"geoInterruptedQuarticAuthalic",(function(){return Qa})),n.d(e,"geoNicolosi",(function(){return $a})),n.d(e,"geoNicolosiRaw",(function(){return Ka})),n.d(e,"geoPatterson",(function(){return uo})),n.d(e,"geoPattersonRaw",(function(){return lo})),n.d(e,"geoPolyconic",(function(){return ho})),n.d(e,"geoPolyconicRaw",(function(){return co})),n.d(e,"geoPolyhedral",(function(){return vo})),n.d(e,"geoPolyhedralButterfly",(function(){return xo})),n.d(e,"geoPolyhedralCollignon",(function(){return Ao})),n.d(e,"geoPolyhedralWaterman",(function(){return Eo})),n.d(e,"geoProject",(function(){return Co})),n.d(e,"geoGringortenQuincuncial",(function(){return jo})),n.d(e,"geoPeirceQuincuncial",(function(){return Ho})),n.d(e,"geoPierceQuincuncial",(function(){return Ho})),n.d(e,"geoQuantize",(function(){return Yo})),n.d(e,"geoQuincuncial",(function(){return Fo})),n.d(e,"geoRectangularPolyconic",(function(){return Go})),n.d(e,"geoRectangularPolyconicRaw",(function(){return Uo})),n.d(e,"geoRobinson",(function(){return qo})),n.d(e,"geoRobinsonRaw",(function(){return Wo})),n.d(e,"geoSatellite",(function(){return Jo})),n.d(e,"geoSatelliteRaw",(function(){return Xo})),n.d(e,"geoSinuMollweide",(function(){return Yi})),n.d(e,"geoSinuMollweideRaw",(function(){return Hi})),n.d(e,"geoSinusoidal",(function(){return lr})),n.d(e,"geoSinusoidalRaw",(function(){return sr})),n.d(e,"geoStitch",(function(){return ps})),n.d(e,"geoTimes",(function(){return ms})),n.d(e,"geoTimesRaw",(function(){return fs})),n.d(e,"geoTwoPointAzimuthal",(function(){return _s})),n.d(e,"geoTwoPointAzimuthalRaw",(function(){return gs})),n.d(e,"geoTwoPointAzimuthalUsa",(function(){return ys})),n.d(e,"geoTwoPointEquidistant",(function(){return ws})),n.d(e,"geoTwoPointEquidistantRaw",(function(){return bs})),n.d(e,"geoTwoPointEquidistantUsa",(function(){return xs})),n.d(e,"geoVanDerGrinten",(function(){return As})),n.d(e,"geoVanDerGrintenRaw",(function(){return Ms})),n.d(e,"geoVanDerGrinten2",(function(){return Ts})),n.d(e,"geoVanDerGrinten2Raw",(function(){return Es})),n.d(e,"geoVanDerGrinten3",(function(){return Ls})),n.d(e,"geoVanDerGrinten3Raw",(function(){return Ss})),n.d(e,"geoVanDerGrinten4",(function(){return Cs})),n.d(e,"geoVanDerGrinten4Raw",(function(){return ks})),n.d(e,"geoWagner",(function(){return Ps})),n.d(e,"geoWagnerRaw",(function(){return Ds})),n.d(e,"geoWagner4",(function(){return Ns})),n.d(e,"geoWagner4Raw",(function(){return Is})),n.d(e,"geoWagner6",(function(){return Bs})),n.d(e,"geoWagner6Raw",(function(){return zs})),n.d(e,"geoWagner7",(function(){return js})),n.d(e,"geoWagner7Raw",(function(){return Fs})),n.d(e,"geoWiechel",(function(){return Ys})),n.d(e,"geoWiechelRaw",(function(){return Hs})),n.d(e,"geoWinkel3",(function(){return Gs})),n.d(e,"geoWinkel3Raw",(function(){return Us}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=R(i),o=R(n(148)),s=R(n(5)),l=R(n(151)),u=R(n(155)),c=R(n(156)),d=R(n(157)),h=R(n(158)),p=R(n(159)),f=R(n(160)),m=R(n(161)),v=R(n(185)),g=R(n(186)),y=R(n(187)),_=R(n(188)),b=R(n(189)),x=R(n(190)),w=R(n(191)),M=R(n(192)),A=R(n(193)),E=R(n(194)),T=R(n(195)),S=R(n(196)),L=R(n(197)),k=R(n(198)),C=R(n(199)),D=R(n(200)),P=R(n(201));function R(t){return t&&t.__esModule?t:{default:t}}n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219);var O={scene:o.default.object,graph:o.default.array.isRequired},I=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={headset:!1},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentDidMount",value:function(){var t=this;document.addEventListener("enter-vr",(function(e){s.default.utils.device.checkHeadsetConnected()?(t.setState({headset:!0}),s.default.utils.device.isMobile()&&t.setState({headset:!1})):t.setState({headset:!1})})),document.addEventListener("exit-vr",(function(e){t.props.scene.reloadPageOnExitVR?window.location.reload():t.setState({headset:!1})}))}},{key:"render",value:function(){var t=void 0,e=void 0,n=void 0,r=void 0,i=void 0;if(this.props.scene){t=this.props.scene.lights.map((function(t,e){var n,r;return n=t.intensity?t.intensity:1,r=t.decay?t.decay:1,"ambient"===t.type?a.default.createElement("a-entity",{light:"type:"+t.type+"; color: "+t.color+"; intensity: "+n+"; decay: "+r,key:"Light"+e}):a.default.createElement("a-entity",{light:"type:"+t.type+"; color: "+t.color+"; castShadow: true; intensity: "+n+"; decay: "+r,position:t.position,key:"Light"+e})}));var o;o=this.props.scene.camera.fov?this.props.scene.camera.fov:80;var s;s=this.props.scene.camera.nearClipping?this.props.scene.camera.nearClipping:.005,e=this.state.headset?a.default.createElement("a-entity",{id:"cameraRig",position:this.props.scene.camera.position,rotation:this.props.scene.camera.rotation},a.default.createElement("a-camera",{id:"head",fov:o,near:s,position:"0 1.6 0"}),a.default.createElement("a-entity",{id:"left-hand","windows-motion-controls":"hand: left","vive-controls":"hand: left","teleport-controls":"cameraRig: #cameraRig; teleportOrigin: #head;"}),a.default.createElement("a-entity",{id:"right-hand","laser-controls":"hand: right",raycaster:"objects: .clickable;",line:"color: red; opacity: 0.75","windows-motion-controls":"hand: right","vive-controls":"hand: right","gearvr-controls":!0,"daydream-controls":!0,"teleport-controls":"cameraRig: #cameraRig; teleportOrigin: #head;"},a.default.createElement("a-entity",{cursor:"fuse: false",position:"0 0 0",geometry:"primitive: ring; radiusInner: 0.02; radiusOuter: 0.03",material:"color: black; shader: flat",raycaster:"far: 0; objects: .clickable;showLine: false;"}),a.default.createElement("a-entity",{id:"hover",geometry:"primitive: plane; height: auto; width: auto",material:"color: #000; opacity: 1",position:"3 -0.1 -5",rotation:"0 0 0",text:"align: center; color: #fff; anchor: center; value: ",visible:!1}))):a.default.createElement("a-entity",{id:"cameraRig",position:this.props.scene.camera.position,rotation:this.props.scene.camera.rotation},a.default.createElement("a-camera",{id:"head",fov:o,near:s,position:"0 1.6 0","look-controls":"enabled: true"},a.default.createElement("a-entity",{cursor:"fuse: false; rayOrigin: mouse",position:"0 0 0",geometry:"primitive: ring; radiusInner: 0.02; radiusOuter: 0.03",material:"color: black; shader: flat",raycaster:"objects: .clickable;showLine: true;"}),a.default.createElement("a-entity",{id:"hover",geometry:"primitive: plane; height: auto; width: auto",material:"color: #000; opacity: 1",position:"3 -0.1 -5",rotation:"0 0 0",text:"align: center; color: #fff; anchor: center; value: ",visible:!1}))),n=!1===this.props.scene.sky.style.texture?a.default.createElement("a-sky",{id:"bg",color:this.props.scene.sky.style.color}):a.default.createElement("a-sky",{id:"bg",src:this.props.scene.sky.style.img}),this.props.scene.floor&&(r=this.props.scene.floor.style.texture?null===this.props.scene.floor.style.repeat?a.default.createElement("a-plane",{src:this.props.scene.floor.style.img,rotation:"-90 0 0",width:""+this.props.scene.floor.style.width,height:""+this.props.scene.floor.style.depth}):a.default.createElement("a-plane",{src:this.props.scene.floor.style.img,rotation:"-90 0 0",width:""+this.props.scene.floor.style.width,height:""+this.props.scene.floor.style.depth,repeat:this.props.scene.floor.style.repeat}):a.default.createElement("a-plane",{color:this.props.scene.floor.style.color,rotation:"-90 0 0",width:""+this.props.scene.floor.style.width,height:""+this.props.scene.floor.style.depth})),this.props.scene["3D-objects"]&&(i=this.props.scene["3D-objects"].map((function(t,e){return a.default.createElement("a-assets",{key:e},a.default.createElement("a-asset-item",{id:t.objectID,src:t.objectFile}),a.default.createElement("a-asset-item",{id:t.materialID,src:t.materialFile}))})))}var R=this.props.graph.map((function(t,e){var n=void 0;switch(t.title&&(n=a.default.createElement("a-text",{color:t.title.color,wrapCount:t.title.wrapCount,lineHeight:t.title.lineHeight,width:t.title.width,value:t.title.value,anchor:"align",side:"double",align:t.title.align,position:t.title.position,rotation:t.title.rotation,billboard:t.title.billboarding})),t.type){case"BarGraph":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(l.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,xAxis:t.axis["x-axis"],yAxis:t.axis["y-axis"],zAxis:t.axis["z-axis"],axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(l.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"ConnectedScatterPlot":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(f.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,xAxis:t.axis["x-axis"],yAxis:t.axis["y-axis"],zAxis:t.axis["z-axis"],axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(f.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"ContourMap":var r=void 0;return t.data&&t.style&&t.mark?(r=t.mark.heightThreshold?t.mark.heightThreshold:0,t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(x.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,heightThreshold:r,axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(x.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,heightThreshold:r,index:"Graph"+e,title:t.title}))):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"ContourPlot":return t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(h.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,style:t.style,mark:t.mark,xAxis:t.axis["x-axis"],yAxis:t.axis["y-axis"],zAxis:t.axis["z-axis"],axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(h.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"FlowMap":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(b.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(b.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"ForceDirectedGraph":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(m.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(m.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"MapBarChart":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(g.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(g.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"MapStackedBarChart":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(y.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(y.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"ParametricCurvePlot":return t.style&&t.mark&&t.parameter?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(w.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,style:t.style,mark:t.mark,xAxis:t.axis["x-axis"],yAxis:t.axis["y-axis"],zAxis:t.axis["z-axis"],parameter:t.parameter,axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(w.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,style:t.style,mark:t.mark,parameter:t.parameter,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"ParametricSurfacePlot":return t.style&&t.mark&&t.parameter?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(M.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,style:t.style,mark:t.mark,xAxis:t.axis["x-axis"],yAxis:t.axis["y-axis"],zAxis:t.axis["z-axis"],parameter:t.parameter,axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(M.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,style:t.style,mark:t.mark,parameter:t.parameter,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"PointCloud":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(p.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(p.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"PrismMap":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(v.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(v.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"ScatterPlot":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(u.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,xAxis:t.axis["x-axis"],yAxis:t.axis["y-axis"],zAxis:t.axis["z-axis"],axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(u.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"StackedBarGraph":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(c.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,xAxis:t.axis["x-axis"],yAxis:t.axis["y-axis"],zAxis:t.axis["z-axis"],axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(c.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"SurfacePlot":return t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(d.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,style:t.style,mark:t.mark,xAxis:t.axis["x-axis"],yAxis:t.axis["y-axis"],zAxis:t.axis["z-axis"],axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(d.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"TreeMap":return t.style&&t.data&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(A.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(A.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"WaterFallPlot":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(E.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,xAxis:t.axis["x-axis"],yAxis:t.axis["y-axis"],zAxis:t.axis["z-axis"],axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(E.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"MeshPlot":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(T.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,xAxis:t.axis["x-axis"],yAxis:t.axis["y-axis"],zAxis:t.axis["z-axis"],axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(T.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"RectangleChart":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(S.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,xAxis:t.axis["x-axis"],yAxis:t.axis["y-axis"],zAxis:t.axis["z-axis"],axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(S.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"LollipopChart":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(D.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,xAxis:t.axis["x-axis"],yAxis:t.axis["y-axis"],zAxis:t.axis["z-axis"],axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(D.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"TimeSeries":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(L.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,xAxis:t.axis["x-axis"],yAxis:t.axis["y-axis"],zAxis:t.axis["z-axis"],axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(L.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"MapTimeBars":return t.data&&t.style&&t.mark?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(k.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,axisBox:t.axis["axis-box"],index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(k.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"MapContourLines":return t.data&&t.style&&t.mark?(t.axis,a.default.createElement("a-entity",{key:e},n,a.default.createElement(_.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,index:"Graph"+e,title:t.title}))):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"SpiralChart":return t.data&&t.style&&t.mark&&t.axis?t.axis?a.default.createElement("a-entity",{key:e},n,a.default.createElement(C.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,mark:t.mark,axis:t.axis,index:"Graph"+e,title:t.title})):a.default.createElement("a-entity",{key:e},n,a.default.createElement(C.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,data:t.data,style:t.style,index:"Graph"+e,title:t.title})):(console.log("Error: Some necessary attributes missing for "+t.type),null);case"CrossSectionView":return t.mark&&t.style?(t.axis,a.default.createElement("a-entity",{key:e},n,a.default.createElement(P.default,{key:e,animateRotation:t.animateRotation,rotationOnDrag:t.rotationOnDrag,object:t.mark.object,material:t.mark.material,style:t.style,title:t.title}))):(console.log("Error: Some necessary attributes missing for "+t.type),null);default:return console.log("The visualization type does not match the set in the library."),null}})),O=window.innerHeight+"px",I=window.innerWidth+"px",N="aframeBox";return this.props.scene?(this.props.scene.parentDiv&&(this.props.scene.parentDiv.height&&(O=this.props.scene.parentDiv.height+"px"),this.props.scene.parentDiv.width&&(I=this.props.scene.parentDiv.width+"px"),this.props.scene.parentDiv.class&&(N=""+this.props.scene.parentDiv.class)),a.default.createElement("a-scene",{class:N,embedded:!0,style:{height:O,width:I}},r,n,e,t,i,a.default.createElement("a-entity",{class:"parentEntity",id:"my-element"},R))):a.default.createElement("a-entity",null,R)}}]),e}();I.propTypes=O,e.default=I},function(t,e,n){t.exports=n(149)()},function(t,e,n){"use strict";var r=n(150);function i(){}function a(){}a.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=m(i),o=f(n(2)),s=f(n(0)),l=m(n(6)),u=m(n(3)),c=m(n(8)),d=m(n(9)),h=m(n(10)),p=n(4);function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,p.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,p.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,u.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,p.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){var e=void 0,n=void 0,r=void 0,i=void 0;this.props.mark.position.x&&(e=this.props.mark.position.x.domain?this.props.mark.position.x.domain:(0,l.default)(this.state.data,this.props.mark.position.x.field,this.props.mark.position.x.scaleType,this.props.mark.position.x.startFromZero)),this.props.mark.style.height&&(n=this.props.mark.style.height.domain?this.props.mark.style.height.domain:(0,l.default)(this.state.data,this.props.mark.style.height.field,this.props.mark.style.height.scaleType,this.props.mark.style.height.startFromZero)),this.props.mark.position.z&&(r=this.props.mark.position.z.domain?this.props.mark.position.z.domain:(0,l.default)(this.state.data,this.props.mark.position.z.field,this.props.mark.position.z.scaleType,this.props.mark.position.z.startFromZero)),this.props.mark.style.fill&&this.props.mark.style.fill.scaleType&&(i=this.props.mark.style.fill.domain?this.props.mark.style.fill.domain:(0,l.default)(this.state.data,this.props.mark.style.fill.field,this.props.mark.style.fill.scaleType,this.props.mark.style.fill.startFromZero));var s=void 0,u=void 0,p=void 0,f=void 0,m=void 0,v=void 0;"ordinal"===this.props.mark.position.x.scaleType&&(s=o.scaleBand().range([0,this.props.style.dimensions.width]).domain(e).paddingInner(this.props.mark.style.padding.x),m=s.bandwidth()),u=o.scaleLinear().domain(n).range([0,this.props.style.dimensions.height]),"ordinal"===this.props.mark.position.z.scaleType&&(p=o.scaleBand().domain(r).range([0,this.props.style.dimensions.depth]).paddingInner(this.props.mark.style.padding.z),v=p.bandwidth());var g=v/2;if(v>m&&(g=m/2),this.props.mark.style.fill.scaleType){var y=o.schemeCategory10;this.props.mark.style.fill.color&&(y=this.props.mark.style.fill.color),f="ordinal"===this.props.mark.style.fill.scaleType?o.scaleOrdinal().domain(i).range(y):o.scaleLinear().domain(i).range(y)}var _=void 0,b=void 0,x=void 0;this.props.xAxis&&(_="cylinder"===this.props.mark.type||"cone"===this.props.mark.type?a.default.createElement(c.default,{domain:e,tick:this.props.xAxis.ticks,scale:s,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,padding:2*g,grid:this.props.xAxis.grid}):a.default.createElement(c.default,{domain:e,tick:this.props.xAxis.ticks,scale:s,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,padding:m,grid:this.props.xAxis.grid})),this.props.yAxis&&(b=a.default.createElement(c.default,{domain:u.ticks(this.props.yAxis.ticks.noOfTicks),tick:this.props.yAxis.ticks,scale:u,axis:"y",orient:this.props.yAxis.orient,title:this.props.yAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.style.height.scaleType,grid:this.props.yAxis.grid})),this.props.zAxis&&(x="cylinder"===this.props.mark.type||"cone"===this.props.mark.type?a.default.createElement(c.default,{domain:r,tick:this.props.zAxis.ticks,scale:p,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,padding:2*g,grid:this.props.zAxis.grid}):a.default.createElement(c.default,{domain:r,tick:this.props.zAxis.ticks,scale:p,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,padding:v,grid:this.props.zAxis.grid}));var w=void 0;this.props.axisBox&&(w=a.default.createElement(d.default,{width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,color:this.props.axisBox.color}));var M=this.state.data.map((function(e,n){var r=u(e[t.props.mark.style.height.field]);0===u(e[t.props.mark.style.height.field])&&(r=1e-12);var i=t.props.mark.style.fill.color;t.props.mark.style.fill.scaleType&&(i=f(e[t.props.mark.style.fill.field]));var o=s(e[t.props.mark.position.x.field])+m/2+" "+r/2+" "+(p(e[t.props.mark.position.z.field])+v/2);"cone"!==t.props.mark.type&&"cylinder"!==t.props.mark.type||(o=s(e[t.props.mark.position.x.field])+g+" "+r/2+" "+(p(e[t.props.mark.position.z.field])+g));var l=void 0;t.props.mark.mouseOver&&t.props.mark.mouseOver.label&&(l=t.props.mark.mouseOver.label.value(e));var c="clickable",d=void 0;return"function"==typeof t.props.mark.class&&(c="clickable "+t.props.mark.class(e,n)),"function"==typeof t.props.mark.id&&(d=t.props.mark.id(e,n)),a.default.createElement(h.default,{key:t.props.index+"_Shape"+n,type:t.props.mark.type,color:""+i,opacity:t.props.mark.style.fill.opacity,depth:""+v,height:""+r,width:""+m,radius:""+g,segments:""+t.props.mark.style.segments,position:o,hover:t.props.mark.mouseOver,hoverText:l,graphID:t.props.index,class:c,id:d,data:JSON.stringify(e)})})),A="false",E=void 0;return this.props.rotationOnDrag&&(A="true"),this.props.animateRotation&&(A="false",E=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+A,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},E,M,_,b,x,w)}return a.default.createElement("a-entity",null)}}]),e}();e.default=v},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r={"./af":17,"./af.js":17,"./ar":18,"./ar-dz":19,"./ar-dz.js":19,"./ar-kw":20,"./ar-kw.js":20,"./ar-ly":21,"./ar-ly.js":21,"./ar-ma":22,"./ar-ma.js":22,"./ar-sa":23,"./ar-sa.js":23,"./ar-tn":24,"./ar-tn.js":24,"./ar.js":18,"./az":25,"./az.js":25,"./be":26,"./be.js":26,"./bg":27,"./bg.js":27,"./bm":28,"./bm.js":28,"./bn":29,"./bn.js":29,"./bo":30,"./bo.js":30,"./br":31,"./br.js":31,"./bs":32,"./bs.js":32,"./ca":33,"./ca.js":33,"./cs":34,"./cs.js":34,"./cv":35,"./cv.js":35,"./cy":36,"./cy.js":36,"./da":37,"./da.js":37,"./de":38,"./de-at":39,"./de-at.js":39,"./de-ch":40,"./de-ch.js":40,"./de.js":38,"./dv":41,"./dv.js":41,"./el":42,"./el.js":42,"./en-SG":43,"./en-SG.js":43,"./en-au":44,"./en-au.js":44,"./en-ca":45,"./en-ca.js":45,"./en-gb":46,"./en-gb.js":46,"./en-ie":47,"./en-ie.js":47,"./en-il":48,"./en-il.js":48,"./en-nz":49,"./en-nz.js":49,"./eo":50,"./eo.js":50,"./es":51,"./es-do":52,"./es-do.js":52,"./es-us":53,"./es-us.js":53,"./es.js":51,"./et":54,"./et.js":54,"./eu":55,"./eu.js":55,"./fa":56,"./fa.js":56,"./fi":57,"./fi.js":57,"./fo":58,"./fo.js":58,"./fr":59,"./fr-ca":60,"./fr-ca.js":60,"./fr-ch":61,"./fr-ch.js":61,"./fr.js":59,"./fy":62,"./fy.js":62,"./ga":63,"./ga.js":63,"./gd":64,"./gd.js":64,"./gl":65,"./gl.js":65,"./gom-latn":66,"./gom-latn.js":66,"./gu":67,"./gu.js":67,"./he":68,"./he.js":68,"./hi":69,"./hi.js":69,"./hr":70,"./hr.js":70,"./hu":71,"./hu.js":71,"./hy-am":72,"./hy-am.js":72,"./id":73,"./id.js":73,"./is":74,"./is.js":74,"./it":75,"./it-ch":76,"./it-ch.js":76,"./it.js":75,"./ja":77,"./ja.js":77,"./jv":78,"./jv.js":78,"./ka":79,"./ka.js":79,"./kk":80,"./kk.js":80,"./km":81,"./km.js":81,"./kn":82,"./kn.js":82,"./ko":83,"./ko.js":83,"./ku":84,"./ku.js":84,"./ky":85,"./ky.js":85,"./lb":86,"./lb.js":86,"./lo":87,"./lo.js":87,"./lt":88,"./lt.js":88,"./lv":89,"./lv.js":89,"./me":90,"./me.js":90,"./mi":91,"./mi.js":91,"./mk":92,"./mk.js":92,"./ml":93,"./ml.js":93,"./mn":94,"./mn.js":94,"./mr":95,"./mr.js":95,"./ms":96,"./ms-my":97,"./ms-my.js":97,"./ms.js":96,"./mt":98,"./mt.js":98,"./my":99,"./my.js":99,"./nb":100,"./nb.js":100,"./ne":101,"./ne.js":101,"./nl":102,"./nl-be":103,"./nl-be.js":103,"./nl.js":102,"./nn":104,"./nn.js":104,"./pa-in":105,"./pa-in.js":105,"./pl":106,"./pl.js":106,"./pt":107,"./pt-br":108,"./pt-br.js":108,"./pt.js":107,"./ro":109,"./ro.js":109,"./ru":110,"./ru.js":110,"./sd":111,"./sd.js":111,"./se":112,"./se.js":112,"./si":113,"./si.js":113,"./sk":114,"./sk.js":114,"./sl":115,"./sl.js":115,"./sq":116,"./sq.js":116,"./sr":117,"./sr-cyrl":118,"./sr-cyrl.js":118,"./sr.js":117,"./ss":119,"./ss.js":119,"./sv":120,"./sv.js":120,"./sw":121,"./sw.js":121,"./ta":122,"./ta.js":122,"./te":123,"./te.js":123,"./tet":124,"./tet.js":124,"./tg":125,"./tg.js":125,"./th":126,"./th.js":126,"./tl-ph":127,"./tl-ph.js":127,"./tlh":128,"./tlh.js":128,"./tr":129,"./tr.js":129,"./tzl":130,"./tzl.js":130,"./tzm":131,"./tzm-latn":132,"./tzm-latn.js":132,"./tzm.js":131,"./ug-cn":133,"./ug-cn.js":133,"./uk":134,"./uk.js":134,"./ur":135,"./ur.js":135,"./uz":136,"./uz-latn":137,"./uz-latn.js":137,"./uz.js":136,"./vi":138,"./vi.js":138,"./x-pseudo":139,"./x-pseudo.js":139,"./yo":140,"./yo.js":140,"./zh-cn":141,"./zh-cn.js":141,"./zh-hk":142,"./zh-hk.js":142,"./zh-tw":143,"./zh-tw.js":143};function i(t){var e=a(t);return n(e)}function a(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id=153},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=m(i),o=f(n(2)),s=f(n(0)),l=m(n(6)),u=m(n(3)),c=m(n(8)),d=m(n(9)),h=m(n(10)),p=n(4);function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,p.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,p.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,u.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,p.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){var e,n,r,i=void 0,s=void 0;e=this.props.mark.position.x.domain?this.props.mark.position.x.domain:(0,l.default)(this.state.data,this.props.mark.position.x.field,this.props.mark.position.x.scaleType,this.props.mark.position.x.startFromZero),n=this.props.mark.position.y.domain?this.props.mark.position.y.domain:(0,l.default)(this.state.data,this.props.mark.position.y.field,this.props.mark.position.y.scaleType,this.props.mark.position.y.startFromZero),r=this.props.mark.position.z.domain?this.props.mark.position.z.domain:(0,l.default)(this.state.data,this.props.mark.position.z.field,this.props.mark.position.z.scaleType,this.props.mark.position.z.startFromZero),this.props.mark.style.fill.scaleType&&(i=this.props.mark.style.fill.domain?this.props.mark.style.fill.domain:(0,l.default)(this.state.data,this.props.mark.style.fill.field,this.props.mark.style.fill.scaleType,this.props.mark.style.fill.startFromZero)),this.props.mark.style.radius.scaleType&&(s=this.props.mark.style.radius.domain?this.props.mark.style.radius.domain:[0,o.max(this.state.data,(function(e){return e[t.props.mark.style.radius.field]}))]);var u=void 0,p=void 0,f=void 0,m=void 0,v=void 0;if(u=o.scaleLinear().domain(e).range([0,this.props.style.dimensions.width]),p=o.scaleLinear().domain(n).range([0,this.props.style.dimensions.height]),f=o.scaleLinear().domain(r).range([0,this.props.style.dimensions.depth]),this.props.mark.style.fill.scaleType){var g=o.schemeCategory10;this.props.mark.style.fill.color&&(g=this.props.mark.style.fill.color),m="ordinal"===this.props.mark.style.fill.scaleType?o.scaleOrdinal().domain(i).range(g):o.scaleLinear().domain(i).range(g)}this.props.mark.style.radius.scaleType&&(v=o.scaleLinear().domain(s).range(this.props.mark.style.radius.value));var y=void 0,_=void 0,b=void 0;this.props.xAxis&&(y=a.default.createElement(c.default,{domain:e,tick:this.props.xAxis.ticks,scale:u,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,grid:this.props.xAxis.grid})),this.props.yAxis&&(_=a.default.createElement(c.default,{domain:n,tick:this.props.yAxis.ticks,scale:p,axis:"y",orient:this.props.yAxis.orient,title:this.props.yAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.y.scaleType,grid:this.props.yAxis.grid})),this.props.zAxis&&(b=a.default.createElement(c.default,{domain:r,tick:this.props.zAxis.ticks,scale:f,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,grid:this.props.zAxis.grid}));var x=void 0;this.props.axisBox&&(x=a.default.createElement(d.default,{width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,color:this.props.axisBox.color}));var w=this.state.data.map((function(e,n){var r=t.props.mark.style.fill.color;t.props.mark.style.fill.scaleType&&(r=m(e[t.props.mark.style.fill.field]));var i=t.props.mark.style.radius.value;t.props.mark.style.radius.scaleType&&(i=v(e[t.props.mark.style.radius.field]));var o,s=u(e[t.props.mark.position.x.field])+" "+p(e[t.props.mark.position.y.field])+" "+f(e[t.props.mark.position.z.field]);o=t.props.mark.type?t.props.mark.type:"sphere";var l=void 0;t.props.mark.mouseOver&&t.props.mark.mouseOver.label&&(l=t.props.mark.mouseOver.label.value(e));var c="clickable",d=void 0;return"function"==typeof t.props.mark.class&&(c="clickable "+t.props.mark.class(e,n)),"function"==typeof t.props.mark.id&&(d=t.props.mark.id(e,n)),a.default.createElement(h.default,{key:t.props.index+"_Shape"+n,type:o,color:""+r,opacity:t.props.mark.style.fill.opacity,depth:""+i,height:""+i,width:""+i,radius:""+i,position:s,hover:t.props.mark.mouseOver,hoverText:l,graphID:t.props.index,class:c,id:d,data:JSON.stringify(e)})})),M=void 0,A=void 0,E=void 0;this.props.mark.droplines&&(this.props.mark.droplines.xz&&(M=this.state.data.map((function(e,n){var r=t.props.mark.droplines.style.fill.color;return t.props.mark.droplines.style.fill.scaleType&&(r=m(e[t.props.mark.droplines.style.fill.field])),a.default.createElement("a-entity",{key:n,line:"start:"+u(e[t.props.mark.position.x.field])+", 0, "+f(e[t.props.mark.position.z.field])+"; end:"+u(e[t.props.mark.position.x.field])+" "+p(e[t.props.mark.position.y.field])+" "+f(e[t.props.mark.position.z.field])+"; opacity:"+t.props.mark.droplines.style.fill.opacity+"; color:"+r})}))),this.props.mark.droplines.xy&&(E=this.state.data.map((function(e,n){var r=t.props.mark.droplines.style.fill.color;return t.props.mark.droplines.style.fill.scaleType&&(r=m(e[t.props.mark.droplines.style.fill.field])),a.default.createElement("a-entity",{key:n,line:"start:"+u(e[t.props.mark.position.x.field])+", "+p(e[t.props.mark.position.y.field])+", 0; end:"+u(e[t.props.mark.position.x.field])+" "+p(e[t.props.mark.position.y.field])+" "+f(e[t.props.mark.position.z.field])+"; opacity:"+t.props.mark.droplines.style.fill.opacity+"; color:"+r})}))),this.props.mark.droplines.yz&&(A=this.state.data.map((function(e,n){var r=t.props.mark.droplines.style.fill.color;return t.props.mark.droplines.style.fill.scaleType&&(r=m(e[t.props.mark.droplines.style.fill.field])),a.default.createElement("a-entity",{key:n,line:"start:0, "+p(e[t.props.mark.position.y.field])+", "+f(e[t.props.mark.position.z.field])+"; end:"+u(e[t.props.mark.position.x.field])+" "+p(e[t.props.mark.position.y.field])+" "+f(e[t.props.mark.position.z.field])+"; opacity:"+t.props.mark.droplines.style.fill.opacity+"; color:"+r})}))));var T=void 0,S=void 0,L=void 0;this.props.mark.projections&&(this.props.mark.projections.xz&&(T=this.state.data.map((function(e,n){var r=t.props.mark.projections.style.fill.color,i=t.props.mark.projections.style.radius.value;return t.props.mark.projections.style.radius.scaleType&&(i=v(e[t.props.mark.projections.style.radius.field])),t.props.mark.projections.style.fill.scaleType&&(r=m(e[t.props.mark.projections.style.fill.field])),a.default.createElement("a-circle",{position:u(e[t.props.mark.position.x.field])+", 0, "+f(e[t.props.mark.position.z.field]),opacity:t.props.mark.projections.style.fill.opacity,color:""+r,radius:i,rotation:"-90 0 0"})}))),this.props.mark.projections.xy&&(L=this.state.data.map((function(e,n){var r=t.props.mark.projections.style.fill.color,i=t.props.mark.projections.style.radius.value;return t.props.mark.projections.style.radius.scaleType&&(i=v(e[t.props.mark.projections.style.radius.field])),t.props.mark.projections.style.fill.scaleType&&(r=m(e[t.props.mark.projections.style.fill.field])),a.default.createElement("a-circle",{key:n,position:u(e[t.props.mark.position.x.field])+", "+p(e[t.props.mark.position.y.field])+", 0",opacity:t.props.mark.projections.style.fill.opacity,color:""+r,radius:i,rotation:"0 0 0"})}))),this.props.mark.projections.yz&&(S=this.state.data.map((function(e,n){var r=t.props.mark.projections.style.fill.color,i=t.props.mark.projections.style.radius.value;return t.props.mark.projections.style.radius.scaleType&&(i=v(e[t.props.mark.projections.style.radius.field])),t.props.mark.projections.style.fill.scaleType&&(r=m(e[t.props.mark.projections.style.fill.field])),a.default.createElement("a-circle",{key:n,position:"0, "+p(e[t.props.mark.position.y.field])+", "+f(e[t.props.mark.position.z.field]),opacity:t.props.mark.projections.style.fill.opacity,color:""+r,radius:i,rotation:"0 90 0"})}))));var k="false",C=void 0;return this.props.rotationOnDrag&&(k="true"),this.props.animateRotation&&(k="false",C=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+k,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},C,w,E,M,A,L,T,S,y,_,b,x)}return a.default.createElement("a-entity",null)}}]),e}();e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=m(i),o=f(n(2)),s=f(n(0)),l=m(n(6)),u=m(n(3)),c=m(n(8)),d=m(n(9)),h=m(n(10)),p=n(4);function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,p.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,p.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,u.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,p.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){for(var e=o.stack().keys(this.props.mark.style.fill.field)(this.state.data),n=0,r=99999999999999,i=[],s=0;s<e.length;s++)for(var u=0;u<e[s].length;u++)i.push(e[s][u]);for(var p=0;p<i.length;p++)n<i[p][1]&&(n=i[p][1]),r>i[p][1]&&(r=i[p][1]);var f,m,v;f=this.props.mark.position.x.domain?this.props.mark.position.x.domain:(0,l.default)(this.state.data,this.props.mark.position.x.field,this.props.mark.position.x.scaleType,this.props.mark.position.x.startFromZero),m=this.props.mark.style.height.domain?this.props.mark.style.height.domain:[0,o.max(i,(function(t){return t[1]}))],v=this.props.mark.position.z.domain?this.props.mark.position.z.domain:(0,l.default)(this.state.data,this.props.mark.position.z.field,this.props.mark.position.z.scaleType,this.props.mark.position.z.startFromZero);var g=void 0,y=void 0,_=void 0,b=void 0,x=void 0;"ordinal"===this.props.mark.position.x.scaleType&&(g=o.scaleBand().range([0,this.props.style.dimensions.width]).domain(f).paddingInner(this.props.mark.style.padding.x),b=g.bandwidth()),y=o.scaleLinear().domain(m).range([0,this.props.style.dimensions.height]),"ordinal"===this.props.mark.position.z.scaleType&&(_=o.scaleBand().domain(v).range([0,this.props.style.dimensions.depth]).paddingInner(this.props.mark.style.padding.z),x=_.bandwidth());var w=x/2;x>b&&(w=b/2);var M=void 0,A=void 0,E=void 0;this.props.xAxis&&(M="cylinder"===this.props.mark.type||"cone"===this.props.mark.type?a.default.createElement(c.default,{domain:f,tick:this.props.xAxis.ticks,scale:g,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,padding:2*w,grid:this.props.xAxis.grid}):a.default.createElement(c.default,{domain:f,tick:this.props.xAxis.ticks,scale:g,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,padding:b,grid:this.props.xAxis.grid})),this.props.yAxis&&(A=a.default.createElement(c.default,{domain:y.ticks(this.props.yAxis.ticks.noOfTicks),tick:this.props.yAxis.ticks,scale:y,axis:"y",orient:this.props.yAxis.orient,title:this.props.yAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.style.height.scaleType,grid:this.props.yAxis.grid})),this.props.zAxis&&(E="cylinder"===this.props.mark.type||"cone"===this.props.mark.type?a.default.createElement(c.default,{domain:v,tick:this.props.zAxis.ticks,scale:_,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,padding:2*w,grid:this.props.zAxis.grid}):a.default.createElement(c.default,{domain:v,tick:this.props.zAxis.ticks,scale:_,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,padding:x,grid:this.props.zAxis.grid}));var T=void 0;this.props.axisBox&&(T=a.default.createElement(d.default,{width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,color:this.props.axisBox.color})),console.log(e);var S=e.map((function(e,n){return e.map((function(r,i){var o=y(r[1]-r[0]);0===o&&(o=1e-12);var s=t.props.mark.style.fill.color[n],l=g(r.data[t.props.mark.position.x.field])+b/2+" "+(y(r[0])+o/2)+" "+(_(r.data[t.props.mark.position.z.field])+x/2);"cylinder"===t.props.mark.type&&(l=g(r.data[t.props.mark.position.x.field])+w+" "+(y(r[0])+o/2)+" "+(_(r.data[t.props.mark.position.z.field])+w));var u=void 0;return t.props.mark.mouseOver&&t.props.mark.mouseOver.label&&(u=t.props.mark.mouseOver.label.value(r.data).replace("Label",""+e.key).replace("LabelValue",""+r.data[e.key])),a.default.createElement(h.default,{key:t.props.index+"_Shape"+n+"_"+i,type:t.props.mark.type,color:""+s,opacity:t.props.mark.style.fill.opacity,depth:""+x,height:""+o,width:""+b,radius:""+w,segments:""+t.props.mark.style.segments,position:l,hover:t.props.mark.mouseOver,hoverText:u,graphID:t.props.index})}))})),L="false",k=void 0;return this.props.rotationOnDrag&&(L="true"),this.props.animateRotation&&(L="false",k=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+L,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},k,S,M,A,E,T)}return a.default.createElement("a-entity",null)}}]),e}();e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=u(i),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(2)),s=u(n(8)),l=u(n(9));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"render",value:function(){for(var t=[],e=(this.props.mark.position.x.domain[1]-this.props.mark.position.x.domain[0])/this.props.mark.position.x.steps,n=(this.props.mark.position.z.domain[1]-this.props.mark.position.z.domain[0])/this.props.mark.position.z.steps,r=0;r<this.props.mark.position.x.steps;r++)for(var i=0;i<this.props.mark.position.z.steps;i++){var u=[];u.push(this.props.mark.position.x.domain[0]+e*r),u.push(this.props.mark.position.y.function(this.props.mark.position.x.domain[0]+e*r,this.props.mark.position.z.domain[0]+n*i)),u.push(this.props.mark.position.z.domain[0]+n*i),this.props.mark.style.fill&&this.props.mark.style.fill.function&&u.push(this.props.mark.style.fill.function(this.props.mark.position.x.domain[0]+e*r,this.props.mark.position.z.domain[0]+n*i)),t.push(u)}var c,d=this.props.mark.position.x.domain,h=this.props.mark.position.z.domain,p=void 0,f=void 0,m=void 0,v=void 0;if(c=this.props.mark.position.y.domain?this.props.mark.position.y.domain:[o.min(t,(function(t){return t[1]})),o.max(t,(function(t){return t[1]}))],p=o.scaleLinear().range([0,this.props.style.dimensions.width]).domain(d),f=o.scaleLinear().domain(c).range([0,this.props.style.dimensions.height]),m=o.scaleLinear().domain(h).range([0,this.props.style.dimensions.depth]),this.props.mark.style.fill&&this.props.mark.style.fill.scaleType){var g=o.schemeCategory10;this.props.mark.style.fill.color&&(g=this.props.mark.style.fill.color),v=this.props.mark.style.fill.domain?o.scaleLinear().domain(this.props.mark.style.fill.domain).range(g):o.scaleLinear().domain([o.min(t,(function(t){return t[3]})),o.max(t,(function(t){return t[3]}))]).range(g)}for(var y=[],_=[],b=[],x=[],w=0;w<this.props.mark.position.x.steps-1;w++)for(var M=0;M<this.props.mark.position.z.steps-1;M++){var A={x:p(this.props.mark.position.x.domain[0]+e*w),y:f(this.props.mark.position.y.function(this.props.mark.position.x.domain[0]+e*w,this.props.mark.position.z.domain[0]+n*M)),z:m(this.props.mark.position.z.domain[0]+n*M)};y.push(A),_.push(A);var E=y.length-1;A={x:p(this.props.mark.position.x.domain[0]+e*(w+1)),y:f(this.props.mark.position.y.function(this.props.mark.position.x.domain[0]+e*(w+1),this.props.mark.position.z.domain[0]+n*M)),z:m(this.props.mark.position.z.domain[0]+n*M)},y.push(A),_.push(A),_.push(A);var T=y.length-1;A={x:p(this.props.mark.position.x.domain[0]+e*(w+1)),y:f(this.props.mark.position.y.function(this.props.mark.position.x.domain[0]+e*(w+1),this.props.mark.position.z.domain[0]+n*(M+1))),z:m(this.props.mark.position.z.domain[0]+n*(M+1))},y.push(A),_.push(A),_.push(A);var S=y.length-1;A={x:p(this.props.mark.position.x.domain[0]+e*w),y:f(this.props.mark.position.y.function(this.props.mark.position.x.domain[0]+e*w,this.props.mark.position.z.domain[0]+n*(M+1))),z:m(this.props.mark.position.z.domain[0]+n*(M+1))},y.push(A),_.push(A),_.push(A),A={x:p(this.props.mark.position.x.domain[0]+e*w),y:f(this.props.mark.position.y.function(this.props.mark.position.x.domain[0]+e*w,this.props.mark.position.z.domain[0]+n*M)),z:m(this.props.mark.position.z.domain[0]+n*M)},_.push(A);var L=y.length-1;b.push([E,T,S]),b.push([E,S,L]);var k=void 0,C=void 0,D=void 0,P=void 0;this.props.mark.style.fill&&(this.props.mark.style.fill.function?(k=v(this.props.mark.style.fill.function(this.props.mark.position.x.domain[0]+e*w,this.props.mark.position.z.domain[0]+n*M)),C=v(this.props.mark.style.fill.function(this.props.mark.position.x.domain[0]+e*(w+1),this.props.mark.position.z.domain[0]+n*M)),D=v(this.props.mark.style.fill.function(this.props.mark.position.x.domain[0]+e*(w+1),this.props.mark.position.z.domain[0]+n*(M+1))),P=v(this.props.mark.style.fill.function(this.props.mark.position.x.domain[0]+e*w,this.props.mark.position.z.domain[0]+n*(M+1)))):(k=this.props.mark.style.fill.color,C=this.props.mark.style.fill.color,D=this.props.mark.style.fill.color,P=this.props.mark.style.fill.color)),x.push([k,C,D]),x.push([k,D,P])}var R=JSON.stringify(y),O=JSON.stringify(b),I=JSON.stringify(x),N=JSON.stringify(_),z=void 0,B=void 0,F=void 0;this.props.xAxis&&(z=a.default.createElement(s.default,{domain:d,tick:this.props.xAxis.ticks,scale:p,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,grid:this.props.xAxis.grid})),this.props.yAxis&&(B=a.default.createElement(s.default,{domain:c,tick:this.props.yAxis.ticks,scale:f,axis:"y",orient:this.props.yAxis.orient,title:this.props.yAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.y.scaleType,grid:this.props.yAxis.grid})),this.props.zAxis&&(F=a.default.createElement(s.default,{domain:h,tick:this.props.zAxis.ticks,scale:m,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,grid:this.props.zAxis.grid}));var j=void 0;this.props.axisBox&&(j=a.default.createElement(l.default,{width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,color:this.props.axisBox.color}));var H="false",Y=void 0;this.props.rotationOnDrag&&(H="true"),this.props.animateRotation&&(H="false",Y=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"}));var U=!1,G=1,V="#000000",W=1;return this.props.mark.style.stroke&&(U=!0,this.props.mark.style.stroke.color&&(V=this.props.mark.style.stroke.color),this.props.mark.style.stroke.opacity&&(W=this.props.mark.style.stroke.opacity),this.props.mark.style.stroke.width&&(G=this.props.mark.style.stroke.width)),a.default.createElement("a-entity",{"click-rotation":"enabled:"+H,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2]},Y,z,B,F,j,a.default.createElement("a-frame-mesh-from-points",{points:R,faces:O,stroke_vertices:N,stroke_bool:U,stroke_color:V,stroke_width:G,stroke_opacity:W,color:I,opacity:this.props.mark.style.fill.opacity}),a.default.createElement("a-box",{class:"clickable",width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,position:this.props.style.dimensions.width/2+" "+this.props.style.dimensions.height/2+" "+this.props.style.dimensions.depth/2,opacity:0}))}}]),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=u(i),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(2)),s=u(n(8)),l=u(n(9));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"render",value:function(){for(var t=[],e=(this.props.mark.position.y.domain[1]-this.props.mark.position.y.domain[0])/this.props.mark.position.y.steps,n=this.props.mark.position.y.domain[0];n<=this.props.mark.position.y.domain[1];n+=e)t.push([this.props.mark.position.x.function(n),n,this.props.mark.position.z.function(n)]);var r=void 0,i=this.props.mark.position.y.domain,u=void 0,c=void 0,d=void 0,h=void 0;this.props.mark.position.x.domain?(r=this.props.mark.position.x.domain,c=o.scaleLinear().range([0,this.props.style.dimensions.width]).domain(this.props.mark.position.x.domain)):(r=[0,o.max(t,(function(t){return t[0]}))],c=o.scaleLinear().range([0,this.props.style.dimensions.width]).domain([o.min(t,(function(t){return t[0]})),o.max(t,(function(t){return t[0]}))])),d=o.scaleLinear().domain(i).range([0,this.props.style.dimensions.height]),this.props.mark.position.z.domain?(u=this.props.mark.position.z.domain,h=o.scaleLinear().range([0,this.props.style.dimensions.depth]).domain(this.props.mark.position.z.domain)):(u=[0,o.max(t,(function(t){return t[2]}))],h=o.scaleLinear().range([0,this.props.style.dimensions.depth]).domain([o.min(t,(function(t){return t[2]})),o.max(t,(function(t){return t[2]}))]));var p=void 0,f=void 0,m=void 0;this.props.xAxis&&(p=a.default.createElement(s.default,{domain:r,tick:this.props.xAxis.ticks,scale:c,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,grid:this.props.xAxis.grid})),this.props.yAxis&&(f=a.default.createElement(s.default,{domain:i,tick:this.props.yAxis.ticks,scale:d,axis:"y",orient:this.props.yAxis.orient,title:this.props.yAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.y.scaleType,grid:this.props.yAxis.grid})),this.props.zAxis&&(m=a.default.createElement(s.default,{domain:u,tick:this.props.zAxis.ticks,scale:h,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,grid:this.props.zAxis.grid}));var v=void 0;this.props.axisBox&&(v=a.default.createElement(l.default,{width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,color:this.props.axisBox.color}));var g=[];t.forEach((function(t,e){g.push({x:""+c(t[0]),y:""+d(t[1]),z:""+h(t[2])})}));var y="false",_=void 0;this.props.rotationOnDrag&&(y="true"),this.props.animateRotation&&(y="false",_=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"}));var b=20;return this.props.mark.style.resolution&&(b=this.props.mark.style.resolution),a.default.createElement("a-entity",{"click-rotation":"enabled:"+y,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},_,p,f,m,v,a.default.createElement("a-frame-curve-line",{points:JSON.stringify(g),type:this.props.mark.style.curveType,color:this.props.mark.style.color,opacity:this.props.mark.style.opacity,resolution:b}))}}]),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=p(i),o=h(n(2)),s=h(n(0)),l=p(n(6)),u=p(n(3)),c=p(n(10)),d=n(4);function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,d.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,d.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,u.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,d.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){var e=void 0;this.props.mark.style.fill.scaleType&&(e=this.props.mark.style.fill.domain?this.props.mark.style.fill.domain:(0,l.default)(this.state.data,this.props.mark.style.fill.field,this.props.mark.style.fill.scaleType,this.props.mark.style.fill.startFromZero));var n=void 0;if(this.props.mark.style.fill.scaleType){var r=o.schemeCategory10;this.props.mark.style.fill.color&&(r=this.props.mark.style.fill.color),n="ordinal"===this.props.mark.style.fill.scaleType?o.scaleOrdinal().domain(e).range(r):o.scaleLinear().domain(e).range(r)}var i=this.state.data.map((function(e,r){var i=t.props.mark.style.fill.color;e.r&&e.g&&e.b?i="rgb("+e.r+","+e.g+","+e.b+")":t.props.mark.style.fill.scaleType&&(i=n(e[t.props.mark.style.fill.field]));var o,s=e.x*t.props.style.objectScale+" "+e.y*t.props.style.objectScale+" "+e.z*t.props.style.objectScale;o=t.props.mark.type?t.props.mark.type:"sphere";var l=t.props.mark.style.radius,u=void 0;return t.props.mark.mouseOver&&t.props.mark.mouseOver.label&&(u=t.props.mark.mouseOver.label.value(e)),a.default.createElement(c.default,{key:t.props.index+"_Shape"+r,type:o,color:""+i,opacity:t.props.mark.style.fill.opacity,depth:""+l,height:""+l,width:""+l,radius:""+l,position:s,hover:t.props.mark.mouseOver,hoverText:u,graphID:t.props.index})})),s="false",u=void 0;return this.props.rotationOnDrag&&(s="true"),this.props.animateRotation&&(s="false",u=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+s,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},u,i)}return a.default.createElement("a-entity",null)}}]),e}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=m(i),o=f(n(2)),s=f(n(0)),l=m(n(6)),u=m(n(3)),c=m(n(8)),d=m(n(9)),h=m(n(10)),p=n(4);function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,p.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,p.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,u.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,p.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){var e,n,r,i=void 0,s=void 0;e=this.props.mark.position.x.domain?this.props.mark.position.x.domain:(0,l.default)(this.state.data,this.props.mark.position.x.field,this.props.mark.position.x.scaleType,this.props.mark.position.x.startFromZero),n=this.props.mark.position.y.domain?this.props.mark.position.y.domain:(0,l.default)(this.state.data,this.props.mark.position.y.field,this.props.mark.position.y.scaleType,this.props.mark.position.y.startFromZero),r=this.props.mark.position.z.domain?this.props.mark.position.z.domain:(0,l.default)(this.state.data,this.props.mark.position.z.field,this.props.mark.position.z.scaleType,this.props.mark.position.z.startFromZero),this.props.mark.points.style.fill.scaleType&&(i=this.props.mark.points.style.fill.domain?this.props.mark.points.style.fill.domain:(0,l.default)(this.state.data,this.props.mark.points.style.fill.field,this.props.mark.points.style.fill.scaleType,this.props.mark.points.style.fill.startFromZero)),this.props.mark.points.style.radius.scaleType&&(s=this.props.mark.points.style.radius.domain?this.props.mark.points.style.radius.domain:[o.min(this.state.data,(function(e){return e[t.props.mark.points.style.radius.field]})),o.max(this.state.data,(function(e){return e[t.props.mark.points.style.radius.field]}))]);var u=void 0,p=void 0,f=void 0,m=void 0,v=void 0;if(u=this.props.mark.position.x.range?o.scaleLinear().domain(e).range(this.props.mark.position.x.range):o.scaleLinear().domain(e).range([0,this.props.style.dimensions.width]),p=this.props.mark.position.y.range?o.scaleLinear().domain(n).range(this.props.mark.position.y.range):o.scaleLinear().domain(n).range([0,this.props.style.dimensions.height]),f=this.props.mark.position.z.range?o.scaleLinear().domain(r).range(this.props.mark.position.z.range):o.scaleLinear().domain(r).range([0,this.props.style.dimensions.depth]),this.props.mark.points.style.fill.scaleType){var g=o.schemeCategory10;this.props.mark.points.style.fill.color&&(g=this.props.mark.points.style.fill.color),m="ordinal"===this.props.mark.points.style.fill.scaleType?o.scaleOrdinal().domain(i).range(g):o.scaleLinear().domain(i).range(g)}this.props.mark.points.style.radius.scaleType&&(v="ordinal"===this.props.mark.points.style.radius.scaleType?o.scaleOrdinal().domain(s).range(this.props.mark.points.style.radius.value):o.scaleLinear().domain(s).range(this.props.mark.points.style.radius.value));var y=void 0,_=void 0,b=void 0;this.props.xAxis&&(y=a.default.createElement(c.default,{domain:e,tick:this.props.xAxis.ticks,scale:u,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,grid:this.props.xAxis.grid})),this.props.yAxis&&(_=a.default.createElement(c.default,{domain:n,tick:this.props.yAxis.ticks,scale:p,axis:"y",orient:this.props.yAxis.orient,title:this.props.yAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.y.scaleType,grid:this.props.yAxis.grid})),this.props.zAxis&&(b=a.default.createElement(c.default,{domain:r,tick:this.props.zAxis.ticks,scale:f,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,grid:this.props.zAxis.grid}));var x=void 0;this.props.axisBox&&(x=a.default.createElement(d.default,{width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,color:this.props.axisBox.color}));var w=this.state.data.map((function(e,n){var r=t.props.mark.points.style.fill.color;t.props.mark.points.style.fill.scaleType&&(r=m(e[t.props.mark.points.style.fill.field]));var i=t.props.mark.points.style.radius.value;t.props.mark.points.style.radius.scaleType&&(i=v(e[t.props.mark.points.style.radius.field]));var o,s=u(e[t.props.mark.position.x.field])+" "+p(e[t.props.mark.position.y.field])+" "+f(e[t.props.mark.position.z.field]);o=t.props.mark.points.type?t.props.mark.points.type:"sphere";var l=void 0;t.props.mark.points.mouseOver&&t.props.mark.points.mouseOver.label&&(l=t.props.mark.points.mouseOver.label.value(e));var c="clickable",d=void 0;return"function"==typeof t.props.mark.class&&(c="clickable "+t.props.mark.class(e,n)),"function"==typeof t.props.mark.id&&(d=t.props.mark.id(e,n)),a.default.createElement(h.default,{key:t.props.index+"_Shape"+n,type:o,color:""+r,opacity:t.props.mark.points.style.fill.opacity,depth:""+i,height:""+i,width:""+i,radius:""+i,position:s,hover:t.props.mark.points.mouseOver,hoverText:l,graphID:t.props.index,class:c,id:d,data:JSON.stringify(e)})})),M=void 0;this.props.mark.label&&(M=this.props.mark.points.style.radius.scaleType?this.state.data.map((function(e,n){return a.default.createElement("a-text",{key:t.props.index+"_Label"+n,opacity:t.props.mark.label.style.opacity,color:t.props.mark.label.style.color,width:t.props.mark.label.style.fontSize,value:""+e[t.props.mark.label.field],anchor:"align",side:"double",align:"left",position:u(e[t.props.mark.position.x.field])+.05+v(e[t.props.mark.points.style.radius.field])+" "+p(e[t.props.mark.position.y.field])+" "+f(e[t.props.mark.position.z.field]),billboard:t.props.mark.label.billboarding})})):this.state.data.map((function(e,n){return a.default.createElement("a-text",{key:t.props.index+"_Label"+n,opacity:t.props.mark.label.style.opacity,color:t.props.mark.label.style.color,width:t.props.mark.label.style.fontSize,value:""+e[t.props.mark.label.field],anchor:"align",side:"double",align:"left",position:u(e[t.props.mark.position.x.field])+.05+t.props.mark.points.style.radius.value+" "+p(e[t.props.mark.position.y.field])+" "+f(e[t.props.mark.position.z.field]),billboard:t.props.mark.label.billboarding})})));var A=[];this.state.data.forEach((function(e,n){A.push({x:""+u(e[t.props.mark.position.x.field]),y:""+p(e[t.props.mark.position.y.field]),z:""+f(e[t.props.mark.position.z.field])})}));var E="false",T=void 0;return this.props.rotationOnDrag&&(E="true"),this.props.animateRotation&&(E="false",T=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+E,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},T,a.default.createElement("a-frame-curve-line",{points:JSON.stringify(A),type:this.props.mark.line.style.stroke.curveType,stroke_width:this.props.mark.line.style.stroke.width,color:this.props.mark.line.style.stroke.color,opacity:this.props.mark.line.style.stroke.opacity,resolution:this.props.mark.line.style.stroke.resolution}),w,M,y,_,b,x)}return a.default.createElement("a-entity",null)}}]),e}();e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=p(i),o=h(n(2)),s=h(n(0)),l=p(n(6)),u=p(n(3)),c=p(n(10)),d=n(4);function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,d.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,d.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,u.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,d.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){var e=this.props.mark.labels,r=void 0,i=this.props.mark.nodes.type,s=void 0,u=this.props.style.scale;e&&(r=this.props.mark.labels.style.fontSize,s=this.props.mark.labels.style.padding);var d=void 0,h=void 0,p=void 0,f=void 0,m=void 0,v=void 0;this.props.mark.nodes.style.radius.scaleType&&(d=this.props.mark.nodes.style.radius.domain?this.props.mark.nodes.style.radius.domain:(0,l.default)(this.state.data.nodes,this.props.mark.nodes.style.radius.field,this.props.mark.nodes.style.radius.scaleType,this.props.mark.nodes.style.radius.startFromZero)),this.props.mark.nodes.style.fill.scaleType&&(p=this.props.mark.nodes.style.fill.domain?this.props.mark.nodes.style.fill.domain:(0,l.default)(this.state.data.nodes,this.props.mark.nodes.style.fill.field,this.props.mark.nodes.style.fill.scaleType,this.props.mark.nodes.style.fill.startFromZero)),this.props.mark.links.style.fill.scaleType&&(h=this.props.mark.links.style.fill.domain?this.props.mark.links.style.fill.domain:(0,l.default)(this.state.data.link,this.props.mark.links.style.fill.field,this.props.mark.links.style.fill.scaleType,this.props.mark.links.style.fill.startFromZero)),this.props.mark.links.style.fill.opacity.scaleType&&(f=this.props.mark.links.style.fill.opacity.domain?this.props.mark.links.style.fill.opacity.domain:(0,l.default)(this.state.data.link,this.props.mark.links.style.fill.opacity.field,this.props.mark.links.style.fill.opacity.scaleType,this.props.mark.links.style.fill.opacity.startFromZero)),this.props.mark.links.flowAnimation&&(this.props.mark.links.flowAnimation.radius.scaleType&&(m=this.props.mark.links.flowAnimation.radius.domain?this.props.mark.links.flowAnimation.radius.domain:(0,l.default)(this.state.data.link,this.props.mark.links.flowAnimation.radius.field,this.props.mark.links.flowAnimation.radius.scaleType,this.props.mark.links.flowAnimation.radius.startFromZero)),this.props.mark.links.flowAnimation.duration.scaleType&&(v=this.props.mark.links.flowAnimation.duration.domain?this.props.mark.links.flowAnimation.duration.domain:(0,l.default)(this.state.data.link,this.props.mark.links.flowAnimation.duration.field,this.props.mark.links.flowAnimation.duration.scaleType,this.props.mark.links.flowAnimation.duration.startFromZero)));var g=void 0,y=void 0,_=void 0,b=void 0,x=void 0,w=void 0;if(this.props.mark.nodes.style.radius.scaleType&&(g=o.scaleLinear().domain(d).range(this.props.mark.nodes.style.radius.value)),this.props.mark.nodes.style.fill.scaleType){var M=o.schemeCategory10;this.props.mark.nodes.style.fill.color&&(M=this.props.mark.nodes.style.fill.color),y="ordinal"===this.props.mark.nodes.style.fill.scaleType?o.scaleOrdinal().domain(p).range(M):o.scaleLinear().domain(p).range(M)}if(this.props.mark.links.style.fill.scaleType){var A=o.schemeCategory10;this.props.mark.links.style.fill.color&&(A=this.props.mark.links.style.fill.color),_="ordinal"===this.props.mark.links.style.fill.scaleType?o.scaleOrdinal().domain(h).range(A):o.scaleLinear().domain(h).range(A)}this.props.mark.links.style.fill.opacity.scaleType&&(b=o.scaleLinear().domain(f).range(this.props.mark.links.style.fill.opacity.value)),this.props.mark.links.flowAnimation&&(this.props.mark.links.flowAnimation.radius.scaleType&&(x=o.scaleLinear().domain(m).range(this.props.mark.links.flowAnimation.radius.value)),this.props.mark.links.flowAnimation.duration.scaleType&&(w=o.scaleLinear().domain(v).range(this.props.mark.links.flowAnimation.duration.value)));for(var E=n(162)(),T=0;T<this.state.data.nodes.length;T++){var S,L,k;L=this.props.mark.nodes.style.radius.scaleType?g(this.state.data.nodes[T][this.props.mark.nodes.style.radius.field]):this.props.mark.nodes.style.radius.value,S=this.props.mark.nodes.style.fill.scaleType?y(this.state.data.nodes[T][this.props.mark.nodes.style.fill.field]):this.props.mark.nodes.style.fill.color,k=this.props.mark.labels?this.state.data.nodes[T][this.props.mark.labels.field]:"",E.addNode(this.state.data.nodes[T].id,{color:S,radius:L,text:k,data:this.state.data.nodes[T]})}for(var C=0;C<this.state.data.links.length;C++){var D,P,R=0,O=0;P=this.props.mark.links.style.fill.opacity.scaleType?b(this.state.data.links[C][this.props.mark.links.style.fill.opacity.field]):this.props.mark.links.style.fill.opacity.value,D=this.props.mark.links.style.fill.scaleType?_(this.state.data.links[C][this.props.mark.links.style.fill.field]):this.props.mark.links.style.fill.color,this.props.mark.links.flowAnimation&&(R=this.props.mark.links.flowAnimation.radius.scaleType?x(this.state.data.links[C][this.props.mark.links.flowAnimation.radius.field]):this.props.mark.links.flowAnimation.radius.value,O=this.props.mark.links.flowAnimation.duration.scaleType?w(this.state.data.links[C][this.props.mark.links.flowAnimation.duration.field]):this.props.mark.links.flowAnimation.duration.value),E.addLink(this.state.data.links[C].fromId,this.state.data.links[C].toId,{color:D,opacity:P,animatedDotRadius:R,animatedDotDuration:O,data:this.state.data.links[C]})}var I=n(163)(E,{integrator:"verlet"}),N=void 0;for(N=0;N<1e3;++N)I.step();var z=[],B=[],F=[];N=0,E.forEachNode((function(n){var o=void 0;t.props.mark.nodes.mouseOver&&t.props.mark.nodes.mouseOver.label&&(o=t.props.mark.nodes.mouseOver.label.value(n.data.data));var l="clickable",d=void 0;"function"==typeof t.props.mark.nodes.class&&(l="clickable "+t.props.mark.nodes.class(n.data.data,N)),"function"==typeof t.props.mark.nodes.id&&(d=t.props.mark.nodes.id(n.data.data,N));var h=void 0,p=void 0;"function"==typeof t.props.mark.labels.class&&(h="clickable "+t.props.mark.labels.class(n.data.data,N)),"function"==typeof t.props.mark.labels.id&&(p=t.props.mark.labels.id(n.data.data,N)),z.push(a.default.createElement(c.default,{type:i,key:N,color:""+n.data.color,opacity:1,depth:""+n.data.radius,height:""+n.data.radius,width:""+n.data.radius,radius:""+n.data.radius,segments:""+t.props.mark.nodes.style.segments,position:I.getNodePosition(n.id).x*u+" "+I.getNodePosition(n.id).y*u+" "+I.getNodePosition(n.id).z*u,hover:t.props.mark.nodes.mouseOver,hoverText:o,graphID:t.props.index,class:l,id:d,data:JSON.stringify(n.data.data)})),e&&F.push(a.default.createElement("a-text",{key:N,class:h,id:p,data:JSON.stringify(n.data.data),color:n.data.color,width:r,value:n.data.text,anchor:"align",side:"double",align:"left",billboard:t.props.mark.labels.billboarding,position:I.getNodePosition(n.id).x*u+n.data.radius/2+s+" "+I.getNodePosition(n.id).y*u+" "+I.getNodePosition(n.id).z*u})),N++}));var j=[];N=0,E.forEachLink((function(e){var n=void 0,r=void 0;if("function"==typeof t.props.mark.links.class&&(n=""+t.props.mark.links.class(e.data.data,N)),"function"==typeof t.props.mark.links.id&&(r=t.props.mark.links.id(e.data.data,N)),t.props.mark.links.flowAnimation){var i=void 0,o=void 0;"function"==typeof t.props.mark.links.flowAnimation.class&&(i=""+t.props.mark.links.flowAnimation.class(e.data.data,N)),"function"==typeof t.props.mark.links.flowAnimation.id&&(o=t.props.mark.links.flowAnimation.id(e.data.data,N)),j.push(a.default.createElement("a-sphere",{key:N,class:i,id:o,data:JSON.stringify(e.data.data),position:I.getLinkPosition(e.id).from.x*u+" "+I.getLinkPosition(e.id).from.y*u+" "+I.getLinkPosition(e.id).from.z*u,radius:e.data.animatedDotRadius,opacity:t.props.mark.links.flowAnimation.opacity,color:t.props.mark.links.flowAnimation.color,animation:"property:position; to:"+I.getLinkPosition(e.id).to.x*u+" "+I.getLinkPosition(e.id).to.y*u+" "+I.getLinkPosition(e.id).to.z*u+"; loop: true; dur:"+e.data.animatedDotDuration+"; easing:linear"}))}B.push(a.default.createElement("a-entity",{key:N,class:n,id:r,data:JSON.stringify(e.data.data),line:"start: "+I.getLinkPosition(e.id).from.x*u+", "+I.getLinkPosition(e.id).from.y*u+", "+I.getLinkPosition(e.id).from.z*u+"; end: "+I.getLinkPosition(e.id).to.x*u+" "+I.getLinkPosition(e.id).to.y*u+" "+I.getLinkPosition(e.id).to.z*u+"; color: "+e.data.color+"; opacity: "+e.data.opacity})),N++}));var H="false",Y=void 0;return this.props.rotationOnDrag&&(H="true"),this.props.animateRotation&&(H="false",Y=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+H,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},Y,z,B,F,j)}return a.default.createElement("a-entity",null)}}]),e}();e.default=f},function(t,e,n){t.exports=function(t){"uniqueLinkId"in(t=t||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now own each graph\nis considered to be not a multigraph by default (each edge is unique)."),t.multigraph=t.uniqueLinkId),void 0===t.multigraph&&(t.multigraph=!1);var e="function"==typeof Object.create?Object.create(null):{},n=[],u={},c=0,d=0,h=Object.keys?function(t){if("function"==typeof t)for(var n=Object.keys(e),r=0;r<n.length;++r)if(t(e[n[r]]))return!0}:function(t){var n;if("function"==typeof t)for(n in e)if(t(e[n]))return!0},p=t.multigraph?function(t,e,n){var r=l(t,e),i=u.hasOwnProperty(r);if(i||T(t,e)){i||(u[r]=0);var a="@"+ ++u[r];r=l(t+a,e+a)}return new s(t,e,n,r)}:function(t,e,n){return new s(t,e,n,l(t,e))},f=[],m=S,v=S,g=S,y=S,_={addNode:w,addLink:function(t,e,r){g();var i=M(t)||w(t),a=M(e)||w(e),s=p(t,e,r);return n.push(s),o(i,s),t!==e&&o(a,s),m(s,"add"),y(),s},removeLink:E,removeNode:A,getNode:M,getNodesCount:function(){return c},getLinksCount:function(){return n.length},getLinks:function(t){var e=M(t);return e?e.links:null},forEachNode:h,forEachLinkedNode:function(t,n,r){var i=M(t);if(i&&i.links&&"function"==typeof n)return r?function(t,n,r){for(var i=0;i<t.length;++i){var a=t[i];if(a.fromId===n&&r(e[a.toId],a))return!0}}(i.links,t,n):function(t,n,r){for(var i=0;i<t.length;++i){var a=t[i],o=a.fromId===n?a.toId:a.fromId;if(r(e[o],a))return!0}}(i.links,t,n)},forEachLink:function(t){var e,r;if("function"==typeof t)for(e=0,r=n.length;e<r;++e)t(n[e])},beginUpdate:g,endUpdate:y,clear:function(){g(),h((function(t){A(t.id)})),y()},hasLink:T,hasNode:M,getLink:T};return r(_),function(){var t=_.on;_.on=function(){return _.beginUpdate=g=L,_.endUpdate=y=k,m=b,v=x,_.on=t,t.apply(_,arguments)}}(),_;function b(t,e){f.push({link:t,changeType:e})}function x(t,e){f.push({node:t,changeType:e})}function w(t,n){if(void 0===t)throw new Error("Invalid node identifier");g();var r=M(t);return r?(r.data=n,v(r,"update")):(r=new a(t,n),c++,v(r,"add")),e[t]=r,y(),r}function M(t){return e[t]}function A(t){var n=M(t);if(!n)return!1;g();var r=n.links;if(r){n.links=null;for(var i=0;i<r.length;++i)E(r[i])}return delete e[t],c--,v(n,"remove"),y(),!0}function E(t){if(!t)return!1;var e=i(t,n);if(e<0)return!1;g(),n.splice(e,1);var r=M(t.fromId),a=M(t.toId);return r&&(e=i(t,r.links))>=0&&r.links.splice(e,1),a&&(e=i(t,a.links))>=0&&a.links.splice(e,1),m(t,"remove"),y(),!0}function T(t,e){var n,r=M(t);if(!r||!r.links)return null;for(n=0;n<r.links.length;++n){var i=r.links[n];if(i.fromId===t&&i.toId===e)return i}return null}function S(){}function L(){d+=1}function k(){0===(d-=1)&&f.length>0&&(_.fire("changed",f),f.length=0)}};var r=n(16);function i(t,e){if(!e)return-1;if(e.indexOf)return e.indexOf(t);var n,r=e.length;for(n=0;n<r;n+=1)if(e[n]===t)return n;return-1}function a(t,e){this.id=t,this.links=null,this.data=e}function o(t,e){t.links?t.links.push(e):t.links=[e]}function s(t,e,n,r){this.fromId=t,this.toId=e,this.data=n,this.id=r}function l(t,e){return t.toString()+"\ud83d\udc49 "+e.toString()}},function(t,e,n){function r(t,e){return e=n(11)(e,{createQuadTree:n(175),createBounds:n(179),createDragForce:n(180),createSpringForce:n(181),integrator:i(e),createBody:n(182)}),r.get2dLayout(t,e)}function i(t){return t&&"verlet"===t.integrator?n(183):n(184)}t.exports=r,r.get2dLayout=n(164)},function(t,e,n){t.exports=function(t,e){if(!t)throw new Error("Graph structure cannot be undefined");var a=n(144)(e),o="function"==typeof Object.create?Object.create(null):{},s={},l=a.settings.springTransform||i;t.forEachNode((function(t){h(t.id)})),t.forEachLink(f),t.on("changed",d),a.on("stable",c);var u={step:function(){return a.step()},getNodePosition:function(t){return g(t).pos},setNodePosition:function(t){var e=g(t);e.setPosition.apply(e,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(t){var e=s[t];if(e)return{from:e.from.pos,to:e.to.pos}},getGraphRect:function(){return a.getBBox()},pinNode:function(t,e){g(t.id).isPinned=!!e},isNodePinned:function(t){return g(t.id).isPinned},dispose:function(){t.off("changed",d),a.off("stable",c)},getBody:function(t){return o[t]},getSpring:function(e,n){var r;if(void 0===n)r="object"!=typeof e?e:e.id;else{var i=t.hasLink(e,n);if(!i)return;r=i.id}return s[r]},simulator:a};return r(u),u;function c(t){u.fire("stable",t)}function d(t){for(var e=0;e<t.length;++e){var n=t[e];"add"===n.changeType?(n.node&&h(n.node.id),n.link&&f(n.link)):"remove"===n.changeType&&(n.node&&p(n.node),n.link&&m(n.link))}}function h(e){var n=o[e];if(!n){var r=t.getNode(e);if(!r)throw new Error("initBody() was called with unknown node id");var i=r.position;if(!i){var s=function(t){var e=[];if(!t.links)return e;for(var n=Math.min(t.links.length,2),r=0;r<n;++r){var i=t.links[r],a=i.fromId!==t.id?o[i.fromId]:o[i.toId];a&&a.pos&&e.push(a)}return e}(r);i=a.getBestNewBodyPosition(s)}n=a.addBodyAt(i),o[e]=n,v(e),function(t){return t&&(t.isPinned||t.data&&t.data.isPinned)}(r)&&(n.isPinned=!0)}}function p(t){var e=t.id,n=o[e];n&&(o[e]=null,delete o[e],a.removeBody(n))}function f(t){v(t.fromId),v(t.toId);var e=o[t.fromId],n=o[t.toId],r=a.addSpring(e,n,t.length);l(t,r),s[t.id]=r}function m(e){var n=s[e.id];if(n){var r=t.getNode(e.fromId),i=t.getNode(e.toId);r&&v(r.id),i&&v(i.id),delete s[e.id],a.removeSpring(n)}}function v(e){o[e].mass=function(e){var n=t.getLinks(e);return n?1+n.length/3:1}(e)}function g(t){var e=o[t];return e||(h(t),e=o[t]),e}},t.exports.simulator=n(144);var r=n(16);function i(){}},function(t,e){t.exports=function(t,e,n,r,i){this.from=t,this.to=e,this.length=n,this.coeff=r,this.weight="number"==typeof i?i:1}},function(t,e,n){function r(t,e){return 0===e?t.quad0:1===e?t.quad1:2===e?t.quad2:3===e?t.quad3:null}function i(t,e,n){0===e?t.quad0=n:1===e?t.quad1=n:2===e?t.quad2=n:3===e&&(t.quad3=n)}t.exports=function(t){(t=t||{}).gravity="number"==typeof t.gravity?t.gravity:-1,t.theta="number"==typeof t.theta?t.theta:.8;var e=n(12).random(1984),a=n(167),o=n(168),s=n(169),l=t.gravity,u=[],c=new o,d=t.theta,h=[],p=0,f=function(){var t=h[p];return t?(t.quad0=null,t.quad1=null,t.quad2=null,t.quad3=null,t.body=null,t.mass=t.massX=t.massY=0,t.left=t.right=t.top=t.bottom=0):(t=new a,h[p]=t),++p,t},m=f(),v=function(t){for(c.reset(),c.push(m,t);!c.isEmpty();){var n=c.pop(),a=n.node,o=n.body;if(a.body){var l=a.body;if(a.body=null,s(l.pos,o.pos)){var u=3;do{var d=e.nextDouble(),h=(a.right-a.left)*d,p=(a.bottom-a.top)*d;l.pos.x=a.left+h,l.pos.y=a.top+p,u-=1}while(u>0&&s(l.pos,o.pos));if(0===u&&s(l.pos,o.pos))return}c.push(a,l),c.push(a,o)}else{var v=o.pos.x,g=o.pos.y;a.mass=a.mass+o.mass,a.massX=a.massX+o.mass*v,a.massY=a.massY+o.mass*g;var y=0,_=a.left,b=(a.right+_)/2,x=a.top,w=(a.bottom+x)/2;if(v>b){y+=1;var M=_;_=b,b+=b-M}if(g>w){y+=2;var A=x;x=w,w+=w-A}var E=r(a,y);E?c.push(E,o):((E=f()).left=_,E.top=x,E.right=b,E.bottom=w,E.body=o,i(a,y,E))}}};return{insertBodies:function(t){var e,n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MIN_VALUE,a=Number.MIN_VALUE,o=t.length;for(e=o;e--;){var s=t[e].pos.x,l=t[e].pos.y;s<n&&(n=s),s>i&&(i=s),l<r&&(r=l),l>a&&(a=l)}var u=i-n,c=a-r;for(u>c?a=r+u:i=n+c,p=0,(m=f()).left=n,m.right=i,m.top=r,m.bottom=a,(e=o-1)>0&&(m.body=t[e]);e--;)v(t[e])},updateBodyForce:function(t){var n,r,i,a,o=u,s=0,c=0,h=1,p=0,f=1;for(o[0]=m;h;){var v=o[p],g=v.body;h-=1,p+=1;var y=g!==t;g&&y?(r=g.pos.x-t.pos.x,i=g.pos.y-t.pos.y,0===(a=Math.sqrt(r*r+i*i))&&(r=(e.nextDouble()-.5)/50,i=(e.nextDouble()-.5)/50,a=Math.sqrt(r*r+i*i)),s+=(n=l*g.mass*t.mass/(a*a*a))*r,c+=n*i):y&&(r=v.massX/v.mass-t.pos.x,i=v.massY/v.mass-t.pos.y,0===(a=Math.sqrt(r*r+i*i))&&(r=(e.nextDouble()-.5)/50,i=(e.nextDouble()-.5)/50,a=Math.sqrt(r*r+i*i)),(v.right-v.left)/a<d?(s+=(n=l*v.mass*t.mass/(a*a*a))*r,c+=n*i):(v.quad0&&(o[f]=v.quad0,h+=1,f+=1),v.quad1&&(o[f]=v.quad1,h+=1,f+=1),v.quad2&&(o[f]=v.quad2,h+=1,f+=1),v.quad3&&(o[f]=v.quad3,h+=1,f+=1)))}t.force.x+=s,t.force.y+=c},options:function(t){return t?("number"==typeof t.gravity&&(l=t.gravity),"number"==typeof t.theta&&(d=t.theta),this):{gravity:l,theta:d}}}}},function(t,e){t.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}},function(t,e){function n(){this.stack=[],this.popIdx=0}function r(t,e){this.node=t,this.body=e}t.exports=n,n.prototype={isEmpty:function(){return 0===this.popIdx},push:function(t,e){var n=this.stack[this.popIdx];n?(n.node=t,n.body=e):this.stack[this.popIdx]=new r(t,e),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}},function(t,e){t.exports=function(t,e){var n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return n<1e-8&&r<1e-8}},function(t,e,n){t.exports=function(t,e){var r=n(12).random(42),i={x1:0,y1:0,x2:0,y2:0};return{box:i,update:function(){var e=t.length;if(0!==e){for(var n=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MIN_VALUE,o=Number.MIN_VALUE;e--;){var s=t[e];s.isPinned?(s.pos.x=s.prevPos.x,s.pos.y=s.prevPos.y):(s.prevPos.x=s.pos.x,s.prevPos.y=s.pos.y),s.pos.x<n&&(n=s.pos.x),s.pos.x>a&&(a=s.pos.x),s.pos.y<r&&(r=s.pos.y),s.pos.y>o&&(o=s.pos.y)}i.x1=n,i.x2=a,i.y1=r,i.y2=o}},reset:function(){i.x1=i.y1=0,i.x2=i.y2=0},getBestNewPosition:function(t){var n=i,a=0,o=0;if(t.length){for(var s=0;s<t.length;++s)a+=t[s].pos.x,o+=t[s].pos.y;a/=t.length,o/=t.length}else a=(n.x1+n.x2)/2,o=(n.y1+n.y2)/2;var l=e.springLength;return{x:a+r.next(l)-l/2,y:o+r.next(l)-l/2}}}}},function(t,e,n){t.exports=function(t){var e=n(11),r={update:function(e){e.force.x-=t.dragCoeff*e.velocity.x,e.force.y-=t.dragCoeff*e.velocity.y}};return n(14)(t=e(t,{dragCoeff:.02}),r,["dragCoeff"]),r}},function(t,e,n){t.exports=function(t){var e=n(11),r=n(12).random(42),i={update:function(e){var n=e.from,i=e.to,a=e.length<0?t.springLength:e.length,o=i.pos.x-n.pos.x,s=i.pos.y-n.pos.y,l=Math.sqrt(o*o+s*s);0===l&&(o=(r.nextDouble()-.5)/50,s=(r.nextDouble()-.5)/50,l=Math.sqrt(o*o+s*s));var u=l-a,c=(!e.coeff||e.coeff<0?t.springCoeff:e.coeff)*u/l*e.weight;n.force.x+=c*o,n.force.y+=c*s,i.force.x-=c*o,i.force.y-=c*s}};return n(14)(t=e(t,{springCoeff:2e-4,springLength:80}),i,["springCoeff","springLength"]),i}},function(t,e){t.exports=function(t,e){var n,r=0,i=0,a=0,o=0,s=t.length;if(0===s)return 0;for(n=0;n<s;++n){var l=t[n],u=e/l.mass;l.velocity.x+=u*l.force.x,l.velocity.y+=u*l.force.y;var c=l.velocity.x,d=l.velocity.y,h=Math.sqrt(c*c+d*d);h>1&&(l.velocity.x=c/h,l.velocity.y=d/h),r=e*l.velocity.x,a=e*l.velocity.y,l.pos.x+=r,l.pos.y+=a,i+=Math.abs(r),o+=Math.abs(a)}return(i*i+o*o)/s}},function(t,e,n){var r=n(145);t.exports=function(t){return new r.Body(t)}},function(t,e,n){function r(t,e){return 0===e?t.quad0:1===e?t.quad1:2===e?t.quad2:3===e?t.quad3:4===e?t.quad4:5===e?t.quad5:6===e?t.quad6:7===e?t.quad7:null}function i(t,e,n){0===e?t.quad0=n:1===e?t.quad1=n:2===e?t.quad2=n:3===e?t.quad3=n:4===e?t.quad4=n:5===e?t.quad5=n:6===e?t.quad6=n:7===e&&(t.quad7=n)}t.exports=function(t){(t=t||{}).gravity="number"==typeof t.gravity?t.gravity:-1,t.theta="number"==typeof t.theta?t.theta:.8;var e=n(12).random(1984),a=n(176),o=n(177),s=n(178),l=t.gravity,u=[],c=new o,d=t.theta,h=[],p=0,f=function(){var t=h[p];return t?(t.quad0=null,t.quad4=null,t.quad1=null,t.quad5=null,t.quad2=null,t.quad6=null,t.quad3=null,t.quad7=null,t.body=null,t.mass=t.massX=t.massY=t.massZ=0,t.left=t.right=t.top=t.bottom=t.front=t.back=0):(t=new a,h[p]=t),++p,t},m=f(),v=function(t){for(c.reset(),c.push(m,t);!c.isEmpty();){var n=c.pop(),a=n.node,o=n.body;if(a.body){var l=a.body;if(a.body=null,s(l.pos,o.pos)){var u=3;do{var d=e.nextDouble(),h=(a.right-a.left)*d,p=(a.bottom-a.top)*d,v=(a.front-a.back)*d;l.pos.x=a.left+h,l.pos.y=a.top+p,l.pos.z=a.back+v,u-=1}while(u>0&&s(l.pos,o.pos));if(0===u&&s(l.pos,o.pos))return}c.push(a,l),c.push(a,o)}else{var g=o.pos.x,y=o.pos.y,_=o.pos.z;a.mass+=o.mass,a.massX+=o.mass*g,a.massY+=o.mass*y,a.massZ+=o.mass*_;var b=0,x=a.left,w=(a.right+x)/2,M=a.top,A=(a.bottom+M)/2,E=a.back,T=(a.front+E)/2;if(g>w){b+=1;var S=x;x=w,w+=w-S}if(y>A){b+=2;var L=M;M=A,A+=A-L}if(_>T){b+=4;var k=E;T=(E=T)+(E-k)}var C=r(a,b);C?c.push(C,o):((C=f()).left=x,C.top=M,C.right=w,C.bottom=A,C.back=E,C.front=T,C.body=o,i(a,b,C))}}};return{insertBodies:function(t){var e,n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MAX_VALUE,a=Number.MIN_VALUE,o=Number.MIN_VALUE,s=Number.MIN_VALUE,l=t.length;for(e=l;e--;){var u=t[e].pos,c=u.x,d=u.y,h=u.z;c<n&&(n=c),c>a&&(a=c),d<r&&(r=d),d>o&&(o=d),h<i&&(i=h),h>s&&(s=h)}var g=Math.max(a-n,Math.max(o-r,s-i));for(a=n+g,o=r+g,s=i+g,p=0,(m=f()).left=n,m.right=a,m.top=r,m.bottom=o,m.back=i,m.front=s,(e=l-1)>0&&(m.body=t[e]);e--;)v(t[e])},updateBodyForce:function(t){var n,r,i,a,o,s=u,c=0,h=0,p=0,f=1,v=0,g=1;for(s[0]=m;f;){var y=s[v],_=y.body;f-=1,v+=1;var b=_!==t;_&&b?(r=_.pos.x-t.pos.x,i=_.pos.y-t.pos.y,a=_.pos.z-t.pos.z,0===(o=Math.sqrt(r*r+i*i+a*a))&&(r=(e.nextDouble()-.5)/50,i=(e.nextDouble()-.5)/50,a=(e.nextDouble()-.5)/50,o=Math.sqrt(r*r+i*i+a*a)),c+=(n=l*_.mass*t.mass/(o*o*o))*r,h+=n*i,p+=n*a):b&&(r=y.massX/y.mass-t.pos.x,i=y.massY/y.mass-t.pos.y,a=y.massZ/y.mass-t.pos.z,0===(o=Math.sqrt(r*r+i*i+a*a))&&(r=(e.nextDouble()-.5)/50,i=(e.nextDouble()-.5)/50,a=(e.nextDouble()-.5)/50,o=Math.sqrt(r*r+i*i+a*a)),(y.right-y.left)/o<d?(c+=(n=l*y.mass*t.mass/(o*o*o))*r,h+=n*i,p+=n*a):(y.quad0&&(s[g]=y.quad0,f+=1,g+=1),y.quad1&&(s[g]=y.quad1,f+=1,g+=1),y.quad2&&(s[g]=y.quad2,f+=1,g+=1),y.quad3&&(s[g]=y.quad3,f+=1,g+=1),y.quad4&&(s[g]=y.quad4,f+=1,g+=1),y.quad5&&(s[g]=y.quad5,f+=1,g+=1),y.quad6&&(s[g]=y.quad6,f+=1,g+=1),y.quad7&&(s[g]=y.quad7,f+=1,g+=1)))}t.force.x+=c,t.force.y+=h,t.force.z+=p},options:function(t){return t?("number"==typeof t.gravity&&(l=t.gravity),"number"==typeof t.theta&&(d=t.theta),this):{gravity:l,theta:d}}}}},function(t,e){t.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.quad4=null,this.quad5=null,this.quad6=null,this.quad7=null,this.mass=0,this.massX=0,this.massY=0,this.massZ=0,this.left=0,this.top=0,this.bottom=0,this.right=0,this.front=0,this.back=0}},function(t,e){function n(){this.stack=[],this.popIdx=0}function r(t,e){this.node=t,this.body=e}t.exports=n,n.prototype={isEmpty:function(){return 0===this.popIdx},push:function(t,e){var n=this.stack[this.popIdx];n?(n.node=t,n.body=e):this.stack[this.popIdx]=new r(t,e),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}},function(t,e){t.exports=function(t,e){var n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y),i=Math.abs(t.z-e.z);return n<1e-8&&r<1e-8&&i<1e-8}},function(t,e,n){t.exports=function(t,e){var r=n(12).random(42),i={x1:0,y1:0,z1:0,x2:0,y2:0,z2:0};return{box:i,update:function(){var e=t.length;if(0!==e){for(var n=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MAX_VALUE,o=Number.MIN_VALUE,s=Number.MIN_VALUE,l=Number.MIN_VALUE;e--;){var u=t[e];u.isPinned?(u.pos.x=u.prevPos.x,u.pos.y=u.prevPos.y,u.pos.z=u.prevPos.z):(u.prevPos.x=u.pos.x,u.prevPos.y=u.pos.y,u.prevPos.z=u.pos.z),u.pos.x<n&&(n=u.pos.x),u.pos.x>o&&(o=u.pos.x),u.pos.y<r&&(r=u.pos.y),u.pos.y>s&&(s=u.pos.y),u.pos.z<a&&(a=u.pos.z),u.pos.z>l&&(l=u.pos.z)}i.x1=n,i.x2=o,i.y1=r,i.y2=s,i.z1=a,i.z2=l}},reset:function(){i.x1=i.y1=0,i.x2=i.y2=0,i.z1=i.z2=0},getBestNewPosition:function(t){var n=i,a=0,o=0,s=0;if(t.length){for(var l=0;l<t.length;++l)a+=t[l].pos.x,o+=t[l].pos.y,s+=t[l].pos.z;a/=t.length,o/=t.length,s/=t.length}else a=(n.x1+n.x2)/2,o=(n.y1+n.y2)/2,s=(n.z1+n.z2)/2;var u=e.springLength;return{x:a+r.next(u)-u/2,y:o+r.next(u)-u/2,z:s+r.next(u)-u/2}}}}},function(t,e,n){t.exports=function(t){var e=n(11),r={update:function(e){e.force.x-=t.dragCoeff*e.velocity.x,e.force.y-=t.dragCoeff*e.velocity.y,e.force.z-=t.dragCoeff*e.velocity.z}};return n(14)(t=e(t,{dragCoeff:.02}),r,["dragCoeff"]),r}},function(t,e,n){t.exports=function(t){var e=n(11),r=n(12).random(42),i={update:function(e){var n=e.from,i=e.to,a=e.length<0?t.springLength:e.length,o=i.pos.x-n.pos.x,s=i.pos.y-n.pos.y,l=i.pos.z-n.pos.z,u=Math.sqrt(o*o+s*s+l*l);0===u&&(o=(r.nextDouble()-.5)/50,s=(r.nextDouble()-.5)/50,l=(r.nextDouble()-.5)/50,u=Math.sqrt(o*o+s*s+l*l));var c=u-a,d=(!e.coeff||e.coeff<0?t.springCoeff:e.coeff)*c/u*e.weight;n.force.x+=d*o,n.force.y+=d*s,n.force.z+=d*l,i.force.x-=d*o,i.force.y-=d*s,i.force.z-=d*l}};return n(14)(t=e(t,{springCoeff:2e-4,springLength:80}),i,["springCoeff","springLength"]),i}},function(t,e,n){var r=n(145);t.exports=function(t){return new r.Body3d(t)}},function(t,e){t.exports=function(t,e){var n,r=0,i=0,a=0,o=t.length;for(n=0;n<o;++n){var s=t[n],l=e*e/s.mass;s.pos.x=2*s.pos.x-s.prevPos.x+s.force.x*l,s.pos.y=2*s.pos.y-s.prevPos.y+s.force.y*l,s.pos.z=2*s.pos.z-s.prevPos.z+s.force.z*l,r+=Math.abs(s.pos.x-s.prevPos.x),i+=Math.abs(s.pos.y-s.prevPos.y),a+=Math.abs(s.pos.z-s.prevPos.z)}return(r*r+i*i+a*a)/t.length}},function(t,e){t.exports=function(t,e){var n,r=0,i=0,a=0,o=0,s=0,l=0,u=t.length;for(n=0;n<u;++n){var c=t[n],d=e/c.mass;c.velocity.x+=d*c.force.x,c.velocity.y+=d*c.force.y,c.velocity.z+=d*c.force.z;var h=c.velocity.x,p=c.velocity.y,f=c.velocity.z,m=Math.sqrt(h*h+p*p+f*f);m>1&&(c.velocity.x=h/m,c.velocity.y=p/m,c.velocity.z=f/m),r=e*c.velocity.x,a=e*c.velocity.y,s=e*c.velocity.z,c.pos.x+=r,c.pos.y+=a,c.pos.z+=s,i+=Math.abs(r),o+=Math.abs(a),l+=Math.abs(s)}return(i*i+o*o+l*l)/t.length}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=p(i),o=h(n(2)),s=h(n(0)),l=p(n(6)),u=p(n(13)),c=p(n(3)),d=n(4);function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,d.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,d.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,c.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,d.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){for(var e={},n=0;n<this.state.data.length;n++)this.props.mark.style.fill.scaleType?e[this.state.data[n][this.props.mark.shapeIdentifier]]={value:this.state.data[n][this.props.mark.style.extrusion.field],colorField:this.state.data[n][this.props.mark.style.fill.field]}:e[this.state.data[n][this.props.mark.shapeIdentifier]]={value:this.state.data[n][this.props.mark.style.extrusion.field],colorField:"NA"};var r=void 0,i=void 0;this.props.mark.style.extrusion.scaleType&&(i=this.props.mark.style.extrusion.domain?this.props.mark.style.extrusion.domain:(0,l.default)(this.state.data,this.props.mark.style.extrusion.field,this.props.mark.style.extrusion.scaleType,this.props.mark.style.extrusion.startFromZero)),this.props.mark.style.fill.scaleType&&(r=this.props.mark.style.fill.domain?this.props.mark.style.fill.domain:(0,l.default)(this.state.data,this.props.mark.style.fill.field,this.props.mark.style.fill.scaleType,this.props.mark.style.fill.startFromZero));var s=void 0,c=void 0;if(c=o.scaleLinear().domain(i).range(this.props.mark.style.extrusion.value),this.props.mark.style.fill.scaleType){var d=o.schemeCategory10;this.props.mark.style.fill.color&&(d=this.props.mark.style.fill.color),s="ordinal"===this.props.mark.style.fill.scaleType?o.scaleOrdinal().domain(r).range(d):o.scaleLinear().domain(r).range(d)}var h=void 0,p=[],f=[],m=[],v=!1,g="#000000";this.props.mark.style.stroke&&(v=!0,g=this.props.mark.style.stroke.color);var y=(0,u.default)(this.props.mark.data,this.props.mark.projection,this.props.mark.mapScale,this.props.mark.mapOrigin,this.props.mark.shapeIdentifier,this.props.mark.shapeKey);this.props.mark.projection&&(h=y.map((function(n,r){var i=n.vertices.split(", ").map((function(t){var e=t.split(" ");return{x:parseFloat(e[0]),y:parseFloat(e[1])}})),l=c(e[n.code].value);0===l&&(l=1e-12),p.push(l),t.props.mark.style.fill.scaleType?f.push(s(e[n.code].colorField)):f.push(t.props.mark.style.fill.color);var u=o.min(i,(function(t){return t.x})),d=o.min(i,(function(t){return t.y})),h=o.max(i,(function(t){return t.x})),v=o.max(i,(function(t){return t.y})),g=a.default.createElement("a-box",{class:"clickable",key:r,width:h-u,height:v-d,depth:l,position:(h+u)/2+" "+(v+d)/2+" "+l/2,opacity:0});return m.push(g),i})));var _;_=this.props.mark.style.fill.scaleType?a.default.createElement("a-entity",{class:"clickable",aframemap:"points:"+JSON.stringify(h)+";stroke_bool:"+v+";stroke_color:"+g+";extrude:"+JSON.stringify(p)+";color:"+JSON.stringify(f)+";opacity:"+this.props.mark.style.fill.opacity}):a.default.createElement("a-frame-map",{class:"clickable",points:JSON.stringify(h),stroke_bool:v,stroke_color:g,extrude:JSON.stringify(p),color:JSON.stringify(f),opacity:this.props.mark.style.fill.opacity});var b="false",x=void 0;return this.props.rotationOnDrag&&(b="true"),this.props.animateRotation&&(b="false",x=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+b,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,rotation:this.props.mark.rotation,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],id:this.props.index},x,_,m)}return a.default.createElement("a-entity",null)}}]),e}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=m(i),o=f(n(2)),s=f(n(0)),l=m(n(6)),u=m(n(13)),c=m(n(15)),d=m(n(3)),h=m(n(10)),p=n(4);function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,p.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,p.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,d.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,p.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){var e,n=void 0;e=this.props.mark.bars.style.height.domain?this.props.mark.bars.style.height.domain:(0,l.default)(this.state.data,this.props.mark.bars.style.height.field,this.props.mark.bars.style.height.scaleType,this.props.mark.bars.style.height.startFromZero),this.props.mark.bars.style.fill.scaleType&&(n=this.props.mark.bars.style.fill.domain?this.props.mark.bars.style.fill.domain:(0,l.default)(this.state.data,this.props.mark.bars.style.fill.field,this.props.mark.bars.style.fill.scaleType,this.props.mark.bars.style.fill.startFromZero));var r=void 0,i=void 0;if(i=o.scaleLinear().domain(e).range(this.props.mark.bars.style.height.value),this.props.mark.bars.style.fill.scaleType){var s=o.schemeCategory10;this.props.mark.bars.style.fill.color&&(s=this.props.mark.bars.style.fill.color),r="ordinal"===this.props.mark.bars.style.fill.scaleType?o.scaleOrdinal().domain(n).range(s):o.scaleLinear().domain(n).range(s)}var d=this.props.mark.map.style.extrusion.value,p=[],f=[],m=[],v=(0,u.default)(this.props.mark.map.data,this.props.mark.projection,this.props.mark.mapScale,this.props.mark.mapOrigin,this.props.mark.map.shapeIdentifier,this.props.mark.map.shapeKey).map((function(e,n){var r=e.vertices.split(", ").map((function(t){var e=t.split(" ");return{x:parseFloat(e[0]),y:parseFloat(e[1])}}));p.push(d),f.push(t.props.mark.map.style.fill.color);var i=o.min(r,(function(t){return t.x})),s=o.min(r,(function(t){return t.y})),l=o.max(r,(function(t){return t.x})),u=o.max(r,(function(t){return t.y})),c=a.default.createElement("a-box",{class:"clickable",key:n,width:l-i,height:u-s,depth:d,position:(l+i)/2+" "+(u+s)/2+" "+d/2,opacity:0});return m.push(c),r})),g=!1,y="#000000";this.props.mark.map.style.stroke&&(g=!0,y=this.props.mark.map.style.stroke.color);var _=a.default.createElement("a-frame-map",{points:JSON.stringify(v),stroke_bool:g,stroke_color:y,extrude:JSON.stringify(p),color:JSON.stringify(f),opacity:this.props.mark.map.style.fill.opacity}),b=a.default.createElement("a-frame-map-outline",{points:JSON.stringify(v),stroke_bool:g,stroke_color:y,extrude:d}),x=this.state.data.map((function(e,n){var o=i(e[t.props.mark.bars.style.height.field]);0===o&&(o=1e-12);var s=t.props.mark.bars.style.fill.color;t.props.mark.bars.style.fill.scaleType&&(s=r(e[t.props.mark.bars.style.fill.field]));var l=(0,c.default)(e.longitude,e.latitude,t.props.mark.projection,t.props.mark.mapScale,t.props.mark.mapOrigin),u=l[0]+" "+(0-l[1])+" "+o/2,d=void 0;t.props.mark.bars.mouseOver&&t.props.mark.bars.mouseOver.label&&(d=t.props.mark.bars.mouseOver.label.value(e));var p="clickable",f=void 0;return"function"==typeof t.props.mark.bars.class&&(p="clickable "+t.props.mark.class(e,n)),"function"==typeof t.props.mark.id&&(f=t.props.mark.bars.id(e,n)),a.default.createElement(h.default,{key:t.props.index+"_Shape"+n,type:t.props.mark.bars.type,color:""+s,opacity:t.props.mark.bars.style.fill.opacity,depth:""+t.props.mark.bars.style.depth,height:""+o,width:""+t.props.mark.bars.style.width,radius:""+t.props.mark.bars.style.radius,segments:""+t.props.mark.bars.style.segments,position:u,hover:t.props.mark.bars.mouseOver,hoverText:d,graphID:t.props.index,rotation:"90 0 0",class:p,id:f,data:JSON.stringify(e)})})),w="false",M=void 0;return this.props.rotationOnDrag&&(w="true"),this.props.animateRotation&&(w="false",M=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+w,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,rotation:this.props.mark.rotation,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],id:this.props.index},M,_,b,x,m)}return a.default.createElement("a-entity",null)}}]),e}();e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=f(i),o=p(n(2)),s=p(n(0)),l=f(n(13)),u=f(n(15)),c=f(n(3)),d=f(n(10)),h=n(4);function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,h.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,h.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,c.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,h.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){for(var e=o.stack().keys(this.props.mark.bars.style.fill.field)(this.state.data),n=0,r=[],i=0;i<e.length;i++)for(var s=0;s<e[i].length;s++)r.push(e[i][s]);for(var c=0;c<r.length;c++)n<r[c][1]&&(n=r[c][1]);var h;h=this.props.mark.bars.style.height.domain?this.props.mark.bars.style.height.domain:[0,n];var p=void 0;p=o.scaleLinear().domain(h).range(this.props.mark.bars.style.height.value);var f=(0,l.default)(this.props.mark.map.data,this.props.mark.projection,this.props.mark.mapScale,this.props.mark.mapOrigin,this.props.mark.map.shapeIdentifier,this.props.mark.map.shapeKey),m=this.props.mark.map.style.extrusion.value,v=[],g=[],y=[],_=f.map((function(e,n){var r=e.vertices.split(", ").map((function(t){var e=t.split(" ");return{x:parseFloat(e[0]),y:parseFloat(e[1])}}));v.push(m),g.push(t.props.mark.map.style.fill.color);var i=o.min(r,(function(t){return t.x})),s=o.min(r,(function(t){return t.y})),l=o.max(r,(function(t){return t.x})),u=o.max(r,(function(t){return t.y})),c=a.default.createElement("a-box",{class:"clickable",key:n,width:l-i,height:u-s,depth:m,position:l/2+i/2+" "+(u+s)/2+" "+m/2,opacity:0});return y.push(c),r})),b=!1,x="#000000";this.props.mark.map.style.stroke&&(b=!0,x=this.props.mark.map.style.stroke.color);var w=a.default.createElement("a-frame-map",{points:JSON.stringify(_),stroke_bool:b,stroke_color:x,extrude:JSON.stringify(v),color:JSON.stringify(g),opacity:this.props.mark.map.style.fill.opacity}),M=a.default.createElement("a-frame-map-outline",{points:JSON.stringify(_),stroke_bool:b,stroke_color:x,extrude:m}),A=e.map((function(e,n){return e.map((function(r,i){var o=p(r[1]-r[0]);0===o&&(o=1e-12);var s=t.props.mark.bars.style.fill.color[n],l=(0,u.default)(r.data.longitude,r.data.latitude,t.props.mark.projection,t.props.mark.mapScale,t.props.mark.mapOrigin),c=l[0]+" "+(0-l[1])+" "+(p(r[0])+o/2),h=void 0;return t.props.mark.bars.mouseOver&&t.props.mark.bars.mouseOver.label&&(h=t.props.mark.bars.mouseOver.label.value(r.data).replace("Label",""+e.key).replace("LabelValue",""+r.data[e.key])),a.default.createElement(d.default,{key:n+"_"+i,type:t.props.mark.bars.type,color:""+s,opacity:t.props.mark.bars.style.fill.opacity,depth:""+t.props.mark.bars.style.depth,height:""+o,width:""+t.props.mark.bars.style.width,radius:""+t.props.mark.bars.style.radius,segments:""+t.props.mark.bars.style.segments,position:c,hover:t.props.mark.bars.mouseOver,hoverText:h,graphID:t.props.index,rotation:"90 0 0"})}))})),E="false",T=void 0;return this.props.rotationOnDrag&&(E="true"),this.props.animateRotation&&(E="false",T=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+E,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,rotation:this.props.mark.rotation,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],id:this.props.index},T,w,M,A,y)}return a.default.createElement("a-entity",null)}}]),e}();e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=f(i),o=p(n(2)),s=p(n(0)),l=f(n(6)),u=f(n(13)),c=f(n(15)),d=f(n(3)),h=n(4);function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,h.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,h.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,d.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,h.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){var e=void 0,n=void 0;this.props.mark.isoLines.style.stroke.scaleType&&(e=this.props.mark.isoLines.style.stroke.domain?this.props.mark.isoLines.style.stroke.domain:(0,l.default)(this.state.data,this.props.mark.isoLines.style.stroke.field,this.props.mark.isoLines.style.stroke.scaleType,this.props.mark.isoLines.style.stroke.startFromZero)),this.props.mark.isoLines.elevation&&(n=this.props.mark.isoLines.elevation.domain?this.props.mark.isoLines.elevation.domain:(0,l.default)(this.state.data,this.props.mark.isoLines.elevation.field,this.props.mark.isoLines.elevation.scaleType,this.props.mark.isoLines.elevation.startFromZero));var r=void 0,i=void 0;if(this.props.mark.isoLines.style.stroke.scaleType){var s=o.schemeCategory10;this.props.mark.isoLines.style.stroke.color&&(s=this.props.mark.isoLines.style.stroke.color),r="ordinal"===this.props.mark.isoLines.style.stroke.scaleType?o.scaleOrdinal().domain(e).range(s):o.scaleLinear().domain(e).range(s)}i=o.scaleLinear().domain(n).range(this.props.mark.isoLines.elevation.value);var d=this.props.mark.map.style.extrusion.value,h=[],p=[],f=[],m=(0,u.default)(this.props.mark.map.data,this.props.mark.projection,this.props.mark.mapScale,this.props.mark.mapOrigin,this.props.mark.map.shapeIdentifier,this.props.mark.map.shapeKey).map((function(e,n){var r=e.vertices.split(", ").map((function(t){var e=t.split(" ");return{x:parseFloat(e[0]),y:parseFloat(e[1])}}));h.push(d),p.push(t.props.mark.map.style.fill.color);var i=o.min(r,(function(t){return t.x})),s=o.min(r,(function(t){return t.y})),l=o.max(r,(function(t){return t.x})),u=o.max(r,(function(t){return t.y})),c=a.default.createElement("a-box",{class:"clickable",key:n,width:l-i,height:u-s,depth:d,position:(l+i)/2+" "+(u+s)/2+" "+d/2,opacity:0});return f.push(c),r})),v=!1,g="#000000";this.props.mark.map.style.stroke&&(v=!0,g=this.props.mark.map.style.stroke.color);var y=a.default.createElement("a-frame-map",{points:JSON.stringify(m),stroke_bool:v,stroke_color:g,extrude:JSON.stringify(h),color:JSON.stringify(p),opacity:this.props.mark.map.style.fill.opacity}),_=a.default.createElement("a-frame-map-outline",{points:JSON.stringify(m),stroke_bool:v,stroke_color:g,extrude:d}),b=[],x=[];this.state.data.forEach((function(e,n){for(var a=0;a<e.geojson.geometry.coordinates.length;a++){var o=(0,c.default)(e.geojson.geometry.coordinates[a][0],e.geojson.geometry.coordinates[a][1],t.props.mark.projection,t.props.mark.mapScale,t.props.mark.mapOrigin);0===a||a===e.geojson.geometry.coordinates.length-1?(b.push({x:o[0],y:0-o[1],z:i(e[t.props.mark.isoLines.elevation.field])}),x.push(r(e[t.props.mark.isoLines.style.stroke.field]))):(b.push({x:o[0],y:0-o[1],z:i(e[t.props.mark.isoLines.elevation.field])}),b.push({x:o[0],y:0-o[1],z:i(e[t.props.mark.isoLines.elevation.field])}),x.push(r(e[t.props.mark.isoLines.style.stroke.field])),x.push(r(e[t.props.mark.isoLines.style.stroke.field])))}}));var w=JSON.stringify(b),M=JSON.stringify(x),A="false",E=void 0,T=a.default.createElement("a-frame-contour-lines",{points:w,color:M,opacity:this.props.mark.isoLines.style.stroke.opacity});return this.props.rotationOnDrag&&(A="true"),this.props.animateRotation&&(A="false",E=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+A,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,rotation:this.props.mark.rotation,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],id:this.props.index},E,y,_,T,f)}return a.default.createElement("a-entity",null)}}]),e}();e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=f(i),o=p(n(2)),s=p(n(0)),l=f(n(6)),u=f(n(13)),c=f(n(15)),d=f(n(3)),h=n(4);function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,h.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,h.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,d.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,h.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){var e=void 0;this.props.mark.flowlines.style.stroke.scaleType&&(e=this.props.mark.flowlines.style.stroke.color?this.props.mark.flowlines.style.stroke.color:(0,l.default)(this.state.data,this.props.mark.flowlines.style.stroke.field,this.props.mark.flowlines.style.stroke.scaleType,this.props.mark.flowlines.style.stroke.startFromZero));var n=void 0;if(this.props.mark.flowlines.style.stroke.scaleType){var r=o.schemeCategory10;this.props.mark.flowlines.style.stroke.color&&(r=this.props.mark.flowlines.style.stroke.color),n="ordinal"===this.props.mark.flowlines.style.stroke.scaleType?o.scaleOrdinal().domain(e).range(r):o.scaleLinear().domain(e).range(r)}var i=[],s=[],d=[],h=(0,u.default)(this.props.mark.map.data,this.props.mark.map.projection,this.props.mark.mapScale,this.props.mark.mapOrigin,this.props.mark.map.shapeIdentifier,this.props.mark.map.shapeKey),p=this.props.mark.map.style.extrusion.value,f=h.map((function(e,n){var r=e.vertices.split(", ").map((function(t){var e=t.split(" ");return{x:parseFloat(e[0]),y:parseFloat(e[1])}}));i.push(p),s.push(t.props.mark.map.style.fill.color);var l=o.min(r,(function(t){return t.x})),u=o.min(r,(function(t){return t.y})),c=o.max(r,(function(t){return t.x})),h=o.max(r,(function(t){return t.y})),f=a.default.createElement("a-box",{class:"clickable",key:n,width:c-l,height:h-u,depth:p,position:(c+l)/2+" "+(h+u)/2+" "+p/2,opacity:0});return d.push(f),r})),m=!1,v="#000000";this.props.mark.map.style.stroke&&(m=!0,v=this.props.mark.map.style.stroke.color);var g=a.default.createElement("a-frame-map",{points:JSON.stringify(f),stroke_bool:m,stroke_color:v,extrude:JSON.stringify(i),color:JSON.stringify(s),opacity:this.props.mark.map.style.fill.opacity}),y=a.default.createElement("a-frame-map-outline",{points:JSON.stringify(f),stroke_bool:m,stroke_color:v,extrude:p}),_=void 0,b=void 0;this.props.mark.nodes&&(this.props.mark.nodes.source&&(_=this.state.data.map((function(e,n){var r=(0,c.default)(e.source_longitude,e.source_latitude,t.props.mark.map.projection,t.props.mark.mapScale,t.props.mark.mapOrigin);switch(r[1]=-1*r[1],t.props.mark.nodes.source.type){case"sphere":return a.default.createElement("a-sphere",{key:t.props.index+"_Source"+n,opacity:t.props.mark.nodes.source.style.fill.opacity,color:t.props.mark.nodes.source.style.fill.color,radius:t.props.mark.nodes.source.style.radius.value,position:r[0]+" "+r[1]+" 0"});case"box":return a.default.createElement("a-box",{key:t.props.index+"_Source"+n,opacity:t.props.mark.nodes.source.style.fill.opacity,color:t.props.mark.nodes.source.style.fill.color,width:t.props.mark.nodes.source.style.radius.value,height:t.props.mark.nodes.source.style.radius.value,depth:t.props.mark.nodes.source.style.radius.value,position:r[0]+" "+r[1]+" 0"});default:return a.default.createElement("a-sphere",{key:t.props.index+"_Source"+n,opacity:t.props.mark.nodes.source.style.fill.opacity,color:t.props.mark.nodes.source.style.fill.color,radius:t.props.mark.nodes.source.style.radius.value,position:r[0]+" "+r[1]+" 0"})}}))),this.props.mark.nodes.target&&(b=this.state.data.map((function(e,n){var r=(0,c.default)(e.target_longitude,e.target_latitude,t.props.mark.map.projection,t.props.mark.mapScale,t.props.mark.mapOrigin);switch(r[1]=-1*r[1],t.props.mark.nodes.target.type){case"sphere":return a.default.createElement("a-sphere",{key:t.props.index+"_Target"+n,opacity:t.props.mark.nodes.target.style.fill.opacity,color:t.props.mark.nodes.target.style.fill.color,radius:t.props.mark.nodes.target.style.radius.value,position:r[0]+" "+r[1]+" 0"});case"box":return a.default.createElement("a-box",{key:t.props.index+"_Target"+n,opacity:t.props.mark.nodes.target.style.fill.opacity,color:t.props.mark.nodes.target.style.fill.color,width:t.props.mark.nodes.target.style.radius.value,height:t.props.mark.nodes.target.style.radius.value,depth:t.props.mark.nodes.target.style.radius.value,position:r[0]+" "+r[1]+" 0"});default:return a.default.createElement("a-sphere",{key:t.props.index+"_Target"+n,opacity:t.props.mark.nodes.target.style.fill.opacity,color:t.props.mark.nodes.target.style.fill.color,radius:t.props.mark.nodes.target.style.radius.value,position:r[0]+" "+r[1]+" 0"})}}))));var x=.67;this.props.mark.flowlines.style.stroke.curviness&&(x=this.props.mark.flowlines.style.stroke.curviness);var w=20;this.props.mark.flowlines.style.stroke.resolution&&(w=this.props.mark.flowlines.style.stroke.resolution);var M=void 0,A=void 0,E=void 0,T=void 0;this.props.mark.flowlines.flowAnimation&&(this.props.mark.flowlines.flowAnimation.radius.scaleType&&(M=this.props.mark.flowlines.flowAnimation.radius.domain?this.props.mark.flowlines.flowAnimation.radius.domain:(0,l.default)(this.state.data,this.props.mark.flowlines.flowAnimation.radius.field,this.props.mark.flowlines.flowAnimation.radius.scaleType,this.props.mark.flowlines.flowAnimation.radius.startFromZero)),this.props.mark.flowlines.flowAnimation.duration.scaleType&&(A=this.props.mark.flowlines.flowAnimation.duration.domain?this.props.mark.flowlines.flowAnimation.duration.domain:(0,l.default)(this.state.data,this.props.mark.flowlines.flowAnimation.duration.field,this.props.mark.flowlines.flowAnimation.duration.scaleType,this.props.mark.flowlines.flowAnimation.duration.startFromZero))),this.props.mark.flowlines.flowAnimation&&(this.props.mark.flowlines.flowAnimation.radius.scaleType&&(E=o.scaleLinear().domain(M).range(this.props.mark.flowlines.flowAnimation.radius.value)),this.props.mark.flowlines.flowAnimation.duration.scaleType&&(T=o.scaleLinear().domain(A).range(this.props.mark.flowlines.flowAnimation.duration.value)));var S=this.props.mark.flowlines.style.opacity,L=[],k=[],C=[],D=this.state.data.map((function(e,r){var i=(0,c.default)(e.source_longitude,e.source_latitude,t.props.mark.map.projection,t.props.mark.mapScale,t.props.mark.mapOrigin);i[1]=-1*i[1],i.push(0);var o=(0,c.default)(e.target_longitude,e.target_latitude,t.props.mark.map.projection,t.props.mark.mapScale,t.props.mark.mapOrigin);o[1]=-1*o[1],o.push(0);var s=void 0;if(t.props.mark.flowlines.style.height)s=[(o[0]+i[0])/2,(o[1]+i[1])/2,e[t.props.mark.flowlines.style.height.field]*t.props.mark.flowlines.style.height.scaleFactor];else{var l=Math.sqrt((o[0]-i[0])*(o[0]-i[0])+(o[1]-i[1])*(o[1]-i[1]));s=[(o[0]+i[0])/2,(o[1]+i[1])/2,l/4]}var u=[];[i,s,o].forEach((function(t,e){u.push({x:""+t[0],y:""+t[1],z:""+t[2]})}));var d=t.props.mark.flowlines.style.stroke.color;if(t.props.mark.flowlines.style.stroke.scaleType&&(d=n(e[t.props.mark.flowlines.style.stroke.field])),L.push(d),t.props.mark.flowlines.flowAnimation){var h=t.props.mark.flowlines.flowAnimation.duration.value,p=t.props.mark.flowlines.flowAnimation.radius.value;p=t.props.mark.flowlines.flowAnimation.radius.scaleType?E(e[t.props.mark.flowlines.flowAnimation.radius.field]):t.props.mark.flowlines.flowAnimation.radius.value,h=t.props.mark.flowlines.flowAnimation.duration.scaleType?T(e[t.props.mark.flowlines.flowAnimation.duration.field]):t.props.mark.flowlines.flowAnimation.duration.value,k.push(a.default.createElement("a-sphere",{key:r,"animate-points-on-curve":"points:"+JSON.stringify(u)+";curviness:"+x+";resolution:"+w+";duration:"+h,radius:p,opacity:t.props.mark.flowlines.flowAnimation.opacity,color:t.props.mark.flowlines.flowAnimation.color,position:i[0]+" "+i[1]+" "+i[2]}))}return t.props.mark.flowlines.optimizePerformance||C.push(a.default.createElement("a-frame-flowLine",{key:r,points:JSON.stringify([u]),color:JSON.stringify(L),opacity:S,curviness:x,resolution:w})),u}));this.props.mark.flowlines.optimizePerformance&&(C=a.default.createElement("a-frame-flowLine",{points:JSON.stringify(D),color:JSON.stringify(L),opacity:S,curviness:x,resolution:w})),console.log(C);var P="false",R=void 0;return this.props.rotationOnDrag&&(P="true"),this.props.animateRotation&&(P="false",R=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+P,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,rotation:this.props.mark.rotation,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],id:this.props.index},R,g,y,_,b,C,k,d)}return a.default.createElement("a-entity",null)}}]),e}();e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=d(i),o=c(n(2)),s=c(n(0)),l=d(n(3)),u=n(4);function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,u.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,u.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,l.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,u.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){if(this.state.data){for(var t=[],e=0;e<this.state.data.length;e++)for(var n=0;n<this.state.data[e].length;n++)t.push([]),t[t.length-1].push(this.state.data[e][n]);var r=void 0;this.props.mark.style.fill&&this.props.mark.style.fill.scaleType&&(r=this.props.mark.style.fill.domain?this.props.mark.style.fill.domain:[o.min(t,(function(t){return t[0]})),o.max(t,(function(t){return t[0]}))]);var i=void 0;if(this.props.mark.style.fill)if(this.props.mark.style.fill.scaleType){var s=o.schemeCategory10;this.props.mark.style.fill.color&&(s=this.props.mark.style.fill.color),i="ordinal"===this.props.mark.style.fill.scaleType?o.scaleOrdinal().domain(r).range(s):o.scaleLinear().domain(r).range(s)}else i=o.scaleLinear().domain([0,1]).range([this.props.mark.style.fill.color,this.props.mark.style.fill.color]);for(var l=[],u=[],c=[],d=[],h=0;h<this.state.data.length-1;h++)for(var p=0;p<this.state.data[h].length-1;p++){var f={x:h*this.props.style.objectScale.ground,y:(this.state.data[h][p]-this.props.heightThreshold)*this.props.style.objectScale.height,z:p*this.props.style.objectScale.ground};l.push(f),d.push(f);var m=l.length-1,v=i(this.state.data[h][p]);f={x:(h+1)*this.props.style.objectScale.ground,y:(this.state.data[h+1][p]-this.props.heightThreshold)*this.props.style.objectScale.height,z:p*this.props.style.objectScale.ground},l.push(f),d.push(f),d.push(f);var g=l.length-1,y=i(this.state.data[h+1][p]);f={x:(h+1)*this.props.style.objectScale.ground,y:(this.state.data[h+1][p+1]-this.props.heightThreshold)*this.props.style.objectScale.height,z:(p+1)*this.props.style.objectScale.ground},l.push(f),d.push(f),d.push(f);var _=l.length-1,b=i(this.state.data[h+1][p+1]);f={x:h*this.props.style.objectScale.ground,y:(this.state.data[h][p+1]-this.props.heightThreshold)*this.props.style.objectScale.height,z:(p+1)*this.props.style.objectScale.ground},l.push(f),d.push(f),d.push(f),f={x:h*this.props.style.objectScale.ground,y:(this.state.data[h][p]-this.props.heightThreshold)*this.props.style.objectScale.height,z:p*this.props.style.objectScale.ground},d.push(f);var x=l.length-1,w=i(this.state.data[h][p+1]);u.push([m,g,_]),u.push([m,_,x]),c.push([v,y,b]),c.push([v,b,w])}var M=JSON.stringify(l),A=JSON.stringify(u),E=JSON.stringify(c),T=JSON.stringify(d),S="false",L=void 0;this.props.rotationOnDrag&&(S="true"),this.props.animateRotation&&(S="false",L=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"}));var k=!1,C=1,D="#000000",P=1;return this.props.mark.style.stroke&&(k=!0,this.props.mark.style.stroke.color&&(D=this.props.mark.style.stroke.color),this.props.mark.style.stroke.opacity&&(P=this.props.mark.style.stroke.opacity),this.props.mark.style.stroke.width&&(C=this.props.mark.style.stroke.width)),a.default.createElement("a-entity",{"click-rotation":"enabled:"+S,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},L,a.default.createElement("a-frame-mesh-from-points",{points:M,faces:A,stroke_vertices:T,stroke_bool:k,stroke_color:D,stroke_width:C,stroke_opacity:P,color:E,opacity:this.props.mark.style.fill.opacity}))}return a.default.createElement("a-entity",null)}}]),e}();e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=u(i),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(2)),s=u(n(8)),l=u(n(9));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"render",value:function(){for(var t=[],e=(this.props.parameter.domain[1]-this.props.parameter.domain[0])/this.props.parameter.steps,n=this.props.parameter.domain[0];n<=this.props.parameter.domain[1];n+=e)t.push([this.props.mark.position.x.function(n),this.props.mark.position.y.function(n),this.props.mark.position.z.function(n)]);var r=void 0,i=this.props.mark.position.y.domain,u=void 0,c=void 0,d=void 0,h=void 0;this.props.mark.position.x.domain?(r=this.props.mark.position.x.domain,c=o.scaleLinear().range([0,this.props.style.dimensions.width]).domain(this.props.mark.position.x.domain)):(r=[0,o.max(t,(function(t){return t[0]}))],c=o.scaleLinear().range([0,this.props.style.dimensions.width]).domain([o.min(t,(function(t){return t[0]})),o.max(t,(function(t){return t[0]}))])),this.props.mark.position.y.domain?(i=this.props.mark.position.y.domain,d=o.scaleLinear().range([0,this.props.style.dimensions.height]).domain(this.props.mark.position.y.domain)):(i=[o.min(t,(function(t){return t[1]})),o.max(t,(function(t){return t[1]}))],d=o.scaleLinear().range([0,this.props.style.dimensions.depth]).domain([o.min(t,(function(t){return t[1]})),o.max(t,(function(t){return t[1]}))])),this.props.mark.position.z.domain?(u=this.props.mark.position.z.domain,h=o.scaleLinear().range([0,this.props.style.dimensions.depth]).domain(this.props.mark.position.z.domain)):(u=[0,o.max(t,(function(t){return t[2]}))],h=o.scaleLinear().range([0,this.props.style.dimensions.depth]).domain([o.min(t,(function(t){return t[2]})),o.max(t,(function(t){return t[2]}))]));var p=void 0,f=void 0,m=void 0;this.props.xAxis&&(p=a.default.createElement(s.default,{domain:r,tick:this.props.xAxis.ticks,scale:c,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,grid:this.props.xAxis.grid})),this.props.yAxis&&(f=a.default.createElement(s.default,{domain:i,tick:this.props.yAxis.ticks,scale:d,axis:"y",orient:this.props.yAxis.orient,title:this.props.yAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.y.scaleType,grid:this.props.yAxis.grid})),this.props.zAxis&&(m=a.default.createElement(s.default,{domain:u,tick:this.props.zAxis.ticks,scale:h,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,grid:this.props.zAxis.grid}));var v=void 0;this.props.axisBox&&(v=a.default.createElement(l.default,{width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,color:this.props.axisBox.color}));var g=[];t.forEach((function(t,e){g.push({x:""+c(t[0]),y:""+d(t[1]),z:""+h(t[2])})}));var y="false",_=void 0;this.props.rotationOnDrag&&(y="true"),this.props.animateRotation&&(y="false",_=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"}));var b=20;return this.props.mark.style.resolution&&(b=this.props.mark.style.resolution),a.default.createElement("a-entity",{"click-rotation":"enabled:"+y,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},_,p,f,m,v,a.default.createElement("a-frame-curve-line",{points:JSON.stringify(g),type:this.props.mark.style.curveType,color:this.props.mark.style.color,opacity:this.props.mark.style.opacity,resolution:b}),a.default.createElement("a-box",{class:"clickable",width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,position:this.props.style.dimensions.width/2+" "+this.props.style.dimensions.height/2+" "+this.props.style.dimensions.depth/2,opacity:0}))}}]),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=u(i),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(2)),s=u(n(8)),l=u(n(9));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"render",value:function(){for(var t=[],e=[],n=(this.props.parameter.parameter1.domain[1]-this.props.parameter.parameter1.domain[0])/this.props.parameter.parameter1.steps,r=(this.props.parameter.parameter2.domain[1]-this.props.parameter.parameter2.domain[0])/this.props.parameter.parameter2.steps,i=this.props.parameter.parameter1.domain[0];i<=this.props.parameter.parameter1.domain[1];i+=n)for(var u=this.props.parameter.parameter2.domain[0];u<=this.props.parameter.parameter2.domain[1];u+=r){var c=[];c.push(this.props.mark.position.x.function(i,u)),c.push(this.props.mark.position.y.function(i,u)),c.push(this.props.mark.position.z.function(i,u)),e.push(c)}var d=this.props.mark.position.x.domain,h=this.props.mark.position.z.domain,p=void 0,f=void 0,m=void 0,v=void 0,g=void 0;if(f=this.props.mark.position.x.domain?o.scaleLinear().domain(this.props.mark.position.x.domain).range([0,this.props.style.dimensions.height]):o.scaleLinear().domain([o.min(e,(function(t){return t[0]})),o.max(e,(function(t){return t[0]}))]).range([0,this.props.style.dimensions.width]),this.props.mark.position.y.domain?(p=this.props.mark.position.y.domain,m=o.scaleLinear().domain(this.props.mark.position.y.domain).range([0,this.props.style.dimensions.height])):(p=[o.min(e,(function(t){return t[1]})),o.max(e,(function(t){return t[1]}))],m=o.scaleLinear().domain([o.min(e,(function(t){return t[1]})),o.max(e,(function(t){return t[1]}))]).range([0,this.props.style.dimensions.height])),v=this.props.mark.position.z.domain?o.scaleLinear().domain(this.props.mark.position.z.domain).range([0,this.props.style.dimensions.depth]):o.scaleLinear().domain([o.min(e,(function(t){return t[2]})),o.max(e,(function(t){return t[2]}))]).range([0,this.props.style.dimensions.depth]),this.props.mark.style.fill&&this.props.mark.style.fill.scaleType){var y=o.schemeCategory10;this.props.mark.style.fill.color&&(y=this.props.mark.style.fill.color),g=this.props.mark.style.fill.domain?o.scaleLinear().domain(this.props.mark.style.fill.domain).range(y):o.scaleLinear().domain([o.min(t,(function(t){return t[12]})),o.max(t,(function(t){return t[12]}))]).range(y)}for(var _=[],b=[],x=[],w=[],M=this.props.parameter.parameter1.domain[0];M<=this.props.parameter.parameter1.domain[1];M+=n)for(var A=this.props.parameter.parameter2.domain[0];A<=this.props.parameter.parameter2.domain[1];A+=r){var E={x:f(this.props.mark.position.x.function(M,A)),y:m(this.props.mark.position.y.function(M,A)),z:v(this.props.mark.position.z.function(M,A))};_.push(E),b.push(E);var T=_.length-1;E={x:f(this.props.mark.position.x.function(M+n,A)),y:m(this.props.mark.position.y.function(M+n,A)),z:v(this.props.mark.position.z.function(M+n,A))},_.push(E),b.push(E),b.push(E);var S=_.length-1;E={x:f(this.props.mark.position.x.function(M+n,A+r)),y:m(this.props.mark.position.y.function(M+n,A+r)),z:v(this.props.mark.position.z.function(M+n,A+r))},_.push(E),b.push(E),b.push(E);var L=_.length-1;E={x:f(this.props.mark.position.x.function(M,A+r)),y:m(this.props.mark.position.y.function(M,A+r)),z:v(this.props.mark.position.z.function(M,A+r))},_.push(E),b.push(E),b.push(E),E={x:f(this.props.mark.position.x.function(M,A)),y:m(this.props.mark.position.y.function(M,A)),z:v(this.props.mark.position.z.function(M,A))},b.push(E);var k=_.length-1;x.push([T,S,L]),x.push([T,L,k]);var C=void 0,D=void 0,P=void 0,R=void 0;this.props.mark.style.fill&&(this.props.mark.style.fill.function?(C=g(this.props.mark.style.fill.function(M,A)),D=g(this.props.mark.style.fill.function(M+n,A)),P=g(this.props.mark.style.fill.function(M+n,A+r)),R=g(this.props.mark.style.fill.function(M,A+r))):(C=this.props.mark.style.fill.color,D=this.props.mark.style.fill.color,P=this.props.mark.style.fill.color,R=this.props.mark.style.fill.color)),w.push([C,D,P]),w.push([C,P,R])}var O=JSON.stringify(_),I=JSON.stringify(x),N=JSON.stringify(w),z=JSON.stringify(b),B=void 0,F=void 0,j=void 0;this.props.xAxis&&(B=a.default.createElement(s.default,{domain:d,tick:this.props.xAxis.ticks,scale:f,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,grid:this.props.xAxis.grid})),this.props.yAxis&&(F=a.default.createElement(s.default,{domain:p,tick:this.props.yAxis.ticks,scale:m,axis:"y",orient:this.props.yAxis.orient,title:this.props.yAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.y.scaleType,grid:this.props.yAxis.grid})),this.props.zAxis&&(j=a.default.createElement(s.default,{domain:h,tick:this.props.zAxis.ticks,scale:v,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,grid:this.props.zAxis.grid}));var H=void 0;this.props.axisBox&&(H=a.default.createElement(l.default,{width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,color:this.props.axisBox.color}));var Y="false",U=void 0;this.props.rotationOnDrag&&(Y="true"),this.props.animateRotation&&(Y="false",U=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"}));var G=!1,V=1,W="#000000",q=1;return this.props.mark.style.stroke&&(G=!0,this.props.mark.style.stroke.color&&(W=this.props.mark.style.stroke.color),this.props.mark.style.stroke.opacity&&(q=this.props.mark.style.stroke.opacity),this.props.mark.style.stroke.width&&(V=this.props.mark.style.stroke.width)),a.default.createElement("a-entity",{"click-rotation":"enabled:"+Y,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},U,B,F,j,H,a.default.createElement("a-frame-mesh-from-points",{points:O,faces:I,stroke_vertices:z,stroke_bool:G,stroke_color:W,stroke_width:V,stroke_opacity:q,color:N,opacity:this.props.mark.style.fill.opacity}),a.default.createElement("a-box",{class:"clickable",width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,position:this.props.style.dimensions.width/2+" "+this.props.style.dimensions.height/2+" "+this.props.style.dimensions.depth/2,opacity:0}))}}]),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=h(i),o=d(n(2)),s=d(n(0)),l=h(n(3)),u=h(n(10)),c=n(4);function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,c.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,c.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,l.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,c.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){for(var e=o.treemap().size([this.props.style.dimensions.width,this.props.style.dimensions.depth]).paddingInner(this.props.mark.style.paddingInner).paddingOuter(this.props.mark.style.paddingOuter)(o.hierarchy(this.state.data,(function(t){return t.children})).sum((function(t){return t.size}))),n=[],r=0;r<e.leaves().length;r++)-1===n.indexOf(e.leaves()[r].parent.data.name)&&null!==e.leaves()[r].parent.data.name&&n.push(e.leaves()[r].parent.data.name);var i;i=this.props.mark.style.extrusion.domain?this.props.mark.style.extrusion.domain:this.props.mark.style.extrusion.startFromZero?[0,o.max(e.leaves(),(function(e){return e.data[t.props.mark.style.extrusion.field]}))]:[o.min(e.leaves(),(function(e){return e.data[t.props.mark.style.extrusion.field]})),o.max(e.leaves(),(function(e){return e.data[t.props.mark.style.extrusion.field]}))];var s=void 0;s=this.props.mark.style.extrusion.value?o.scaleLinear().domain(i).range(this.props.mark.style.extrusion.value):o.scaleLinear().domain(i).range([0,this.props.style.dimensions.height]);var l=void 0;if(this.props.mark.style.fill.scaleType){var c=o.schemeCategory10;this.props.mark.style.fill.color&&(c=this.props.mark.style.fill.color),l=o.scaleOrdinal().domain(n).range(c)}var d=e.leaves().map((function(e,n){var r=(e.x1-e.x0).toFixed(3),i=(e.x0+(e.x1-e.x0)/2).toFixed(3),o=(e.y1-e.y0).toFixed(3),c=(e.y0+(e.y1-e.y0)/2).toFixed(3),d=s(e.data[t.props.mark.style.extrusion.field]).toFixed(3),h=i+" "+d/2+" "+c,p=""+t.props.mark.style.fill.color;t.props.mark.style.fill.scaleType&&(p=l(e.parent.data.name));var f=void 0;t.props.mark.mouseOver&&t.props.mark.mouseOver.label&&(f=t.props.mark.mouseOver.label.value(e.data));var m="clickable",v=void 0;return"function"==typeof t.props.mark.class&&(m="clickable "+t.props.mark.class(e,n)),"function"==typeof t.props.mark.id&&(v=t.props.mark.id(e,n)),a.default.createElement(u.default,{key:t.props.index+"_Shape"+n,type:"box",color:""+p,opacity:t.props.mark.style.fill.opacity,depth:""+o,height:""+d,width:""+r,segments:""+t.props.mark.style.segments,position:h,hover:t.props.mark.mouseOver,hoverText:f,graphID:t.props.index,class:m,id:v,data:JSON.stringify(e)})})),h="false",p=void 0;return this.props.rotationOnDrag&&(h="true"),this.props.animateRotation&&(h="false",p=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+h,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},p,d)}return a.default.createElement("a-entity",null)}}]),e}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=f(i),o=p(n(2)),s=p(n(0)),l=f(n(6)),u=f(n(3)),c=f(n(8)),d=f(n(9)),h=n(4);function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}function m(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,h.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,h.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,u.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,h.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){var e=void 0,n=void 0,r=void 0,i=void 0;if(this.props.mark.position.x&&(this.props.mark.position.x.domain?e=this.props.mark.position.x.domain:(e=[],Object.keys(this.state.data[0]).forEach((function(n,r){n!==t.props.mark.position.z.field&&e.push(n)})))),this.props.mark.position.z&&("linear"===this.props.mark.position.z.scaleType?this.props.mark.position.z.domain?(r=this.props.mark.position.z.domain,i=this.props.mark.position.z.domain):(i=this.state.data.map((function(e,n){return parseFloat(e[t.props.mark.position.z.field])})),r=[Math.min.apply(Math,m(i)),Math.max.apply(Math,m(i))]):(r=(0,l.default)(this.state.data,this.props.mark.position.z.field,this.props.mark.position.z.scaleType,!1),i=(0,l.default)(this.state.data,this.props.mark.position.z.field,this.props.mark.position.z.scaleType,!1))),this.props.mark.position.y)if(this.props.mark.position.y.domain)n=this.props.mark.position.y.domain;else{for(var s=1e16,u=-1e17,h=0;h<e.length;h++)for(var p=0;p<this.state.data.length;p++)s>this.state.data[p][e[h]]&&(s=this.state.data[p][e[h]]),u<this.state.data[p][e[h]]&&(u=this.state.data[p][e[h]]);n=this.props.mark.position.y.startFromZero?[0,u]:[s,u]}for(var f=[],v=0;v<r.length;v++)f.push(v*this.props.style.dimensions.depth/(r.length-1));for(var g=[],y=0;y<e.length;y++)g.push(y*this.props.style.dimensions.width/(e.length-1));var _=void 0,b=void 0,x=void 0;_="ordinal"===this.props.mark.position.x.scaleType?o.scaleOrdinal().range(g).domain(e):o.scaleLinear().range([0,this.props.style.dimensions.width]).domain(e),b=o.scaleLinear().domain(n).range([0,this.props.style.dimensions.height]),x="ordinal"===this.props.mark.position.z.scaleType?o.scaleOrdinal().domain(r).range(f):o.scaleLinear().domain(r).range([0,this.props.style.dimensions.depth]);var w=void 0,M=this.props.mark.position.z.field;if(this.props.mark.style.stroke&&this.props.mark.style.stroke.scaleType){M=this.props.mark.style.stroke.domain?this.props.mark.style.stroke.domain:(0,l.default)(this.state.data,this.props.mark.style.stroke.field,this.props.mark.style.stroke.scaleType,this.props.mark.style.stroke.startFromZero);var A=o.schemeCategory10;this.props.mark.style.stroke.color&&(A=this.props.mark.style.stroke.color),w="ordinal"===this.props.mark.style.stroke.scaleType?o.scaleOrdinal().domain(M).range(A):o.scaleLinear().domain(M).range(A)}var E=void 0,T=this.props.mark.position.z.field;if(this.props.mark.style.fill&&this.props.mark.style.fill.scaleType){T=this.props.mark.style.fill.domain?this.props.mark.style.fill.domain:(0,l.default)(this.state.data,this.props.mark.style.fill.field,this.props.mark.style.fill.scaleType,this.props.mark.style.fill.startFromZero);var S=o.schemeCategory10;this.props.mark.style.fill.color&&(S=this.props.mark.style.fill.color),E="ordinal"===this.props.mark.style.fill.scaleType?o.scaleOrdinal().domain(T).range(S):o.scaleLinear().domain(T).range(S)}var L=void 0,k=void 0,C=void 0;this.props.xAxis&&(L=a.default.createElement(c.default,{domain:e,tick:this.props.xAxis.ticks,scale:_,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,grid:this.props.xAxis.grid})),this.props.yAxis&&(k=a.default.createElement(c.default,{domain:b.ticks(this.props.yAxis.ticks.noOfTicks),tick:this.props.yAxis.ticks,scale:b,axis:"y",orient:this.props.yAxis.orient,title:this.props.yAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.y.scaleType,grid:this.props.yAxis.grid})),this.props.zAxis&&(C=a.default.createElement(c.default,{domain:r,tick:this.props.zAxis.ticks,scale:x,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,grid:this.props.zAxis.grid}));var D=void 0;this.props.axisBox&&(D=a.default.createElement(d.default,{width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,color:this.props.axisBox.color}));var P,R=20;this.props.mark.style.stroke.resolution&&(R=this.props.mark.style.stroke.resolution),P=this.state.data.map((function(n,r){for(var i=void 0,o=void 0,s="0 0,",l=0;l<e.length;l++)s=l!==e.length-1?s+" "+_(e[l])+" "+b(n[e[l].toString()])+",":s+" "+_(e[l])+" "+b(n[e[l].toString()]);var u=(s=s+", "+_(e[e.length-1])+" 0").split(", ").map((function(e){var r=e.split(" ");return{x:r[0],y:r[1],z:""+x(n[t.props.mark.position.z.field])}})),c=[];return u.forEach((function(t,e){0!==e&&e!==u.length-1&&c.push(t)})),t.props.mark.style.fill&&(i=t.props.mark.style.fill.scaleType?a.default.createElement("a-frame-shape",{points:JSON.stringify(u),key:r,color:E(n[t.props.mark.style.fill.field]),opacity:t.props.mark.style.fill.opacity}):a.default.createElement("a-frame-shape",{points:JSON.stringify(u),key:r,color:t.props.mark.style.fill.color,opacity:t.props.mark.style.fill.opacity})),t.props.mark.style.stroke&&(o=t.props.mark.style.stroke.scaleType?a.default.createElement("a-frame-curve-line",{points:JSON.stringify(c),type:t.props.mark.style.stroke.curveType,resolution:R,color:w(n[t.props.mark.style.stroke.field]),opacity:1,stroke_width:t.props.mark.style.stroke.width}):a.default.createElement("a-frame-curve-line",{points:JSON.stringify(c),type:t.props.mark.style.stroke.curveType,resolution:R,color:t.props.mark.style.stroke.color,opacity:1,stroke_width:t.props.mark.style.stroke.width})),a.default.createElement("a-entity",{key:r},o,a.default.createElement("a-entity",{position:"0 0 "+x(n[t.props.mark.position.z.field])},i))}));var O="false",I=void 0;return this.props.rotationOnDrag&&(O="true"),this.props.animateRotation&&(O="false",I=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+O,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2]+" ",rotation:this.props.style.rotation,id:this.props.index},I,L,k,C,D,P,a.default.createElement("a-box",{class:"clickable",width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,position:this.props.style.dimensions.width/2+" "+this.props.style.dimensions.height/2+" "+this.props.style.dimensions.depth/2,opacity:0}))}return a.default.createElement("a-entity",null)}}]),e}();e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=f(i),o=p(n(2)),s=p(n(0)),l=f(n(6)),u=f(n(3)),c=f(n(8)),d=f(n(9)),h=n(4);function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}function m(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,h.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,h.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,u.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,h.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){var e=void 0,n=void 0,r=void 0,i=void 0;if(this.props.mark.position.x&&("linear"===this.props.mark.position.x.scaleType?this.props.mark.position.x.domain?(e=this.props.mark.position.x.domain,i=this.props.mark.position.x.domain):(i=this.state.data.map((function(e,n){return parseFloat(e[t.props.mark.position.x.field])})),e=[Math.min.apply(Math,m(i)),Math.max.apply(Math,m(i))]):(e=(0,l.default)(this.state.data,this.props.mark.position.x.field,this.props.mark.position.x.scaleType,this.props.mark.position.x.startFromZero),i=(0,l.default)(this.state.data,this.props.mark.position.x.field,this.props.mark.position.x.scaleType,this.props.mark.position.x.startFromZero))),this.props.mark.position.z&&(this.props.mark.position.z.domain?r=this.props.mark.position.z.domain:(r=[],Object.keys(this.state.data[0]).forEach((function(e,n){e!==t.props.mark.position.x.field&&r.push(e)})))),this.props.mark.position.y)if(this.props.mark.position.y.domain)n=this.props.mark.position.y.domain;else{for(var s=1e16,u=-1e17,h=0;h<r.length;h++)for(var p=0;p<this.state.data.length;p++)s>this.state.data[p][r[h]]&&(s=this.state.data[p][r[h]]),u<this.state.data[p][r[h]]&&(u=this.state.data[p][r[h]]);n=this.props.mark.position.y.startFromZero?[0,u]:[s,u]}for(var f=[],v=0;v<r.length;v++)f.push(v*this.props.style.dimensions.depth/(r.length-1));for(var g=[],y=0;y<e.length;y++)g.push(y*this.props.style.dimensions.width/(e.length-1));var _=void 0,b=void 0,x=void 0,w=void 0;_="ordinal"===this.props.mark.position.x.scaleType?o.scaleOrdinal().range(g).domain(e):o.scaleLinear().range([0,this.props.style.dimensions.width]).domain(e),b=o.scaleLinear().domain(n).range([0,this.props.style.dimensions.height]),x="ordinal"===this.props.mark.position.z.scaleType?o.scaleOrdinal().domain(r).range(f):o.scaleLinear().domain(r).range([0,this.props.style.dimensions.depth]);for(var M=[],A=0;A<this.state.data.length;A++)for(var E=0;E<r.length;E++)M.push([this.state.data[A][this.props.mark.position.x.field],this.state.data[A][r[E]],r[E]]);if(this.props.mark.style.fill.scaleType){var T=o.schemeCategory10;this.props.mark.style.fill.color&&(T=this.props.mark.style.fill.color),w=this.props.mark.style.fill.domain?o.scaleLinear().domain(this.props.mark.style.fill.domain).range(T):o.scaleLinear().domain([o.min(M,(function(e){return e[t.props.mark.style.fill.axis]})),o.max(M,(function(e){return e[t.props.mark.style.fill.axis]}))]).range(T)}for(var S=[],L=[],k=[],C=[],D=0;D<this.state.data.length-1;D++)for(var P=0;P<r.length-1;P++){var R={x:_(this.state.data[D][this.props.mark.position.x.field]),y:b(this.state.data[D][r[P]]),z:x(r[P])};S.push(R),L.push(R);var O=S.length-1;R={x:_(this.state.data[D+1][this.props.mark.position.x.field]),y:b(this.state.data[D+1][r[P]]),z:x(r[P])},S.push(R),L.push(R),L.push(R);var I=S.length-1;R={x:_(this.state.data[D+1][this.props.mark.position.x.field]),y:b(this.state.data[D+1][r[P+1]]),z:x(r[P+1])},S.push(R),L.push(R),L.push(R);var N=S.length-1;R={x:_(this.state.data[D][this.props.mark.position.x.field]),y:b(this.state.data[D][r[P+1]]),z:x(r[P+1])},S.push(R),L.push(R),L.push(R),R={x:_(this.state.data[D][this.props.mark.position.x.field]),y:b(this.state.data[D][r[P]]),z:x(r[P])},L.push(R);var z=S.length-1;k.push([O,I,N]),k.push([O,N,z]);var B=void 0,F=void 0,j=void 0,H=void 0;if(this.props.mark.style.fill.scaleType)switch(this.props.mark.style.fill.axis){case 0:B=w(this.state.data[D][this.props.mark.position.x.field]),F=w(this.state.data[D+1][this.props.mark.position.x.field]),j=w(this.state.data[D+1][this.props.mark.position.x.field]),H=w(this.state.data[D][this.props.mark.position.x.field]);break;case 1:B=w(this.state.data[D][r[P]]),F=w(this.state.data[D+1][r[P]]),j=w(this.state.data[D+1][r[P+1]]),H=w(this.state.data[D][r[P+1]]);break;case 2:B=w(r[P]),F=w(r[P]),j=w(r[P+1]),H=w(r[P+1]);break;default:B=w(this.state.data[D][this.props.mark.position.x.field]),F=w(this.state.data[D+1][this.props.mark.position.x.field]),j=w(this.state.data[D+1][this.props.mark.position.x.field]),H=w(this.state.data[D][this.props.mark.position.x.field])}else B=this.props.mark.style.fill.color,F=this.props.mark.style.fill.color,j=this.props.mark.style.fill.color,H=this.props.mark.style.fill.color;C.push([B,F,j]),C.push([B,j,H])}var Y=JSON.stringify(S),U=JSON.stringify(k),G=JSON.stringify(C),V=JSON.stringify(L),W=void 0,q=void 0,X=void 0;this.props.xAxis&&(W=a.default.createElement(c.default,{domain:e,tick:this.props.xAxis.ticks,scale:_,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,grid:this.props.xAxis.grid})),this.props.yAxis&&(q=a.default.createElement(c.default,{domain:b.ticks(this.props.yAxis.ticks.noOfTicks),tick:this.props.yAxis.ticks,scale:b,axis:"y",orient:this.props.yAxis.orient,title:this.props.yAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.y.scaleType,grid:this.props.yAxis.grid})),this.props.zAxis&&(X=a.default.createElement(c.default,{domain:r,tick:this.props.zAxis.ticks,scale:x,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,grid:this.props.zAxis.grid}));var J=void 0;this.props.axisBox&&(J=a.default.createElement(d.default,{width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,color:this.props.axisBox.color}));var Z="false",Q=void 0;this.props.rotationOnDrag&&(Z="true"),this.props.animateRotation&&(Z="false",Q=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"}));var K=!1,$=1,tt="#000000",et=1;return this.props.mark.style.stroke&&(K=!0,this.props.mark.style.stroke.color&&(tt=this.props.mark.style.stroke.color),this.props.mark.style.stroke.opacity&&(et=this.props.mark.style.stroke.opacity),this.props.mark.style.stroke.width&&($=this.props.mark.style.stroke.width)),a.default.createElement("a-entity",{"click-rotation":"enabled:"+Z,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},Q,W,q,X,J,a.default.createElement("a-frame-mesh-from-points",{points:Y,faces:U,stroke_vertices:V,stroke_bool:K,stroke_color:tt,stroke_width:$,stroke_opacity:et,color:G,opacity:this.props.mark.style.fill.opacity}),a.default.createElement("a-box",{class:"clickable",width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,position:this.props.style.dimensions.width/2+" "+this.props.style.dimensions.height/2+" "+this.props.style.dimensions.depth/2,opacity:0}))}return a.default.createElement("a-entity",null)}}]),e}();e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=m(i),o=f(n(2)),s=f(n(0)),l=m(n(6)),u=m(n(3)),c=m(n(8)),d=m(n(9)),h=m(n(10)),p=n(4);function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,p.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,p.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,u.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,p.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){var e=void 0,n=void 0,r=void 0,i=void 0;this.props.mark.position.x&&(e=this.props.mark.position.x.domain?this.props.mark.position.x.domain:(0,l.default)(this.state.data,this.props.mark.position.x.field,this.props.mark.position.x.scaleType,this.props.mark.position.x.startFromZero)),this.props.mark.style.height&&(n=this.props.mark.style.height.domain?this.props.mark.style.height.domain:(0,l.default)(this.state.data,this.props.mark.style.height.field,this.props.mark.style.height.scaleType,this.props.mark.style.height.startFromZero)),this.props.mark.style.depth&&(r=this.props.mark.style.depth.domain?this.props.mark.style.depth.domain:(0,l.default)(this.state.data,this.props.mark.style.depth.field,this.props.mark.style.depth.scaleType,this.props.mark.style.depth.startFromZero)),this.props.mark.style.fill&&(i=this.props.mark.style.fill.domain?this.props.mark.style.fill.domain:(0,l.default)(this.state.data,this.props.mark.style.fill.field,this.props.mark.style.fill.scaleType,this.props.mark.style.fill.startFromZero));var s=void 0,u=void 0,p=void 0,f=void 0;if(s=o.scaleBand().range([0,this.props.style.dimensions.width]).domain(e).paddingInner(this.props.mark.style.padding.x),u=o.scaleLinear().domain(n).range([0,this.props.style.dimensions.height]),p=o.scaleLinear().domain(r).range([0,this.props.style.dimensions.depth]),this.props.mark.style.fill.scaleType){var m=o.schemeCategory10;this.props.mark.style.fill.color&&(m=this.props.mark.style.fill.color),f="ordinal"===this.props.mark.style.fill.scaleType?o.scaleOrdinal().domain(i).range(m):o.scaleLinear().domain(i).range(m)}var v=void 0,g=void 0,y=void 0;this.props.xAxis&&(v=a.default.createElement(c.default,{domain:e,tick:this.props.xAxis.ticks,scale:s,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,padding:s.bandwidth(),grid:this.props.xAxis.grid})),this.props.yAxis&&(g=a.default.createElement(c.default,{domain:n,tick:this.props.yAxis.ticks,scale:u,axis:"y",orient:this.props.yAxis.orient,title:this.props.yAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.style.height.scaleType,grid:this.props.yAxis.grid})),this.props.zAxis&&(y=a.default.createElement(c.default,{domain:r,tick:this.props.zAxis.ticks,scale:p,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.style.depth.scaleType,grid:this.props.zAxis.grid}));var _=void 0;this.props.axisBox&&(_=a.default.createElement(d.default,{width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,color:this.props.axisBox.color}));var b=this.state.data.map((function(e,n){var r=u(e[t.props.mark.style.height.field]),i=p(e[t.props.mark.style.depth.field]),o=s.bandwidth();0===r&&(r=1e-12),0===i&&(i=1e-12);var l=t.props.mark.style.fill.color;t.props.mark.style.fill.scaleType&&(l=f(e[t.props.mark.style.fill.field]));var c=s(e[t.props.mark.position.x.field])+o/2+" "+r/2+" "+i/2,d=void 0;t.props.mark.mouseOver&&t.props.mark.mouseOver.label&&(d=t.props.mark.mouseOver.label.value(e));var m="clickable",v=void 0;return"function"==typeof t.props.mark.class&&(m="clickable "+t.props.mark.class(e,n)),"function"==typeof t.props.mark.id&&(v=t.props.mark.id(e,n)),a.default.createElement(h.default,{key:t.props.index+"_Shape"+n,type:"box",color:""+l,opacity:t.props.mark.style.fill.opacity,depth:""+i,height:""+r,width:""+o,segments:""+t.props.mark.style.segments,position:c,hover:t.props.mark.mouseOver,hoverText:d,graphID:t.props.index,class:m,id:v,data:JSON.stringify(e)})})),x="false",w=void 0;return this.props.rotationOnDrag&&(x="true"),this.props.animateRotation&&(x="false",w=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+x,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},w,b,v,g,y,_)}return a.default.createElement("a-entity",null)}}]),e}();e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=f(i),o=p(n(2)),s=p(n(0)),l=f(n(6)),u=f(n(3)),c=f(n(8)),d=f(n(9)),h=n(4);function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,h.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,h.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,u.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,h.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){if(this.state.data){var t,e=void 0,n=void 0;this.props.mark.position.x&&(e=this.props.mark.position.x.domain?this.props.mark.position.x.domain:(0,l.default)(this.state.data,this.props.mark.position.x.field,this.props.mark.position.x.scaleType,this.props.mark.position.x.startFromZero)),this.props.mark.position.y&&(n=this.props.mark.position.y.domain?this.props.mark.position.y.domain:(0,l.default)(this.state.data,this.props.mark.position.y.field,this.props.mark.position.y.scaleType,this.props.mark.position.y.startFromZero)),t=this.props.mark.position.z.domain?this.props.mark.position.z.domain:(0,l.default)(this.state.data,this.props.mark.position.z.field,this.props.mark.position.z.scaleType,this.props.mark.position.z.startFromZero);var r=void 0,i=void 0,s=void 0;r="ordinal"===this.props.mark.position.x.scaleType?o.scaleBand().range([0,this.props.style.dimensions.width]).domain(e):o.scaleLinear().range([0,this.props.style.dimensions.width]).domain(e),i=this.props.mark.position.y.range?o.scaleLinear().domain(n).range(this.props.mark.position.y.range):o.scaleLinear().domain(n).range([0,this.props.style.dimensions.height]),s=o.scaleLinear().domain(t).range([0,this.props.style.dimensions.depth]);var u=void 0,h=void 0,p=void 0;this.props.xAxis&&(u=a.default.createElement(c.default,{domain:e,tick:this.props.xAxis.ticks,scale:r,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,grid:this.props.xAxis.grid})),this.props.yAxis&&(h=a.default.createElement(c.default,{domain:n,tick:this.props.yAxis.ticks,scale:i,axis:"y",orient:this.props.yAxis.orient,title:this.props.yAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.y.scaleType,grid:this.props.yAxis.grid})),this.props.zAxis&&(p=a.default.createElement(c.default,{domain:t,tick:this.props.zAxis.ticks,scale:s,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,grid:this.props.zAxis.grid}));var f=void 0;this.props.axisBox&&(f=a.default.createElement(d.default,{width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,color:this.props.axisBox.color}));for(var m=[],v=[],g=[],y=[],_=0;_<this.state.data.length-1;_++){var b={x:r(this.state.data[_][this.props.mark.position.x.field]),y:i(this.state.data[_][this.props.mark.position.y.field]),z:s(this.state.data[_][this.props.mark.position.z.field])};m.push(b);var x=m.length-1;b={x:r(this.state.data[_+1][this.props.mark.position.x.field]),y:i(this.state.data[_+1][this.props.mark.position.y.field]),z:s(this.state.data[_+1][this.props.mark.position.z.field])},m.push(b);var w=m.length-1;b={x:r(this.state.data[_+1][this.props.mark.position.x.field]),y:i(this.state.data[_+1][this.props.mark.position.y.field]),z:0},m.push(b);var M=m.length-1;b={x:r(this.state.data[_][this.props.mark.position.x.field]),y:i(this.state.data[_][this.props.mark.position.y.field]),z:0},m.push(b);var A,E,T,S,L=m.length-1;g.push([x,w,M]),g.push([x,M,L]),A=this.props.mark.style.fill.color,E=this.props.mark.style.fill.color,T=this.props.mark.style.fill.color,S=this.props.mark.style.fill.color,y.push([A,E,T]),y.push([A,T,S])}for(var k=[],C=0;C<this.state.data.length;C++){var D=[];D.push(r(this.state.data[C][this.props.mark.position.x.field])),D.push(i(this.state.data[C][this.props.mark.position.y.field])),D.push(s(this.state.data[C][this.props.mark.position.z.field])),k.push(D)}for(var P=this.state.data.length-1;P>=0;P--){var R=[];R.push(r(this.state.data[P][this.props.mark.position.x.field])),R.push(i(this.state.data[P][this.props.mark.position.y.field])),R.push(0),k.push(R)}k.forEach((function(t,e){v.push({x:t[0],y:t[1],z:t[2]}),e>0&&v.push({x:t[0],y:t[1],z:t[2]})})),v.push({x:k[0][0],y:k[0][1],z:k[0][2]});var O=JSON.stringify(m),I=JSON.stringify(g),N=JSON.stringify(y),z=JSON.stringify(v),B="false",F=void 0;this.props.rotationOnDrag&&(B="true"),this.props.animateRotation&&(B="false",F=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"}));var j=!1,H=1,Y="#000000",U=1;return this.props.mark.style.stroke&&(j=!0,this.props.mark.style.stroke.color&&(Y=this.props.mark.style.stroke.color),this.props.mark.style.stroke.opacity&&(U=this.props.mark.style.stroke.opacity),this.props.mark.style.stroke.width&&(H=this.props.mark.style.stroke.width)),a.default.createElement("a-entity",{"click-rotation":"enabled:"+B,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},F,u,h,p,f,a.default.createElement("a-frame-mesh-from-points",{points:O,faces:I,stroke_vertices:z,stroke_bool:j,stroke_color:Y,stroke_width:H,stroke_opacity:U,color:N,opacity:this.props.mark.style.fill.opacity}),a.default.createElement("a-box",{class:"clickable",width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,position:this.props.style.dimensions.width/2+" "+this.props.style.dimensions.height/2+" "+this.props.style.dimensions.depth/2,opacity:0}))}return a.default.createElement("a-entity",null)}}]),e}();e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=f(i),o=p(n(2)),s=p(n(0)),l=f(n(3)),u=f(n(10)),c=f(n(13)),d=f(n(15)),h=n(4);function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,h.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,h.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,l.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,h.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){for(var e=[],n=0;n<this.state.data.length;n++)for(var r=0;r<this.props.mark.timeLayers.position.y.domain.length;r++)e.push(this.state.data[n][this.props.mark.timeLayers.position.y.domain[r]]);var i,s=o.min(e),l=o.max(e),h=void 0;i=this.props.mark.timeLayers.style.radius.domain?this.props.mark.timeLayers.style.radius.domain:this.props.mark.timeLayers.style.radius.startFromZero?[0,l]:[s,l],this.props.mark.timeLayers.style.fill.scaleType&&(h=this.props.mark.timeLayers.style.fill.domain?this.props.mark.timeLayers.style.fill.domain:this.props.mark.timeLayers.style.fill.startFromZero?[0,l]:[s,l]);var p=void 0,f=void 0;if(f=o.scaleLinear().domain(i).range(this.props.mark.timeLayers.style.radius.value),this.props.mark.timeLayers.style.fill.scaleType){var m=o.schemeCategory10;this.props.mark.timeLayers.style.fill.color&&(m=this.props.mark.timeLayers.style.fill.color),p=o.scaleLinear().domain(h).range(m)}var v=this.props.mark.map.style.extrusion.value,g=[],y=[],_=[],b=(0,c.default)(this.props.mark.map.data,this.props.mark.projection,this.props.mark.mapScale,this.props.mark.mapOrigin,this.props.mark.map.shapeIdentifier,this.props.mark.map.shapeKey).map((function(e,n){var r=e.vertices.split(", ").map((function(t){var e=t.split(" ");return{x:parseFloat(e[0]),y:parseFloat(e[1])}}));g.push(v),y.push(t.props.mark.map.style.fill.color);var i=o.min(r,(function(t){return t.x})),s=o.min(r,(function(t){return t.y})),l=o.max(r,(function(t){return t.x})),u=o.max(r,(function(t){return t.y})),c=a.default.createElement("a-box",{class:"clickable",key:n,width:l-i,height:u-s,depth:v,position:(l+i)/2+" "+(u+s)/2+" "+v/2,opacity:0});return _.push(c),r})),x=!1,w="#000000";this.props.mark.map.style.stroke&&(x=!0,w=this.props.mark.map.style.stroke.color);var M=a.default.createElement("a-frame-map",{points:JSON.stringify(b),stroke_bool:x,stroke_color:w,extrude:JSON.stringify(g),color:JSON.stringify(y),opacity:this.props.mark.map.style.fill.opacity}),A=a.default.createElement("a-frame-map-outline",{points:JSON.stringify(b),stroke_bool:x,stroke_color:w,extrude:v}),E=this.state.data.map((function(e,n){return t.props.mark.timeLayers.position.y.domain.map((function(n,r){var i=t.props.mark.timeLayers.style.fill.color;t.props.mark.timeLayers.style.fill.scaleType&&(i=p(e[n]));var o=(0,d.default)(e[t.props.mark.timeLayers.position.x.field],e[t.props.mark.timeLayers.position.z.field],t.props.mark.projection,t.props.mark.mapScale,t.props.mark.mapOrigin),s=o[0]+" "+(0-o[1])+" "+((r+.5)*t.props.mark.timeLayers.style.height+r*t.props.mark.timeLayers.style.padding),l=f(e[n]),c=void 0;return t.props.mark.timeLayers.mouseOver&&t.props.mark.timeLayers.mouseOver.label&&(c=t.props.mark.timeLayers.mouseOver.label.value(e).replace("Label",""+n).replace("LabelValue",""+e[n])),a.default.createElement(u.default,{key:""+r,type:t.props.mark.timeLayers.type,color:""+i,opacity:t.props.mark.timeLayers.style.fill.opacity,depth:""+l,height:""+t.props.mark.timeLayers.style.height,width:""+l,radius:""+l,segments:""+t.props.mark.timeLayers.style.segments,position:s,hover:t.props.mark.timeLayers.mouseOver,hoverText:c,graphID:t.props.index,rotation:"90 0 0"})}))})),T="false",S=void 0;return this.props.rotationOnDrag&&(T="true"),this.props.animateRotation&&(T="false",S=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+T,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.mark.rotation,id:this.props.index},S,M,A,E,_)}return a.default.createElement("a-entity",null)}}]),e}();e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=h(i),o=d(n(2)),s=d(n(0)),l=h(n(6)),u=h(n(3)),c=n(4);function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,c.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,c.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,u.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,c.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){var e=void 0,n=void 0;this.props.mark.style.stroke&&this.props.mark.style.stroke.scaleType&&(e=this.props.mark.style.stroke.domain?this.props.mark.style.stroke.domain:(0,l.default)(this.state.data,this.props.mark.style.stroke.field,this.props.mark.style.stroke.type,this.props.mark.style.stroke.startFromZero)),this.props.mark.style.fill&&this.props.mark.style.fill.scaleType&&(n=this.props.mark.style.fill.domain?this.props.mark.style.fill.domain:(0,l.default)(this.state.data,this.props.mark.style.fill.field,this.props.mark.style.fill.type,this.props.mark.style.fill.startFromZero));var r=void 0,i=void 0,s=void 0;if(s=this.props.mark.vertices.map((function(e,n){var r;return r=e.domain?e.domain:(0,l.default)(t.state.data,e.title,e.scaleType,e.startFromZero),o.scaleLinear().domain(r).range([0,t.props.style.width])})),this.props.mark.style.stroke&&this.props.mark.style.stroke.scaleType){var u=o.schemeCategory10;this.props.mark.style.stroke.color&&(u=this.props.mark.style.stroke.color),r="ordinal"===this.props.mark.style.stroke.scaleType?o.scaleOrdinal().domain(e).range(u):o.scaleLinear().domain(e).range(u)}if(this.props.mark.style.fill&&this.props.mark.style.fill.scaleType){var c=o.schemeCategory10;this.props.mark.style.fill.color&&(c=this.props.mark.style.fill.color),i="ordinal"===this.props.mark.style.fill.scaleType?o.scaleOrdinal().domain(n).range(c):o.scaleLinear().domain(n).range(c)}var d,h=void 0,p=this.props.style.height/this.state.data.length;h=this.state.data.map((function(e,n){var r="",i=2*Math.PI/s.length;return s.forEach((function(n,a){r=r+(n(e[t.props.mark.vertices[a].title])*Math.sin(a*i)+" ")+(0-n(e[t.props.mark.vertices[a].title])*Math.cos(a*i))+","})),r=r+(s[0](e[t.props.mark.vertices[0].title])*Math.sin(0)+" ")+(0-s[0](e[t.props.mark.vertices[0].title])*Math.cos(0))})),d=this.state.data.map((function(e,n){var o=h[n].split(",").map((function(t){var e=t.split(" ");return{x:e[0],y:e[1],z:0}})),s=void 0,l=void 0;return t.props.mark.style.stroke&&(l=t.props.mark.style.stroke.scaleType?a.default.createElement("a-frame-curve-line",{points:JSON.stringify(o),key:n,type:"line",color:r(e[t.props.mark.style.stroke.field]),opacity:1,stroke_width:t.props.mark.style.stroke.width}):a.default.createElement("a-frame-curve-line",{points:JSON.stringify(o),key:n,type:"line",color:t.props.mark.style.stroke.color,opacity:1,stroke_width:t.props.mark.style.stroke.width})),t.props.mark.style.fill&&(s=t.props.mark.style.fill.scaleType?a.default.createElement("a-frame-shape",{points:JSON.stringify(o),key:n,color:i(e[t.props.mark.style.fill.field]),opacity:t.props.mark.style.fill.opacity}):a.default.createElement("a-frame-shape",{points:JSON.stringify(o),key:n,color:t.props.mark.style.fill.color,opacity:t.props.mark.style.fill.opacity})),a.default.createElement("a-entity",{rotation:"90 0 0",position:"0 "+n*p+" 0",key:n},s,l)}));var f="false",m=void 0;return this.props.rotationOnDrag&&(f="true"),this.props.animateRotation&&(f="false",m=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+f,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},m,d,a.default.createElement("a-box",{class:"clickable",position:"0 "+this.props.style.height/2+" 0",opacity:"0",height:this.props.style.height,depth:2*this.props.style.width,width:2*this.props.style.width}))}return a.default.createElement("a-entity",null)}}]),e}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=m(i),o=f(n(2)),s=f(n(0)),l=m(n(6)),u=m(n(3)),c=m(n(8)),d=m(n(9)),h=m(n(10)),p=n(4);function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentWillMount",value:function(){var t=this;if(this.props.data)switch(this.props.data.fileType){case"json":(0,p.json)(this.props.data.dataFile,(function(e,n){e?t.setState({error:!0}):t.setState({data:n})}));break;case"csv":(0,p.csv)(this.props.data.dataFile,(function(e,n){n=n.map((function(e){for(var n=0;n<t.props.data.fieldDesc.length;n++)"number"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=+e[t.props.data.fieldDesc[n][0]]),"date"!==t.props.data.fieldDesc[n][1]&&"time"!==t.props.data.fieldDesc[n][1]||(e[t.props.data.fieldDesc[n][0]]=s(e[t.props.data.fieldDesc[n][0]],t.props.data.fieldDesc[n][2])._d),"jsonObject"===t.props.data.fieldDesc[n][1]&&(e[t.props.data.fieldDesc[n][0]]=JSON.parse(e[t.props.data.fieldDesc[n][0]]));return e})),e?t.setState({error:!0}):t.setState({data:n})}));break;case"ply":var e=(0,u.default)(this.props.data.dataFile);this.setState({data:e});break;case"text":(0,p.text)(this.props.data.dataFile,(function(e,n){var r=o.csvParseRows(n).map((function(t){return t.map((function(t){return+t}))}));e?t.setState({error:!0}):t.setState({data:r})}));break;default:var n=this.props.data.dataFile;this.setState({data:n})}else this.setState({data:"NA"})}},{key:"render",value:function(){var t=this;if(this.state.data){var e=void 0,n=void 0,r=void 0,i=void 0,s=void 0,u=void 0;this.props.mark.position.x&&(e=this.props.mark.position.x.domain?this.props.mark.position.x.domain:(0,l.default)(this.state.data,this.props.mark.position.x.field,this.props.mark.position.x.scaleType,this.props.mark.position.x.startFromZero)),this.props.mark.position.y&&(n=this.props.mark.position.y.domain?this.props.mark.position.y.domain:(0,l.default)(this.state.data,this.props.mark.position.y.field,this.props.mark.position.y.scaleType,this.props.mark.position.y.startFromZero)),this.props.mark.position.z&&(r=this.props.mark.position.z.domain?this.props.mark.position.z.domain:(0,l.default)(this.state.data,this.props.mark.position.z.field,this.props.mark.position.z.scaleType,this.props.mark.position.z.startFromZero)),this.props.mark.style.radius&&this.props.mark.style.radius.scaleType&&(u=this.props.mark.style.radius.domain?this.props.mark.style.radius.domain:(0,l.default)(this.state.data,this.props.mark.style.radius.field,this.props.mark.style.radius.scaleType,this.props.mark.style.radius.startFromZero)),this.props.mark.style.fill&&this.props.mark.style.fill.scaleType&&(i=this.props.mark.style.fill.domain?this.props.mark.style.fill.domain:(0,l.default)(this.state.data,this.props.mark.style.fill.field,this.props.mark.style.fill.scaleType,this.props.mark.style.fill.startFromZero)),this.props.mark.droplines.style.fill&&this.props.mark.droplines.style.fill.scaleType&&(s=this.props.mark.droplines.style.fill.domain?this.props.mark.droplines.style.fill.domain:(0,l.default)(this.state.data,this.props.mark.droplines.style.fill.field,this.props.mark.droplines.style.fill.scaleType,this.props.mark.droplines.style.fill.startFromZero));var p=void 0,f=void 0,m=void 0,v=void 0,g=void 0,y=void 0,_=void 0,b=void 0;"ordinal"===this.props.mark.position.x.scaleType&&(p=o.scaleBand().range([0,this.props.style.dimensions.width]).domain(e).paddingInner(this.props.mark.style.padding.x),_=p.bandwidth()),f=o.scaleLinear().domain(n).range([0,this.props.style.dimensions.height]),"ordinal"===this.props.mark.position.z.scaleType&&(m=o.scaleBand().domain(r).range([0,this.props.style.dimensions.depth]).paddingInner(this.props.mark.style.padding.z),b=m.bandwidth());var x=b/2;if(b>_&&(x=_/2),this.props.mark.style.radius.scaleType&&(y="ordinal"===this.props.mark.style.radius.scaleType?o.scaleOrdinal().domain(u).range(this.props.mark.style.radius.value):o.scaleLinear().domain(u).range(this.props.mark.style.radius.value)),this.props.mark.style.fill.scaleType){var w=o.schemeCategory10;this.props.mark.style.fill.color&&(w=this.props.mark.style.fill.color),v="ordinal"===this.props.mark.style.fill.scaleType?o.scaleOrdinal().domain(i).range(w):o.scaleLinear().domain(i).range(w)}if(this.props.mark.droplines.style.fill.scaleType){var M=o.schemeCategory10;this.props.mark.droplines.style.fill.color&&(M=this.props.mark.droplines.style.fill.color),g="ordinal"===this.props.mark.droplines.style.fill.scaleType?o.scaleOrdinal().domain(s).range(M):o.scaleLinear().domain(s).range(M)}var A=void 0,E=void 0,T=void 0;this.props.xAxis&&(A="cylinder"===this.props.mark.type||"cone"===this.props.mark.type?a.default.createElement(c.default,{domain:e,tick:this.props.xAxis.ticks,scale:p,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,padding:2*x,grid:this.props.xAxis.grid}):a.default.createElement(c.default,{domain:e,tick:this.props.xAxis.ticks,scale:p,axis:"x",orient:this.props.xAxis.orient,title:this.props.xAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.x.scaleType,padding:_,grid:this.props.xAxis.grid})),this.props.yAxis&&(E=a.default.createElement(c.default,{domain:f.ticks(this.props.yAxis.ticks.noOfTicks),tick:this.props.yAxis.ticks,scale:f,axis:"y",orient:this.props.yAxis.orient,title:this.props.yAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.y.scaleType,grid:this.props.yAxis.grid})),this.props.zAxis&&(T="cylinder"===this.props.mark.type||"cone"===this.props.mark.type?a.default.createElement(c.default,{domain:r,tick:this.props.zAxis.ticks,scale:m,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,padding:2*x,grid:this.props.zAxis.grid}):a.default.createElement(c.default,{domain:r,tick:this.props.zAxis.ticks,scale:m,axis:"z",orient:this.props.zAxis.orient,title:this.props.zAxis.title,dimensions:this.props.style.dimensions,scaleType:this.props.mark.position.z.scaleType,padding:b,grid:this.props.zAxis.grid}));var S=void 0;this.props.axisBox&&(S=a.default.createElement(d.default,{width:this.props.style.dimensions.width,height:this.props.style.dimensions.height,depth:this.props.style.dimensions.depth,color:this.props.axisBox.color}));var L=this.state.data.map((function(e,n){var r=t.props.mark.style.fill.color;t.props.mark.style.fill.scaleType&&(r=v(e[t.props.mark.style.fill.field]));var i=p(e[t.props.mark.position.x.field])+_/2+" "+f(e[t.props.mark.position.y.field])+" "+(m(e[t.props.mark.position.z.field])+b/2),o=void 0;t.props.mark.mouseOver&&t.props.mark.mouseOver.label&&(o=t.props.mark.mouseOver.label.value(e));var s;s=t.props.mark.style.radius.scaleType?y(e[t.props.mark.style.radius.field]):t.props.mark.style.radius.value;var l="clickable",u=void 0;return"function"==typeof t.props.mark.class&&(l="clickable "+t.props.mark.class(e,n)),"function"==typeof t.props.mark.id&&(u=t.props.mark.id(e,n)),a.default.createElement(h.default,{key:t.props.index+"_Shape"+n,type:t.props.mark.type,color:""+r,opacity:t.props.mark.style.fill.opacity,depth:""+s,height:""+s,width:""+s,radius:""+s,segments:""+t.props.mark.style.segments,position:i,hover:t.props.mark.mouseOver,hoverText:o,graphID:t.props.index,class:l,id:u,data:JSON.stringify(e)})})),k=this.state.data.map((function(e,n){var r=t.props.mark.droplines.style.fill.color;t.props.mark.droplines.style.fill.scaleType&&(r=g(e[t.props.mark.droplines.style.fill.field]));var i=p(e[t.props.mark.position.x.field])+_/2+" "+f(e[t.props.mark.position.y.field])/2+" "+(m(e[t.props.mark.position.z.field])+b/2),o="clickable",s=void 0;return"function"==typeof t.props.mark.droplines.class&&(o="clickable "+t.props.mark.class(e,n)),"function"==typeof t.props.mark.id&&(s=t.props.mark.droplines.id(e,n)),a.default.createElement(h.default,{key:t.props.index+"_Shape"+n,type:"cylinder",color:""+r,opacity:t.props.mark.droplines.style.fill.opacity,depth:""+t.props.mark.droplines.style.radius,height:""+f(e[t.props.mark.position.y.field]),width:""+t.props.mark.droplines.style.radius,radius:t.props.mark.droplines.style.radius,segments:""+t.props.mark.style.segments,position:i,hover:!1,hoverText:"",graphID:t.props.index,class:o,id:s,data:JSON.stringify(e)})})),C="false",D=void 0;return this.props.rotationOnDrag&&(C="true"),this.props.animateRotation&&(C="false",D=a.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"})),a.default.createElement("a-entity",{"click-rotation":"enabled:"+C,"pivot-center":"xPosition:"+this.props.style.origin[0]+";yPosition:"+this.props.style.origin[1]+";zPosition:"+this.props.style.origin[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,position:this.props.style.origin[0]+" "+this.props.style.origin[1]+" "+this.props.style.origin[2],rotation:this.props.style.rotation,id:this.props.index},D,k,L,A,E,T,S)}return a.default.createElement("a-entity",null)}}]),e}();e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),o=(r=a)&&r.__esModule?r:{default:r},s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Component),i(e,[{key:"render",value:function(){var t="false",e=void 0;this.props.rotationOnDrag&&(t="true"),this.props.animateRotation&&(t="false",e=o.default.createElement("a-animation",{attribute:"rotation",easing:"linear",dur:""+this.props.animateRotation.duration,from:this.props.animateRotation.initialAngles,to:this.props.animateRotation.finalAngles,repeat:"indefinite"}));var n=!1,r="none",i=1,a=30,s="#000000",l="#ffffff",u=!1,c=1,d="#ffff00",h=!1,p=1,f="",m="#ffff00",v="#ff0000",g=!1,y=1,_="#000000",b=20;return this.props.material&&(n=!0,this.props.material.type&&(r=this.props.material.type),this.props.material.fill&&(this.props.material.fill.opacity&&(i=this.props.material.fill.opacity),this.props.material.fill.color&&(v=this.props.material.fill.color),this.props.material.fill.shininess&&(a=this.props.material.fill.shininess),this.props.material.fill.emissive&&(s=this.props.material.fill.emissive),this.props.material.fill.specular&&(l=this.props.material.fill.specular)),this.props.material.stroke&&(g=!0,this.props.material.stroke.width&&(y=this.props.material.stroke.width),this.props.material.stroke.color&&(_=this.props.material.stroke.color),this.props.material.stroke.edgeThresholdAngle&&(b=this.props.material.stroke.edgeThresholdAngle)),this.props.material.highlightOnClick&&(h=!0,this.props.material.highlightOnClick.opacity&&(p=this.props.material.highlightOnClick.opacity),this.props.material.highlightOnClick.color&&(m=this.props.material.highlightOnClick.color)),this.props.material.emphasisMaterial&&(u=!0,this.props.material.emphasisMaterial.meshes&&this.props.material.emphasisMaterial.meshes.forEach((function(t){f=""===f?t:f+","+t})),this.props.material.emphasisMaterial.opacity&&(c=this.props.material.emphasisMaterial.opacity),this.props.material.emphasisMaterial.color&&(d=this.props.material.emphasisMaterial.color))),o.default.createElement("a-entity",null,o.default.createElement("a-entity",{"click-rotation":"enabled:"+t,class:"clickable","gltf-model":"url("+this.props.object+")",position:this.props.style.position[0]+" "+this.props.style.position[1]+" "+this.props.style.position[2],"play-all-model-animations":!0,"pivot-center-model":"xPosition:"+this.props.style.position[0]+";yPosition:"+this.props.style.position[1]+";zPosition:"+this.props.style.position[2]+";pivotX:"+this.props.style.xPivot+";pivotY:"+this.props.style.yPivot+";pivotZ:"+this.props.style.zPivot,"material-modification":"specular:"+l+";shininess:"+a+";emissive:"+s+";emphasisMaterial:"+u+";emphasisMeshName:"+f+";emphasisOpacity:"+c+";emphasisColor:"+d+";modifyMaterial:"+n+";material:"+r+";materialColor:"+v+";materialOpacity:"+i+";edgeThresholdAngle:"+b+";stroke:"+g+";strokeWidth:"+y+";strokeColor:"+_,"highlight-on-click":"materialOpacity:"+i+";emphasisOpacity:"+c+";emphasisColor:"+d+";materialColor:"+v+";highlightEffect:"+h+";highlightedOpacity:"+p+";highlightedColor:"+m,scale:this.props.style.scale[0]+" "+this.props.style.scale[1]+" "+this.props.style.scale[2]}),e)}}]),e}();e.default=s},function(t,e,n){"use strict";var r=a(n(5)),i=a(n(2));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}r.registerComponent("change-color-on-hover",{schema:{hoverText:{type:"string"},prevOpacity:{type:"string"},prevColor:{type:"string"},focusedObjectOpacity:{type:"string",default:"1"},focusedObjectfill:{type:"string",default:"red"},nonFocusedObjectOpacity:{type:"string",default:"0.2"},labelWidth:{type:"string",default:"auto"},labelHeight:{type:"string",default:"auto"},lineHeight:{type:"string",default:"auto"},labelAlign:{type:"string",default:"center"},wrapCount:{type:"string",default:"4"},labelBackgroundColor:{type:"string",default:"black"},labelFontColor:{type:"string",default:"white"},labelPosition:{type:"string",default:"0 -0.5 -0.5"},labelRotation:{type:"string",default:"0 0 0"},graphID:{type:"string"},backgroundOpacity:{type:"string"}},init:function(){var t=this.data,e=this.el;e.addEventListener("mouseenter",(function(){var n=document.getElementById("hover"),r=i.selectAll("#"+t.graphID).selectAll(".shapes");"undefined"!==t.hoverText&&(n.setAttribute("visible",!0),n.setAttribute("text","value",t.hoverText)),"undefined"!==t.nonFocusedObjectOpacity&&r.attr("opacity",parseFloat(t.nonFocusedObjectOpacity)),"undefined"!==t.focusedObjectOpacity&&e.setAttribute("opacity",t.focusedObjectOpacity),"undefined"!==t.focusedObjectfill&&e.setAttribute("color",t.focusedObjectfill),"undefined"!==t.labelPosition?n.setAttribute("position",t.labelPosition):n.setAttribute("position","0 -0.3 -1"),"undefined"!==t.labelRotation?n.setAttribute("rotation",t.labelRotation):n.setAttribute("rotation","0 0 0"),"undefined"!==t.wrapCount&&n.setAttribute("text","wrapCount",t.wrapCount),"undefined"!==t.lineHeight&&n.setAttribute("text","lineHeight",t.lineHeight),"undefined"!==t.labelFontColor&&n.setAttribute("text","color",t.labelFontColor),"undefined"!==t.labelAlign&&n.setAttribute("text","align",t.labelAlign),"undefined"!==t.labelWidth&&n.setAttribute("geometry","width",t.labelWidth),"undefined"!==t.labelHeight&&n.setAttribute("geometry","height",t.labelHeight),"undefined"!==t.labelBackgroundColor&&n.setAttribute("material","color",t.labelBackgroundColor),"undefined"!==t.backgroundOpacity?n.setAttribute("material","opacity",t.backgroundOpacity):n.setAttribute("material","opacity",1)})),e.addEventListener("mouseleave",(function(){document.getElementById("hover").setAttribute("visible",!1),e.setAttribute("opacity",t.prevOpacity),e.setAttribute("color",t.prevColor),i.selectAll("#"+t.graphID).selectAll(".shapes").attr("opacity",parseFloat(t.prevOpacity))}))}})},function(t,e,n){"use strict";var r=a(n(5)),i=a(n(2));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}r.registerComponent("cursor-listener",{schema:{on:{type:"string"},target:{type:"selector"},text:{type:"string"}},init:function(t){this.el.addEventListener("mouseenter",(function(t){i.selectAll("#mouseHover").append("a-entity").attr("class","hover").attr("position","-2.5 1 0").attr("geometry","primitive: plane; width: 3; height: auto").attr("material","color: blue").attr("text","anchor: center; width: 1.5; color: white; value: \n[CENTER ANCHOR]\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Ut enim ad minim veniam")})),this.el.addEventListener("mouseleave",(function(t){i.selectAll(".hover").remove()}))}})},function(t,e,n){"use strict";var r=a(n(5)),i=a(n(7));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}r.registerComponent("play-all-model-animations",{init:function(){this.model=null,this.mixer=null;var t=this.el.getObject3D("mesh");t?this.load(t):this.el.addEventListener("model-loaded",function(t){this.load(t.detail.model)}.bind(this))},load:function(t){var e=this;this.model=t,this.mixer=new i.AnimationMixer(t),this.model.animations.forEach((function(n){e.mixer.clipAction(n,t).play()}))},tick:function(t,e){this.mixer&&!isNaN(e)&&this.mixer.update(e/1e3)}})},function(t,e,n){"use strict";var r=a(n(5)),i=a(n(7));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}r.registerComponent("billboard",{schema:{default:!0},init:function(){this.target=new i.Vector3},tick:function(){var t=this.el.sceneEl.camera,e=this.el.object3D;if(t&&this.data)return this.target.setFromMatrixPosition(t.matrixWorld),e.lookAt(this.target)}})},function(t,e,n){"use strict";var r,i=(r=n(5))&&r.__esModule?r:{default:r},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7));i.default.registerComponent("click-rotation",{schema:{enabled:{type:"boolean",default:!0},speed:{type:"number",default:1}},init:function(){var t=this;this.obj=this.el,this.ifMouseDown=!1,this.x_cord=0,this.y_cord=0,document.addEventListener("mousedown",(function(e){t.data.enabled&&(t.x_cord=e.clientX,t.y_cord=e.clientY)})),this.el.addEventListener("mousedown",(function(e){t.data.enabled&&(t.ifMouseDown=!0,document.getElementById("head").setAttribute("look-controls","enabled: false"))})),document.addEventListener("mouseup",(function(e){t.data.enabled&&(t.ifMouseDown=!1,document.getElementById("head").setAttribute("look-controls","enabled: true"))})),document.addEventListener("mousemove",(function(e){if(t.ifMouseDown&&t.data.enabled){var n=e.clientX-t.x_cord,r=e.clientY-t.y_cord,i=(new a.Quaternion).setFromEuler(new a.Euler(r*t.data.speed*(Math.PI/180),n*t.data.speed*(Math.PI/180),0,"XYZ"));t.el.object3D.quaternion.multiplyQuaternions(i,t.el.object3D.quaternion),t.x_cord=e.clientX,t.y_cord=e.clientY}}))}})},function(t,e,n){"use strict";var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7));((r=n(5))&&r.__esModule?r:{default:r}).default.registerComponent("pivot-center",{schema:{ignoreX:{type:"boolean",default:!1},ignoreY:{type:"boolean",default:!1},ignoreZ:{type:"boolean",default:!1},pivotX:{type:"number",default:1/0},pivotY:{type:"number",default:1/0},pivotZ:{type:"number",default:1/0},xPosition:{type:"number",default:0},yPosition:{type:"number",default:0},zPosition:{type:"number",default:0}},init:function(){var t=this;this.obj=this.el,this.ifMouseDown=!1,this.x_cord=0,this.y_cord=0,this.model=this.el.object3D,this.min={x:1/0,y:1/0,z:1/0},this.max={x:-1/0,y:-1/0,z:-1/0};var e=function(t,e){return isFinite(e)?Math.min(t,e):t},n=function(t,e){return isFinite(e)?Math.max(t,e):t};this.el.sceneEl.addEventListener("loaded",(function(){t.model.traverse((function(r){var a=(new i.Box3).setFromObject(r);t.min.x=e(t.min.x,a.min.x),t.min.y=e(t.min.y,a.min.y),t.min.z=e(t.min.z,a.min.z),t.max.x=n(t.max.x,a.max.x),t.max.y=n(t.max.y,a.max.y),t.max.z=n(t.max.z,a.max.z)}));var r=t.data.pivotX,a=t.data.pivotY,o=t.data.pivotZ;isNaN(t.data.pivotX)&&(r=""+(t.min.x+(t.max.x-t.min.x)/2)),isNaN(t.data.pivotY)&&(a=""+(t.min.y+(t.max.y-t.min.y)/2)),isNaN(t.data.pivotZ)&&(o=""+(t.min.z+(t.max.z-t.min.z)/2)),t.data.ignoreX&&(r="0"),t.data.ignoreY&&(a="0"),t.data.ignoreZ&&(o="0"),t.el.setAttribute("pivot",r-t.data.xPosition+" "+(a-t.data.yPosition)+" "+(o-t.data.zPosition))}))}})},function(t,e,n){"use strict";var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7));((r=n(5))&&r.__esModule?r:{default:r}).default.registerComponent("pivot-center-model",{dependencies:["material-modifcation"],schema:{pivotX:{type:"number",default:1/0},pivotY:{type:"number",default:1/0},pivotZ:{type:"number",default:1/0},xPosition:{type:"number",default:0},yPosition:{type:"number",default:0},zPosition:{type:"number",default:0}},init:function(){var t=this;this.obj=this.el,this.clickedMeshes=[],this.x_cord=0,this.y_cord=0,this.model=this.el.object3D,this.min={x:[],y:[],z:[]},this.max={x:[],y:[],z:[]},this.mouseDownTime=0,this.mouseUpTime=0,this.el.addEventListener("model-loaded",(function(){var e=(new i.Box3).setFromObject(t.el.object3D).getCenter(),n=t.data.pivotX,r=t.data.pivotY,a=t.data.pivotZ;isNaN(t.data.pivotX)&&(n=e.x),isNaN(t.data.pivotY)&&(r=e.y),isNaN(t.data.pivotZ)&&(a=e.z),t.el.setAttribute("pivot",n-t.data.xPosition+" "+(r-t.data.yPosition)+" "+(a-t.data.zPosition))}))}})},function(t,e,n){"use strict";var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7));((r=n(5))&&r.__esModule?r:{default:r}).default.registerComponent("material-modification",{schema:{stroke:{type:"boolean",default:!1},strokeWidth:{type:"number",default:1},strokeColor:{type:"string",default:"#000000"},edgeThresholdAngle:{type:"number",default:20},modifyMaterial:{type:"boolean",default:!1},material:{type:"string",default:"none"},materialColor:{type:"string",default:"#ff0000"},materialOpacity:{type:"number",default:1},shininess:{type:"number",default:30},emissive:{type:"string",default:"#3a3a3a"},specular:{type:"string",default:"#ffffff"},emphasisMaterial:{type:"boolean",default:!1},emphasisMeshName:{type:"array",default:[]},emphasisOpacity:{type:"number",default:1},emphasisColor:{type:"string",default:"#ffff00"}},init:function(){var t=this;this.obj=this.el,this.model=this.el.object3D,this.el.addEventListener("model-loaded",(function(){t.model.traverse((function(e){if(e.isMesh){var n=void 0;switch(t.data.material){case"basic":n=new i.MeshBasicMaterial({opacity:t.data.materialOpacity,side:i.DoubleSide,transparent:!0});break;case"normal":n=new i.MeshNormalMaterial({opacity:t.data.materialOpacity,side:i.DoubleSide,transparent:!0});break;case"lambert":n=new i.MeshLambertMaterial({opacity:t.data.materialOpacity,color:t.data.materialColor,side:i.DoubleSide,transparent:!0});break;case"phong":n=new i.MeshPhongMaterial({color:t.data.materialColor,emissive:t.data.emissive,transparent:!0,side:i.DoubleSide,opacity:t.data.materialOpacity,shininess:t.data.shininess,specular:t.data.specular});break;default:n=e.material}n.opacity=t.data.materialOpacity,n.transparent=!0,t.data.modifyMaterial&&(e.material=n);var r=(new i.Geometry).fromBufferGeometry(e.geometry);if(r.mergeVertices(),e.geometry=r,t.data.stroke){var a=new i.EdgesGeometry(e.geometry,t.data.edgeThresholdAngle),o=new i.LineSegments(a,new i.LineBasicMaterial({color:t.data.strokeColor,linewidth:t.data.strokeWidth,linecap:"round",linejoin:"round"}));o.quaternion.set(e.quaternion.x,e.quaternion.y,e.quaternion.z,e.quaternion.w),o.rotation.set(e.rotation.x,e.rotation.y,e.rotation.z,e.rotation.order),o.position.set(e.position.x,e.position.y,e.position.z),o.scale.set(e.scale.x,e.scale.y,e.scale.z),e.parent.add(o),e.userData={clicked:!1,emphasized:!1},t.data.emphasisMaterial&&t.data.emphasisMeshName.forEach((function(n){e.name.includes(n)&&(e.userData.emphasized=!0,e.material.opacity=t.data.emphasisOpacity,"lambert"!==t.data.material&&"phong"!==t.data.material&&"basic"!==t.data.material||(e.material.color=new i.Color(t.data.emphasisColor)))}))}e.geometry=(new i.BufferGeometry).fromGeometry(r)}}))}))}})},function(t,e,n){"use strict";var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7));((r=n(5))&&r.__esModule?r:{default:r}).default.registerComponent("highlight-on-click",{dependencies:["material-modifcation"],schema:{highlightEffect:{type:"boolean",default:!1},highlightedOpacity:{type:"number",default:.8},emphasisOpacity:{type:"number",default:1},materialOpacity:{type:"number",default:1},highlightedColor:{type:"string",default:"#ff0000"},materialColor:{type:"string",default:"#ff0000"},emphasisColor:{type:"string",default:"#ff0000"}},init:function(){var t=this;this.obj=this.el,this.model=this.el.object3D,this.el.addEventListener("model-loaded",(function(){t.data.highlightEffect&&t.el.addEventListener("click",(function(e){var n=void 0;e.detail.intersection&&(n=e.detail.intersection.object),n.traverse((function(e){e.isMesh&&(e.userData.clicked?(e.material.opacity=t.data.materialOpacity,e.userData.emphasized&&(e.material.opacity=t.data.emphasisOpacity),"MeshLambertMaterial"!==e.material.type&&"MeshPhongMaterial"!==e.material.type&&"MeshBasicMaterial"!==e.material.type||(e.material.color=new i.Color(t.data.materialColor),e.userData.emphasized&&(e.material.color=new i.Color(t.data.emphasisColor))),e.userData.clicked=!1):(e.userData.clicked=!0,e.material.opacity=t.data.highlightedOpacity,"MeshLambertMaterial"!==e.material.type&&"MeshPhongMaterial"!==e.material.type&&"MeshBasicMaterial"!==e.material.type||(e.material.color=new i.Color(t.data.highlightedColor))))}))}))}))}})},function(t,e,n){"use strict";var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7)),a=(r=n(5))&&r.__esModule?r:{default:r};a.default.registerPrimitive("a-frame-flowLine",{defaultComponents:{curvefrompoints:{}},mappings:{points:"curvefrompoints.points",opacity:"curvefrompoints.opacity",color:"curvefrompoints.color",strokewidth:"curvefrompoints.strokewidth",resolution:"curvefrompoints.resolution",curviness:"curvefrompoints.curviness"}}),a.default.registerComponent("curvefrompoints",{schema:{points:{type:"string",default:"[]"},color:{type:"string",default:"[]"},strokewidth:{type:"number",default:1},opacity:{type:"number",default:1},resolution:{type:"number",default:500},curviness:{type:"number",default:.5}},init:function(){var t=this;function e(t,e,n){var r=e.clone().sub(t),i=r.length();return r=r.normalize().multiplyScalar(i*n),t.clone().add(r)}this.obj=this.el,this.model=this.el.object3D;var n=new i.LineBasicMaterial({vertexColors:i.VertexColors,linewidth:this.data.strokewidth,opacity:this.data.opacity,transparent:!0,linecap:"round",linejoin:"round"}),r=JSON.parse(this.data.points),o=JSON.parse(this.data.color),s=r.map((function(n,r){for(var a=[],s=0;s<n.length;s++){var l=new i.Vector3(parseFloat(n[s].x),parseFloat(n[s].y),parseFloat(n[s].z));a.push(l)}var u=void 0,c=void 0,d=e(a[0],a[1],t.data.curviness),h=e(a[1],a[2],1-t.data.curviness);d.z=a[1].z,h.z=a[1].z,u=new i.QuadraticBezierCurve3(a[0],d,a[1]),c=u.getPoints(t.data.resolution),new i.QuadraticBezierCurve3(a[1],h,a[2]).getPoints(t.data.resolution).forEach((function(t){c.push(t)}));var p=[],f=[];c.forEach((function(t,e){0===e||e===c.length-1?(p.push(t),f.push(new i.Color(o[r]))):(p.push(t),p.push(t),f.push(new i.Color(o[r])),f.push(new i.Color(o[r])))}));var m=new i.Geometry;return m.vertices=p,m.colors=f,m})),l=new i.Geometry;s.forEach((function(t,e){l.merge(t)}));for(var u=new i.BufferGeometry,c=[],d=[],h=0;h<l.vertices.length;h++)c.push(parseFloat(l.vertices[h].x),parseFloat(l.vertices[h].y),parseFloat(l.vertices[h].z)),d.push(l.colors[h].r,l.colors[h].g,l.colors[h].b);var p=new Float32Array(c),f=new Float32Array(d);u.addAttribute("position",new i.BufferAttribute(p,3)),u.addAttribute("color",new i.BufferAttribute(f,3));var m,v=new a.default.THREE.Object3D;m=new i.LineSegments(u,n),v.add(m),this.el.setObject3D("mesh",v)}})},function(t,e,n){"use strict";var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7)),a=(r=n(5))&&r.__esModule?r:{default:r};a.default.registerPrimitive("a-frame-curve-line",{defaultComponents:{curveline:{}},mappings:{points:"curveline.points",opacity:"curveline.opacity",color:"curveline.color",stroke_width:"curveline.stroke_width",type:"curveline.type",resolution:"curveline.resolution"}}),a.default.registerComponent("curveline",{schema:{points:{type:"string",default:""},type:{type:"string",default:"line"},color:{type:"string",default:"#000000"},stroke_width:{type:"number",default:1},opacity:{type:"number",default:1},resolution:{type:"number",default:500}},init:function(){this.obj=this.el,this.model=this.el.object3D;for(var t=JSON.parse(this.data.points),e=[],n=0;n<t.length;n++){var r=new i.Vector3(parseFloat(t[n].x),parseFloat(t[n].y),parseFloat(t[n].z));e.push(r)}var o=void 0,s=void 0,l=void 0,u=new i.LineBasicMaterial({color:this.data.color,linewidth:this.data.stroke_width,opacity:this.data.opacity,transparent:!0,linecap:"round",linejoin:"round"});switch(this.data.type){case"line":(s=new i.Geometry).vertices=e,o=new i.Line(s,u);break;case"lineSegment":(s=new i.Geometry).vertices=e,o=new i.LineSegments(s,u);break;case"CatmullRomCurve":l=new i.CatmullRomCurve3(e).getPoints(this.data.resolution),s=(new i.Geometry).setFromPoints(l),o=new i.Line(s,u);break;default:(s=new i.Geometry).vertices=e,o=new i.Line(s,u)}var c=new a.default.THREE.Object3D;c.add(o),this.el.setObject3D("mesh",c)}})},function(t,e,n){"use strict";var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7)),a=(r=n(5))&&r.__esModule?r:{default:r};a.default.registerPrimitive("a-frame-mesh-from-points",{defaultComponents:{aframemeshfrompoints:{}},mappings:{points:"aframemeshfrompoints.points",faces:"aframemeshfrompoints.faces",color:"aframemeshfrompoints.color",opacity:"aframemeshfrompoints.opacity",material_type:"aframemeshfrompoints.material_type",stroke_vertices:"aframemeshfrompoints.stroke_vertices",stroke_bool:"aframemeshfrompoints.stroke_bool",stroke_width:"aframemeshfrompoints.stroke_width",stroke_color:"aframemeshfrompoints.stroke_color",stroke_opacity:"aframemeshfrompoints.stroke_opacity"}}),a.default.registerComponent("aframemeshfrompoints",{schema:{points:{type:"string",default:"[]"},faces:{type:"string",default:"[]"},color:{type:"string",default:"[]"},opacity:{type:"number",default:1},material_type:{type:"string",default:"standard"},stroke_vertices:{type:"string"},stroke_bool:{type:"boolean",default:!1},stroke_width:{type:"number",default:1},stroke_color:{type:"string",default:"#000000"},stroke_opacity:{type:"number",default:1}},init:function(){this.obj=this.el,this.model=this.el.object3D;for(var t=new i.MeshStandardMaterial({vertexColors:i.VertexColors,side:i.DoubleSide,opacity:this.data.opacity,transparent:!0}),e=new i.Geometry,n=JSON.parse(this.data.points),r=JSON.parse(this.data.stroke_vertices),a=[],o=[],s=[],l=0;l<n.length;l++){var u=new i.Vector3(parseFloat(n[l].x),parseFloat(n[l].y),parseFloat(n[l].z));a.push(u)}for(var c=0;c<r.length;c++){var d=new i.Vector3(parseFloat(r[c].x),parseFloat(r[c].y),parseFloat(r[c].z));s.push(d)}e.vertices=a;for(var h=JSON.parse(this.data.faces),p=JSON.parse(this.data.color),f=0;f<h.length;f++){var m=new i.Face3(h[f][0],h[f][1],h[f][2]);m.vertexColors[0]=new i.Color(p[f][0]),m.vertexColors[1]=new i.Color(p[f][1]),m.vertexColors[2]=new i.Color(p[f][2]),o.push(m)}e.faces=o,e.mergeVertices();var v=new i.Mesh(e,t);v.geometry.computeBoundingBox(),v.geometry=(new i.BufferGeometry).fromGeometry(v.geometry),this.model.add(v);var g=new i.Geometry;g.vertices=s;var y=new i.LineSegments(g,new i.LineBasicMaterial({color:this.data.stroke_color,linewidth:this.data.stroke_width,opacity:this.data.stroke_opacity,transparent:!0,linecap:"round",linejoin:"round"}));this.data.stroke_bool&&this.model.add(y)}})},function(t,e,n){"use strict";var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7)),a=(r=n(5))&&r.__esModule?r:{default:r};a.default.registerPrimitive("a-frame-contour-lines",{defaultComponents:{aframecontourlines:{}},mappings:{points:"aframecontourlines.points",color:"aframecontourlines.color",opacity:"aframecontourlines.opacity"}}),a.default.registerComponent("aframecontourlines",{schema:{points:{type:"string",default:"[]"},color:{type:"string",default:"[]"},opacity:{type:"number",default:1}},init:function(){this.obj=this.el,this.model=this.el.object3D;for(var t=new i.BufferGeometry,e=new i.LineBasicMaterial({vertexColors:i.VertexColors,linewidth:1,opacity:this.data.opacity,transparent:!0,linecap:"round",linejoin:"round"}),n=[],r=[],a=JSON.parse(this.data.points),o=JSON.parse(this.data.color),s=0;s<a.length;s++){n.push(parseFloat(a[s].x),parseFloat(a[s].y),parseFloat(a[s].z));var l=new i.Color(o[s]);r.push(l.r,l.g,l.b)}var u=new Float32Array(n),c=new Float32Array(r);t.addAttribute("position",new i.BufferAttribute(u,3)),t.addAttribute("color",new i.BufferAttribute(c,3));var d=new i.LineSegments(t,e);this.model.add(d)}})},function(t,e,n){"use strict";var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7)),a=(r=n(5))&&r.__esModule?r:{default:r};a.default.registerPrimitive("a-frame-map",{defaultComponents:{aframemap:{}},mappings:{points:"aframemap.points",color:"aframemap.color",opacity:"aframemap.opacity",extrude:"aframemap.extrude",stroke_bool:"aframemap.stroke_bool",stroke_color:"aframemap.stroke_color",boundingboxclass:"aframemap.boundingboxclass"}}),a.default.registerComponent("aframemap",{schema:{points:{type:"string",default:"[]"},extrude:{type:"string",default:"[]"},color:{type:"string",default:"[]"},opacity:{type:"number",default:1},stroke_bool:{type:"boolean",default:!1},stroke_color:{type:"string",default:"#000000"},boundingboxclass:{type:"string"}},init:function(){var t=this;this.obj=this.el;var e=new i.MeshStandardMaterial({opacity:this.data.opacity,transparent:!0,vertexColors:i.FaceColors}),n=JSON.parse(this.data.points).map((function(t){var e=new i.Shape;e.moveTo(parseFloat(t[0].x),parseFloat(t[0].y));for(var n=1;n<t.length;n++)e.lineTo(parseFloat(t[n].x),parseFloat(t[n].y));return e.lineTo(parseFloat(t[0].x),parseFloat(t[0].y)),e})),r=JSON.parse(this.data.color),o=JSON.parse(this.data.extrude).map((function(t){return{steps:1,depth:parseFloat(t),bevelEnabled:!1}})),s=n.map((function(e,n){var a=new i.ExtrudeGeometry(e,o[n]);return a.faces.forEach((function(e,a){0===e.normal.z&&t.data.stroke_bool?e.color=new i.Color(t.data.stroke_color):e.color=new i.Color(r[n])})),a})),l=new i.Geometry;s.forEach((function(t,e){l.merge(t)})),l.computeBoundingSphere(),l.computeBoundingBox();var u=new i.Mesh(l,e);this.el.setObject3D("mesh",new a.default.THREE.Object3D),this.el.object3D.children[0].add(u)}})},function(t,e,n){"use strict";var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7)),a=(r=n(5))&&r.__esModule?r:{default:r};a.default.registerPrimitive("a-frame-map-outline",{defaultComponents:{aframemap:{}},mappings:{points:"aframemapoutline.points",extrude:"aframemapoutline.extrude",stroke_bool:"aframemapoutline.stroke_bool",stroke_color:"aframemapoutline.stroke_color"}}),a.default.registerComponent("aframemapoutline",{schema:{points:{type:"string",default:"[]"},extrude:{type:"number",default:1e-5},stroke_bool:{type:"boolean",default:!1},stroke_color:{type:"string",default:"#000000"}},init:function(){var t=this;if(this.data.stroke_bool){this.obj=this.el;var e=JSON.parse(this.data.points),n=[];e.forEach((function(e){n.push(parseFloat(e[0].x),parseFloat(e[0].y),parseFloat(t.data.extrude));for(var r=1;r<e.length;r++)n.push(parseFloat(e[r].x),parseFloat(e[r].y),parseFloat(t.data.extrude)),n.push(parseFloat(e[r].x),parseFloat(e[r].y),parseFloat(t.data.extrude));n.push(parseFloat(e[0].x),parseFloat(e[0].y),parseFloat(t.data.extrude))}));var r=new i.LineBasicMaterial({color:this.data.stroke_color,linewidth:1,opacity:1,linecap:"round",linejoin:"round"}),a=new i.BufferGeometry,o=new Float32Array(n);a.addAttribute("position",new i.BufferAttribute(o,3));var s=new i.LineSegments(a,r);this.el.object3D.add(s)}}})},function(t,e,n){"use strict";var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7)),a=(r=n(5))&&r.__esModule?r:{default:r};a.default.registerPrimitive("a-frame-shape",{defaultComponents:{aframeshape:{}},mappings:{points:"aframeshape.points",color:"aframeshape.color",opacity:"aframeshape.opacity",stroke_bool:"aframeshape.stroke_bool",stroke_color:"aframeshape.stroke_color",shape_position:"aframeshape.shape_position"}}),a.default.registerComponent("aframeshape",{schema:{points:{type:"string",default:"[]"},color:{type:"string",default:"#000"},opacity:{type:"number",default:1},stroke_bool:{type:"boolean",default:!1},stroke_color:{type:"string",default:"#000000"},shape_position:{type:"array",default:[0,0,0]}},init:function(){this.obj=this.el;var t=new i.MeshLambertMaterial({color:this.data.color,opacity:this.data.opacity,side:i.DoubleSide,transparent:!0}),e=JSON.parse(this.data.points),n=new i.Shape;n.moveTo(parseFloat(e[0].x),parseFloat(e[0].y));for(var r=1;r<e.length;r++)n.lineTo(parseFloat(e[r].x),parseFloat(e[r].y));var o=new i.ShapeGeometry(n),s=new i.Mesh(o,t);s.geometry.computeBoundingBox(),s.material.transparent=!0,this.el.setObject3D("mesh",new a.default.THREE.Object3D),this.el.object3D.children[0].add(s)}})},function(t,e,n){"use strict";var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7));((r=n(5))&&r.__esModule?r:{default:r}).default.registerComponent("animate-points-on-curve",{schema:{points:{type:"string",default:"[]"},strokewidth:{type:"number",default:1},resolution:{type:"number",default:500},curviness:{type:"number",default:.5},duration:{type:"number",default:500}},init:function(){function t(t,e,n){var r=e.clone().sub(t),i=r.length();return r=r.normalize().multiplyScalar(i*n),t.clone().add(r)}this.pointsSet=[];for(var e=JSON.parse(this.data.points),n=[],r=0;r<e.length;r++){var a=new i.Vector3(parseFloat(e[r].x),parseFloat(e[r].y),parseFloat(e[r].z));n.push(a)}var o=t(n[0],n[1],this.data.curviness),s=t(n[1],n[2],1-this.data.curviness);o.z=n[1].z,s.z=n[1].z,this.curve1=new i.QuadraticBezierCurve3(n[0],o,n[1]),this.curve2=new i.QuadraticBezierCurve3(n[1],s,n[2])},update:function(t){this.initialPosition=this.el.object3D.position,this.reset()},reset:function(){this.interval=0},getI_:function(t,e){return t>=e?1:t<0?0:t/e},tick:function(t,e){this.interval=this.interval+e;var n=this.getI_(this.interval,this.data.duration);if(n>=1)this.interval=0;else if(n<.5){var r=this.curve1.getPoint(2*n);this.el.setAttribute("position",r)}else{var i=this.curve2.getPoint(2*(n-.5));this.el.setAttribute("position",i)}}})},function(t,e,n){var r,i,a,o,s,l,u,c,d,h,p,f=n(220),m=n(221),v=n(222);if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1}),AFRAME.registerComponent("teleport-controls",{schema:{type:{default:"parabolic",oneOf:["parabolic","line"]},button:{default:"trackpad",oneOf:["trackpad","trigger","grip","menu"]},startEvents:{type:"array"},endEvents:{type:"array"},collisionEntities:{default:""},hitEntity:{type:"selector"},cameraRig:{type:"selector"},teleportOrigin:{type:"selector"},hitCylinderColor:{type:"color",default:"#99ff99"},hitCylinderRadius:{default:.25,min:0},hitCylinderHeight:{default:.3,min:0},maxLength:{default:10,min:0,if:{type:["line"]}},curveNumberPoints:{default:30,min:2,if:{type:["parabolic"]}},curveLineWidth:{default:.025},curveHitColor:{type:"color",default:"#99ff99"},curveMissColor:{type:"color",default:"#ff0000"},curveShootingSpeed:{default:5,min:0,if:{type:["parabolic"]}},defaultPlaneSize:{default:100},landingNormal:{type:"vec3",default:"0 1 0"},landingMaxAngle:{default:"45",min:0,max:360}},init:function(){var t,e,n,r,i=this.data,a=this.el;if(this.active=!1,this.obj=a.object3D,this.hitPoint=new THREE.Vector3,this.rigWorldPosition=new THREE.Vector3,this.newRigWorldPosition=new THREE.Vector3,this.teleportEventDetail={oldPosition:this.rigWorldPosition,newPosition:this.newRigWorldPosition,hitPoint:this.hitPoint},this.hit=!1,this.prevHitHeight=0,this.referenceNormal=new THREE.Vector3,this.curveMissColor=new THREE.Color,this.curveHitColor=new THREE.Color,this.raycaster=new THREE.Raycaster,this.defaultPlane=(this.data.defaultPlaneSize,(n=new THREE.PlaneBufferGeometry(100,100)).rotateX(-Math.PI/2),r=new THREE.MeshBasicMaterial({color:16776960}),new THREE.Mesh(n,r)),(t=this.teleportEntity=document.createElement("a-entity")).classList.add("teleportRay"),t.setAttribute("visible",!1),a.sceneEl.appendChild(this.teleportEntity),this.onButtonDown=this.onButtonDown.bind(this),this.onButtonUp=this.onButtonUp.bind(this),this.data.startEvents.length&&this.data.endEvents.length){for(e=0;e<this.data.startEvents.length;e++)a.addEventListener(this.data.startEvents[e],this.onButtonDown);for(e=0;e<this.data.endEvents.length;e++)a.addEventListener(this.data.endEvents[e],this.onButtonUp)}else a.addEventListener(i.button+"down",this.onButtonDown),a.addEventListener(i.button+"up",this.onButtonUp);this.queryCollisionEntities()},update:function(t){var e=this.data,n=AFRAME.utils.diff(e,t);this.referenceNormal.copy(e.landingNormal),this.curveMissColor.set(e.curveMissColor),this.curveHitColor.set(e.curveHitColor),(!this.line||"curveLineWidth"in n||"curveNumberPoints"in n||"type"in n)&&(this.line=function(t){var e="line"===t.type?2:t.curveNumberPoints;return new v(e,t.curveLineWidth)}(e),this.teleportEntity.setObject3D("mesh",this.line.mesh)),e.hitEntity?this.hitEntity=e.hitEntity:(!this.hitEntity||"hitCylinderColor"in n||"hitCylinderHeight"in n||"hitCylinderRadius"in n)&&(this.hitEntity&&this.hitEntity.parentNode.removeChild(this.hitEntity),this.hitEntity=function(t){var e,n,r;return(n=document.createElement("a-entity")).className="hitEntity",(r=document.createElement("a-entity")).setAttribute("geometry",{primitive:"torus",radius:t.hitCylinderRadius,radiusTubular:.01}),r.setAttribute("rotation",{x:90,y:0,z:0}),r.setAttribute("material",{shader:"flat",color:t.hitCylinderColor,side:"double",depthTest:!1}),n.appendChild(r),(e=document.createElement("a-entity")).setAttribute("position",{x:0,y:t.hitCylinderHeight/2,z:0}),e.setAttribute("geometry",{primitive:"cylinder",segmentsHeight:1,radius:t.hitCylinderRadius,height:t.hitCylinderHeight,openEnded:!0}),e.setAttribute("material",{shader:"flat",color:t.hitCylinderColor,side:"double",src:f,transparent:!0,depthTest:!1}),n.appendChild(e),n}(e),this.el.sceneEl.appendChild(this.hitEntity)),this.hitEntity.setAttribute("visible",!1),"collisionEntities"in n&&this.queryCollisionEntities()},remove:function(){var t=this.el,e=this.hitEntity,n=this.teleportEntity;e&&e.parentNode.removeChild(e),n&&n.parentNode.removeChild(n),t.sceneEl.removeEventListener("child-attached",this.childAttachHandler),t.sceneEl.removeEventListener("child-detached",this.childDetachHandler)},tick:(r=new THREE.Vector3,i=new THREE.Vector3,a=new THREE.Vector3(0,-9.8,0),o=new THREE.Vector3,s=new THREE.Vector3,l=new THREE.Quaternion,u=new THREE.Vector3,c=new THREE.Vector3,d=new THREE.Vector3,h=new THREE.Vector3,p=new THREE.Vector3,function(t,e){if(this.active){this.obj.matrixWorld.decompose(u,l,c);var n=d.set(0,0,-1).applyQuaternion(l).normalize();if(this.line.setDirection(p.copy(n)),this.obj.getWorldPosition(r),s.copy(r),this.teleportEntity.setAttribute("visible",!0),this.line.material.color.set(this.curveMissColor),this.hitEntity.setAttribute("visible",!1),this.hit=!1,"parabolic"===this.data.type){i.copy(n).multiplyScalar(this.data.curveShootingSpeed);for(var f=0;f<this.line.numPoints;f++){var v=f/(this.line.numPoints-1);m(r,i,a,v,o);var g=h.copy(o).sub(s).normalize();if(this.raycaster.far=g.length(),this.raycaster.set(s,g),this.checkMeshCollisions(f,o))break;s.copy(o)}}else"line"===this.data.type&&(o.copy(s).add(p.copy(n).multiplyScalar(this.data.maxLength)),this.raycaster.far=this.data.maxLength,this.raycaster.set(r,n),this.line.setPoint(0,r),this.checkMeshCollisions(1,o))}}),queryCollisionEntities:function(){var t,e=this.data,n=this.el;e.collisionEntities?(t=[].slice.call(n.sceneEl.querySelectorAll(e.collisionEntities)),this.collisionEntities=t,this.childAttachHandler=function(n){n.detail.el.matches(e.collisionEntities)&&t.push(n.detail.el)},n.sceneEl.addEventListener("child-attached",this.childAttachHandler),this.childDetachHandler=function(n){var r;n.detail.el.matches(e.collisionEntities)&&-1!==(r=t.indexOf(n.detail.el))&&t.splice(r,1)},n.sceneEl.addEventListener("child-detached",this.childDetachHandler)):this.collisionEntities=[]},onButtonDown:function(){this.active=!0},onButtonUp:function(){var t=new THREE.Vector3,e=new THREE.Vector3,n=new THREE.Vector3,r=new THREE.Vector3;return function(i){if(this.active&&(this.active=!1,this.hitEntity.setAttribute("visible",!1),this.teleportEntity.setAttribute("visible",!1),this.hit)){var a=this.data.cameraRig||this.el.sceneEl.camera.el;a.object3D.getWorldPosition(this.rigWorldPosition),this.newRigWorldPosition.copy(this.hitPoint);var o=this.data.teleportOrigin;if(o&&(o.object3D.getWorldPosition(t),this.newRigWorldPosition.sub(t).add(this.rigWorldPosition)),this.newRigWorldPosition.y=this.rigWorldPosition.y+this.hitPoint.y-this.prevHitHeight,this.prevHitHeight=this.hitPoint.y,e.copy(this.newRigWorldPosition),a.object3D.parent&&a.object3D.parent.worldToLocal(e),a.setAttribute("position",e),!this.data.cameraRig)for(var s=document.querySelectorAll("a-entity[tracked-controls]"),l=0;l<s.length;l++)s[l].object3D.getWorldPosition(r),n.copy(this.newRigWorldPosition).sub(this.rigWorldPosition).add(r),s[l].setAttribute("position",n);this.el.emit("teleported",this.teleportEventDetail)}}}(),checkMeshCollisions:function(t,e){var n=this.collisionEntities.map((function(t){return t.getObject3D("mesh")})).filter((function(t){return t}));n=n.length?n:[this.defaultPlane];var r=this.raycaster.intersectObjects(n,!0);if(r.length>0&&!this.hit&&this.isValidNormalsAngle(r[0].face.normal)){var i=r[0].point;this.line.material.color.set(this.curveHitColor),this.hitEntity.setAttribute("position",i),this.hitEntity.setAttribute("visible",!0),this.hit=!0,this.hitPoint.copy(r[0].point);for(var a=t;a<this.line.numPoints;a++)this.line.setPoint(a,this.hitPoint);return!0}return this.line.setPoint(t,e),!1},isValidNormalsAngle:function(t){var e=this.referenceNormal.angleTo(t);return THREE.Math.RAD2DEG*e<=this.data.landingMaxAngle}})},function(t,e){t.exports="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAQCAYAAADXnxW3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAADJJREFUeNpEx7ENgDAAAzArK0JA6f8X9oewlcWStU1wBGdwB08wgjeYm79jc2nbYH0DAC/+CORJxO5fAAAAAElFTkSuQmCC)"},function(t,e){function n(t,e,n,r){return t+e*r+.5*n*r*r}t.exports=function(t,e,r,i,a){return a.x=n(t.x,e.x,r.x,i),a.y=n(t.y,e.y,r.y,i),a.z=n(t.z,e.z,r.z,i),a}},function(t,e){var n,r,i=function(t,e){this.geometry=new THREE.BufferGeometry,this.vertices=new Float32Array(3*t*2),this.uvs=new Float32Array(2*t*2),this.width=e,this.geometry.addAttribute("position",new THREE.BufferAttribute(this.vertices,3).setDynamic(!0)),this.material=new THREE.MeshBasicMaterial({side:THREE.DoubleSide,color:16711680}),this.mesh=new THREE.Mesh(this.geometry,this.material),this.mesh.drawMode=THREE.TriangleStripDrawMode,this.mesh.frustumCulled=!1,this.mesh.vertices=this.vertices,this.direction=new THREE.Vector3,this.numPoints=t};i.prototype={setDirection:function(t){var e=new THREE.Vector3(0,1,0);this.direction.copy(t).cross(e).normalize().multiplyScalar(this.width/2)},setWidth:function(t){this.width=t},setPoint:(n=new THREE.Vector3,r=new THREE.Vector3,function(t,e){n.copy(e).add(this.direction),r.copy(e).sub(this.direction);var i=6*t;this.vertices[i++]=n.x,this.vertices[i++]=n.y,this.vertices[i++]=n.z,this.vertices[i++]=r.x,this.vertices[i++]=r.y,this.vertices[i++]=r.z,this.geometry.attributes.position.needsUpdate=!0})},t.exports=i},function(t,e,n){"use strict";n.r(e);var r=function(t){return t},i=function(t){if(null==t)return r;var e,n,i=t.scale[0],a=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,r){r||(e=n=0);var l=2,u=t.length,c=new Array(u);for(c[0]=(e+=t[0])*i+o,c[1]=(n+=t[1])*a+s;l<u;)c[l]=t[l],++l;return c}},a=function(t){var e,n=i(t.transform),r=1/0,a=r,o=-r,s=-r;function l(t){(t=n(t))[0]<r&&(r=t[0]),t[0]>o&&(o=t[0]),t[1]<a&&(a=t[1]),t[1]>s&&(s=t[1])}function u(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(u);break;case"Point":l(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(l)}}for(e in t.arcs.forEach((function(t){for(var e,i=-1,l=t.length;++i<l;)(e=n(t[i],i))[0]<r&&(r=e[0]),e[0]>o&&(o=e[0]),e[1]<a&&(a=e[1]),e[1]>s&&(s=e[1])})),t.objects)u(t.objects[e]);return[r,a,o,s]},o=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},s=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return l(t,e)}))}:l(t,e)};function l(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,a=u(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:a}:null==r?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function u(t,e){var n=i(t.transform),r=t.arcs;function a(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],a=0,s=i.length;a<s;++a)e.push(n(i[a],a));t<0&&o(e,s)}function s(t){return n(t)}function l(t){for(var e=[],n=0,r=t.length;n<r;++n)a(t[n],e);return e.length<2&&e.push(e[0]),e}function u(t){for(var e=l(t);e.length<4;)e.push(e[0]);return e}function c(t){return t.map(u)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=s(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(s);break;case"LineString":n=l(e.arcs);break;case"MultiLineString":n=e.arcs.map(l);break;case"Polygon":n=c(e.arcs);break;case"MultiPolygon":n=e.arcs.map(c);break;default:return null}return{type:r,coordinates:n}}(e)}var c=function(t,e){var n={},r={},i={},a=[],o=-1;function s(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){n[t<0?~t:t]=1})),a.push(i)}}return e.forEach((function(n,r){var i,a=t.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=e[++o],e[o]=n,e[r]=i)})),e.forEach((function(e){var n,a,o=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),s=o[0],l=o[1];if(n=i[s])if(delete i[n.end],n.push(e),n.end=l,a=r[l]){delete r[a.start];var u=a===n?n:n.concat(a);r[u.start=n.start]=i[u.end=a.end]=u}else r[n.start]=i[n.end]=n;else if(n=r[l])if(delete r[n.start],n.unshift(e),n.start=s,a=i[s]){delete i[a.end];var c=a===n?n:a.concat(n);r[c.start=a.start]=i[c.end=n.end]=c}else r[n.start]=i[n.end]=n;else r[(n=[e]).start=s]=i[n.end=l]=n})),s(i,r),s(r,i),e.forEach((function(t){n[t<0?~t:t]||a.push([t])})),a},d=function(t){return u(t,h.apply(this,arguments))};function h(t,e,n){var r,i,a;if(arguments.length>1)r=function(t,e,n){var r,i=[],a=[];function o(t){var e=t<0?~t:t;(a[e]||(a[e]=[])).push({i:t,g:r})}function s(t){t.forEach(o)}function l(t){t.forEach(s)}return function t(e){switch(r=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":s(e.arcs);break;case"MultiLineString":case"Polygon":l(e.arcs);break;case"MultiPolygon":!function(t){t.forEach(l)}(e.arcs)}}(e),a.forEach(null==n?function(t){i.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}(0,e,n);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:c(t,r)}}var p=function(t){return u(t,f.apply(this,arguments))};function f(t,e){var n={},r=[],i=[];function a(t){t.forEach((function(e){e.forEach((function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)}))})),r.push(t)}function o(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],a=0;++n<r;)e=i,i=t[n],a+=e[0]*i[1]-e[1]*i[0];return Math.abs(a)}(u(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":a(e.arcs);break;case"MultiPolygon":e.arcs.forEach(a)}})),r.forEach((function(t){if(!t._){var e=[],r=[t];for(t._=1,i.push(e);t=r.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].forEach((function(t){t._||(t._=1,r.push(t))}))}))}))}})),r.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:i.map((function(e){var r,i=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].length<2&&i.push(t)}))}))})),(r=(i=c(t,i)).length)>1)for(var a,s,l=1,u=o(i[0]);l<r;++l)(a=o(i[l]))>u&&(s=i[0],i[0]=i[l],i[l]=s,u=a);return i}))}}var m=function(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;t[i]<e?n=i+1:r=i}return n},v=function(t){var e={},n=t.map((function(){return[]}));function r(t,n){t.forEach((function(t){t<0&&(t=~t);var r=e[t];r?r.push(n):e[t]=[n]}))}function i(t,e){t.forEach((function(t){r(t,e)}))}var a={LineString:r,MultiLineString:i,Polygon:i,MultiPolygon:function(t,e){t.forEach((function(t){i(t,e)}))}};for(var o in t.forEach((function t(e,n){"GeometryCollection"===e.type?e.geometries.forEach((function(e){t(e,n)})):e.type in a&&a[e.type](e.arcs,n)})),e)for(var s=e[o],l=s.length,u=0;u<l;++u)for(var c=u+1;c<l;++c){var d,h=s[u],p=s[c];(d=n[h])[o=m(d,p)]!==p&&d.splice(o,0,p),(d=n[p])[o=m(d,h)]!==h&&d.splice(o,0,h)}return n},g=function(t){if(null==t)return r;var e,n,i=t.scale[0],a=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,r){r||(e=n=0);var l=2,u=t.length,c=new Array(u),d=Math.round((t[0]-o)/i),h=Math.round((t[1]-s)/a);for(c[0]=d-e,e=d,c[1]=h-n,n=h;l<u;)c[l]=t[l],++l;return c}},y=function(t,e){if(t.transform)throw new Error("already quantized");if(e&&e.scale)l=t.bbox;else{if(!((n=Math.floor(e))>=2))throw new Error("n must be \u22652");var n,r=(l=t.bbox||a(t))[0],i=l[1],o=l[2],s=l[3];e={scale:[o-r?(o-r)/(n-1):1,s-i?(s-i)/(n-1):1],translate:[r,i]}}var l,u,c=g(e),d=t.objects,h={};function p(t){return c(t)}function f(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(f)};break;case"Point":e={type:"Point",coordinates:p(t.coordinates)};break;case"MultiPoint":e={type:"MultiPoint",coordinates:t.coordinates.map(p)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}for(u in d)h[u]=f(d[u]);return{type:"Topology",bbox:l,transform:e,objects:h,arcs:t.arcs.map((function(t){var e,n=0,r=1,i=t.length,a=new Array(i);for(a[0]=c(t[0],0);++n<i;)((e=c(t[n],n))[0]||e[1])&&(a[r++]=e);return 1===r&&(a[r++]=[0,0]),a.length=r,a}))}},_=function(t,e,n,r,i,a){3===arguments.length&&(r=a=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=new a(t),l=t-1,u=0;u<t;++u)o[u]=i;function c(r,a){for(var u=e(r)&l,c=o[u],d=0;c!=i;){if(n(c,r))return s[u]=a;if(++d>=t)throw new Error("full hashmap");c=o[u=u+1&l]}return o[u]=r,s[u]=a,a}function d(r,a){for(var u=e(r)&l,c=o[u],d=0;c!=i;){if(n(c,r))return s[u];if(++d>=t)throw new Error("full hashmap");c=o[u=u+1&l]}return o[u]=r,s[u]=a,a}function h(r,a){for(var u=e(r)&l,c=o[u],d=0;c!=i;){if(n(c,r))return s[u];if(++d>=t)break;c=o[u=u+1&l]}return a}function p(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}return{set:c,maybeSet:d,get:h,keys:p}},b=function(t,e){return t[0]===e[0]&&t[1]===e[1]},x=new ArrayBuffer(16),w=new Float64Array(x),M=new Uint32Array(x),A=function(t){w[0]=t[0],w[1]=t[1];var e=M[0]^M[1];return 2147483647&(e<<5^e>>7^M[2]^M[3])};function E(t,e,n,r){T(t,e,n),T(t,e,e+r),T(t,e+r,n)}function T(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function S(t){var e,n=L(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function L(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(L)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}var k=function(t,e){var n=function(t){var e=1/0,n=1/0,r=-1/0,i=-1/0;function a(t){null!=t&&o.hasOwnProperty(t.type)&&o[t.type](t)}var o={GeometryCollection:function(t){t.geometries.forEach(a)},Point:function(t){s(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(s)},LineString:function(t){l(t.arcs)},MultiLineString:function(t){t.arcs.forEach(l)},Polygon:function(t){t.arcs.forEach(l)},MultiPolygon:function(t){t.arcs.forEach(u)}};function s(t){var a=t[0],o=t[1];a<e&&(e=a),a>r&&(r=a),o<n&&(n=o),o>i&&(i=o)}function l(t){t.forEach(s)}function u(t){t.forEach(l)}for(var c in t)a(t[c]);return r>=e&&i>=n?[e,n,r,i]:void 0}(t=function(t){var e,n,r={};for(e in t)r[e]=null==(n=t[e])?{type:null}:("FeatureCollection"===n.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(S)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===n.type?S:L)(n);return r}(t)),r=e>0&&n&&function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=a-r?(n-1)/(a-r):1,l=o-i?(n-1)/(o-i):1;function u(t){return[Math.round((t[0]-r)*s),Math.round((t[1]-i)*l)]}function c(t,e){for(var n,a,o,u,c,d=-1,h=0,p=t.length,f=new Array(p);++d<p;)n=t[d],u=Math.round((n[0]-r)*s),c=Math.round((n[1]-i)*l),u===a&&c===o||(f[h++]=[a=u,o=c]);for(f.length=h;h<e;)h=f.push([f[0][0],f[0][1]]);return f}function d(t){return c(t,2)}function h(t){return c(t,4)}function p(t){return t.map(h)}function f(t){null!=t&&m.hasOwnProperty(t.type)&&m[t.type](t)}var m={GeometryCollection:function(t){t.geometries.forEach(f)},Point:function(t){t.coordinates=u(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(u)},LineString:function(t){t.arcs=d(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(d)},Polygon:function(t){t.arcs=p(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(p)}};for(var v in t)f(t[v]);return{scale:[1/s,1/l],translate:[r,i]}}(t,n,e),i=function(t){var e,n,r,i,a=t.coordinates,o=t.lines,s=t.rings,l=o.length+s.length;for(delete t.lines,delete t.rings,r=0,i=o.length;r<i;++r)for(e=o[r];e=e.next;)++l;for(r=0,i=s.length;r<i;++r)for(n=s[r];n=n.next;)++l;var u=_(2*l*1.4,A,b),c=t.arcs=[];for(r=0,i=o.length;r<i;++r){e=o[r];do{d(e)}while(e=e.next)}for(r=0,i=s.length;r<i;++r)if((n=s[r]).next)do{d(n)}while(n=n.next);else h(n);function d(t){var e,n,r,i,o,s,l,d;if(r=u.get(e=a[t[0]]))for(l=0,d=r.length;l<d;++l)if(p(i=r[l],t))return t[0]=i[0],void(t[1]=i[1]);if(o=u.get(n=a[t[1]]))for(l=0,d=o.length;l<d;++l)if(f(s=o[l],t))return t[1]=s[0],void(t[0]=s[1]);r?r.push(t):u.set(e,[t]),o?o.push(t):u.set(n,[t]),c.push(t)}function h(t){var e,n,r,i,o;if(n=u.get(a[t[0]]))for(i=0,o=n.length;i<o;++i){if(m(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(v(r,t))return t[0]=r[1],void(t[1]=r[0])}if(n=u.get(e=a[t[0]+g(t)]))for(i=0,o=n.length;i<o;++i){if(m(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(v(r,t))return t[0]=r[1],void(t[1]=r[0])}n?n.push(t):u.set(e,[t]),c.push(t)}function p(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!b(a[n],a[r]))return!1;return!0}function f(t,e){var n=t[0],r=e[0],i=t[1],o=e[1];if(n-i!=r-o)return!1;for(;n<=i;++n,--o)if(!b(a[n],a[o]))return!1;return!0}function m(t,e){var n=t[0],r=e[0],i=t[1]-n;if(i!==e[1]-r)return!1;for(var o=g(t),s=g(e),l=0;l<i;++l)if(!b(a[n+(l+o)%i],a[r+(l+s)%i]))return!1;return!0}function v(t,e){var n=t[0],r=e[0],i=t[1],o=e[1],s=i-n;if(s!==o-r)return!1;for(var l=g(t),u=s-g(e),c=0;c<s;++c)if(!b(a[n+(c+l)%s],a[o-(c+u)%s]))return!1;return!0}function g(t){for(var e=t[0],n=t[1],r=e,i=r,o=a[r];++r<n;){var s=a[r];(s[0]<o[0]||s[0]===o[0]&&s[1]<o[1])&&(i=r,o=s)}return i-e}return t}(function(t){var e,n,r,i=function(t){var e,n,r,i,a=t.coordinates,o=t.lines,s=t.rings,l=function(){for(var t=_(1.4*a.length,M,E,Int32Array,-1,Int32Array),e=new Int32Array(a.length),n=0,r=a.length;n<r;++n)e[n]=t.maybeSet(n,n);return e}(),u=new Int32Array(a.length),c=new Int32Array(a.length),d=new Int32Array(a.length),h=new Int8Array(a.length),p=0;for(e=0,n=a.length;e<n;++e)u[e]=c[e]=d[e]=-1;for(e=0,n=o.length;e<n;++e){var f=o[e],m=f[0],v=f[1];for(r=l[m],i=l[++m],++p,h[r]=1;++m<=v;)w(e,r,r=i,i=l[m]);++p,h[i]=1}for(e=0,n=a.length;e<n;++e)u[e]=-1;for(e=0,n=s.length;e<n;++e){var g=s[e],y=g[0]+1,x=g[1];for(w(e,l[x-1],r=l[y-1],i=l[y]);++y<=x;)w(e,r,r=i,i=l[y])}function w(t,e,n,r){if(u[n]!==t){u[n]=t;var i=c[n];if(i>=0){var a=d[n];i===e&&a===r||i===r&&a===e||(++p,h[n]=1)}else c[n]=e,d[n]=r}}function M(t){return A(a[t])}function E(t,e){return b(a[t],a[e])}u=c=d=null;var T,S=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var a=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),o=t-1,s=0;s<t;++s)a[s]=i;function l(r){for(var s=e(r)&o,l=a[s],u=0;l!=i;){if(n(l,r))return!0;if(++u>=t)throw new Error("full hashset");l=a[s=s+1&o]}return a[s]=r,!0}function u(r){for(var s=e(r)&o,l=a[s],u=0;l!=i;){if(n(l,r))return!0;if(++u>=t)break;l=a[s=s+1&o]}return!1}function c(){for(var t=[],e=0,n=a.length;e<n;++e){var r=a[e];r!=i&&t.push(r)}return t}return{add:l,has:u,values:c}}(1.4*p,A,b);for(e=0,n=a.length;e<n;++e)h[T=l[e]]&&S.add(a[T]);return S}(t),a=t.coordinates,o=t.lines,s=t.rings;for(n=0,r=o.length;n<r;++n)for(var l=o[n],u=l[0],c=l[1];++u<c;)i.has(a[u])&&(e={0:u,1:l[1]},l[1]=u,l=l.next=e);for(n=0,r=s.length;n<r;++n)for(var d=s[n],h=d[0],p=h,f=d[1],m=i.has(a[h]);++p<f;)i.has(a[p])&&(m?(e={0:p,1:d[1]},d[1]=p,d=d.next=e):(E(a,h,f,f-p),a[f]=a[h],m=!0,p=h));return t}(function(t){var e=-1,n=[],r=[],i=[];function a(t){t&&o.hasOwnProperty(t.type)&&o[t.type](t)}var o={GeometryCollection:function(t){t.geometries.forEach(a)},LineString:function(t){t.arcs=s(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(s)},Polygon:function(t){t.arcs=t.arcs.map(l)},MultiPolygon:function(t){t.arcs=t.arcs.map(u)}};function s(t){for(var r=0,a=t.length;r<a;++r)i[++e]=t[r];var o={0:e-a+1,1:e};return n.push(o),o}function l(t){for(var n=0,a=t.length;n<a;++n)i[++e]=t[n];var o={0:e-a+1,1:e};return r.push(o),o}function u(t){return t.map(l)}for(var c in t)a(t[c]);return{type:"Topology",coordinates:i,lines:n,rings:r,objects:t}}(t))),a=i.coordinates,o=_(1.4*i.arcs.length,C,D);function s(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}t=i.objects,i.bbox=n,i.arcs=i.arcs.map((function(t,e){return o.set(t,e),a.slice(t[0],t[1]+1)})),delete i.coordinates,a=null;var l={GeometryCollection:function(t){t.geometries.forEach(s)},LineString:function(t){t.arcs=u(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(u)},Polygon:function(t){t.arcs=t.arcs.map(u)},MultiPolygon:function(t){t.arcs=t.arcs.map(c)}};function u(t){var e=[];do{var n=o.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function c(t){return t.map(u)}for(var d in t)s(t[d]);return r&&(i.transform=r,i.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,a=t[e],o=0,s=1,l=a.length,u=a[0],c=u[0],d=u[1];++o<l;)r=(u=a[o])[0],i=u[1],r===c&&i===d||(a[s++]=[r-c,i-d],c=r,d=i);1===s&&(a[s++]=[0,0]),a.length=s}return t}(i.arcs)),i};function C(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function D(t,e){var n,r=t[0],i=t[1],a=e[0],o=e[1];return i<r&&(n=r,r=i,i=n),o<a&&(n=a,a=o,o=n),r===a&&i===o}var P=function(t,e){var n,r=t.objects,i={};function a(t){var e,n;switch(t.type){case"Polygon":e=(n=o(t.arcs))?{type:"Polygon",arcs:n}:{type:null};break;case"MultiPolygon":e=(n=t.arcs.map(o).filter(O)).length?{type:"MultiPolygon",arcs:n}:{type:null};break;case"GeometryCollection":e=(n=t.geometries.map(a).filter(I)).length?{type:"GeometryCollection",geometries:n}:{type:null};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}function o(t){return t.length&&(n=t[0],e(n,!1))?[t[0]].concat(t.slice(1).filter(s)):null;var n}function s(t){return e(t,!0)}for(n in null==e&&(e=R),r)i[n]=a(r[n]);return function(t){var e,n,r=t.objects,i={},a=t.arcs,o=a.length,s=-1,l=new Array(o),u=0,c=-1;function d(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(d);break;case"LineString":p(t.arcs);break;case"MultiLineString":case"Polygon":t.arcs.forEach(p);break;case"MultiPolygon":t.arcs.forEach(f)}}function h(t){t<0&&(t=~t),l[t]||(l[t]=1,++u)}function p(t){t.forEach(h)}function f(t){t.forEach(p)}function m(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(m)};break;case"LineString":e={type:"LineString",arcs:g(t.arcs)};break;case"MultiLineString":e={type:"MultiLineString",arcs:t.arcs.map(g)};break;case"Polygon":e={type:"Polygon",arcs:t.arcs.map(g)};break;case"MultiPolygon":e={type:"MultiPolygon",arcs:t.arcs.map(y)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}function v(t){return t<0?~l[~t]:l[t]}function g(t){return t.map(v)}function y(t){return t.map(g)}for(n in r)d(r[n]);for(e=new Array(u);++s<o;)l[s]&&(l[s]=++c,e[c]=a[s]);for(n in r)i[n]=m(r[n]);return{type:"Topology",bbox:t.bbox,transform:t.transform,objects:i,arcs:e}}({type:"Topology",bbox:t.bbox,transform:t.transform,objects:i,arcs:t.arcs})};function R(){return!0}function O(t){return t}function I(t){return null!=t.type}var N=function(t){var e,n=new Array(t.arcs.length),r=0;function i(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(i);break;case"Polygon":a(t.arcs);break;case"MultiPolygon":t.arcs.forEach(a)}}function a(t){for(var e=0,i=t.length;e<i;++e,++r)for(var a=t[e],o=0,s=a.length;o<s;++o){var l=a[o];l<0&&(l=~l);var u=n[l];null==u?n[l]=r:u!==r&&(n[l]=-1)}}for(e in t.objects)i(t.objects[e]);return function(t){for(var e,r=0,i=t.length;r<i;++r)if(-1===n[(e=t[r])<0?~e:e])return!0;return!1}};function z(t){var e=t[0],n=t[1],r=t[2];return Math.abs((e[0]-r[0])*(n[1]-e[1])-(e[0]-n[0])*(r[1]-e[1]))/2}function B(t){for(var e,n=-1,r=t.length,i=t[r-1],a=0;++n<r;)e=i,i=t[n],a+=e[0]*i[1]-e[1]*i[0];return Math.abs(a)/2}var F=function(t,e,n){return e=null==e?Number.MIN_VALUE:+e,null==n&&(n=B),function(r,i){return n(s(t,{type:"Polygon",arcs:[r]}).geometry.coordinates[0],i)>=e}},j=function(t,e,n){var r=N(t),i=F(t,e,n);return function(t,e){return r(t,e)||i(t,e)}};function H(t,e){return t[1][2]-e[1][2]}function Y(t){return[t[0],t[1],0]}var U=function(t,e){var n=t.transform?i(t.transform):Y,r=function(){var t={},e=[],n=0;function r(t,n){for(;n>0;){var r=(n+1>>1)-1,i=e[r];if(H(t,i)>=0)break;e[i._=n]=i,e[t._=n=r]=t}}function i(t,r){for(;;){var i=r+1<<1,a=i-1,o=r,s=e[o];if(a<n&&H(e[a],s)<0&&(s=e[o=a]),i<n&&H(e[i],s)<0&&(s=e[o=i]),o===r)break;e[s._=r]=s,e[t._=r=o]=t}}return t.push=function(t){return r(e[t._=n]=t,n++),n},t.pop=function(){if(!(n<=0)){var t,r=e[0];return--n>0&&(t=e[n],i(e[t._=0]=t,0)),r}},t.remove=function(t){var a,o=t._;if(e[o]===t)return o!==--n&&(H(a=e[n],t)<0?r:i)(e[a._=o]=a,o),o},t}();null==e&&(e=z);var a=t.arcs.map((function(t){var i,a,s,l=[],u=0;for(a=1,s=(t=t.map(n)).length-1;a<s;++a)(i=[t[a-1],t[a],t[a+1]])[1][2]=e(i),l.push(i),r.push(i);for(t[0][2]=t[s][2]=1/0,a=0,s=l.length;a<s;++a)(i=l[a]).previous=l[a-1],i.next=l[a+1];for(;i=r.pop();){var c=i.previous,d=i.next;i[1][2]<u?i[1][2]=u:u=i[1][2],c&&(c.next=d,c[2]=i[2],o(c)),d&&(d.previous=c,d[0]=i[0],o(d))}return t}));function o(t){r.remove(t),t[1][2]=e(t),r.push(t)}return{type:"Topology",bbox:t.bbox,objects:t.objects,arcs:a}},G=function(t,e){var n=[];return t.arcs.forEach((function(t){t.forEach((function(t){isFinite(t[2])&&n.push(t[2])}))})),n.length&&function(t,e){if(n=t.length){if((e=+e)<=0||n<2)return t[0];if(e>=1)return t[n-1];var n,r=(n-1)*e,i=Math.floor(r),a=t[i];return a+(t[i+1]-a)*(r-i)}}(n.sort(V),e)};function V(t,e){return e-t}var W=function(t,e){e=null==e?Number.MIN_VALUE:+e;var n=t.arcs.map((function(t){for(var n,r=-1,i=0,a=t.length,o=new Array(a);++r<a;)(n=t[r])[2]>=e&&(o[i++]=[n[0],n[1]]);return o.length=i,o}));return{type:"Topology",transform:t.transform,bbox:t.bbox,objects:t.objects,arcs:n}},q=Math.PI,X=2*q,J=q/4,Z=q/180,Q=Math.abs,K=Math.atan2,$=Math.cos,tt=Math.sin;function et(t,e){for(var n,r,i=0,a=t.length,o=0,s=t[e?i++:a-1],l=s[0]*Z,u=s[1]*Z/2+J,c=$(u),d=tt(u);i<a;++i){n=l,l=(s=t[i])[0]*Z,u=s[1]*Z/2+J,r=c,c=$(u);var h=l-n,p=h>=0?1:-1,f=p*h,m=d*(d=tt(u)),v=r*c+m*$(f),g=m*p*tt(f);o+=K(g,v)}return o}function nt(t,e){var n=et(t,!0);return e&&(n*=-1),2*(n<0?X+n:n)}function rt(t){return 2*Q(et(t,!1))}n.d(e,"bbox",(function(){return a})),n.d(e,"feature",(function(){return s})),n.d(e,"mesh",(function(){return d})),n.d(e,"meshArcs",(function(){return h})),n.d(e,"merge",(function(){return p})),n.d(e,"mergeArcs",(function(){return f})),n.d(e,"neighbors",(function(){return v})),n.d(e,"quantize",(function(){return y})),n.d(e,"transform",(function(){return i})),n.d(e,"untransform",(function(){return g})),n.d(e,"topology",(function(){return k})),n.d(e,"filter",(function(){return P})),n.d(e,"filterAttached",(function(){return N})),n.d(e,"filterAttachedWeight",(function(){return j})),n.d(e,"filterWeight",(function(){return F})),n.d(e,"planarRingArea",(function(){return B})),n.d(e,"planarTriangleArea",(function(){return z})),n.d(e,"presimplify",(function(){return U})),n.d(e,"quantile",(function(){return G})),n.d(e,"simplify",(function(){return W})),n.d(e,"sphericalRingArea",(function(){return nt})),n.d(e,"sphericalTriangleArea",(function(){return rt}))}])},,function(t,e,n){"use strict";var r=n(2),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var g="function"===typeof Symbol&&Symbol.iterator;function y(t){for(var e=t.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return t.message="Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",t}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||_}function w(){}function M(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||_}x.prototype.isReactComponent={},x.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw y(Error(85));this.updater.enqueueSetState(this,t,e,"setState")},x.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=x.prototype;var A=M.prototype=new w;A.constructor=M,r(A,x.prototype),A.isPureReactComponent=!0;var E={current:null},T={suspense:null},S={current:null},L=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,n){var r,i={},o=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(o=""+e.key),e)L.call(e,r)&&!k.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:a,type:t,key:o,ref:s,props:i,_owner:S.current}}function D(t){return"object"===typeof t&&null!==t&&t.$$typeof===a}var P=/\/+/g,R=[];function O(t,e,n,r){if(R.length){var i=R.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function I(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>R.length&&R.push(t)}function N(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case a:case o:l=!0}}if(l)return r(i,e,""===n?"."+z(e,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=n+z(s=e[u],u);l+=t(s,c,r,i)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=g&&e[g]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=t(s=s.value,c=n+z(s,u++),r,i);else if("object"===s)throw r=""+e,y(Error(31),"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,"");return l}(t,"",e,n)}function z(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function B(t,e){t.func.call(t.context,e,t.count++)}function F(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?j(t,r,n,(function(t){return t})):null!=t&&(D(t)&&(t=function(t,e){return{$$typeof:a,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(P,"$&/")+"/")+n)),r.push(t))}function j(t,e,n,r,i){var a="";null!=n&&(a=(""+n).replace(P,"$&/")+"/"),N(t,F,e=O(e,a,r,i)),I(e)}function H(){var t=E.current;if(null===t)throw y(Error(321));return t}var Y={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return j(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;N(t,B,e=O(null,null,e,n)),I(e)},count:function(t){return N(t,(function(){return null}),null)},toArray:function(t){var e=[];return j(t,e,null,(function(t){return t})),e},only:function(t){if(!D(t))throw y(Error(143));return t}},createRef:function(){return{current:null}},Component:x,PureComponent:M,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:d,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:h,render:t}},lazy:function(t){return{$$typeof:v,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:m,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return H().useCallback(t,e)},useContext:function(t,e){return H().useContext(t,e)},useEffect:function(t,e){return H().useEffect(t,e)},useImperativeHandle:function(t,e,n){return H().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return H().useLayoutEffect(t,e)},useMemo:function(t,e){return H().useMemo(t,e)},useReducer:function(t,e,n){return H().useReducer(t,e,n)},useRef:function(t){return H().useRef(t)},useState:function(t){return H().useState(t)},Fragment:s,Profiler:u,StrictMode:l,Suspense:p,unstable_SuspenseList:f,createElement:C,cloneElement:function(t,e,n){if(null===t||void 0===t)throw y(Error(267),t);var i=r({},t.props),o=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=S.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)L.call(e,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:a,type:t.type,key:o,ref:s,props:i,_owner:l}},createFactory:function(t){var e=C.bind(null,t);return e.type=t,e},isValidElement:D,version:"16.10.2",unstable_withSuspenseConfig:function(t,e){var n=T.suspense;T.suspense=void 0===e?null:e;try{t()}finally{T.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:E,ReactCurrentBatchConfig:T,ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r}},U={default:Y},G=U&&Y||U;t.exports=G.default||G},function(t,n,r){"use strict";var i=r(0),a=r(2),o=r(8);function s(t){for(var e=t.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return t.message="Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",t}if(!i)throw s(Error(227));var l=null,u={};function c(){if(l)for(var t in u){var e=u[t],n=l.indexOf(t);if(!(-1<n))throw s(Error(96),t);if(!h[n]){if(!e.extractEvents)throw s(Error(97),t);for(var r in h[n]=e,n=e.eventTypes){var i=void 0,a=n[r],o=e,c=r;if(p.hasOwnProperty(c))throw s(Error(99),c);p[c]=a;var f=a.phasedRegistrationNames;if(f){for(i in f)f.hasOwnProperty(i)&&d(f[i],o,c);i=!0}else a.registrationName?(d(a.registrationName,o,c),i=!0):i=!1;if(!i)throw s(Error(98),r,t)}}}}function d(t,e,n){if(f[t])throw s(Error(100),t);f[t]=e,m[t]=e.eventTypes[n].dependencies}var h=[],p={},f={},m={};function v(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var g=!1,y=null,_=!1,b=null,x={onError:function(t){g=!0,y=t}};function w(t,e,n,r,i,a,o,s,l){g=!1,y=null,v.apply(x,arguments)}var M=null,A=null,E=null;function T(t,e,n){var r=t.type||"unknown-event";t.currentTarget=E(n),function(t,e,n,r,i,a,o,l,u){if(w.apply(this,arguments),g){if(!g)throw s(Error(198));var c=y;g=!1,y=null,_||(_=!0,b=c)}}(r,e,void 0,t),t.currentTarget=null}function S(t,e){if(null==e)throw s(Error(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function L(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var k=null;function C(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)T(t,e[r],n[r]);else e&&T(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function D(t){if(null!==t&&(k=S(k,t)),t=k,k=null,t){if(L(t,C),k)throw s(Error(95));if(_)throw t=b,_=!1,b=null,t}}var P={injectEventPluginOrder:function(t){if(l)throw s(Error(101));l=Array.prototype.slice.call(t),c()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!u.hasOwnProperty(e)||u[e]!==r){if(u[e])throw s(Error(102),e);u[e]=r,n=!0}}n&&c()}};function R(t,e){var n=t.stateNode;if(!n)return null;var r=M(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw s(Error(231),e,typeof n);return n}var O=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;O.hasOwnProperty("ReactCurrentDispatcher")||(O.ReactCurrentDispatcher={current:null}),O.hasOwnProperty("ReactCurrentBatchConfig")||(O.ReactCurrentBatchConfig={suspense:null});var I=/^(.*)[\\\/]/,N="function"===typeof Symbol&&Symbol.for,z=N?Symbol.for("react.element"):60103,B=N?Symbol.for("react.portal"):60106,F=N?Symbol.for("react.fragment"):60107,j=N?Symbol.for("react.strict_mode"):60108,H=N?Symbol.for("react.profiler"):60114,Y=N?Symbol.for("react.provider"):60109,U=N?Symbol.for("react.context"):60110,G=N?Symbol.for("react.concurrent_mode"):60111,V=N?Symbol.for("react.forward_ref"):60112,W=N?Symbol.for("react.suspense"):60113,q=N?Symbol.for("react.suspense_list"):60120,X=N?Symbol.for("react.memo"):60115,J=N?Symbol.for("react.lazy"):60116;N&&Symbol.for("react.fundamental"),N&&Symbol.for("react.responder"),N&&Symbol.for("react.scope");var Z="function"===typeof Symbol&&Symbol.iterator;function Q(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=Z&&t[Z]||t["@@iterator"])?t:null}function K(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case F:return"Fragment";case B:return"Portal";case H:return"Profiler";case j:return"StrictMode";case W:return"Suspense";case q:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case U:return"Context.Consumer";case Y:return"Context.Provider";case V:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case X:return K(t.type);case J:if(t=1===t._status?t._result:null)return K(t)}return null}function $(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,a=K(t.type);n=null,r&&(n=K(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(I,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}e+=n,t=t.return}while(t);return e}var tt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),et=null,nt=null,rt=null;function it(t){if(t=A(t)){if("function"!==typeof et)throw s(Error(280));var e=M(t.stateNode);et(t.stateNode,t.type,e)}}function at(t){nt?rt?rt.push(t):rt=[t]:nt=t}function ot(){if(nt){var t=nt,e=rt;if(rt=nt=null,it(t),e)for(t=0;t<e.length;t++)it(e[t])}}function st(t,e){return t(e)}function lt(t,e,n,r){return t(e,n,r)}function ut(){}var ct=st,dt=!1,ht=!1;function pt(){null===nt&&null===rt||(ut(),ot())}new Map,new Map,new Map;var ft=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mt=Object.prototype.hasOwnProperty,vt={},gt={};function yt(t,e,n,r,i,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){_t[t]=new yt(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];_t[e]=new yt(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){_t[t]=new yt(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){_t[t]=new yt(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){_t[t]=new yt(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){_t[t]=new yt(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){_t[t]=new yt(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){_t[t]=new yt(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){_t[t]=new yt(t,5,!1,t.toLowerCase(),null,!1)}));var bt=/[\-:]([a-z])/g;function xt(t){return t[1].toUpperCase()}function wt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Mt(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!mt.call(gt,t)||!mt.call(vt,t)&&(ft.test(t)?gt[t]=!0:(vt[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function At(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Et(t){t._valueTracker||(t._valueTracker=function(t){var e=At(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,a.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Tt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=At(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function St(t,e){var n=e.checked;return a({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Lt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=wt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function kt(t,e){null!=(e=e.checked)&&Mt(t,"checked",e,!1)}function Ct(t,e){kt(t,e);var n=wt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Pt(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pt(t,e.type,wt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Dt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Pt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Rt(t,e){return t=a({children:void 0},e),(e=function(t){var e="";return i.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Ot(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function It(t,e){if(null!=e.dangerouslySetInnerHTML)throw s(Error(91));return a({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nt(t,e){var n=e.value;if(null==n){if(n=e.defaultValue,null!=(e=e.children)){if(null!=n)throw s(Error(92));if(Array.isArray(e)){if(!(1>=e.length))throw s(Error(93));e=e[0]}n=e}null==n&&(n="")}t._wrapperState={initialValue:wt(n)}}function zt(t,e){var n=wt(e.value),r=wt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Bt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(bt,xt);_t[e]=new yt(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(bt,xt);_t[e]=new yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(bt,xt);_t[e]=new yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){_t[t]=new yt(t,1,!1,t.toLowerCase(),null,!1)})),_t.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){_t[t]=new yt(t,1,!1,t.toLowerCase(),null,!0)}));var Ft={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function jt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?jt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Yt,Ut=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==Ft.svg||"innerHTML"in t)t.innerHTML=e;else{for((Yt=Yt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Gt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Vt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wt={animationend:Vt("Animation","AnimationEnd"),animationiteration:Vt("Animation","AnimationIteration"),animationstart:Vt("Animation","AnimationStart"),transitionend:Vt("Transition","TransitionEnd")},qt={},Xt={};function Jt(t){if(qt[t])return qt[t];if(!Wt[t])return t;var e,n=Wt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Xt)return qt[t]=n[e];return t}tt&&(Xt=document.createElement("div").style,"AnimationEvent"in window||(delete Wt.animationend.animation,delete Wt.animationiteration.animation,delete Wt.animationstart.animation),"TransitionEvent"in window||delete Wt.transitionend.transition);var Zt=Jt("animationend"),Qt=Jt("animationiteration"),Kt=Jt("animationstart"),$t=Jt("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ee=!1,ne=[],re=null,ie=null,ae=null,oe=new Map,se=new Map,le="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),ue="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function ce(t,e,n,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:r}}function de(t,e){switch(t){case"focus":case"blur":re=null;break;case"dragenter":case"dragleave":ie=null;break;case"mouseover":case"mouseout":ae=null;break;case"pointerover":case"pointerout":oe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":se.delete(e.pointerId)}}function he(t,e,n,r,i){return null===t||t.nativeEvent!==i?ce(e,n,r,i):(t.eventSystemFlags|=r,t)}function pe(t){if(null!==t.blockedOn)return!1;var e=Sn(t.topLevelType,t.eventSystemFlags,t.nativeEvent);return null===e||(t.blockedOn=e,!1)}function fe(t,e,n){pe(t)&&n.delete(e)}function me(){for(ee=!1;0<ne.length;){var t=ne[0];if(null!==t.blockedOn)break;var e=Sn(t.topLevelType,t.eventSystemFlags,t.nativeEvent);null!==e?t.blockedOn=e:ne.shift()}null!==re&&pe(re)&&(re=null),null!==ie&&pe(ie)&&(ie=null),null!==ae&&pe(ae)&&(ae=null),oe.forEach(fe),se.forEach(fe)}function ve(t,e){t.blockedOn===e&&(t.blockedOn=null,ee||(ee=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,me)))}function ge(t){function e(e){return ve(e,t)}if(0<ne.length){ve(ne[0],t);for(var n=1;n<ne.length;n++){var r=ne[n];r.blockedOn===t&&(r.blockedOn=null)}}null!==re&&ve(re,t),null!==ie&&ve(ie,t),null!==ae&&ve(ae,t),oe.forEach(e),se.forEach(e)}var ye=0,_e=2,be=1024;function xe(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{((e=t).effectTag&(_e|be))!==ye&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function we(t){if(xe(t)!==t)throw s(Error(188))}function Me(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=xe(t)))throw s(Error(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return we(i),t;if(a===r)return we(i),e;a=a.sibling}throw s(Error(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw s(Error(189))}}if(n.alternate!==r)throw s(Error(190))}if(3!==n.tag)throw s(Error(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Ae(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Ee(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Te(t,e,n){(e=R(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=S(n._dispatchListeners,e),n._dispatchInstances=S(n._dispatchInstances,t))}function Se(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Ee(e);for(e=n.length;0<e--;)Te(n[e],"captured",t);for(e=0;e<n.length;e++)Te(n[e],"bubbled",t)}}function Le(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=R(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=S(n._dispatchListeners,e),n._dispatchInstances=S(n._dispatchInstances,t))}function ke(t){t&&t.dispatchConfig.registrationName&&Le(t._targetInst,null,t)}function Ce(t){L(t,Se)}function De(){return!0}function Pe(){return!1}function Re(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?De:Pe,this.isPropagationStopped=Pe,this}function Oe(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Ie(t){if(!(t instanceof this))throw s(Error(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Ne(t){t.eventPool=[],t.getPooled=Oe,t.release=Ie}a(Re.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=De)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=De)},persist:function(){this.isPersistent=De},isPersistent:Pe,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Pe,this._dispatchInstances=this._dispatchListeners=null}}),Re.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Re.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var i=new e;return a(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=a({},r.Interface,t),n.extend=r.extend,Ne(n),n},Ne(Re);var ze=Re.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Be=Re.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fe=Re.extend({view:null,detail:null}),je=Fe.extend({relatedTarget:null});function He(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Ye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ve(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ge[t])&&!!e[t]}function We(){return Ve}for(var qe=Fe.extend({key:function(t){if(t.key){var e=Ye[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=He(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Ue[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:We,charCode:function(t){return"keypress"===t.type?He(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?He(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Xe=0,Je=0,Ze=!1,Qe=!1,Ke=Fe.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:We,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Xe;return Xe=t.screenX,Ze?"mousemove"===t.type?t.screenX-e:0:(Ze=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Je;return Je=t.screenY,Qe?"mousemove"===t.type?t.screenY-e:0:(Qe=!0,0)}}),$e=Ke.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),tn=Ke.extend({dataTransfer:null}),en=Fe.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:We}),nn=Re.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rn=Ke.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),an=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Zt,"animationEnd",2],[Qt,"animationIteration",2],[Kt,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[$t,"transitionEnd",2],["waiting","waiting",2]],on={},sn={},ln=0;ln<an.length;ln++){var un=an[ln],cn=un[0],dn=un[1],hn=un[2],pn="on"+(dn[0].toUpperCase()+dn.slice(1)),fn={phasedRegistrationNames:{bubbled:pn,captured:pn+"Capture"},dependencies:[cn],eventPriority:hn};on[dn]=fn,sn[cn]=fn}var mn={eventTypes:on,getEventPriority:function(t){return void 0!==(t=sn[t])?t.eventPriority:2},extractEvents:function(t,e,n,r){var i=sn[t];if(!i)return null;switch(t){case"keypress":if(0===He(n))return null;case"keydown":case"keyup":t=qe;break;case"blur":case"focus":t=je;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Ke;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=tn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=en;break;case Zt:case Qt:case Kt:t=ze;break;case $t:t=nn;break;case"scroll":t=Fe;break;case"wheel":t=rn;break;case"copy":case"cut":case"paste":t=Be;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=$e;break;default:t=Re}return Ce(e=t.getPooled(i,e,n,r)),e}},vn=mn.getEventPriority,gn=10,yn=[];function _n(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=lr(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=Ae(t.nativeEvent);r=t.topLevelType;for(var a=t.nativeEvent,o=t.eventSystemFlags,s=null,l=0;l<h.length;l++){var u=h[l];u&&(u=u.extractEvents(r,e,a,i,o))&&(s=S(s,u))}D(s)}}var bn=!0;function xn(t,e){wn(e,t,!1)}function wn(t,e,n){switch(vn(e)){case 0:var r=Mn.bind(null,e,1);break;case 1:r=An.bind(null,e,1);break;default:r=Tn.bind(null,e,1)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Mn(t,e,n){dt||ut();var r=Tn,i=dt;dt=!0;try{lt(r,t,e,n)}finally{(dt=i)||pt()}}function An(t,e,n){Tn(t,e,n)}function En(t,e,n,r){if(yn.length){var i=yn.pop();i.topLevelType=t,i.eventSystemFlags=e,i.nativeEvent=n,i.targetInst=r,t=i}else t={topLevelType:t,eventSystemFlags:e,nativeEvent:n,targetInst:r,ancestors:[]};try{if(e=_n,n=t,ht)e(n,void 0);else{ht=!0;try{ct(e,n,void 0)}finally{ht=!1,pt()}}}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,yn.length<gn&&yn.push(t)}}function Tn(t,e,n){if(bn)if(0<ne.length&&-1<le.indexOf(t))t=ce(null,t,e,n),ne.push(t);else{var r=Sn(t,e,n);null===r?de(t,n):-1<le.indexOf(t)?(t=ce(r,t,e,n),ne.push(t)):function(t,e,n,r){switch(e){case"focus":return re=he(re,t,e,n,r),!0;case"dragenter":return ie=he(ie,t,e,n,r),!0;case"mouseover":return ae=he(ae,t,e,n,r),!0;case"pointerover":var i=r.pointerId;return oe.set(i,he(oe.get(i)||null,t,e,n,r)),!0;case"gotpointercapture":return i=r.pointerId,se.set(i,he(se.get(i)||null,t,e,n,r)),!0}return!1}(r,t,e,n)||(de(t,n),En(t,e,n,null))}}function Sn(t,e,n){var r=Ae(n),i=lr(r);if(null!==i)if(null===(r=xe(i)))i=null;else{var a=r.tag;if(13===a){if(null!==(r=13!==r.tag||(null===(i=r.memoizedState)&&(null!==(r=r.alternate)&&(i=r.memoizedState)),null===i)?null:i.dehydrated))return r;i=null}else if(3===a){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}return En(t,e,n,i),null}function Ln(t){if(!tt)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var kn=new("function"===typeof WeakMap?WeakMap:Map);function Cn(t){var e=kn.get(t);return void 0===e&&(e=new Set,kn.set(t,e)),e}function Dn(t,e,n){if(!n.has(t)){switch(t){case"scroll":wn(e,"scroll",!0);break;case"focus":case"blur":wn(e,"focus",!0),wn(e,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Ln(t)&&wn(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(t)&&xn(t,e)}n.add(t)}}var Pn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rn=["Webkit","ms","Moz","O"];function On(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Pn.hasOwnProperty(t)&&Pn[t]?(""+e).trim():e+"px"}function In(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=On(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(Pn).forEach((function(t){Rn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pn[e]=Pn[t]}))}));var Nn=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zn(t,e){if(e){if(Nn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw s(Error(137),t,"");if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw s(Error(60));if(!("object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw s(Error(61))}if(null!=e.style&&"object"!==typeof e.style)throw s(Error(62),"")}}function Bn(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Fn(t,e){var n=Cn(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=m[e];for(var r=0;r<e.length;r++)Dn(e[r],t,n)}function jn(){}function Hn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Yn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Un(t,e){var n,r=Yn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Yn(r)}}function Gn(){for(var t=window,e=Hn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Hn((t=e.contentWindow).document)}return e}function Vn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Wn="$",qn="/$",Xn="$?",Jn="$!",Zn=null,Qn=null;function Kn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function $n(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var tr="function"===typeof setTimeout?setTimeout:void 0,er="function"===typeof clearTimeout?clearTimeout:void 0;function nr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function rr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if(n===Wn||n===Jn||n===Xn){if(0===e)return t;e--}else n===qn&&e++}t=t.previousSibling}return null}var ir=Math.random().toString(36).slice(2),ar="__reactInternalInstance$"+ir,or="__reactEventHandlers$"+ir,sr="__reactContainere$"+ir;function lr(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sr]||n[ar]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=rr(t);null!==t;){if(n=t[ar])return n;t=rr(t)}return e}n=(t=n).parentNode}return null}function ur(t){return!(t=t[ar]||t[sr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function cr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw s(Error(33))}function dr(t){return t[or]||null}var hr=null,pr=null,fr=null;function mr(){if(fr)return fr;var t,e,n=pr,r=n.length,i="value"in hr?hr.value:hr.textContent,a=i.length;for(t=0;t<r&&n[t]===i[t];t++);var o=r-t;for(e=1;e<=o&&n[r-e]===i[a-e];e++);return fr=i.slice(t,1<e?1-e:void 0)}var vr=Re.extend({data:null}),gr=Re.extend({data:null}),yr=[9,13,27,32],_r=tt&&"CompositionEvent"in window,br=null;tt&&"documentMode"in document&&(br=document.documentMode);var xr=tt&&"TextEvent"in window&&!br,wr=tt&&(!_r||br&&8<br&&11>=br),Mr=String.fromCharCode(32),Ar={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Er=!1;function Tr(t,e){switch(t){case"keyup":return-1!==yr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Sr(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Lr=!1;var kr={eventTypes:Ar,extractEvents:function(t,e,n,r){var i;if(_r)t:{switch(t){case"compositionstart":var a=Ar.compositionStart;break t;case"compositionend":a=Ar.compositionEnd;break t;case"compositionupdate":a=Ar.compositionUpdate;break t}a=void 0}else Lr?Tr(t,n)&&(a=Ar.compositionEnd):"keydown"===t&&229===n.keyCode&&(a=Ar.compositionStart);return a?(wr&&"ko"!==n.locale&&(Lr||a!==Ar.compositionStart?a===Ar.compositionEnd&&Lr&&(i=mr()):(pr="value"in(hr=r)?hr.value:hr.textContent,Lr=!0)),a=vr.getPooled(a,e,n,r),i?a.data=i:null!==(i=Sr(n))&&(a.data=i),Ce(a),i=a):i=null,(t=xr?function(t,e){switch(t){case"compositionend":return Sr(e);case"keypress":return 32!==e.which?null:(Er=!0,Mr);case"textInput":return(t=e.data)===Mr&&Er?null:t;default:return null}}(t,n):function(t,e){if(Lr)return"compositionend"===t||!_r&&Tr(t,e)?(t=mr(),fr=pr=hr=null,Lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=gr.getPooled(Ar.beforeInput,e,n,r)).data=t,Ce(e)):e=null,null===i?e:null===e?i:[i,e]}},Cr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Cr[t.type]:"textarea"===e}var Pr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Rr(t,e,n){return(t=Re.getPooled(Pr.change,t,e,n)).type="change",at(n),Ce(t),t}var Or=null,Ir=null;function Nr(t){D(t)}function zr(t){if(Tt(cr(t)))return t}function Br(t,e){if("change"===t)return e}var Fr=!1;function jr(){Or&&(Or.detachEvent("onpropertychange",Hr),Ir=Or=null)}function Hr(t){if("value"===t.propertyName&&zr(Ir))if(t=Rr(Ir,t,Ae(t)),dt)D(t);else{dt=!0;try{st(Nr,t)}finally{dt=!1,pt()}}}function Yr(t,e,n){"focus"===t?(jr(),Ir=n,(Or=e).attachEvent("onpropertychange",Hr)):"blur"===t&&jr()}function Ur(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return zr(Ir)}function Gr(t,e){if("click"===t)return zr(e)}function Vr(t,e){if("input"===t||"change"===t)return zr(e)}tt&&(Fr=Ln("input")&&(!document.documentMode||9<document.documentMode));var Wr={eventTypes:Pr,_isInputEventSupported:Fr,extractEvents:function(t,e,n,r){var i=e?cr(e):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=Br;else if(Dr(i))if(Fr)o=Vr;else{o=Ur;var s=Yr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Gr);if(o&&(o=o(t,e)))return Rr(o,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Pt(i,"number",i.value)}},qr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Xr={eventTypes:qr,extractEvents:function(t,e,n,r,i){var a="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=e,null!==(e=(e=n.relatedTarget||n.toElement)?lr(e):null)&&(e!==(a=xe(e))||5!==e.tag&&6!==e.tag)&&(e=null)):o=null,o===e)return null;if("mouseout"===t||"mouseover"===t)var s=Ke,l=qr.mouseLeave,u=qr.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=$e,l=qr.pointerLeave,u=qr.pointerEnter,c="pointer");if(t=null==o?i:cr(o),i=null==e?i:cr(e),(l=s.getPooled(l,o,n,r)).type=c+"leave",l.target=t,l.relatedTarget=i,(n=s.getPooled(u,e,n,r)).type=c+"enter",n.target=i,n.relatedTarget=t,c=e,(r=o)&&c)t:{for(u=c,t=0,o=s=r;o;o=Ee(o))t++;for(o=0,e=u;e;e=Ee(e))o++;for(;0<t-o;)s=Ee(s),t--;for(;0<o-t;)u=Ee(u),o--;for(;t--;){if(s===u||s===u.alternate)break t;s=Ee(s),u=Ee(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(t=r.alternate)||t!==u);)s.push(r),r=Ee(r);for(r=[];c&&c!==u&&(null===(t=c.alternate)||t!==u);)r.push(c),c=Ee(c);for(c=0;c<s.length;c++)Le(s[c],"bubbled",l);for(c=r.length;0<c--;)Le(r[c],"captured",n);return[l,n]}};var Jr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Zr=Object.prototype.hasOwnProperty;function Qr(t,e){if(Jr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Zr.call(e,n[r])||!Jr(t[n[r]],e[n[r]]))return!1;return!0}var Kr=tt&&"documentMode"in document&&11>=document.documentMode,$r={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ti=null,ei=null,ni=null,ri=!1;function ii(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return ri||null==ti||ti!==Hn(n)?null:("selectionStart"in(n=ti)&&Vn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ni&&Qr(ni,n)?null:(ni=n,(t=Re.getPooled($r.select,ei,t,e)).type="select",t.target=ti,Ce(t),t))}var ai={eventTypes:$r,extractEvents:function(t,e,n,r){var i,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!a)){t:{a=Cn(a),i=m.onSelect;for(var o=0;o<i.length;o++)if(!a.has(i[o])){a=!1;break t}a=!0}i=!a}if(i)return null;switch(a=e?cr(e):window,t){case"focus":(Dr(a)||"true"===a.contentEditable)&&(ti=a,ei=e,ni=null);break;case"blur":ni=ei=ti=null;break;case"mousedown":ri=!0;break;case"contextmenu":case"mouseup":case"dragend":return ri=!1,ii(n,r);case"selectionchange":if(Kr)break;case"keydown":case"keyup":return ii(n,r)}return null}};P.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),M=dr,A=ur,E=cr,P.injectEventPluginsByName({SimpleEventPlugin:mn,EnterLeaveEventPlugin:Xr,ChangeEventPlugin:Wr,SelectEventPlugin:ai,BeforeInputEventPlugin:kr}),new Set;var oi=[],si=-1;function li(t){0>si||(t.current=oi[si],oi[si]=null,si--)}function ui(t,e){oi[++si]=t.current,t.current=e}var ci={},di={current:ci},hi={current:!1},pi=ci;function fi(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function mi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function vi(t){li(hi),li(di)}function gi(t){li(hi),li(di)}function yi(t,e,n){if(di.current!==ci)throw s(Error(168));ui(di,e),ui(hi,n)}function _i(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw s(Error(108),K(e)||"Unknown",i);return a({},n,{},r)}function bi(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||ci,pi=di.current,ui(di,e),ui(hi,hi.current),!0}function xi(t,e,n){var r=t.stateNode;if(!r)throw s(Error(169));n?(e=_i(t,e,pi),r.__reactInternalMemoizedMergedChildContext=e,li(hi),li(di),ui(di,e)):li(hi),ui(hi,n)}var wi=o.unstable_runWithPriority,Mi=o.unstable_scheduleCallback,Ai=o.unstable_cancelCallback,Ei=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Si=o.unstable_now,Li=o.unstable_getCurrentPriorityLevel,ki=o.unstable_ImmediatePriority,Ci=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Oi={},Ii=void 0!==Ti?Ti:function(){},Ni=null,zi=null,Bi=!1,Fi=Si(),ji=1e4>Fi?Si:function(){return Si()-Fi};function Hi(){switch(Li()){case ki:return 99;case Ci:return 98;case Di:return 97;case Pi:return 96;case Ri:return 95;default:throw s(Error(332))}}function Yi(t){switch(t){case 99:return ki;case 98:return Ci;case 97:return Di;case 96:return Pi;case 95:return Ri;default:throw s(Error(332))}}function Ui(t,e){return t=Yi(t),wi(t,e)}function Gi(t,e,n){return t=Yi(t),Mi(t,e,n)}function Vi(t){return null===Ni?(Ni=[t],zi=Mi(ki,qi)):Ni.push(t),Oi}function Wi(){if(null!==zi){var t=zi;zi=null,Ai(t)}qi()}function qi(){if(!Bi&&null!==Ni){Bi=!0;var t=0;try{var e=Ni;Ui(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(n){throw null!==Ni&&(Ni=Ni.slice(t+1)),Mi(ki,Wi),n}finally{Bi=!1}}}function Xi(t,e){if(t&&t.defaultProps)for(var n in e=a({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Ji={current:null},Zi=null,Qi=null,Ki=null;function $i(){Ki=Qi=Zi=null}function ta(t,e){var n=t.type._context;ui(Ji,n._currentValue),n._currentValue=e}function ea(t){var e=Ji.current;li(Ji),t.type._context._currentValue=e}function na(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function ra(t,e){Zi=t,Ki=Qi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Do=!0),t.firstContext=null)}function ia(t,e){if(Ki!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Ki=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Qi){if(null===Zi)throw s(Error(308));Qi=e,Zi.dependencies={expirationTime:0,firstContext:e,responders:null}}else Qi=Qi.next=e;return t._currentValue}var aa=!1;function oa(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function sa(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function la(t,e){return{expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function ua(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function ca(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=oa(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=oa(t.memoizedState),i=n.updateQueue=oa(n.memoizedState)):r=t.updateQueue=sa(i):null===i&&(i=n.updateQueue=sa(r));null===i||r===i?ua(r,e):null===r.lastUpdate||null===i.lastUpdate?(ua(r,e),ua(i,e)):(ua(r,e),i.lastUpdate=e)}function da(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=oa(t.memoizedState):ha(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function ha(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=sa(e)),e}function pa(t,e,n,r,i,o){switch(n.tag){case 1:return"function"===typeof(t=n.payload)?t.call(o,r,i):t;case 3:t.effectTag=-4097&t.effectTag|64;case 0:if(null===(i="function"===typeof(t=n.payload)?t.call(o,r,i):t)||void 0===i)break;return a({},r,i);case 2:aa=!0}return r}function fa(t,e,n,r,i){aa=!1;for(var a=(e=ha(t,e)).baseState,o=null,s=0,l=e.firstUpdate,u=a;null!==l;){var c=l.expirationTime;c<i?(null===o&&(o=l,a=u),s<c&&(s=c)):(gl(c,l.suspenseConfig),u=pa(t,0,l,u,n,r),null!==l.callback&&(t.effectTag|=32,l.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=l:(e.lastEffect.nextEffect=l,e.lastEffect=l))),l=l.next}for(c=null,l=e.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<i?(null===c&&(c=l,null===o&&(a=u)),s<d&&(s=d)):(u=pa(t,0,l,u,n,r),null!==l.callback&&(t.effectTag|=32,l.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=l:(e.lastCapturedEffect.nextEffect=l,e.lastCapturedEffect=l))),l=l.next}null===o&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===o&&null===c&&(a=u),e.baseState=a,e.firstUpdate=o,e.firstCapturedUpdate=c,yl(s),t.expirationTime=s,t.memoizedState=u}function ma(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),va(e.firstEffect,n),e.firstEffect=e.lastEffect=null,va(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function va(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;if("function"!==typeof n)throw s(Error(191),n);n.call(r)}t=t.nextEffect}}var ga=O.ReactCurrentBatchConfig,ya=(new i.Component).refs;function _a(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:a({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var ba={isMounted:function(t){return!!(t=t._reactInternalFiber)&&xe(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=$s(),i=ga.suspense;(i=la(r=tl(r,t,i),i)).payload=e,void 0!==n&&null!==n&&(i.callback=n),ca(t,i),rl(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=$s(),i=ga.suspense;(i=la(r=tl(r,t,i),i)).tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),ca(t,i),rl(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=$s(),r=ga.suspense;(r=la(n=tl(n,t,r),r)).tag=2,void 0!==e&&null!==e&&(r.callback=e),ca(t,r),rl(t,n)}};function xa(t,e,n,r,i,a,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,a,o):!e.prototype||!e.prototype.isPureReactComponent||(!Qr(n,r)||!Qr(i,a))}function wa(t,e,n){var r=!1,i=ci,a=e.contextType;return"object"===typeof a&&null!==a?a=ia(a):(i=mi(e)?pi:di.current,a=(r=null!==(r=e.contextTypes)&&void 0!==r)?fi(t,i):ci),e=new e(n,a),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ba,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Ma(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ba.enqueueReplaceState(e,e.state,null)}function Aa(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ya;var a=e.contextType;"object"===typeof a&&null!==a?i.context=ia(a):(a=mi(e)?pi:di.current,i.context=fi(t,a)),null!==(a=t.updateQueue)&&(fa(t,a,n,i,r),i.state=t.memoizedState),"function"===typeof(a=e.getDerivedStateFromProps)&&(_a(t,e,a,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&ba.enqueueReplaceState(i,i.state,null),null!==(a=t.updateQueue)&&(fa(t,a,n,i,r),i.state=t.memoizedState)),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var Ea=Array.isArray;function Ta(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw s(Error(309));var r=n.stateNode}if(!r)throw s(Error(147),t);var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===ya&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw s(Error(284));if(!n._owner)throw s(Error(290),t)}return t}function Sa(t,e){if("textarea"!==t.type)throw s(Error(31),"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function La(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,n){return(t=Bl(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=_e,n):r:(e.effectTag=_e,n):n}function o(e){return t&&null===e.alternate&&(e.effectTag=_e),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Hl(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Ta(t,e,n),r.return=t,r):((r=Fl(n.type,n.key,n.props,null,t.mode,r)).ref=Ta(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Yl(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function d(t,e,n,r,a){return null===e||7!==e.tag?((e=jl(n,t.mode,r,a)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Hl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case z:return(n=Fl(e.type,e.key,e.props,null,t.mode,n)).ref=Ta(t,null,e),n.return=t,n;case B:return(e=Yl(e,t.mode,n)).return=t,e}if(Ea(e)||Q(e))return(e=jl(e,t.mode,n,null)).return=t,e;Sa(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case z:return n.key===i?n.type===F?d(t,e,n.props.children,r,i):u(t,e,n,r):null;case B:return n.key===i?c(t,e,n,r):null}if(Ea(n)||Q(n))return null!==i?null:d(t,e,n,r,null);Sa(t,n)}return null}function f(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case z:return t=t.get(null===r.key?n:r.key)||null,r.type===F?d(e,t,r.props.children,i,r.key):u(e,t,r,i);case B:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Ea(r)||Q(r))return d(e,t=t.get(n)||null,r,i,null);Sa(e,r)}return null}function m(i,o,s,l){for(var u=null,c=null,d=o,m=o=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=p(i,d,s[m],l);if(null===g){null===d&&(d=v);break}t&&d&&null===g.alternate&&e(i,d),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g,d=v}if(m===s.length)return n(i,d),u;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);m<s.length;m++)null!==(v=f(d,i,m,s[m],l))&&(t&&null!==v.alternate&&d.delete(null===v.key?m:v.key),o=a(v,o,m),null===c?u=v:c.sibling=v,c=v);return t&&d.forEach((function(t){return e(i,t)})),u}function v(i,o,l,u){var c=Q(l);if("function"!==typeof c)throw s(Error(150));if(null==(l=c.call(l)))throw s(Error(151));for(var d=c=null,m=o,v=o=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var _=p(i,m,y.value,u);if(null===_){null===m&&(m=g);break}t&&m&&null===_.alternate&&e(i,m),o=a(_,o,v),null===d?c=_:d.sibling=_,d=_,m=g}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=h(i,y.value,u))&&(o=a(y,o,v),null===d?c=y:d.sibling=y,d=y);return c}for(m=r(i,m);!y.done;v++,y=l.next())null!==(y=f(m,i,v,y.value,u))&&(t&&null!==y.alternate&&m.delete(null===y.key?v:y.key),o=a(y,o,v),null===d?c=y:d.sibling=y,d=y);return t&&m.forEach((function(t){return e(i,t)})),c}return function(t,r,a,l){var u="object"===typeof a&&null!==a&&a.type===F&&null===a.key;u&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case z:t:{for(c=a.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?a.type===F:u.elementType===a.type){n(t,u.sibling),(r=i(u,a.type===F?a.props.children:a.props)).ref=Ta(t,u,a),r.return=t,t=r;break t}n(t,u);break}e(t,u),u=u.sibling}a.type===F?((r=jl(a.props.children,t.mode,l,a.key)).return=t,t=r):((l=Fl(a.type,a.key,a.props,null,t.mode,l)).ref=Ta(t,r,a),l.return=t,t=l)}return o(t);case B:t:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(t,r.sibling),(r=i(r,a.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Yl(a,t.mode,l)).return=t,t=r}return o(t)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,a)).return=t,t=r):(n(t,r),(r=Hl(a,t.mode,l)).return=t,t=r),o(t);if(Ea(a))return m(t,r,a,l);if(Q(a))return v(t,r,a,l);if(c&&Sa(t,a),"undefined"===typeof a&&!u)switch(t.tag){case 1:case 0:throw t=t.type,s(Error(152),t.displayName||t.name||"Component")}return n(t,r)}}var ka=La(!0),Ca=La(!1),Da={},Pa={current:Da},Ra={current:Da},Oa={current:Da};function Ia(t){if(t===Da)throw s(Error(174));return t}function Na(t,e){ui(Oa,e),ui(Ra,t),ui(Pa,Da);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ht(null,"");break;default:e=Ht(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}li(Pa),ui(Pa,e)}function za(t){li(Pa),li(Ra),li(Oa)}function Ba(t){Ia(Oa.current);var e=Ia(Pa.current),n=Ht(e,t.type);e!==n&&(ui(Ra,t),ui(Pa,n))}function Fa(t){Ra.current===t&&(li(Pa),li(Ra))}var ja={current:0};function Ha(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Xn||n.data===Jn))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if((64&e.effectTag)!==ye)return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ya(t,e){return{responder:t,props:e}}var Ua=O.ReactCurrentDispatcher,Ga=0,Va=null,Wa=null,qa=null,Xa=null,Ja=null,Za=null,Qa=0,Ka=null,$a=0,to=!1,eo=null,no=0;function ro(){throw s(Error(321))}function io(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jr(t[n],e[n]))return!1;return!0}function ao(t,e,n,r,i,a){if(Ga=a,Va=e,qa=null!==t?t.memoizedState:null,Ua.current=null===qa?_o:bo,e=n(r,i),to){do{to=!1,no+=1,qa=null!==t?t.memoizedState:null,Za=Xa,Ka=Ja=Wa=null,Ua.current=bo,e=n(r,i)}while(to);eo=null,no=0}if(Ua.current=yo,(t=Va).memoizedState=Xa,t.expirationTime=Qa,t.updateQueue=Ka,t.effectTag|=$a,t=null!==Wa&&null!==Wa.next,Ga=0,Za=Ja=Xa=qa=Wa=Va=null,Qa=0,Ka=null,$a=0,t)throw s(Error(300));return e}function oo(){Ua.current=yo,Ga=0,Za=Ja=Xa=qa=Wa=Va=null,Qa=0,Ka=null,$a=0,to=!1,eo=null,no=0}function so(){var t={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Ja?Xa=Ja=t:Ja=Ja.next=t,Ja}function lo(){if(null!==Za)Za=(Ja=Za).next,qa=null!==(Wa=qa)?Wa.next:null;else{if(null===qa)throw s(Error(310));var t={memoizedState:(Wa=qa).memoizedState,baseState:Wa.baseState,queue:Wa.queue,baseUpdate:Wa.baseUpdate,next:null};Ja=null===Ja?Xa=t:Ja.next=t,qa=Wa.next}return Ja}function uo(t,e){return"function"===typeof e?e(t):e}function co(t){var e=lo(),n=e.queue;if(null===n)throw s(Error(311));if(n.lastRenderedReducer=t,0<no){var r=n.dispatch;if(null!==eo){var i=eo.get(n);if(void 0!==i){eo.delete(n);var a=e.memoizedState;do{a=t(a,i.action),i=i.next}while(null!==i);return Jr(a,e.memoizedState)||(Do=!0),e.memoizedState=a,e.baseUpdate===n.last&&(e.baseState=a),n.lastRenderedState=a,[a,r]}}return[e.memoizedState,r]}r=n.last;var o=e.baseUpdate;if(a=e.baseState,null!==o?(null!==r&&(r.next=null),r=o.next):r=null!==r?r.next:null,null!==r){var l=i=null,u=r,c=!1;do{var d=u.expirationTime;d<Ga?(c||(c=!0,l=o,i=a),d>Qa&&yl(Qa=d)):(gl(d,u.suspenseConfig),a=u.eagerReducer===t?u.eagerState:t(a,u.action)),o=u,u=u.next}while(null!==u&&u!==r);c||(l=o,i=a),Jr(a,e.memoizedState)||(Do=!0),e.memoizedState=a,e.baseUpdate=l,e.baseState=i,n.lastRenderedState=a}return[e.memoizedState,n.dispatch]}function ho(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===Ka?(Ka={lastEffect:null}).lastEffect=t.next=t:null===(e=Ka.lastEffect)?Ka.lastEffect=t.next=t:(n=e.next,e.next=t,t.next=n,Ka.lastEffect=t),t}function po(t,e,n,r){var i=so();$a|=t,i.memoizedState=ho(e,n,void 0,void 0===r?null:r)}function fo(t,e,n,r){var i=lo();r=void 0===r?null:r;var a=void 0;if(null!==Wa){var o=Wa.memoizedState;if(a=o.destroy,null!==r&&io(r,o.deps))return void ho(0,n,a,r)}$a|=t,i.memoizedState=ho(e,n,a,r)}function mo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function vo(){}function go(t,e,n){if(!(25>no))throw s(Error(301));var r=t.alternate;if(t===Va||null!==r&&r===Va)if(to=!0,t={expirationTime:Ga,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===eo&&(eo=new Map),void 0===(n=eo.get(e)))eo.set(e,t);else{for(e=n;null!==e.next;)e=e.next;e.next=t}else{var i=$s(),a=ga.suspense;a={expirationTime:i=tl(i,t,a),suspenseConfig:a,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.last;if(null===o)a.next=a;else{var l=o.next;null!==l&&(a.next=l),o.next=a}if(e.last=a,0===t.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=e.lastRenderedReducer))try{var u=e.lastRenderedState,c=r(u,n);if(a.eagerReducer=r,a.eagerState=c,Jr(c,u))return}catch(d){}rl(t,i)}}var yo={readContext:ia,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useResponder:ro},_o={readContext:ia,useCallback:function(t,e){return so().memoizedState=[t,void 0===e?null:e],t},useContext:ia,useEffect:function(t,e){return po(516,192,t,e)},useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,po(4,36,mo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return po(4,36,t,e)},useMemo:function(t,e){var n=so();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=so();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={last:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=go.bind(null,Va,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},so().memoizedState=t},useState:function(t){var e=so();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={last:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:t}).dispatch=go.bind(null,Va,t),[e.memoizedState,t]},useDebugValue:vo,useResponder:Ya},bo={readContext:ia,useCallback:function(t,e){var n=lo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&io(e,r[1])?r[0]:(n.memoizedState=[t,e],t)},useContext:ia,useEffect:function(t,e){return fo(516,192,t,e)},useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,fo(4,36,mo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fo(4,36,t,e)},useMemo:function(t,e){var n=lo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&io(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)},useReducer:co,useRef:function(){return lo().memoizedState},useState:function(t){return co(uo)},useDebugValue:vo,useResponder:Ya},xo=null,wo=null,Mo=!1;function Ao(t,e){var n=Nl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Eo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function To(t){if(Mo){var e=wo;if(e){var n=e;if(!Eo(t,e)){if(!(e=nr(n.nextSibling))||!Eo(t,e))return t.effectTag=t.effectTag&~be|_e,Mo=!1,void(xo=t);Ao(xo,n)}xo=t,wo=nr(e.firstChild)}else t.effectTag=t.effectTag&~be|_e,Mo=!1,xo=t}}function So(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;xo=t}function Lo(t){if(t!==xo)return!1;if(!Mo)return So(t),Mo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!$n(e,t.memoizedProps))for(e=wo;e;)Ao(t,e),e=nr(e.nextSibling);if(So(t),13===t.tag)if(null===(t=null!==(t=t.memoizedState)?t.dehydrated:null))t=wo;else t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if(n===qn){if(0===e){t=nr(t.nextSibling);break t}e--}else n!==Wn&&n!==Jn&&n!==Xn||e++}t=t.nextSibling}t=null}else t=xo?nr(t.stateNode.nextSibling):null;return wo=t,!0}function ko(){wo=xo=null,Mo=!1}var Co=O.ReactCurrentOwner,Do=!1;function Po(t,e,n,r){e.child=null===t?Ca(e,null,n,r):ka(e,t.child,n,r)}function Ro(t,e,n,r,i){n=n.render;var a=e.ref;return ra(e,i),r=ao(t,e,n,r,a,i),null===t||Do?(e.effectTag|=1,Po(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Jo(t,e,i))}function Oo(t,e,n,r,i,a){if(null===t){var o=n.type;return"function"!==typeof o||zl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Fl(n.type,null,r,null,e.mode,a)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Io(t,e,o,r,i,a))}return o=t.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Qr)(i,r)&&t.ref===e.ref)?Jo(t,e,a):(e.effectTag|=1,(t=Bl(o,r)).ref=e.ref,t.return=e,e.child=t)}function Io(t,e,n,r,i,a){return null!==t&&Qr(t.memoizedProps,r)&&t.ref===e.ref&&(Do=!1,i<a)?Jo(t,e,a):zo(t,e,n,r,a)}function No(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function zo(t,e,n,r,i){var a=mi(n)?pi:di.current;return a=fi(e,a),ra(e,i),n=ao(t,e,n,r,a,i),null===t||Do?(e.effectTag|=1,Po(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Jo(t,e,i))}function Bo(t,e,n,r,i){if(mi(n)){var a=!0;bi(e)}else a=!1;if(ra(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=_e),wa(e,n,r),Aa(e,n,r,i),r=!0;else if(null===t){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=ia(u):u=fi(e,u=mi(n)?pi:di.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Ma(e,o,r,u),aa=!1;var h=e.memoizedState;l=o.state=h;var p=e.updateQueue;null!==p&&(fa(e,p,r,o,i),l=e.memoizedState),s!==r||h!==l||hi.current||aa?("function"===typeof c&&(_a(e,n,c,r),l=e.memoizedState),(s=aa||xa(e,n,s,r,h,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.effectTag|=4)):("function"===typeof o.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(e.effectTag|=4),r=!1)}else o=e.stateNode,s=e.memoizedProps,o.props=e.type===e.elementType?s:Xi(e.type,s),l=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=ia(u):u=fi(e,u=mi(n)?pi:di.current),(d="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Ma(e,o,r,u),aa=!1,l=e.memoizedState,h=o.state=l,null!==(p=e.updateQueue)&&(fa(e,p,r,o,i),h=e.memoizedState),s!==r||l!==h||hi.current||aa?("function"===typeof c&&(_a(e,n,c,r),h=e.memoizedState),(c=aa||xa(e,n,s,r,l,h,u))?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof o.componentDidUpdate&&(e.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),o.props=r,o.state=h,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),r=!1);return Fo(t,e,n,r,a,i)}function Fo(t,e,n,r,i,a){No(t,e);var o=(64&e.effectTag)!==ye;if(!r&&!o)return i&&xi(e,n,!1),Jo(t,e,a);r=e.stateNode,Co.current=e;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&o?(e.child=ka(e,t.child,null,a),e.child=ka(e,null,s,a)):Po(t,e,s,a),e.memoizedState=r.state,i&&xi(e,n,!0),e.child}function jo(t){var e=t.stateNode;e.pendingContext?yi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yi(0,e.context,!1),Na(t,e.containerInfo)}var Ho,Yo,Uo,Go,Vo={dehydrated:null,retryTime:1};function Wo(t,e,n){var r,i=e.mode,a=e.pendingProps,o=ja.current,s=!1;if((r=(64&e.effectTag)!==ye)||(r=0!==(2&o)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),ui(ja,1&o),null===t){if(s){if(s=a.fallback,(a=jl(null,i,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,a.child=t;null!==t;)t.return=a,t=t.sibling;return(n=jl(s,i,n,null)).return=e,a.sibling=n,e.memoizedState=Vo,e.child=a,n}return i=a.children,e.memoizedState=null,e.child=Ca(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(a=a.fallback,(n=Bl(t,t.pendingProps)).return=e,0===(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Bl(i,a,i.expirationTime)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=Vo,e.child=n,i}return n=ka(e,t.child,a.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=a.fallback,(a=jl(null,i,0,null)).return=e,a.child=t,null!==t&&(t.return=a),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,a.child=t;null!==t;)t.return=a,t=t.sibling;return(n=jl(s,i,n,null)).return=e,a.sibling=n,n.effectTag|=_e,a.childExpirationTime=0,e.memoizedState=Vo,e.child=a,n}return e.memoizedState=null,e.child=ka(e,t,a.children,n)}function qo(t,e,n,r,i){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i)}function Xo(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Po(t,e,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&(64&t.effectTag)!==ye)t:for(t=e.child;null!==t;){if(13===t.tag){if(null!==t.memoizedState){t.expirationTime<n&&(t.expirationTime=n);var o=t.alternate;null!==o&&o.expirationTime<n&&(o.expirationTime=n),na(t.return,n)}}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ui(ja,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(r=n.alternate)&&null===Ha(r)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qo(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(r=i.alternate)&&null===Ha(r)){e.child=i;break}r=i.sibling,i.sibling=n,n=i,i=r}qo(e,!0,n,null,a);break;case"together":qo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jo(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&yl(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw s(Error(153));if(null!==e.child){for(n=Bl(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Bl(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function Zo(t){t.effectTag|=4}function Qo(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ko(t){switch(t.tag){case 1:mi(t.type)&&vi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(za(),gi(),(64&(e=t.effectTag))!==ye)throw s(Error(285));return t.effectTag=-4097&e|64,t;case 5:return Fa(t),null;case 13:return li(ja),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return li(ja),null;case 4:return za(),null;case 10:return ea(t),null;default:return null}}function $o(t,e){return{value:t,source:e,stack:$(e)}}Ho=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(){},Uo=function(t,e,n,r,i){var o=t.memoizedProps;if(o!==r){var s,l,u=e.stateNode;switch(Ia(Pa.current),t=null,n){case"input":o=St(u,o),r=St(u,r),t=[];break;case"option":o=Rt(u,o),r=Rt(u,r),t=[];break;case"select":o=a({},o,{value:void 0}),r=a({},r,{value:void 0}),t=[];break;case"textarea":o=It(u,o),r=It(u,r),t=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(u.onclick=jn)}for(s in zn(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(l in u=o[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(f.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(t||(t=[]),t.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(s,""+c)):"children"===s?u===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(f.hasOwnProperty(s)?(null!=c&&Fn(i,s),t||u===c||(t=[])):(t=t||[]).push(s,c))}n&&(t=t||[]).push("style",n),i=t,(e.updateQueue=i)&&Zo(e)}},Go=function(t,e,n,r){n!==r&&Zo(e)};var ts="function"===typeof WeakSet?WeakSet:Set;function es(t,n){var r=n.source,i=n.stack;null===i&&null!==r&&(i=$(r)),null!==r&&K(r.type),n=n.value,null!==t&&1===t.tag&&K(t.type);try{console.error(n)}catch(e){setTimeout((function(){throw e}))}}function ns(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Cl(t,n)}else e.current=null}function rs(t,e){switch(e.tag){case 0:case 11:case 15:is(2,0,e);break;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Xi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}break;case 3:case 5:case 6:case 4:case 17:break;default:throw s(Error(163))}}function is(t,e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!==(r.tag&t)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!==(r.tag&e)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function as(t,e,n){switch("function"===typeof Ol&&Ol(e),e.tag){case 0:case 11:case 14:case 15:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Ui(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(a){Cl(i,a)}}t=t.next}while(t!==r)}))}break;case 1:ns(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){Cl(t,n)}}(e,n);break;case 5:ns(e);break;case 4:us(t,e,n)}}function os(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,null!==e&&os(e)}function ss(t){return 5===t.tag||3===t.tag||4===t.tag}function ls(t){t:{for(var e=t.return;null!==e;){if(ss(e)){var n=e;break t}e=e.return}throw s(Error(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw s(Error(161))}16&n.effectTag&&(Gt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ss(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(n.effectTag&_e)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(n.effectTag&_e)){n=n.stateNode;break t}}for(var i=t;;){var a=5===i.tag||6===i.tag;if(a){var o=a?i.stateNode:i.stateNode.instance;if(n)if(r){var l=o;o=n,8===(a=e).nodeType?a.parentNode.insertBefore(l,o):a.insertBefore(l,o)}else e.insertBefore(o,n);else r?(8===(l=e).nodeType?(a=l.parentNode).insertBefore(o,l):(a=l).appendChild(o),null!==(l=l._reactRootContainer)&&void 0!==l||null!==a.onclick||(a.onclick=jn)):e.appendChild(o)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function us(t,e,n){for(var r,i,a=e,o=!1;;){if(!o){o=a.return;t:for(;;){if(null===o)throw s(Error(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}o=o.return}o=!0}if(5===a.tag||6===a.tag){t:for(var l=t,u=a,c=n,d=u;;)if(as(l,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break;for(;null===d.sibling;){if(null===d.return||d.return===u)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(l=r,u=a.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(as(t,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function cs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:is(4,8,e);break;case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,null!==a){for(n[or]=r,"input"===t&&"radio"===r.type&&null!=r.name&&kt(n,r),Bn(t,i),e=Bn(t,r),i=0;i<a.length;i+=2){var o=a[i],l=a[i+1];"style"===o?In(n,l):"dangerouslySetInnerHTML"===o?Ut(n,l):"children"===o?Gt(n,l):Mt(n,o,l,e)}switch(t){case"input":Ct(n,r);break;case"textarea":zt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?Ot(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Ot(n,!!r.multiple,r.defaultValue,!0):Ot(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===e.stateNode)throw s(Error(162));e.stateNode.nodeValue=e.memoizedProps;break;case 3:(e=e.stateNode).hydrate&&(e.hydrate=!1,ge(e.containerInfo));break;case 12:break;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,js=ji()),null!==n)t:for(t=n;;){if(5===t.tag)a=t.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=t.stateNode,i=void 0!==(i=t.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=On("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(a=t.child.sibling).return=t,t=a;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break t;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}ds(e);break;case 19:ds(e);break;case 17:case 20:case 21:break;default:throw s(Error(163))}}function ds(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ts),e.forEach((function(e){var r=Pl.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(t,e,n){(n=la(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Us||(Us=!0,Gs=r),es(t,e)},n}function fs(t,e,n){(n=la(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return es(t,e),r(i)}}var a=t.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Vs?Vs=new Set([this]):Vs.add(this),es(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var ms=Math.ceil,vs=O.ReactCurrentDispatcher,gs=O.ReactCurrentOwner,ys=0,_s=8,bs=16,xs=32,ws=0,Ms=1,As=2,Es=3,Ts=4,Ss=5,Ls=6,ks=ys,Cs=null,Ds=null,Ps=0,Rs=ws,Os=null,Is=1073741823,Ns=1073741823,zs=null,Bs=0,Fs=!1,js=0,Hs=500,Ys=null,Us=!1,Gs=null,Vs=null,Ws=!1,qs=null,Xs=90,Js=null,Zs=0,Qs=null,Ks=0;function $s(){return(ks&(bs|xs))!==ys?1073741821-(ji()/10|0):0!==Ks?Ks:Ks=1073741821-(ji()/10|0)}function tl(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var r=Hi();if(0===(4&e))return 99===r?1073741823:1073741822;if((ks&bs)!==ys)return Ps;if(null!==n)t=1073741821-25*(1+((1073741821-t+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:t=1073741823;break;case 98:t=1073741821-10*(1+((1073741821-t+15)/10|0));break;case 97:case 96:t=1073741821-25*(1+((1073741821-t+500)/25|0));break;case 95:t=2;break;default:throw s(Error(326))}return null!==Cs&&t===Ps&&--t,t}var el,nl=0;function rl(t,e){if(50<Zs)throw Zs=0,Qs=null,s(Error(185));if(null!==(t=il(t,e))){var n=Hi();1073741823===e?(ks&_s)!==ys&&(ks&(bs|xs))===ys?ll(t):(ol(t),ks===ys&&Wi()):ol(t),(4&ks)===ys||98!==n&&99!==n||(null===Js?Js=new Map([[t,e]]):(void 0===(n=Js.get(t))||n>e)&&Js.set(t,e))}}function il(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Cs===i&&(yl(e),Rs===Ts&&Vl(i,Ps)),Wl(i,e)),i}function al(t){var e=t.lastExpiredTime;return 0!==e?e:Gl(t,e=t.firstPendingTime)?(e=t.lastPingedTime)>(t=t.nextKnownPendingLevel)?e:t:e}function ol(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Vi(ll.bind(null,t));else{var e=al(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=$s();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Oi&&Ai(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Vi(ll.bind(null,t)):Gi(r,sl.bind(null,t),{timeout:10*(1073741821-e)-ji()}),t.callbackNode=e}}}function sl(t,e){if(Ks=0,e)return ql(t,e=$s()),ol(t),null;var n=al(t);if(0!==n){if(e=t.callbackNode,(ks&(bs|xs))!==ys)throw s(Error(327));if(Sl(),t===Cs&&n===Ps||fl(t,n),null!==Ds){var r=ks;ks|=bs;for(var i=vl();;)try{bl();break}catch(l){ml(t,l)}if($i(),ks=r,vs.current=i,Rs===Ms)throw e=Os,fl(t,n),Vl(t,n),ol(t),e;if(null===Ds)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,cl(t,n),r=Rs,Cs=null,r){case ws:case Ms:throw s(Error(345));case As:if(2!==n){ql(t,2);break}Al(t);break;case Es:if(Vl(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Ml(i)),1073741823===Is&&10<(i=js+Hs-ji())){if(Fs){var a=t.lastPingedTime;if(0===a||a>=n){t.lastPingedTime=n,fl(t,n);break}}if(0!==(a=al(t))&&a!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=tr(Al.bind(null,t),i);break}Al(t);break;case Ts:if(Vl(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Ml(i)),Fs&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,fl(t,n);break}if(0!==(i=al(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Ns?r=10*(1073741821-Ns)-ji():1073741823===Is?r=0:(r=10*(1073741821-Is)-5e3,0>(r=(i=ji())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ms(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=tr(Al.bind(null,t),r);break}Al(t);break;case Ss:if(1073741823!==Is&&null!==zs){a=Is;var o=zs;if(0>=(r=0|o.busyMinDurationMs)?r=0:(i=0|o.busyDelayMs,r=(a=ji()-(10*(1073741821-a)-(0|o.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Vl(t,n),t.timeoutHandle=tr(Al.bind(null,t),r);break}}Al(t);break;case Ls:Vl(t,n);break;default:throw s(Error(329))}if(ol(t),t.callbackNode===e)return sl.bind(null,t)}}return null}function ll(t){var n=t.lastExpiredTime;if(n=0!==n?n:1073741823,t.finishedExpirationTime===n)Al(t);else{if((ks&(bs|xs))!==ys)throw s(Error(327));if(Sl(),t===Cs&&n===Ps||fl(t,n),null!==Ds){var r=ks;ks|=bs;for(var i=vl();;)try{_l();break}catch(e){ml(t,e)}if($i(),ks=r,vs.current=i,Rs===Ms)throw r=Os,fl(t,n),Vl(t,n),ol(t),r;if(null!==Ds)throw s(Error(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,cl(t,n),Rs===Ls?Vl(t,n):(Cs=null,Al(t)),ol(t)}}return null}function ul(){(ks&(1|bs|xs))===ys&&(function(){if(null!==Js){var t=Js;Js=null,t.forEach((function(t,e){ql(e,t),ol(e)})),Wi()}}(),Sl())}function cl(t,e){var n=t.firstBatch;null!==n&&n._defer&&n._expirationTime>=e&&(Gi(97,(function(){return n._onComplete(),null})),Rs=Ls)}function dl(t,e){var n=ks;ks|=1;try{return t(e)}finally{(ks=n)===ys&&Wi()}}function hl(t,e,n,r){var i=ks;ks|=4;try{return Ui(98,t.bind(null,e,n,r))}finally{(ks=i)===ys&&Wi()}}function pl(t,e){var n=ks;ks&=-2,ks|=_s;try{return t(e)}finally{(ks=n)===ys&&Wi()}}function fl(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,er(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!==i&&void 0!==i&&vi();break;case 3:za(),gi();break;case 5:Fa(r);break;case 4:za();break;case 13:case 19:li(ja);break;case 10:ea(r)}n=n.return}Cs=t,Ds=Bl(t.current,null),Ps=e,Rs=ws,Os=null,Ns=Is=1073741823,zs=null,Bs=0,Fs=!1}function ml(t,e){for(;;){try{if($i(),oo(),null===Ds||null===Ds.return)return Rs=Ms,Os=e,null;t:{var n=t,r=Ds.return,i=Ds,a=e;if(e=Ps,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var o=a,s=0!==(1&ja.current),l=r;do{var u;if(u=13===l.tag){var c=l.memoizedState;if(null!==c)u=null!==c.dehydrated;else{var d=l.memoizedProps;u=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!s)}}if(u){var h=l.updateQueue;if(null===h){var p=new Set;p.add(o),l.updateQueue=p}else h.add(o);if(0===(2&l.mode)){if(l.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var f=la(1073741823,null);f.tag=2,ca(i,f)}i.expirationTime=1073741823;break t}a=void 0,i=e;var m=n.pingCache;if(null===m?(m=n.pingCache=new hs,a=new Set,m.set(o,a)):void 0===(a=m.get(o))&&(a=new Set,m.set(o,a)),!a.has(i)){a.add(i);var v=Dl.bind(null,n,o,i);o.then(v,v)}l.effectTag|=4096,l.expirationTime=e;break t}l=l.return}while(null!==l);a=Error((K(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+$(i))}Rs!==Ss&&(Rs=As),a=$o(a,i),l=r;do{switch(l.tag){case 3:o=a,l.effectTag|=4096,l.expirationTime=e,da(l,ps(l,o,e));break t;case 1:o=a;var g=l.type,y=l.stateNode;if((64&l.effectTag)===ye&&("function"===typeof g.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Vs||!Vs.has(y)))){l.effectTag|=4096,l.expirationTime=e,da(l,fs(l,o,e));break t}}l=l.return}while(null!==l)}Ds=wl(Ds)}catch(_){e=_;continue}break}}function vl(){var t=vs.current;return vs.current=yo,null===t?yo:t}function gl(t,e){t<Is&&2<t&&(Is=t),null!==e&&t<Ns&&2<t&&(Ns=t,zs=e)}function yl(t){t>Bs&&(Bs=t)}function _l(){for(;null!==Ds;)Ds=xl(Ds)}function bl(){for(;null!==Ds&&!Ei();)Ds=xl(Ds)}function xl(t){var e=el(t.alternate,t,Ps);return t.memoizedProps=t.pendingProps,null===e&&(e=wl(t)),gs.current=null,e}function wl(t){Ds=t;do{var e=Ds.alternate;if(t=Ds.return,(2048&Ds.effectTag)===ye){t:{var n=e,r=Ps,i=(e=Ds).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:mi(e.type)&&vi();break;case 3:za(),gi(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===n||null===n.child)&&Lo(e)&&Zo(e),Yo(e);break;case 5:Fa(e),r=Ia(Oa.current);var o=e.type;if(null!==n&&null!=e.stateNode)Uo(n,e,o,i,r),n.ref!==e.ref&&(e.effectTag|=128);else if(i){var l=Ia(Pa.current);if(Lo(e)){o=void 0,n=(i=e).stateNode;var u=i.type,c=i.memoizedProps;switch(n[ar]=i,n[or]=c,u){case"iframe":case"object":case"embed":xn("load",n);break;case"video":case"audio":for(var d=0;d<te.length;d++)xn(te[d],n);break;case"source":xn("error",n);break;case"img":case"image":case"link":xn("error",n),xn("load",n);break;case"form":xn("reset",n),xn("submit",n);break;case"details":xn("toggle",n);break;case"input":Lt(n,c),xn("invalid",n),Fn(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!c.multiple},xn("invalid",n),Fn(r,"onChange");break;case"textarea":Nt(n,c),xn("invalid",n),Fn(r,"onChange")}for(o in zn(u,c),d=null,c)c.hasOwnProperty(o)&&(l=c[o],"children"===o?"string"===typeof l?n.textContent!==l&&(d=["children",l]):"number"===typeof l&&n.textContent!==""+l&&(d=["children",""+l]):f.hasOwnProperty(o)&&null!=l&&Fn(r,o));switch(u){case"input":Et(n),Dt(n,c,!0);break;case"textarea":Et(n),Bt(n);break;case"select":case"option":break;default:"function"===typeof c.onClick&&(n.onclick=jn)}r=d,i.updateQueue=r,null!==r&&Zo(e)}else{c=o,n=i,u=e,d=9===r.nodeType?r:r.ownerDocument,l===Ft.html&&(l=jt(c)),l===Ft.html?"script"===c?((c=d.createElement("div")).innerHTML="<script><\/script>",d=c.removeChild(c.firstChild)):"string"===typeof n.is?d=d.createElement(c,{is:n.is}):(d=d.createElement(c),"select"===c&&(c=d,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):d=d.createElementNS(l,c),(c=d)[ar]=u,c[or]=n,Ho(n=c,e,!1,!1),e.stateNode=n,l=r;var h=Bn(o,i);switch(o){case"iframe":case"object":case"embed":xn("load",n),r=i;break;case"video":case"audio":for(r=0;r<te.length;r++)xn(te[r],n);r=i;break;case"source":xn("error",n),r=i;break;case"img":case"image":case"link":xn("error",n),xn("load",n),r=i;break;case"form":xn("reset",n),xn("submit",n),r=i;break;case"details":xn("toggle",n),r=i;break;case"input":Lt(n,i),r=St(n,i),xn("invalid",n),Fn(l,"onChange");break;case"option":r=Rt(n,i);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=a({},i,{value:void 0}),xn("invalid",n),Fn(l,"onChange");break;case"textarea":Nt(n,i),r=It(n,i),xn("invalid",n),Fn(l,"onChange");break;default:r=i}zn(o,r),u=void 0,c=o,d=n;var p=r;for(u in p)if(p.hasOwnProperty(u)){var m=p[u];"style"===u?In(d,m):"dangerouslySetInnerHTML"===u?null!=(m=m?m.__html:void 0)&&Ut(d,m):"children"===u?"string"===typeof m?("textarea"!==c||""!==m)&&Gt(d,m):"number"===typeof m&&Gt(d,""+m):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(f.hasOwnProperty(u)?null!=m&&Fn(l,u):null!=m&&Mt(d,u,m,h))}switch(o){case"input":Et(n),Dt(n,i,!1);break;case"textarea":Et(n),Bt(n);break;case"option":null!=i.value&&n.setAttribute("value",""+wt(i.value));break;case"select":r=n,n=i,r.multiple=!!n.multiple,null!=(u=n.value)?Ot(r,!!n.multiple,u,!1):null!=n.defaultValue&&Ot(r,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(n.onclick=jn)}Kn(o,i)&&Zo(e)}null!==e.ref&&(e.effectTag|=128)}else if(null===e.stateNode)throw s(Error(166));break;case 6:if(n&&null!=e.stateNode)Go(n,e,n.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw s(Error(166));o=Ia(Oa.current),Ia(Pa.current),Lo(e)?(r=e.stateNode,i=e.memoizedProps,r[ar]=e,r.nodeValue!==i&&Zo(e)):(r=e,(i=(9===o.nodeType?o:o.ownerDocument).createTextNode(i))[ar]=e,r.stateNode=i)}break;case 11:break;case 13:if(li(ja),i=e.memoizedState,(64&e.effectTag)!==ye){e.expirationTime=r;break t}r=null!==i,i=!1,null===n?Lo(e):(i=null!==(o=n.memoizedState),r||null===o||null!==(o=n.child.sibling)&&(null!==(u=e.firstEffect)?(e.firstEffect=o,o.nextEffect=u):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),r&&!i&&0!==(2&e.mode)&&(null===n&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?Rs===ws&&(Rs=Es):(Rs!==ws&&Rs!==Es||(Rs=Ts),0!==Bs&&null!==Cs&&(Vl(Cs,Ps),Wl(Cs,Bs)))),(r||i)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:za(),Yo(e);break;case 10:ea(e);break;case 9:case 14:break;case 17:mi(e.type)&&vi();break;case 19:if(li(ja),null===(i=e.memoizedState))break;if(o=(64&e.effectTag)!==ye,null===(u=i.rendering)){if(o)Qo(i,!1);else if(Rs!==ws||null!==n&&(64&n.effectTag)!==ye)for(n=e.child;null!==n;){if(null!==(u=Ha(n))){for(e.effectTag|=64,Qo(i,!1),null!==(i=u.updateQueue)&&(e.updateQueue=i,e.effectTag|=4),e.firstEffect=e.lastEffect=null,i=e.child;null!==i;)n=r,(o=i).effectTag&=_e,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(u=o.alternate)?(o.childExpirationTime=0,o.expirationTime=n,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=u.childExpirationTime,o.expirationTime=u.expirationTime,o.child=u.child,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,n=u.dependencies,o.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),i=i.sibling;ui(ja,1&ja.current|2),e=e.child;break t}n=n.sibling}}else{if(!o)if(null!==(n=Ha(u))){if(e.effectTag|=64,o=!0,Qo(i,!0),null===i.tail&&"hidden"===i.tailMode){null!==(r=n.updateQueue)&&(e.updateQueue=r,e.effectTag|=4),null!==(e=e.lastEffect=i.lastEffect)&&(e.nextEffect=null);break}}else ji()>i.tailExpiration&&1<r&&(e.effectTag|=64,o=!0,Qo(i,!1),e.expirationTime=e.childExpirationTime=r-1);i.isBackwards?(u.sibling=e.child,e.child=u):(null!==(r=i.last)?r.sibling=u:e.child=u,i.last=u)}if(null!==i.tail){0===i.tailExpiration&&(i.tailExpiration=ji()+500),r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=e.lastEffect,r.sibling=null,i=ja.current,ui(ja,i=o?1&i|2:1&i),e=r;break t}break;case 20:case 21:break;default:throw s(Error(156),e.tag)}e=null}if(r=Ds,1===Ps||1!==r.childExpirationTime){for(i=0,o=r.child;null!==o;)(n=o.expirationTime)>i&&(i=n),(u=o.childExpirationTime)>i&&(i=u),o=o.sibling;r.childExpirationTime=i}if(null!==e)return e;null!==t&&(2048&t.effectTag)===ye&&(null===t.firstEffect&&(t.firstEffect=Ds.firstEffect),null!==Ds.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ds.firstEffect),t.lastEffect=Ds.lastEffect),1<Ds.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ds:t.firstEffect=Ds,t.lastEffect=Ds))}else{if(null!==(e=Ko(Ds)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ds.sibling))return e;Ds=t}while(null!==Ds);return Rs===ws&&(Rs=Ss),null}function Ml(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Al(t){var e=Hi();return Ui(99,El.bind(null,t,e)),null}function El(t,e){if(Sl(),(ks&(bs|xs))!==ys)throw s(Error(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw s(Error(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=Ml(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Cs&&(Ds=Cs=null,Ps=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=ks;ks|=xs,gs.current=null,Zn=bn;var o=Gn();if(Vn(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else t:{var u=(l=(l=o.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(N){l=null;break t}var h=0,p=-1,f=-1,m=0,v=0,g=o,y=null;e:for(;;){for(var _;g!==l||0!==c&&3!==g.nodeType||(p=h+c),g!==d||0!==u&&3!==g.nodeType||(f=h+u),3===g.nodeType&&(h+=g.nodeValue.length),null!==(_=g.firstChild);)y=g,g=_;for(;;){if(g===o)break e;if(y===l&&++m===c&&(p=h),y===d&&++v===u&&(f=h),null!==(_=g.nextSibling))break;y=(g=y).parentNode}g=_}l=-1===p||-1===f?null:{start:p,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;Qn={focusedElem:o,selectionRange:l},bn=!1,Ys=i;do{try{Tl()}catch(N){if(null===Ys)throw s(Error(330));Cl(Ys,N),Ys=Ys.nextEffect}}while(null!==Ys);Ys=i;do{try{for(o=t,l=e;null!==Ys;){var b=Ys.effectTag;if(16&b&&Gt(Ys.stateNode,""),128&b){var x=Ys.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(b&(12|_e|be)){case _e:ls(Ys),Ys.effectTag&=~_e;break;case 6:ls(Ys),Ys.effectTag&=~_e,cs(Ys.alternate,Ys);break;case be:Ys.effectTag&=~be;break;case 1028:Ys.effectTag&=~be,cs(Ys.alternate,Ys);break;case 4:cs(Ys.alternate,Ys);break;case 8:us(o,c=Ys,l),os(c)}Ys=Ys.nextEffect}}catch(N){if(null===Ys)throw s(Error(330));Cl(Ys,N),Ys=Ys.nextEffect}}while(null!==Ys);if(w=Qn,x=Gn(),b=w.focusedElem,l=w.selectionRange,x!==b&&b&&b.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==l&&Vn(b)&&(x=l.start,void 0===(w=l.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),c=b.textContent.length,o=Math.min(l.start,c),l=void 0===l.end?o:Math.min(l.end,c),!w.extend&&o>l&&(c=l,l=o,o=c),c=Un(b,o),d=Un(b,l),c&&d&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==d.node||w.focusOffset!==d.offset)&&((x=x.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),o>l?(w.addRange(x),w.extend(d.node,d.offset)):(x.setEnd(d.node,d.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qn=null,bn=!!Zn,Zn=null,t.current=n,Ys=i;do{try{for(b=r;null!==Ys;){var M=Ys.effectTag;if(36&M){var A=Ys.alternate;switch(w=b,(x=Ys).tag){case 0:case 11:case 15:is(16,32,x);break;case 1:var E=x.stateNode;if(4&x.effectTag)if(null===A)E.componentDidMount();else{var T=x.elementType===x.type?A.memoizedProps:Xi(x.type,A.memoizedProps);E.componentDidUpdate(T,A.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var S=x.updateQueue;null!==S&&ma(0,S,E);break;case 3:var L=x.updateQueue;if(null!==L){if(o=null,null!==x.child)switch(x.child.tag){case 5:o=x.child.stateNode;break;case 1:o=x.child.stateNode}ma(0,L,o)}break;case 5:var k=x.stateNode;null===A&&4&x.effectTag&&(w=k,Kn(x.type,x.memoizedProps)&&w.focus());break;case 6:case 4:case 12:break;case 13:if(null===x.memoizedState){var C=x.alternate;if(null!==C){var D=C.memoizedState;if(null!==D){var P=D.dehydrated;null!==P&&ge(P)}}}break;case 19:case 17:case 20:case 21:break;default:throw s(Error(163))}}if(128&M){var R=(x=Ys).ref;if(null!==R){var O=x.stateNode;switch(x.tag){case 5:var I=O;break;default:I=O}"function"===typeof R?R(I):R.current=I}}Ys=Ys.nextEffect}}catch(N){if(null===Ys)throw s(Error(330));Cl(Ys,N),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Ii(),ks=a}else t.current=n;if(Ws)Ws=!1,qs=t,Xs=e;else for(Ys=i;null!==Ys;)e=Ys.nextEffect,Ys.nextEffect=null,Ys=e;if(0===(e=t.firstPendingTime)&&(Vs=null),1073741823===e?t===Qs?Zs++:(Zs=0,Qs=t):Zs=0,"function"===typeof Rl&&Rl(n.stateNode,r),ol(t),Us)throw Us=!1,t=Gs,Gs=null,t;return(ks&_s)!==ys?null:(Wi(),null)}function Tl(){for(;null!==Ys;){var t=Ys.effectTag;(256&t)!==ye&&rs(Ys.alternate,Ys),(512&t)===ye||Ws||(Ws=!0,Gi(97,(function(){return Sl(),null}))),Ys=Ys.nextEffect}}function Sl(){if(90!==Xs){var t=97<Xs?97:Xs;return Xs=90,Ui(t,Ll)}}function Ll(){if(null===qs)return!1;var t=qs;if(qs=null,(ks&(bs|xs))!==ys)throw s(Error(331));var e=ks;for(ks|=xs,t=t.current.firstEffect;null!==t;){try{var n=t;if((512&n.effectTag)!==ye)switch(n.tag){case 0:case 11:case 15:is(128,0,n),is(0,64,n)}}catch(r){if(null===t)throw s(Error(330));Cl(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return ks=e,Wi(),!0}function kl(t,e,n){ca(t,e=ps(t,e=$o(n,e),1073741823)),null!==(t=il(t,1073741823))&&ol(t)}function Cl(t,e){if(3===t.tag)kl(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){kl(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vs||!Vs.has(r))){ca(n,t=fs(n,t=$o(e,t),1073741823)),null!==(n=il(n,1073741823))&&ol(n);break}}n=n.return}}function Dl(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Cs===t&&Ps===n?Rs===Ts||Rs===Es&&1073741823===Is&&ji()-js<Hs?fl(t,Ps):Fs=!0:Gl(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,t.finishedExpirationTime===n&&(t.finishedExpirationTime=0,t.finishedWork=null),ol(t)))}function Pl(t,e){var n=t.stateNode;null!==n&&n.delete(e),1===(e=1)&&(e=tl(e=$s(),t,null)),null!==(t=il(t,e))&&ol(t)}el=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||hi.current)Do=!0;else{if(r<n){switch(Do=!1,e.tag){case 3:jo(e),ko();break;case 5:if(Ba(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:mi(e.type)&&bi(e);break;case 4:Na(e,e.stateNode.containerInfo);break;case 10:ta(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Wo(t,e,n):(ui(ja,1&ja.current),null!==(e=Jo(t,e,n))?e.sibling:null);ui(ja,1&ja.current);break;case 19:if(r=e.childExpirationTime>=n,(64&t.effectTag)!==ye){if(r)return Xo(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),ui(ja,ja.current),!r)return null}return Jo(t,e,n)}Do=!1}}else Do=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=_e),t=e.pendingProps,i=fi(e,di.current),ra(e,n),i=ao(null,e,r,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,oo(),mi(r)){var a=!0;bi(e)}else a=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var o=r.getDerivedStateFromProps;"function"===typeof o&&_a(e,r,o,t),i.updater=ba,e.stateNode=i,i._reactInternalFiber=e,Aa(e,r,t,n),e=Fo(null,e,r,!0,a,n)}else e.tag=0,Po(null,e,i,n),e=e.child;return e;case 16:if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=_e),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,a=e.tag=function(t){if("function"===typeof t)return zl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===V)return 11;if(t===X)return 14}return 2}(i),t=Xi(i,t),a){case 0:e=zo(null,e,i,t,n);break;case 1:e=Bo(null,e,i,t,n);break;case 11:e=Ro(null,e,i,t,n);break;case 14:e=Oo(null,e,i,Xi(i.type,t),r,n);break;default:throw s(Error(306),i,"")}return e;case 0:return r=e.type,i=e.pendingProps,zo(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Bo(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 3:if(jo(e),null===(r=e.updateQueue))throw s(Error(282));if(i=null!==(i=e.memoizedState)?i.element:null,fa(e,r,e.pendingProps,null,n),(r=e.memoizedState.element)===i)ko(),e=Jo(t,e,n);else{if((i=e.stateNode.hydrate)&&(wo=nr(e.stateNode.containerInfo.firstChild),xo=e,i=Mo=!0),i)for(n=Ca(e,null,r,n),e.child=n;n;)n.effectTag=n.effectTag&~_e|be,n=n.sibling;else Po(t,e,r,n),ko();e=e.child}return e;case 5:return Ba(e),null===t&&To(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,o=i.children,$n(r,i)?o=null:null!==a&&$n(r,a)&&(e.effectTag|=16),No(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Po(t,e,o,n),e=e.child),e;case 6:return null===t&&To(e),null;case 13:return Wo(t,e,n);case 4:return Na(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=ka(e,null,r,n):Po(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ro(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 7:return Po(t,e,e.pendingProps,n),e.child;case 8:case 12:return Po(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,ta(e,a=i.value),null!==o){var l=o.value;if(0===(a=Jr(l,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(o.children===i.children&&!hi.current){e=Jo(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){o=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===l.tag&&((c=la(n,null)).tag=2,ca(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),na(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else o=10===l.tag&&l.type===e.type?null:l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===e){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}}Po(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(a=e.pendingProps).children,ra(e,n),r=r(i=ia(i,a.unstable_observedBits)),e.effectTag|=1,Po(t,e,r,n),e.child;case 14:return a=Xi(i=e.type,e.pendingProps),Oo(t,e,i,a=Xi(i.type,a),r,n);case 15:return Io(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=_e),e.tag=1,mi(r)?(t=!0,bi(e)):t=!1,ra(e,n),wa(e,r,i),Aa(e,r,i,n),Fo(null,e,r,!0,t,n);case 19:return Xo(t,e,n)}throw s(Error(156),e.tag)};var Rl=null,Ol=null;function Il(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=ye,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Nl(t,e,n,r){return new Il(t,e,n,r)}function zl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Bl(t,e){var n=t.alternate;return null===n?((n=Nl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=ye,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fl(t,e,n,r,i,a){var o=2;if(r=t,"function"===typeof t)zl(t)&&(o=1);else if("string"===typeof t)o=5;else t:switch(t){case F:return jl(n.children,i,a,e);case G:o=8,i|=7;break;case j:o=8,i|=1;break;case H:return(t=Nl(12,n,e,8|i)).elementType=H,t.type=H,t.expirationTime=a,t;case W:return(t=Nl(13,n,e,i)).type=W,t.elementType=W,t.expirationTime=a,t;case q:return(t=Nl(19,n,e,i)).elementType=q,t.expirationTime=a,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case Y:o=10;break t;case U:o=9;break t;case V:o=11;break t;case X:o=14;break t;case J:o=16,r=null;break t}throw s(Error(130),null==t?t:typeof t,"")}return(e=Nl(o,n,e,i)).elementType=t,e.type=r,e.expirationTime=a,e}function jl(t,e,n,r){return(t=Nl(7,t,r,e)).expirationTime=n,t}function Hl(t,e,n){return(t=Nl(6,t,null,e)).expirationTime=n,t}function Yl(t,e,n){return(e=Nl(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ul(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Gl(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Vl(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Wl(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function ql(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Xl(t,e,n,r,i,a){var o=e.current;t:if(n){e:{if(xe(n=n._reactInternalFiber)!==n||1!==n.tag)throw s(Error(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw s(Error(171))}if(1===n.tag){var u=n.type;if(mi(u)){n=_i(n,u,l);break t}}n=l}else n=ci;return null===e.context?e.context=n:e.pendingContext=n,e=a,(i=la(r,i)).payload={element:t},null!==(e=void 0===e?null:e)&&(i.callback=e),ca(o,i),rl(o,r),r}function Jl(t,e,n,r){var i=e.current,a=$s(),o=ga.suspense;return Xl(t,e,n,i=tl(a,i,o),o,r)}function Zl(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Ql(t){var e=1073741821-25*(1+((1073741821-$s()+500)/25|0));e<=nl&&--e,this._expirationTime=nl=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Kl(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function $l(t,e,n){var r=new Ul(t,e,n=null!=n&&!0===n.hydrate),i=Nl(3,null,null,2===e?7:1===e?3:0);return r.current=i,i.stateNode=r,t[sr]=r.current,n&&0!==e&&function(t){var e=Cn(t);le.forEach((function(n){Dn(n,t,e)})),ue.forEach((function(n){Dn(n,t,e)}))}(9===t.nodeType?t:t.ownerDocument),r}function tu(t,e,n){this._internalRoot=$l(t,e,n)}function eu(t,e){this._internalRoot=$l(t,2,e)}function nu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ru(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Zl(o);s.call(t)}}Jl(e,o,t,i)}else{if(a=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new tu(t,0,e?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var l=i;i=function(){var t=Zl(o);l.call(t)}}pl((function(){Jl(e,o,t,i)}))}return Zl(o)}function iu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(e))throw s(Error(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:B,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}et=function(t,e,n){switch(e){case"input":if(Ct(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=dr(r);if(!i)throw s(Error(90));Tt(r),Ct(r,i)}}}break;case"textarea":zt(t,n);break;case"select":null!=(e=n.value)&&Ot(t,!!n.multiple,e,!1)}},Ql.prototype.render=function(t){if(!this._defer)throw s(Error(250));this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new Kl;return Xl(t,e,null,n,null,r._onCommit),r},Ql.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Ql.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(!this._defer||null===e)throw s(Error(251));if(this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,i=e;i!==this;)r=i,i=i._next;if(null===r)throw s(Error(251));r._next=i._next,this._next=e,t.firstBatch=this}if(this._defer=!1,e=n,(ks&(bs|xs))!==ys)throw s(Error(253));ql(t,e),ol(t),Wi(),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},Ql.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},Kl.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Kl.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];if("function"!==typeof n)throw s(Error(191),n);n()}}},eu.prototype.render=tu.prototype.render=function(t,e){var n=this._internalRoot,r=new Kl;return null!==(e=void 0===e?null:e)&&r.then(e),Jl(t,n,null,r._onCommit),r},eu.prototype.unmount=tu.prototype.unmount=function(t){var e=this._internalRoot,n=new Kl;return null!==(t=void 0===t?null:t)&&n.then(t),Jl(null,e,null,n._onCommit),n},eu.prototype.createBatch=function(){var t=new Ql(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=t,t._next=null;else{for(n=null;null!==r&&r._expirationTime>=e;)n=r,r=r._next;t._next=r,null!==n&&(n._next=t)}return t},st=dl,lt=hl,ut=ul,ct=function(t,e){var n=ks;ks|=2;try{return t(e)}finally{(ks=n)===ys&&Wi()}};var au={createPortal:iu,findDOMNode:function(t){if(null==t)t=null;else if(1!==t.nodeType){var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw s(Error(188));throw s(Error(268),Object.keys(t))}t=null===(t=Me(e))?null:t.stateNode}return t},hydrate:function(t,e,n){if(!nu(e))throw s(Error(200));return ru(null,t,e,!0,n)},render:function(t,e,n){if(!nu(e))throw s(Error(200));return ru(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){if(!nu(n))throw s(Error(200));if(null==t||void 0===t._reactInternalFiber)throw s(Error(38));return ru(t,e,n,!1,r)},unmountComponentAtNode:function(t){if(!nu(t))throw s(Error(40));return!!t._reactRootContainer&&(pl((function(){ru(null,null,t,!1,(function(){t._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return iu.apply(void 0,arguments)},unstable_batchedUpdates:dl,unstable_interactiveUpdates:function(t,e,n,r){return ul(),hl(t,e,n,r)},unstable_discreteUpdates:hl,unstable_flushDiscreteUpdates:ul,flushSync:function(t,e){if((ks&(bs|xs))!==ys)throw s(Error(187));var n=ks;ks|=1;try{return Ui(99,t.bind(null,e))}finally{ks=n,Wi()}},unstable_createRoot:function(t,e){if(!nu(t))throw s(Error(299),"unstable_createRoot");return new eu(t,e)},unstable_createSyncRoot:function(t,e){if(!nu(t))throw s(Error(299),"unstable_createRoot");return new tu(t,1,e)},unstable_flushControlled:function(t){var e=ks;ks|=1;try{Ui(99,t)}finally{(ks=e)===ys&&Wi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[ur,cr,dr,P.injectEventPluginsByName,p,Ce,function(t){L(t,ke)},at,ot,Tn,D,Sl,{current:!1}]}};!function(t){var n=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)return!0;try{var r=n.inject(t);Rl=function(t){try{n.onCommitFiberRoot(r,t,void 0,64===(64&t.current.effectTag))}catch(e){}},Ol=function(t){try{n.onCommitFiberUnmount(r,t)}catch(e){}}}catch(i){}})(a({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Me(t))?null:t.stateNode},findFiberByHostInstance:function(t){return n?n(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:lr,bundleType:0,version:"16.10.2",rendererPackageName:"react-dom"});var ou={default:au},su=ou&&au||ou;t.exports=su.default||su},function(t,e,n){"use strict";t.exports=n(9)},function(t,e,n){"use strict";var r,i,a,o,s;if(Object.defineProperty(e,"__esModule",{value:!0}),"undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,c=function t(){if(null!==l)try{var n=e.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(t,0),r}},d=Date.now();e.unstable_now=function(){return Date.now()-d},r=function(t){null!==l?setTimeout(r,0,t):(l=t,setTimeout(c,0))},i=function(t,e){u=setTimeout(t,e)},a=function(){clearTimeout(u)},o=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,f=window.setTimeout,m=window.clearTimeout,v=window.requestAnimationFrame,g=window.cancelAnimationFrame;if("undefined"!==typeof console&&("function"!==typeof v&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),"object"===typeof h&&"function"===typeof h.now)e.unstable_now=function(){return h.now()};else{var y=p.now();e.unstable_now=function(){return p.now()-y}}var _=!1,b=null,x=-1,w=5,M=0;o=function(){return e.unstable_now()>=M},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):33.33};var A=new MessageChannel,E=A.port2;A.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();M=t+w;try{b(!0,t)?E.postMessage(null):(_=!1,b=null)}catch(n){throw E.postMessage(null),n}}else _=!1},r=function(t){b=t,_||(_=!0,E.postMessage(null))},i=function(t,n){x=f((function(){t(e.unstable_now())}),n)},a=function(){m(x),x=-1}}function T(t,e){var n=t.length;t.push(e);t:for(;;){var r=Math.floor((n-1)/2),i=t[r];if(!(void 0!==i&&0<k(i,e)))break t;t[r]=e,t[n]=i,n=r}}function S(t){return void 0===(t=t[0])?null:t}function L(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var a=2*(r+1)-1,o=t[a],s=a+1,l=t[s];if(void 0!==o&&0>k(o,n))void 0!==l&&0>k(l,o)?(t[r]=l,t[s]=n,r=s):(t[r]=o,t[a]=n,r=a);else{if(!(void 0!==l&&0>k(l,n)))break t;t[r]=l,t[s]=n,r=s}}}return e}return null}function k(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var C=[],D=[],P=1,R=null,O=3,I=!1,N=!1,z=!1;function B(t){for(var e=S(D);null!==e;){if(null===e.callback)L(D);else{if(!(e.startTime<=t))break;L(D),e.sortIndex=e.expirationTime,T(C,e)}e=S(D)}}function F(t){if(z=!1,B(t),!N)if(null!==S(C))N=!0,r(j);else{var e=S(D);null!==e&&i(F,e.startTime-t)}}function j(t,n){N=!1,z&&(z=!1,a()),I=!0;var r=O;try{for(B(n),R=S(C);null!==R&&(!(R.expirationTime>n)||t&&!o());){var s=R.callback;if(null!==s){R.callback=null,O=R.priorityLevel;var l=s(R.expirationTime<=n);n=e.unstable_now(),"function"===typeof l?R.callback=l:R===S(C)&&L(C),B(n)}else L(C);R=S(C)}if(null!==R)var u=!0;else{var c=S(D);null!==c&&i(F,c.startTime-n),u=!1}return u}finally{R=null,O=r,I=!1}}function H(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var Y=s;e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=O;O=t;try{return e()}finally{O=n}},e.unstable_next=function(t){switch(O){case 1:case 2:case 3:var e=3;break;default:e=O}var n=O;O=e;try{return t()}finally{O=n}},e.unstable_scheduleCallback=function(t,n,o){var s=e.unstable_now();if("object"===typeof o&&null!==o){var l=o.delay;l="number"===typeof l&&0<l?s+l:s,o="number"===typeof o.timeout?o.timeout:H(t)}else o=H(t),l=s;return t={id:P++,callback:n,priorityLevel:t,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>s?(t.sortIndex=l,T(D,t),null===S(C)&&t===S(D)&&(z?a():z=!0,i(F,l-s))):(t.sortIndex=o,T(C,t),N||I||(N=!0,r(j))),t},e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_wrapCallback=function(t){var e=O;return function(){var n=O;O=e;try{return t.apply(this,arguments)}finally{O=n}}},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_shouldYield=function(){var t=e.unstable_now();B(t);var n=S(C);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<R.expirationTime||o()},e.unstable_requestPaint=Y,e.unstable_continueExecution=function(){N||I||(N=!0,r(j))},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return S(C)},e.unstable_Profiling=null},,,,function(t,n,r){(function(n,r){var i;t.exports=function t(e,n,r){function a(s,l){if(!n[s]){if(!e[s]){if(!l&&"function"==typeof i&&i)return i(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,(function(t){var n=e[s][1][t];return a(n||t)}),c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof i&&i,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(t,e,n){var r=Object.prototype.toString;e.exports=function(t){return t.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===r.call(t.buffer)||Array.isArray(t)}},{}],2:[function(t,e,n){e.exports=function(t,e){return"number"===typeof t?t:"number"===typeof e?e:0}},{}],3:[function(t,e,n){"use strict";n.byteLength=function(t){return 3*t.length/4-u(t)},n.toByteArray=function(t){var e,n,r,o,s,l=t.length;o=u(t),s=new a(3*l/4-o),n=o>0?l-4:l;var c=0;for(e=0;e<n;e+=4)r=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],s[c++]=r>>16&255,s[c++]=r>>8&255,s[c++]=255&r;return 2===o?(r=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,s[c++]=255&r):1===o&&(r=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,s[c++]=r>>8&255,s[c++]=255&r),s},n.fromByteArray=function(t){for(var e,n=t.length,i=n%3,a="",o=[],s=0,l=n-i;s<l;s+=16383)o.push(c(t,s,s+16383>l?l:s+16383));return 1===i?(e=t[n-1],a+=r[e>>2],a+=r[e<<4&63],a+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],a+=r[e>>10],a+=r[e>>4&63],a+=r[e<<2&63],a+="="),o.push(a),o.join("")};for(var r=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function c(t,e,n){for(var i,a,o=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],4:[function(t,e,n){"use strict";e.exports={createLink:function(t,e){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("link");for(var i in r.href=t,r.rel="stylesheet",e)if(e.hasOwnProperty(i)){var a=e[i];r.setAttribute("data-"+i,a)}n.appendChild(r)},createStyle:function(t,e){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");for(var i in r.type="text/css",e)if(e.hasOwnProperty(i)){var a=e[i];r.setAttribute("data-"+i,a)}r.sheet?(r.innerHTML=t,r.sheet.cssText=t,n.appendChild(r)):r.styleSheet?(n.appendChild(r),r.styleSheet.cssText=t):(r.appendChild(document.createTextNode(t)),n.appendChild(r))}}},{}],5:[function(t,e,n){var r=t("buffer").Buffer;e.exports=function(t,e){if(r.isBuffer(t)&&r.isBuffer(e)){if("function"===typeof t.equals)return t.equals(e);if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}}},{buffer:6}],6:[function(t,r,i){(function(n){"use strict";var r=t("base64-js"),a=t("ieee754"),o=t("isarray");function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=p(t,e),t}(t,e,n,r):"string"===typeof e?function(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(e,n),i=(t=l(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|f(e.length);return 0===(t=l(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(r=e.length)!==r?l(t,0):p(t,e);if("Buffer"===e.type&&o(e.data))return p(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function d(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(d(e),t=l(t,e<0?0:0|f(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|f(e.length);t=l(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function f(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function m(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(r)return H(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:_(t,e,n,r,i);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,r,i){var a,o=1,s=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,s/=2,l/=2,n/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var c=-1;for(a=n;a<s;a++)if(u(t,a)===u(e,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var d=!0,h=0;h<l;h++)if(u(t,a+h)!==u(e,h)){d=!1;break}if(d)return a}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=e.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[n+o]=s}return o}function x(t,e,n,r){return U(H(e,t.length-n),t,n,r)}function w(t,e,n,r){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function M(t,e,n,r){return w(t,e,n,r)}function A(t,e,n,r){return U(Y(e),t,n,r)}function E(t,e,n,r){return U(function(t,e){for(var n,r,i,a=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(e,t.length-n),t,n,r)}function T(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var a,o,s,l,u=t[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128===(192&(a=t[i+1]))&&(l=(31&u)<<6|63&a)>127&&(c=l);break;case 3:a=t[i+1],o=t[i+2],128===(192&a)&&128===(192&o)&&(l=(15&u)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:a=t[i+1],o=t[i+2],s=t[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=d}return function(t){var e=t.length;if(e<=L)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=L));return n}(r)}i.Buffer=u,i.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},i.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),i.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return d(e),e<=0?l(t,e):void 0!==n?"string"===typeof r?l(t,e).fill(n,r):l(t,e).fill(n):l(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):v.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0),s=Math.min(a,o),l=this.slice(r,i),c=t.slice(e,n),d=0;d<s;++d)if(l[d]!==c[d]){a=l[d],o=c[d];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return M(this,t,e,n);case"base64":return A(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function D(t,e,n){var r,i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var a="",o=e;o<n;++o)a+=(r=t[o])<16?"0"+r.toString(16):r.toString(16);return a}function P(t,e,n){for(var r=t.slice(e,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function R(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,n,r,i,a){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-n,2);i<a;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-n,4);i<a;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function z(t,e,n,r,i,a){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,i){return i||z(t,0,n,4),a.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,i){return i||z(t,0,n,8),a.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=e,i=1,a=this[t+--r];r>0&&(i*=256);)a+=this[t+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*e)),a},u.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),a.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),a.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),a.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),a.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||O(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[e]=255&t;++a<n&&(i*=256);)this[e+a]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||O(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<n&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(a=e;a<n;++a)this[a]=t;else{var o=u.isBuffer(t)?t:H(new u(t,r).toString()),s=o.length;for(a=0;a<n-e;++a)this[a+e]=o[a%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function H(t,e){var n;e=e||1/0;for(var r=t.length,i=null,a=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function Y(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(j,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function U(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"base64-js":3,ieee754:16,isarray:21}],7:[function(t,n,r){!function(){if("undefined"!==typeof window)try{var t=new window.CustomEvent("test",{cancelable:!0});if(t.preventDefault(),!0!==t.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var n=function(e,n){var r,i;return n=n||{bubbles:!1,cancelable:!1,detail:void 0},(r=document.createEvent("CustomEvent")).initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i=r.preventDefault,r.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},r};n.prototype=window.Event.prototype,window.CustomEvent=n}}()},{}],8:[function(t,n,r){function i(){var t;try{t=r.storage.debug}catch(e){}return t}(r=n.exports=t("./debug")).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" "),!e)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var r=0,i=0;return t[0].replace(/%[a-z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(i=r))})),t.splice(i,0,n),t},r.save=function(t){try{null==t?r.storage.removeItem("debug"):r.storage.debug=t}catch(e){}},r.load=i,r.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},r.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(t){return JSON.stringify(t)},r.enable(i())},{"./debug":9}],9:[function(t,e,n){(n=e.exports=function(t){function e(){}function i(){var t=i;null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=n.colors[r++%n.colors.length]);var e=Array.prototype.slice.call(arguments);e[0]=n.coerce(e[0]),"string"!==typeof e[0]&&(e=["%o"].concat(e));var a=0;e[0]=e[0].replace(/%([a-z%])/g,(function(r,i){if("%%"===r)return r;a++;var o=n.formatters[i];if("function"===typeof o){var s=e[a];r=o.call(t,s),e.splice(a,1),a--}return r})),"function"===typeof n.formatArgs&&(e=n.formatArgs.apply(t,e)),(i.log||n.log||console.log.bind(console)).apply(t,e)}e.enabled=!1,i.enabled=!0;var a=n.enabled(t)?i:e;return a.namespace=t,a}).coerce=function(t){return t instanceof Error?t.stack||t.message:t},n.disable=function(){n.enable("")},n.enable=function(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),r=e.length,i=0;i<r;i++)e[i]&&("-"===(t=e[i].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))},n.enabled=function(t){var e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1},n.names=[],n.skips=[],n.formatters={};var r=0},{}],10:[function(t,e,n){"use strict";var r=t("is-obj"),i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(t){if(null===t||void 0===t)throw new TypeError("Sources cannot be null or undefined");return Object(t)}function s(t,e,n){var a=e[n];if(void 0!==a&&null!==a){if(i.call(t,n)&&(void 0===t[n]||null===t[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");i.call(t,n)&&r(a)?t[n]=l(Object(t[n]),e[n]):t[n]=a}}function l(t,e){if(t===e)return t;for(var n in e=Object(e))i.call(e,n)&&s(t,e,n);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),o=0;o<r.length;o++)a.call(e,r[o])&&s(t,e,r[o]);return t}e.exports=function(t){t=o(t);for(var e=1;e<arguments.length;e++)l(t,arguments[e]);return t}},{"is-obj":20}],11:[function(t,n,r){!function(t,n,r,i){"use strict";function a(t,e){for(var n=0,r=t.length;n<r;n++)m(t[n],e)}function o(t){return function(e){nt(e)&&(m(e,t),a(e.querySelectorAll(F),t))}}function s(t){var e=at.call(t,"is"),n=t.nodeName.toUpperCase(),r=H.call(z,e?O+e.toUpperCase():R+n);return e&&-1<r&&!l(n,e)?-1:r}function l(t,e){return-1<F.indexOf(t+'[is="'+e+'"]')}function u(t){var e=t.currentTarget,n=t.attrChange,r=t.attrName,i=t.target;mt&&(!i||i===e)&&e.attributeChangedCallback&&"style"!==r&&t.prevValue!==t.newValue&&e.attributeChangedCallback(r,n===t[S]?null:t.prevValue,n===t[k]?null:t.newValue)}function c(t){var e=o(t);return function(t){v.push(e,t.target)}}function d(t){ft&&(ft=!1,t.currentTarget.removeEventListener(D,d)),a((t.target||n).querySelectorAll(F),t.detail===E?E:A),et&&function(){for(var t,e=0,n=rt.length;e<n;e++)t=rt[e],j.contains(t)||(n--,rt.splice(e--,1),m(t,E))}()}function h(t,e){var n=this;ot.call(n,t,e),g.call(n,{target:n})}function p(t,e){K(t,e),b?b.observe(t,ut):(pt&&(t.setAttribute=h,t[M]=_(t),t.addEventListener(P,g)),t.addEventListener(C,u)),t.createdCallback&&mt&&(t.created=!0,t.createdCallback(),t.created=!1)}function f(t){throw new Error("A "+t+" type is already registered")}function m(t,e){var n,r=s(t);-1<r&&(x(t,B[r]),r=0,e!==A||t[A]?e===E&&!t[E]&&(t[A]=!1,t[E]=!0,r=1):(t[E]=!1,t[A]=!0,r=1,et&&H.call(rt,t)<0&&rt.push(t)),r&&(n=t[e+"Callback"])&&n.call(t))}if(!(i in n)){var v,g,y,_,b,x,w,M="__"+i+(1e5*Math.random()>>0),A="attached",E="detached",T="extends",S="ADDITION",L="MODIFICATION",k="REMOVAL",C="DOMAttrModified",D="DOMContentLoaded",P="DOMSubtreeModified",R="<",O="=",I=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,N=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],z=[],B=[],F="",j=n.documentElement,H=z.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},Y=r.prototype,U=Y.hasOwnProperty,G=Y.isPrototypeOf,V=r.defineProperty,W=r.getOwnPropertyDescriptor,q=r.getOwnPropertyNames,X=r.getPrototypeOf,J=r.setPrototypeOf,Z=!!r.__proto__,Q=r.create||function t(e){return e?(t.prototype=e,new t):this},K=J||(Z?function(t,e){return t.__proto__=e,t}:q&&W?function(){function t(t,e){for(var n,r=q(e),i=0,a=r.length;i<a;i++)n=r[i],U.call(t,n)||V(t,n,W(e,n))}return function(e,n){do{t(e,n)}while((n=X(n))&&!G.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),$=t.MutationObserver||t.WebKitMutationObserver,tt=(t.HTMLElement||t.Element||t.Node).prototype,et=!G.call(tt,j),nt=et?function(t){return 1===t.nodeType}:function(t){return G.call(tt,t)},rt=et&&[],it=tt.cloneNode,at=tt.getAttribute,ot=tt.setAttribute,st=tt.removeAttribute,lt=n.createElement,ut=$&&{attributes:!0,characterData:!0,attributeOldValue:!0},ct=$||function(t){pt=!1,j.removeEventListener(C,ct)},dt=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,10)},ht=!1,pt=!0,ft=!0,mt=!0;J||Z?(x=function(t,e){G.call(e,t)||p(t,e)},w=p):w=x=function(t,e){t[M]||(t[M]=r(!0),p(t,e))},et?(pt=!1,function(){var t=W(tt,"addEventListener"),n=t.value,r=function(t){var e=new CustomEvent(C,{bubbles:!0});e.attrName=t,e.prevValue=at.call(this,t),e.newValue=null,e[k]=e.attrChange=2,st.call(this,t),this.dispatchEvent(e)},i=function(t,n){var r=this.hasAttribute(t),i=r&&at.call(this,t);e=new CustomEvent(C,{bubbles:!0}),ot.call(this,t,n),e.attrName=t,e.prevValue=r?i:null,e.newValue=n,r?e[L]=e.attrChange=1:e[S]=e.attrChange=0,this.dispatchEvent(e)},a=function(t){var e,n=t.currentTarget,r=n[M],i=t.propertyName;r.hasOwnProperty(i)&&(r=r[i],(e=new CustomEvent(C,{bubbles:!0})).attrName=r.name,e.prevValue=r.value||null,e.newValue=r.value=n[i]||null,null==e.prevValue?e[S]=e.attrChange=0:e[L]=e.attrChange=1,n.dispatchEvent(e))};t.value=function(t,e,o){t===C&&this.attributeChangedCallback&&this.setAttribute!==i&&(this[M]={className:{name:"class",value:this.className}},this.setAttribute=i,this.removeAttribute=r,n.call(this,"propertychange",a)),n.call(this,t,e,o)},V(tt,"addEventListener",t)}()):$||(j.addEventListener(C,ct),j.setAttribute(M,1),j.removeAttribute(M),pt&&(g=function(t){var e,n,r,i=this;if(i===t.target){for(r in e=i[M],i[M]=n=_(i),n){if(!(r in e))return y(0,i,r,e[r],n[r],S);if(n[r]!==e[r])return y(1,i,r,e[r],n[r],L)}for(r in e)if(!(r in n))return y(2,i,r,e[r],n[r],k)}},y=function(t,e,n,r,i,a){var o={attrChange:t,currentTarget:e,attrName:n,prevValue:r,newValue:i};o[a]=t,u(o)},_=function(t){for(var e,n,r={},i=t.attributes,a=0,o=i.length;a<o;a++)"setAttribute"!==(n=(e=i[a]).name)&&(r[n]=e.value);return r})),n[i]=function(t,e){if(r=t.toUpperCase(),ht||(ht=!0,$?(b=function(t,e){function n(t,e){for(var n=0,r=t.length;n<r;e(t[n++]));}return new $((function(r){for(var i,a,o,s=0,l=r.length;s<l;s++)"childList"===(i=r[s]).type?(n(i.addedNodes,t),n(i.removedNodes,e)):(a=i.target,mt&&a.attributeChangedCallback&&"style"!==i.attributeName&&(o=at.call(a,i.attributeName))!==i.oldValue&&a.attributeChangedCallback(i.attributeName,i.oldValue,o))}))}(o(A),o(E))).observe(n,{childList:!0,subtree:!0}):(v=[],dt((function t(){for(;v.length;)v.shift().call(null,v.shift());dt(t)})),n.addEventListener("DOMNodeInserted",c(A)),n.addEventListener("DOMNodeRemoved",c(E))),n.addEventListener(D,d),n.addEventListener("readystatechange",d),n.createElement=function(t,e){var r=lt.apply(n,arguments),i=""+t,a=H.call(z,(e?O:R)+(e||i).toUpperCase()),o=-1<a;return e&&(r.setAttribute("is",e=e.toLowerCase()),o&&(o=l(i.toUpperCase(),e))),mt=!n.createElement.innerHTMLHelper,o&&w(r,B[a]),r},tt.cloneNode=function(t){var e=it.call(this,!!t),n=s(e);return-1<n&&w(e,B[n]),t&&function(t){for(var e,n=0,r=t.length;n<r;n++)e=t[n],w(e,B[s(e)])}(e.querySelectorAll(F)),e}),-2<H.call(z,O+r)+H.call(z,R+r)&&f(t),!I.test(r)||-1<H.call(N,r))throw new Error("The type "+t+" is invalid");var r,i,u=function(){return p?n.createElement(m,r):n.createElement(m)},h=e||Y,p=U.call(h,T),m=p?e[T].toUpperCase():r;return p&&-1<H.call(z,R+m)&&f(m),i=z.push((p?O:R)+r)-1,F=F.concat(F.length?",":"",p?m+'[is="'+t.toLowerCase()+'"]':m),u.prototype=B[i]=U.call(h,"prototype")?h.prototype:Q(tt),a(n.querySelectorAll(F),A),u}}}(window,document,Object,"registerElement")},{}],12:[function(t,e,n){e.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],13:[function(t,e,n){var r=t("dtype");e.exports=function(t,e,n){if(!t)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(t)&&Array.isArray(t[0])){var i=t[0].length,a=t.length*i;e&&"string"!==typeof e||(e=new(r(e||"float32"))(a+n));var o=e.length-n;if(a!==o)throw new Error("source length "+a+" ("+i+"x"+t.length+") does not match destination length "+o);for(var s=0,l=n;s<t.length;s++)for(var u=0;u<i;u++)e[l++]=t[s][u]}else if(e&&"string"!==typeof e)e.set(t,n);else{var c=r(e||"float32");0===n?e=new c(t):(e=new c(t.length+n)).set(t,n)}return e}},{dtype:12}],14:[function(t,e,n){var r=t("is-function");e.exports=function(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===i.call(t)?function(t,e,n){for(var r=0,i=t.length;r<i;r++)a.call(t,r)&&e.call(n,t[r],r,t)}(t,e,n):"string"===typeof t?function(t,e,n){for(var r=0,i=t.length;r<i;r++)e.call(n,t.charAt(r),r,t)}(t,e,n):function(t,e,n){for(var r in t)a.call(t,r)&&e.call(n,t[r],r,t)}(t,e,n)};var i=Object.prototype.toString,a=Object.prototype.hasOwnProperty},{"is-function":19}],15:[function(t,e,r){(function(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=n}).call(this,"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],16:[function(t,e,n){n.read=function(t,e,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?i-1:0,h=n?-1:1,p=t[e+d];for(d+=h,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+t[e+d],d+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+t[e+d],d+=h,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),a-=u}return(p?-1:1)*o*Math.pow(2,a-r)},n.write=function(t,e,n,r,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,d=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,f=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(e*l-1)*Math.pow(2,i),o+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[n+p]=255&s,p+=f,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;t[n+p]=255&o,p+=f,o/=256,u-=8);t[n+p-f]|=128*m}},{}],17:[function(t,e,n){"function"===typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],18:[function(t,e,n){function r(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(r(t)||function(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},{}],19:[function(t,e,n){e.exports=function(t){var e=r.call(t);return"[object Function]"===e||"function"===typeof t&&"[object RegExp]"!==e||"undefined"!==typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var r=Object.prototype.toString},{}],20:[function(t,e,n){"use strict";e.exports=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}},{}],21:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],22:[function(t,e,n){var r=t("word-wrapper"),i=t("xtend"),a=t("as-number"),o=["x","e","a","o","n","s","r","c","u","m","v","w","z"],s=["m","w"],l=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],u="\t".charCodeAt(0),c=" ".charCodeAt(0),d=0,h=1,p=2;function f(t){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(t)}function m(t){return new Function(["return function "+t+"() {","  return this._"+t,"}"].join("\n"))()}function v(t,e){if(!t.chars||0===t.chars.length)return null;var n=y(t.chars,e);return n>=0?t.chars[n]:null}function g(t,e,n){if(!t.kernings||0===t.kernings.length)return 0;for(var r=t.kernings,i=0;i<r.length;i++){var a=r[i];if(a.first===e&&a.second===n)return a.amount}return 0}function y(t,e,n){for(var r=n=n||0;r<t.length;r++)if(t[r].id===e)return r;return-1}e.exports=function(t){return new f(t)},f.prototype.update=function(t){if(t=i({measure:this._measure},t),this._opt=t,this._opt.tabSize=a(this._opt.tabSize,4),!t.font)throw new Error("must provide a valid bitmap font");var e=this.glyphs,n=t.text||"",s=t.font;this._setupSpaceGlyphs(s);var u=r.lines(n,t),c=t.width||0;e.length=0;var f=u.reduce((function(t,e){return Math.max(t,e.width,c)}),0),m=0,v=0,_=a(t.lineHeight,s.common.lineHeight),b=s.common.base,x=_-b,w=t.letterSpacing||0,M=_*u.length-x,A=function(t){return"center"===t?h:"right"===t?p:d}(this._opt.align);v-=M,this._width=f,this._height=M,this._descender=_-b,this._baseline=b,this._xHeight=function(t){for(var e=0;e<o.length;e++){var n=o[e].charCodeAt(0),r=y(t.chars,n);if(r>=0)return t.chars[r].height}return 0}(s),this._capHeight=function(t){for(var e=0;e<l.length;e++){var n=l[e].charCodeAt(0),r=y(t.chars,n);if(r>=0)return t.chars[r].height}return 0}(s),this._lineHeight=_,this._ascender=_-x-this._xHeight;var E=this;u.forEach((function(t,r){for(var i,a=t.start,o=t.end,l=t.width,u=a;u<o;u++){var c=n.charCodeAt(u),d=E.getGlyph(s,c);if(d){i&&(m+=g(s,i.id,d.id));var y=m;A===h?y+=(f-l)/2:A===p&&(y+=f-l),e.push({position:[y,v],data:d,index:u,line:r}),m+=d.xadvance+w,i=d}}v+=_,m=0})),this._linesTotal=u.length},f.prototype._setupSpaceGlyphs=function(t){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,t.chars&&0!==t.chars.length){var e=v(t,c)||function(t){for(var e=0;e<s.length;e++){var n=s[e].charCodeAt(0),r=y(t.chars,n);if(r>=0)return t.chars[r]}return 0}(t)||t.chars[0],n=this._opt.tabSize*e.xadvance;this._fallbackSpaceGlyph=e,this._fallbackTabGlyph=i(e,{x:0,y:0,xadvance:n,id:u,xoffset:0,yoffset:0,width:0,height:0})}},f.prototype.getGlyph=function(t,e){var n=v(t,e);return n||(e===u?this._fallbackTabGlyph:e===c?this._fallbackSpaceGlyph:null)},f.prototype.computeMetrics=function(t,e,n,r){var i,a=this._opt.letterSpacing||0,o=this._opt.font,s=0,l=0,u=0;if(!o.chars||0===o.chars.length)return{start:e,end:e,width:0};n=Math.min(t.length,n);for(var c=e;c<n;c++){var d,h=t.charCodeAt(c);if(d=this.getGlyph(o,h)){d.xoffset;var p=(s+=i?g(o,i.id,d.id):0)+d.xadvance+a,f=s+d.width;if(f>=r||p>=r)break;s=p,l=f,i=d}u++}return i&&(l+=i.xoffset),{start:e,end:e+u,width:l}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach((function(t){Object.defineProperty(f.prototype,t,{get:m(t),configurable:!0})}))},{"as-number":2,"word-wrapper":47,xtend:50}],23:[function(t,n,r){(function(r){var i=t("xhr"),a=function(){},o=t("parse-bmfont-ascii"),s=t("parse-bmfont-xml"),l=t("parse-bmfont-binary"),u=t("./lib/is-binary"),c=t("xtend"),d=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;n.exports=function(t,n){n="function"===typeof n?n:a,"string"===typeof t?t={uri:t}:t||(t={}),t.binary&&(t=function(t){if(d)return c(t,{responseType:"arraybuffer"});if("undefined"===typeof self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var e=new self.XMLHttpRequest;return e.overrideMimeType("text/plain; charset=x-user-defined"),c({xhr:e},t)}(t)),i(t,(function(i,c,d){if(i)return n(i);if(!/^2/.test(c.statusCode))return n(new Error("http status code: "+c.statusCode));if(!d)return n(new Error("no body result"));var h,p,f=!1;if(h=d,"[object ArrayBuffer]"===Object.prototype.toString.call(h)){var m=new Uint8Array(d);d=new r(m,"binary")}u(d)&&(f=!0,"string"===typeof d&&(d=new r(d,"binary"))),f||(r.isBuffer(d)&&(d=d.toString(t.encoding)),d=d.trim());try{var v=c.headers["content-type"];p=f?l(d):/json/.test(v)||"{"===d.charAt(0)?JSON.parse(d):/xml/.test(v)||"<"===d.charAt(0)?s(d):o(d)}catch(e){n(new Error("error parsing font "+e.message)),n=a}n(null,p)}))}}).call(this,t("buffer").Buffer)},{"./lib/is-binary":24,buffer:6,"parse-bmfont-ascii":26,"parse-bmfont-binary":27,"parse-bmfont-xml":28,xhr:48,xtend:50}],24:[function(t,e,n){(function(n){var r=t("buffer-equal"),i=new n([66,77,70,3]);e.exports=function(t){return"string"===typeof t?"BMF"===t.substring(0,3):t.length>4&&r(t.slice(0,4),i)}}).call(this,t("buffer").Buffer)},{buffer:6,"buffer-equal":5}],25:[function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,l=o(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},{}],26:[function(t,e,n){function r(t,e){if(!(t=t.replace(/\t+/g," ").trim()))return null;var n=t.indexOf(" ");if(-1===n)throw new Error("no named row at line "+e);var r=t.substring(0,n);t=(t=(t=(t=t.substring(n+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map((function(t){return t.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)}));for(var a=[],o=0;o<t.length;o++){var s=t[o];0===o?a.push({key:s[0],data:""}):o===t.length-1?a[a.length-1].data=i(s[0]):(a[a.length-1].data=i(s[0]),a.push({key:s[1],data:""}))}var l={key:r,data:{}};return a.forEach((function(t){l.data[t.key]=t.data})),l}function i(t){return t&&0!==t.length?0===t.indexOf('"')||0===t.indexOf("'")?t.substring(1,t.length-1):-1!==t.indexOf(",")?function(t){return t.split(",").map((function(t){return parseInt(t,10)}))}(t):parseInt(t,10):""}e.exports=function(t){if(!t)throw new Error("no data provided");var e={pages:[],chars:[],kernings:[]},n=(t=t.toString().trim()).split(/\r\n?|\n/g);if(0===n.length)throw new Error("no data in BMFont file");for(var i=0;i<n.length;i++){var a=r(n[i],i);if(a)if("page"===a.key){if("number"!==typeof a.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!==typeof a.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');e.pages[a.data.id]=a.data.file}else"chars"===a.key||"kernings"===a.key||("char"===a.key?e.chars.push(a.data):"kerning"===a.key?e.kernings.push(a.data):e[a.key]=a.data)}return e}},{}],27:[function(t,e,n){var r=[66,77,70];function i(t,e,n){if(n>e.length-1)return 0;var r=e.readUInt8(n++),i=e.readInt32LE(n);switch(n+=4,r){case 1:t.info=function(t,e){var n={};n.size=t.readInt16LE(e);var r=t.readUInt8(e+2);return n.smooth=r>>7&1,n.unicode=r>>6&1,n.italic=r>>5&1,n.bold=r>>4&1,r>>3&1&&(n.fixedHeight=1),n.charset=t.readUInt8(e+3)||"",n.stretchH=t.readUInt16LE(e+4),n.aa=t.readUInt8(e+6),n.padding=[t.readInt8(e+7),t.readInt8(e+8),t.readInt8(e+9),t.readInt8(e+10)],n.spacing=[t.readInt8(e+11),t.readInt8(e+12)],n.outline=t.readUInt8(e+13),n.face=function(t,e){return a(t,e).toString("utf8")}(t,e+14),n}(e,n);break;case 2:t.common=function(t,e){var n={};return n.lineHeight=t.readUInt16LE(e),n.base=t.readUInt16LE(e+2),n.scaleW=t.readUInt16LE(e+4),n.scaleH=t.readUInt16LE(e+6),n.pages=t.readUInt16LE(e+8),t.readUInt8(e+10),n.packed=0,n.alphaChnl=t.readUInt8(e+11),n.redChnl=t.readUInt8(e+12),n.greenChnl=t.readUInt8(e+13),n.blueChnl=t.readUInt8(e+14),n}(e,n);break;case 3:t.pages=function(t,e,n){for(var r=[],i=a(t,e),o=i.length+1,s=n/o,l=0;l<s;l++)r[l]=t.slice(e,e+i.length).toString("utf8"),e+=o;return r}(e,n,i);break;case 4:t.chars=function(t,e,n){for(var r=[],i=n/20,a=0;a<i;a++){var o={},s=20*a;o.id=t.readUInt32LE(e+0+s),o.x=t.readUInt16LE(e+4+s),o.y=t.readUInt16LE(e+6+s),o.width=t.readUInt16LE(e+8+s),o.height=t.readUInt16LE(e+10+s),o.xoffset=t.readInt16LE(e+12+s),o.yoffset=t.readInt16LE(e+14+s),o.xadvance=t.readInt16LE(e+16+s),o.page=t.readUInt8(e+18+s),o.chnl=t.readUInt8(e+19+s),r[a]=o}return r}(e,n,i);break;case 5:t.kernings=function(t,e,n){for(var r=[],i=n/10,a=0;a<i;a++){var o={},s=10*a;o.first=t.readUInt32LE(e+0+s),o.second=t.readUInt32LE(e+4+s),o.amount=t.readInt16LE(e+8+s),r[a]=o}return r}(e,n,i)}return 5+i}function a(t,e){for(var n=e;n<t.length&&0!==t[n];n++);return t.slice(e,n)}e.exports=function(t){if(t.length<6)throw new Error("invalid buffer length for BMFont");if(!r.every((function(e,n){return t.readUInt8(n)===e})))throw new Error("BMFont missing BMF byte header");var e=3;if(t.readUInt8(e++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var n={kernings:[],chars:[]},a=0;a<5;a++)e+=i(n,t,e);return n}},{}],28:[function(t,e,n){var r=t("./parse-attribs"),i=t("xml-parse-from-string"),a={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function o(t){return function(t){for(var e=[],n=0;n<t.attributes.length;n++)e.push(t.attributes[n]);return e}(t).reduce((function(t,e){var n;return t[(n=e.nodeName,a[n.toLowerCase()]||n)]=e.nodeValue,t}),{})}e.exports=function(t){t=t.toString();var e=i(t),n={pages:[],chars:[],kernings:[]};["info","common"].forEach((function(t){var i=e.getElementsByTagName(t)[0];i&&(n[t]=r(o(i)))}));var a=e.getElementsByTagName("pages")[0];if(!a)throw new Error("malformed file -- no <pages> element");for(var s=a.getElementsByTagName("page"),l=0;l<s.length;l++){var u=s[l],c=parseInt(u.getAttribute("id"),10),d=u.getAttribute("file");if(isNaN(c))throw new Error('malformed file -- page "id" attribute is NaN');if(!d)throw new Error('malformed file -- needs page "file" attribute');n.pages[parseInt(c,10)]=d}return["chars","kernings"].forEach((function(t){var i=e.getElementsByTagName(t)[0];if(i)for(var a=t.substring(0,t.length-1),s=i.getElementsByTagName(a),l=0;l<s.length;l++){var u=s[l];n[t].push(r(o(u)))}})),n}},{"./parse-attribs":29,"xml-parse-from-string":49}],29:[function(t,e,n){e.exports=function(t){for(var e in"chasrset"in t&&(t.charset=t.chasrset,delete t.chasrset),t)"face"!==e&&"charset"!==e&&(t[e]="padding"===e||"spacing"===e?t[e].split(",").map((function(t){return parseInt(t,10)})):parseInt(t[e],10));return t}},{}],30:[function(t,e,n){var r=t("trim"),i=t("for-each");e.exports=function(t){if(!t)return{};var e={};return i(r(t).split("\n"),(function(t){var n,i=t.indexOf(":"),a=r(t.slice(0,i)).toLowerCase(),o=r(t.slice(i+1));"undefined"===typeof e[a]?e[a]=o:(n=e[a],"[object Array]"===Object.prototype.toString.call(n)?e[a].push(o):e[a]=[e[a],o])})),e}},{"for-each":14,trim:45}],31:[function(t,e,r){(function(t){var n=t.performance||{},r=function(){for(var t=["now","webkitNow","msNow","mozNow","oNow"];t.length;){var e=t.shift();if(e in n)return n[e].bind(n)}var r=Date.now||function(){return(new Date).getTime()},i=(n.timing||{}).navigationStart||r();return function(){return r()-i}}();r.performanceNow=n.now,r.noConflict=function(){n.now=r.performanceNow},r.conflict=function(){n.now=r},r.conflict(),e.exports=r}).call(this,"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],32:[function(t,n,r){var i,a,o=n.exports={};function s(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function u(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"===typeof setTimeout?setTimeout:s}catch(e){i=s}try{a="function"===typeof clearTimeout?clearTimeout:l}catch(e){a=l}}();var c,d=[],h=!1,p=-1;function f(){h&&c&&(h=!1,c.length?d=c.concat(d):p=-1,d.length&&m())}function m(){if(!h){var t=u(f);h=!0;for(var n=d.length;n;){for(c=d,d=[];++p<n;)c&&c[p].run();p=-1,n=d.length}c=null,h=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===l||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new v(t,e)),1!==d.length||h||u(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],33:[function(t,n,i){!function(t){var i=setTimeout,a="function"===typeof r&&r||function(t){i(t,1)};function o(t,e){return function(){t.apply(e,arguments)}}var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function l(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(t,o(c,this),o(d,this))}function u(t){var n=this;null!==this._state?a((function(){var r=n._state?t.onFulfilled:t.onRejected;if(null!==r){var i;try{i=r(n._value)}catch(e){return void t.reject(e)}t.resolve(i)}else(n._state?t.resolve:t.reject)(n._value)})):this._deferreds.push(t)}function c(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if("function"===typeof n)return void f(o(n,t),o(c,this),o(d,this))}this._state=!0,this._value=t,h.call(this)}catch(e){d.call(this,e)}}function d(t){this._state=!1,this._value=t,h.call(this)}function h(){for(var t=0,e=this._deferreds.length;t<e;t++)u.call(this,this._deferreds[t]);this._deferreds=null}function p(t,e,n,r){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.resolve=n,this.reject=r}function f(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(i){if(r)return;r=!0,n(i)}}l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){var n=this;return new l((function(r,i){u.call(n,new p(t,e,r,i))}))},l.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&s(arguments[0])?arguments[0]:arguments);return new l((function(e,n){if(0===t.length)return e([]);var r=t.length;function i(a,o){try{if(o&&("object"===typeof o||"function"===typeof o)){var s=o.then;if("function"===typeof s)return void s.call(o,(function(t){i(a,t)}),n)}t[a]=o,0===--r&&e(t)}catch(l){n(l)}}for(var a=0;a<t.length;a++)i(a,t[a])}))},l.resolve=function(t){return t&&"object"===typeof t&&t.constructor===l?t:new l((function(e){e(t)}))},l.reject=function(t){return new l((function(e,n){n(t)}))},l.race=function(t){return new l((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},l._setImmediateFn=function(t){a=t},"undefined"!==typeof n&&n.exports?n.exports=l:t.Promise||(t.Promise=l)}(this)},{}],34:[function(t,e,n){var r=t("dtype"),i=t("an-array"),a=t("is-buffer"),o=[0,2,3],s=[2,1,3];e.exports=function(t,e){t&&(i(t)||a(t))||(e=t||{},t=null);for(var n="string"===typeof(e="number"===typeof e?{count:e}:e||{}).type?e.type:"uint16",l="number"===typeof e.count?e.count:1,u=e.start||0,c=!1!==e.clockwise?o:s,d=c[0],h=c[1],p=c[2],f=6*l,m=t||new(r(n))(f),v=0,g=0;v<f;v+=6,g+=4){var y=v+u;m[y+0]=g+0,m[y+1]=g+1,m[y+2]=g+2,m[y+3]=g+d,m[y+4]=g+h,m[y+5]=g+p}return m}},{"an-array":1,dtype:12,"is-buffer":18}],35:[function(t,n,r){"use strict";var i={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},a={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},o=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],s={CSS:{},springs:{}};function l(t,e,n){return Math.min(Math.max(t,e),n)}function u(t,e){return t.indexOf(e)>-1}function c(t,e){return t.apply(null,e)}var d=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,h=/^rgb/,p=/^hsl/,f={arr:function(t){return Array.isArray(t)},obj:function(t){return u(Object.prototype.toString.call(t),"Object")},pth:function(t){return f.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||f.svg(t)},str:function(t){return"string"===typeof t},fnc:function(t){return"function"===typeof t},und:function(t){return"undefined"===typeof t},hex:function(t){return d.test(t)},rgb:function(t){return h.test(t)},hsl:function(t){return p.test(t)},col:function(t){return f.hex(t)||f.rgb(t)||f.hsl(t)},key:function(t){return!i.hasOwnProperty(t)&&!a.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}},m=/\(([^)]+)\)/;function v(t){var e=m.exec(t);return e?e[1].split(",").map((function(t){return parseFloat(t)})):[]}function g(t,e){var n=v(t),r=l(f.und(n[0])?1:n[0],.1,100),i=l(f.und(n[1])?100:n[1],.1,100),a=l(f.und(n[2])?10:n[2],.1,100),o=l(f.und(n[3])?0:n[3],.1,100),u=Math.sqrt(i/r),c=a/(2*Math.sqrt(i*r)),d=c<1?u*Math.sqrt(1-c*c):0,h=1,p=c<1?(c*u-o)/d:-o+u;function m(t){var n=e?e*t/1e3:t;return n=c<1?Math.exp(-n*c*u)*(h*Math.cos(d*n)+p*Math.sin(d*n)):(h+p*n)*Math.exp(-n*u),0===t||1===t?t:1-n}return e?m:function(){var e=s.springs[t];if(e)return e;for(var n=0,r=0;;)if(1===m(n+=1/6)){if(++r>=16)break}else r=0;var i=n*(1/6)*1e3;return s.springs[t]=i,i}}function y(t,e){void 0===t&&(t=1),void 0===e&&(e=.5);var n=l(t,1,10),r=l(e,.1,2);return function(t){return 0===t||1===t?t:-n*Math.pow(2,10*(t-1))*Math.sin((t-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}function _(t){return void 0===t&&(t=10),function(e){return Math.round(e*t)*(1/t)}}var b=function(){var t=11,e=1/(t-1);function n(t,e){return 1-3*e+3*t}function r(t,e){return 3*e-6*t}function i(t){return 3*t}function a(t,e,a){return((n(e,a)*t+r(e,a))*t+i(e))*t}function o(t,e,a){return 3*n(e,a)*t*t+2*r(e,a)*t+i(e)}return function(n,r,i,s){if(0<=n&&n<=1&&0<=i&&i<=1){var l=new Float32Array(t);if(n!==r||i!==s)for(var u=0;u<t;++u)l[u]=a(u*e,n,i);return function(t){return n===r&&i===s?t:0===t||1===t?t:a(c(t),r,s)}}function c(r){for(var s=0,u=1,c=t-1;u!==c&&l[u]<=r;++u)s+=e;var d=s+(r-l[--u])/(l[u+1]-l[u])*e,h=o(d,n,i);return h>=.001?function(t,e,n,r){for(var i=0;i<4;++i){var s=o(e,n,r);if(0===s)return e;e-=(a(e,n,r)-t)/s}return e}(r,d,n,i):0===h?d:function(t,e,n,r,i){var o,s,l=0;do{(o=a(s=e+(n-e)/2,r,i)-t)>0?n=s:e=s}while(Math.abs(o)>1e-7&&++l<10);return s}(r,s,s+e,n,i)}}}(),x=function(){var t=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],e={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],y],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(t,e){return function(n){return 1-y(t,e)(1-n)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(t,e){return function(n){return n<.5?y(t,e)(2*n)/2:1-y(t,e)(-2*n+2)/2}}]},n={linear:[.25,.25,.75,.75]};for(var r in e)for(var i=0,a=e[r].length;i<a;i++)n["ease"+r+t[i]]=e[r][i];return n}();function w(t,e){if(f.fnc(t))return t;var n=t.split("(")[0],r=x[n],i=v(t);switch(n){case"spring":return g(t,e);case"cubicBezier":return c(b,i);case"steps":return c(_,i);default:return f.fnc(r)?c(r,i):c(b,r)}}function M(t){try{return document.querySelectorAll(t)}catch(e){return}}var A=[];function E(t,e){for(var n=A,r=t.length,i=arguments.length>=2?arguments[1]:void 0,a=0;a<r;a++)if(a in t){var o=t[a];e.call(i,o,a,t)&&n.push(o)}return(A=t).length=0,n}var T=[];function S(t){if(!t.length)return t;var e=T,n=t.pop();do{if(n.constructor===Array)for(var r=0;r<n.length;r++)t.push(n[r]);else e.push(n)}while(t.length&&void 0!==(n=t.pop()));return e.reverse(),T=t,A.length=0,e}function L(t){return f.arr(t)?t:(f.str(t)&&(t=M(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function k(t,e){return t.some((function(t){return t===e}))}function C(t){var e={};for(var n in t)e[n]=t[n];return e}function D(t,e){var n=C(t);for(var r in t)n[r]=e.hasOwnProperty(r)?e[r]:t[r];return n}function P(t,e){var n=C(t);for(var r in e)n[r]=f.und(t[r])?e[r]:t[r];return n}var R=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g,O=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,I=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,N=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g,z=/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g;function B(t){return f.rgb(t)?function(t){var e=R.exec(t);return e?"rgba("+e[1]+",1)":t}(t):f.hex(t)?function(t){var e=t.replace(O,(function(t,e,n,r){return e+e+n+n+r+r})),n=I.exec(e);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(t):f.hsl(t)?function(t){var e,n,r,i=N.exec(t)||z.exec(t),a=parseInt(i[1],10)/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,l=i[4]||1;function u(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==o)e=n=r=s;else{var c=s<.5?s*(1+o):s+o-s*o,d=2*s-c;e=u(d,c,a+1/3),n=u(d,c,a),r=u(d,c,a-1/3)}return"rgba("+255*e+","+255*n+","+255*r+","+l+")"}(t):void 0}var F=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/;function j(t){var e=F.exec(t);if(e)return e[2]}function H(t,e){return f.fnc(t)?t(e.target,e.id,e.total):t}function Y(t,e){return t.getAttribute(e)}function U(t,e,n){if(k([n,"deg","rad","turn"],j(e)))return e;var r=s.CSS[e+n];if(!f.und(r))return r;var i=document.createElement(t.tagName),a=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;a.appendChild(i),i.style.position="absolute",i.style.width=100+n;var o=100/i.offsetWidth;a.removeChild(i);var l=o*parseFloat(e);return s.CSS[e+n]=l,l}function G(t,e,n){if(e in t.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[e]||getComputedStyle(t).getPropertyValue(r)||"0";return n?U(t,i,n):i}}function V(t,e){return f.dom(t)&&!f.inp(t)&&(Y(t,e)||f.svg(t)&&t[e])?"attribute":f.dom(t)&&k(o,e)?"transform":f.dom(t)&&"transform"!==e&&G(t,e)?"css":null!=t[e]?"object":void 0}var W=/(\w+)\(([^)]*)\)/g;function q(t){if(f.dom(t)){for(var e,n=t.style.transform||"",r=new Map;e=W.exec(n);)r.set(e[1],e[2]);return r}}function X(t,e,n,r){var i=u(e,"scale")?1:0+function(t){return u(t,"translate")||"perspective"===t?"px":u(t,"rotate")||u(t,"skew")?"deg":void 0}(e),a=q(t).get(e)||i;return n&&(n.transforms.list.set(e,a),n.transforms.last=e),r?U(t,a,r):a}function J(t,e,n,r){switch(V(t,e)){case"transform":return X(t,e,r,n);case"css":return G(t,e,n);case"attribute":return Y(t,e);default:return t[e]||0}}var Z=/^(\*=|\+=|-=)/;function Q(t,e){var n=Z.exec(t);if(!n)return t;var r=j(t)||0,i=parseFloat(e),a=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return i+a+r;case"-":return i-a+r;case"*":return i*a+r}}var K=/\s/g;function $(t,e){if(f.col(t))return B(t);var n=j(t),r=n?t.substr(0,t.length-n.length):t;return e&&!K.test(t)?r+e:r}function tt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function et(t){for(var e,n=t.points,r=0,i=0;i<n.numberOfItems;i++){var a=n.getItem(i);i>0&&(r+=tt(e,a)),e=a}return r}function nt(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return function(t){return 2*Math.PI*Y(t,"r")}(t);case"rect":return function(t){return 2*Y(t,"width")+2*Y(t,"height")}(t);case"line":return function(t){return tt({x:Y(t,"x1"),y:Y(t,"y1")},{x:Y(t,"x2"),y:Y(t,"y2")})}(t);case"polyline":return et(t);case"polygon":return function(t){var e=t.points;return et(t)+tt(e.getItem(e.numberOfItems-1),e.getItem(0))}(t)}}function rt(t,e){var n=e||{},r=n.el||function(t){for(var e=t.parentNode;f.svg(e)&&(e=e.parentNode,f.svg(e.parentNode)););return e}(t),i=r.getBoundingClientRect(),a=Y(r,"viewBox"),o=i.width,s=i.height,l=n.viewBox||(a?a.split(" "):[0,0,o,s]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:o/l[2],h:s/l[3]}}function it(t,e){function n(n){void 0===n&&(n=0);var r=e+n>=1?e+n:0;return t.el.getPointAtLength(r)}var r=rt(t.el,t.svg),i=n(),a=n(-1),o=n(1);switch(t.property){case"x":return(i.x-r.x)*r.w;case"y":return(i.y-r.y)*r.h;case"angle":return 180*Math.atan2(o.y-a.y,o.x-a.x)/Math.PI}}var at=/-?\d*\.?\d+/g;function ot(t,e){var n=$(f.pth(t)?t.totalLength:t,e)+"";return{original:n,numbers:n.match(at)?n.match(at).map(Number):[0],strings:f.str(t)||e?n.split(at):[]}}function st(t){return E(t?S(f.arr(t)?t.map(L):L(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function lt(t){var e=st(t);return e.map((function(t,n){return{target:t,id:n,total:e.length,transforms:{list:q(t)}}}))}var ut=/^spring/;function ct(t,e){var n=C(e);if(ut.test(n.easing)&&(n.duration=g(n.easing)),f.arr(t)){var r=t.length;2!==r||f.obj(t[0])?f.fnc(e.duration)||(n.duration=e.duration/r):t={value:t}}var i=f.arr(t)?t:[t];return i.map((function(t,n){var r=f.obj(t)&&!f.pth(t)?t:{value:t};return f.und(r.delay)&&(r.delay=n?0:e.delay),f.und(r.endDelay)&&(r.endDelay=n===i.length-1?e.endDelay:0),r})).map((function(t){return P(t,n)}))}function dt(t,e){var n=[],r=e.keyframes;for(var i in r&&(e=P(function(t){for(var e=E(S(t.map((function(t){return Object.keys(t)}))),(function(t){return f.key(t)})).reduce((function(t,e){return t.indexOf(e)<0&&t.push(e),t}),[]),n={},r=function(r){var i=e[r];n[i]=t.map((function(t){var e={};for(var n in t)f.key(n)?n==i&&(e.value=t[n]):e[n]=t[n];return e}))},i=0;i<e.length;i++)r(i);return n}(r),e)),e)f.key(i)&&n.push({name:i,tweens:ct(e[i],t)});return n}function ht(t,e){var n;return t.tweens.map((function(r){var i=function(t,e){var n={};for(var r in t){var i=H(t[r],e);f.arr(i)&&1===(i=i.map((function(t){return H(t,e)}))).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,e),a=i.value,o=f.arr(a)?a[1]:a,s=j(o),l=J(e.target,t.name,s,e),u=n?n.to.original:l,c=f.arr(a)?a[0]:u,d=j(c)||j(l),h=s||d;return f.und(o)&&(o=u),i.from=ot(c,h),i.to=ot(Q(o,c),h),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=w(i.easing,i.duration),i.isPath=f.pth(a),i.isColor=f.col(i.from.original),i.isColor&&(i.round=1),n=i,i}))}var pt={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,r,i){if(r.list.set(e,n),e===r.last||i){var a="";r.list.forEach((function(t,e){a+=e+"("+t+") "})),t.style.transform=a}}};function ft(t,e){for(var n=lt(t),r=0,i=n.length;r<i;r++){var a=n[r];for(var o in e){var s=H(e[o],a),l=a.target,u=j(s),c=J(l,o,u,a),d=Q($(s,u||j(c)),c),h=V(l,o);pt[h](l,o,d,a.transforms,!0)}}}function mt(t,e){return E(S(t.map((function(t){return e.map((function(e){return function(t,e){var n=V(t.target,e.name);if(n){var r=ht(e,t),i=r[r.length-1];return{type:n,property:e.name,animatable:t,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}(t,e)}))}))),(function(t){return!f.und(t)}))}function vt(t,e){var n=t.length,r=function(t){return t.timelineOffset?t.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,t.map((function(t){return r(t)+t.duration}))):e.duration,i.delay=n?Math.min.apply(Math,t.map((function(t){return r(t)+t.delay}))):e.delay,i.endDelay=n?i.duration-Math.max.apply(Math,t.map((function(t){return r(t)+t.duration-t.endDelay}))):e.endDelay,i}var gt,yt=0,_t=[],bt=[],xt=function(){function t(){gt=requestAnimationFrame(e)}function e(e){var n=_t.length;if(n){for(var r=0;r<n;){var i=_t[r];if(i.paused){var a=_t.indexOf(i);a>-1&&(_t.splice(a,1),n=_t.length)}else i.tick(e);r++}t()}else gt=cancelAnimationFrame(gt)}return t}();function wt(t){void 0===t&&(t={});var e,n=0,r=0,o=0,s=0,u=null;function c(){return window.Promise&&new Promise((function(t){return u=t}))}var d=c(),h=function(t){var e=D(i,t),n=D(a,t),r=dt(n,t),o=lt(t.targets),s=mt(o,r),l=vt(s,n),u=yt;return yt++,P(e,{id:u,children:[],animatables:o,animations:s,duration:l.duration,delay:l.delay,endDelay:l.endDelay})}(t);function p(){h.reversed=!h.reversed;for(var t=0,n=e.length;t<n;t++)e[t].reversed=h.reversed}function f(t){return h.reversed?h.duration-t:t}function m(){n=0,r=f(h.currentTime)*(1/wt.speed)}function v(t,e){e&&e.seek(t-e.timelineOffset)}function g(t){for(var e=0,n=h.animations,r=n.length;e<r;){var i=n[e],a=i.animatable,o=i.tweens,s=o.length-1,u=o[s];s&&(u=E(o,(function(e){return t<e.end}))[0]||u);for(var c=l(t-u.start-u.delay,0,u.duration)/u.duration,d=isNaN(c)?1:u.easing(c),p=u.to.strings,f=u.round,m=[],v=u.to.numbers.length,g=void 0,y=0;y<v;y++){var _=void 0,b=u.to.numbers[y],x=u.from.numbers[y]||0;_=u.isPath?it(u.value,d*b):x+d*(b-x),f&&(u.isColor&&y>2||(_=Math.round(_*f)/f)),m.push(_)}var w=p.length;if(w){g=p[0];for(var M=0;M<w;M++){p[M];var A=p[M+1],T=m[M];isNaN(T)||(g+=A?T+A:T+" ")}}else g=m[0];pt[i.type](a.target,i.property,g,a.transforms),i.currentValue=g,e++}}function y(t){h[t]&&!h.passThrough&&h[t](h)}function _(t){var i=h.duration,a=h.delay,m=i-h.endDelay,_=f(t);h.progress=l(_/i*100,0,100),h.reversePlayback=_<h.currentTime,e&&function(t){if(h.reversePlayback)for(var n=s;n--;)v(t,e[n]);else for(var r=0;r<s;r++)v(t,e[r])}(_),!h.began&&h.currentTime>0&&(h.began=!0,y("begin"),y("loopBegin")),_<=a&&0!==h.currentTime&&g(0),(_>=m&&h.currentTime!==i||!i)&&g(i),_>a&&_<m?(h.changeBegan||(h.changeBegan=!0,h.changeCompleted=!1,y("changeBegin")),y("change"),g(_)):h.changeBegan&&(h.changeCompleted=!0,h.changeBegan=!1,y("changeComplete")),h.currentTime=l(_,0,i),h.began&&y("update"),t>=i&&(r=0,h.remaining&&!0!==h.remaining&&h.remaining--,h.remaining?(n=o,y("loopComplete"),y("loopBegin"),"alternate"===h.direction&&p()):(h.paused=!0,h.completed||(h.completed=!0,y("loopComplete"),y("complete"),"Promise"in window&&(u(),d=c()))))}return h.reset=function(){var t=h.direction;h.passThrough=!1,h.currentTime=0,h.progress=0,h.paused=!0,h.began=!1,h.changeBegan=!1,h.completed=!1,h.changeCompleted=!1,h.reversePlayback=!1,h.reversed="reverse"===t,h.remaining=h.loop,e=h.children;for(var n=s=e.length;n--;)h.children[n].reset();(h.reversed&&!0!==h.loop||"alternate"===t&&1===h.loop)&&h.remaining++,g(0)},h.set=function(t,e){return ft(t,e),h},h.tick=function(t){o=t,n||(n=o),_((o+(r-n))*wt.speed)},h.seek=function(t){_(f(t))},h.pause=function(){h.paused=!0,m()},h.play=function(){h.paused&&(h.paused=!1,_t.push(h),m(),gt||xt())},h.reverse=function(){p(),m()},h.restart=function(){h.reset(),h.play()},h.finished=d,h.reset(),h.autoplay&&h.play(),h}function Mt(t,e){for(var n=e.length;n--;)k(t,e[n].animatable.target)&&e.splice(n,1)}document.addEventListener("visibilitychange",(function(){if(document.hidden){for(var t=0,e=_t.length;t<e;t++)activeInstance[t].pause();bt=_t.slice(0),_t=[]}else for(var n=0,r=bt.length;n<r;n++)bt[n].play()})),wt.version="3.0.0",wt.speed=1,wt.running=_t,wt.remove=function(t){for(var e=st(t),n=_t.length;n--;){var r=_t[n],i=r.animations,a=r.children;Mt(e,i);for(var o=a.length;o--;){var s=a[o],l=s.animations;Mt(e,l),l.length||s.children.length||a.splice(o,1)}i.length||a.length||r.pause()}},wt.get=J,wt.set=ft,wt.convertPx=U,wt.path=function(t,e){var n=f.str(t)?M(t)[0]:t,r=e||100;return function(t){return{property:t,el:n,svg:rt(n),totalLength:nt(n)*(r/100)}}},wt.setDashoffset=function(t){var e=nt(t);return t.setAttribute("stroke-dasharray",e),e},wt.stagger=function(t,e){void 0===e&&(e={});var n=e.direction||"normal",r=e.easing?w(e.easing):null,i=e.grid,a=e.axis,o=e.from||0,s="first"===o,l="center"===o,u="last"===o,c=f.arr(t),d=c?parseFloat(t[0]):parseFloat(t),h=c?parseFloat(t[1]):0,p=j(c?t[1]:t)||0,m=e.start||0+(c?d:0),v=[],g=0;return function(t,e,f){if(s&&(o=0),l&&(o=(f-1)/2),u&&(o=f-1),!v.length){for(var y=0;y<f;y++){if(i){var _=l?(i[0]-1)/2:o%i[0],b=l?(i[1]-1)/2:Math.floor(o/i[0]),x=_-y%i[0],w=b-Math.floor(y/i[0]),M=Math.sqrt(x*x+w*w);"x"===a&&(M=-x),"y"===a&&(M=-w),v.push(M)}else v.push(Math.abs(o-y));g=Math.max.apply(Math,v)}r&&(v=v.map((function(t){return r(t/g)*g}))),"reverse"===n&&(v=v.map((function(t){return a?t<0?-1*t:-t:Math.abs(g-t)})))}return m+(c?(h-d)/g:d)*(Math.round(100*v[e])/100)+p}},wt.timeline=function(t){void 0===t&&(t={});var e=wt(t);return e.duration=0,e.add=function(n,r){var i=_t.indexOf(e),o=e.children;function s(t){t.passThrough=!0}i>-1&&_t.splice(i,1);for(var l=0;l<o.length;l++)s(o[l]);var u=P(n,D(a,t));u.targets=u.targets||t.targets;var c=e.duration;u.autoplay=!1,u.direction=e.direction,u.timelineOffset=f.und(r)?c:Q(r,c),s(e),e.seek(u.timelineOffset);var d=wt(u);s(d),o.push(d);var h=vt(o,t);return e.delay=h.delay,e.endDelay=h.endDelay,e.duration=h.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e},wt.easing=w,wt.penner=x,wt.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},n.exports=wt},{}],36:[function(t,n,r){!function(t,e){e("object"===typeof r&&"undefined"!==typeof n?r:(t=t||self).THREE={})}(this,(function(t){"use strict";function n(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Object.assign(n.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,t)}}}});var r,i="103dev",a=0,o=1,s=2,l=1,u=2,c=0,d=1,h=2,p=0,f=1,m=2,v=0,g=1,y=2,_=3,b=4,x=5,w=100,M=101,A=102,E=103,T=104,S=200,L=201,k=202,C=203,D=204,P=205,R=206,O=207,I=208,N=209,z=210,B=0,F=1,j=2,H=3,Y=4,U=5,G=6,V=7,W=0,q=1,X=2,J=0,Z=1,Q=2,K=3,$=4,tt=5,et=301,nt=302,rt=303,it=304,at=305,ot=306,st=307,lt=1e3,ut=1001,ct=1002,dt=1003,ht=1004,pt=1005,ft=1006,mt=1007,vt=1008,gt=1009,yt=1010,_t=1011,bt=1012,xt=1013,wt=1014,Mt=1015,At=1016,Et=1017,Tt=1018,St=1019,Lt=1020,kt=1021,Ct=1022,Dt=1023,Pt=1024,Rt=1025,Ot=Dt,It=1026,Nt=1027,zt=1028,Bt=33776,Ft=33777,jt=33778,Ht=33779,Yt=35840,Ut=35841,Gt=35842,Vt=35843,Wt=36196,qt=37808,Xt=37809,Jt=37810,Zt=37811,Qt=37812,Kt=37813,$t=37814,te=37815,ee=37816,ne=37817,re=37818,ie=37819,ae=37820,oe=37821,se=2201,le=2400,ue=0,ce=1,de=2,he=3e3,pe=3001,fe=3007,me=3002,ve=3004,ge=3005,ye=3006,_e=3200,be=3201,xe=0,we=1,Me={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&n]+t[n>>8&255]+"-"+t[n>>16&15|64]+t[n>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&i]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]).toUpperCase()}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Me.DEG2RAD},radToDeg:function(t){return t*Me.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function Ae(t,e){this.x=t||0,this.y=e||0}function Ee(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Te(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function Se(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function Le(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(Ae.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(Ae.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t=new Ae,e=new Ae;return function(n,r){return t.set(n,n),e.set(r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,a=this.y-t.y;return this.x=i*n-a*r+t.x,this.y=i*r+a*n+t.y,this}}),Object.assign(Ee.prototype,{isMatrix4:!0,set:function(t,e,n,r,i,a,o,s,l,u,c,d,h,p,f,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=r,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=d,v[3]=h,v[7]=p,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ee).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t=new Se;return function(e){var n=this.elements,r=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){var d=a*u,h=a*c,p=o*u,f=o*c;e[0]=s*u,e[4]=-s*c,e[8]=l,e[1]=h+p*l,e[5]=d-f*l,e[9]=-o*s,e[2]=f-d*l,e[6]=p+h*l,e[10]=a*s}else if("YXZ"===t.order){var m=s*u,v=s*c,g=l*u,y=l*c;e[0]=m+y*o,e[4]=g*o-v,e[8]=a*l,e[1]=a*c,e[5]=a*u,e[9]=-o,e[2]=v*o-g,e[6]=y+m*o,e[10]=a*s}else if("ZXY"===t.order)m=s*u,v=s*c,g=l*u,y=l*c,e[0]=m-y*o,e[4]=-a*c,e[8]=g+v*o,e[1]=v+g*o,e[5]=a*u,e[9]=y-m*o,e[2]=-a*l,e[6]=o,e[10]=a*s;else if("ZYX"===t.order)d=a*u,h=a*c,p=o*u,f=o*c,e[0]=s*u,e[4]=p*l-h,e[8]=d*l+f,e[1]=s*c,e[5]=f*l+d,e[9]=h*l-p,e[2]=-l,e[6]=o*s,e[10]=a*s;else if("YZX"===t.order){var _=a*s,b=a*l,x=o*s,w=o*l;e[0]=s*u,e[4]=w-_*c,e[8]=x*c+b,e[1]=c,e[5]=a*u,e[9]=-o*u,e[2]=-l*u,e[6]=b*c+x,e[10]=_-w*c}else"XZY"===t.order&&(_=a*s,b=a*l,x=o*s,w=o*l,e[0]=s*u,e[4]=-c,e[8]=l*u,e[1]=_*c+w,e[5]=a*u,e[9]=b*c-x,e[2]=x*c-b,e[6]=o*u,e[10]=w*c+_);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(){var t=new Se(0,0,0),e=new Se(1,1,1);return function(n){return this.compose(t,n,e)}}(),lookAt:function(){var t=new Se,e=new Se,n=new Se;return function(r,i,a){var o=this.elements;return n.subVectors(r,i),0===n.lengthSq()&&(n.z=1),n.normalize(),t.crossVectors(a,n),0===t.lengthSq()&&(1===Math.abs(a.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),t.crossVectors(a,n)),t.normalize(),e.crossVectors(n,t),o[0]=t.x,o[4]=e.x,o[8]=n.x,o[1]=t.y,o[5]=e.y,o[9]=n.y,o[2]=t.z,o[6]=e.z,o[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],d=n[9],h=n[13],p=n[2],f=n[6],m=n[10],v=n[14],g=n[3],y=n[7],_=n[11],b=n[15],x=r[0],w=r[4],M=r[8],A=r[12],E=r[1],T=r[5],S=r[9],L=r[13],k=r[2],C=r[6],D=r[10],P=r[14],R=r[3],O=r[7],I=r[11],N=r[15];return i[0]=a*x+o*E+s*k+l*R,i[4]=a*w+o*T+s*C+l*O,i[8]=a*M+o*S+s*D+l*I,i[12]=a*A+o*L+s*P+l*N,i[1]=u*x+c*E+d*k+h*R,i[5]=u*w+c*T+d*C+h*O,i[9]=u*M+c*S+d*D+h*I,i[13]=u*A+c*L+d*P+h*N,i[2]=p*x+f*E+m*k+v*R,i[6]=p*w+f*T+m*C+v*O,i[10]=p*M+f*S+m*D+v*I,i[14]=p*A+f*L+m*P+v*N,i[3]=g*x+y*E+_*k+b*R,i[7]=g*w+y*T+_*C+b*O,i[11]=g*M+y*S+_*D+b*I,i[15]=g*A+y*L+_*P+b*N,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new Se;return function(e){for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],a=t[1],o=t[5],s=t[9],l=t[13],u=t[2],c=t[6],d=t[10],h=t[14];return t[3]*(+i*s*c-r*l*c-i*o*d+n*l*d+r*o*h-n*s*h)+t[7]*(+e*s*h-e*l*d+i*a*d-r*a*h+r*l*u-i*s*u)+t[11]*(+e*l*c-e*o*h-i*a*c+n*a*h+i*o*u-n*l*u)+t[15]*(-r*o*u-e*s*c+e*o*d+r*a*c-n*a*d+n*s*u)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=r[6],d=r[7],h=r[8],p=r[9],f=r[10],m=r[11],v=r[12],g=r[13],y=r[14],_=r[15],b=p*y*d-g*f*d+g*c*m-u*y*m-p*c*_+u*f*_,x=v*f*d-h*y*d-v*c*m+l*y*m+h*c*_-l*f*_,w=h*g*d-v*p*d+v*u*m-l*g*m-h*u*_+l*p*_,M=v*p*c-h*g*c-v*u*f+l*g*f+h*u*y-l*p*y,A=i*b+a*x+o*w+s*M;if(0===A){var E="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(E);return console.warn(E),this.identity()}var T=1/A;return n[0]=b*T,n[1]=(g*f*s-p*y*s-g*o*m+a*y*m+p*o*_-a*f*_)*T,n[2]=(u*y*s-g*c*s+g*o*d-a*y*d-u*o*_+a*c*_)*T,n[3]=(p*c*s-u*f*s-p*o*d+a*f*d+u*o*m-a*c*m)*T,n[4]=x*T,n[5]=(h*y*s-v*f*s+v*o*m-i*y*m-h*o*_+i*f*_)*T,n[6]=(v*c*s-l*y*s-v*o*d+i*y*d+l*o*_-i*c*_)*T,n[7]=(l*f*s-h*c*s+h*o*d-i*f*d-l*o*m+i*c*m)*T,n[8]=w*T,n[9]=(v*p*s-h*g*s-v*a*m+i*g*m+h*a*_-i*p*_)*T,n[10]=(l*g*s-v*u*s+v*a*d-i*g*d-l*a*_+i*u*_)*T,n[11]=(h*u*s-l*p*s-h*a*d+i*p*d+l*a*m-i*u*m)*T,n[12]=M*T,n[13]=(h*g*o-v*p*o+v*a*f-i*g*f-h*a*y+i*p*y)*T,n[14]=(v*u*o-l*g*o-v*a*c+i*g*c+l*a*y-i*u*y)*T,n[15]=(l*p*o-h*u*o+h*a*c-i*p*c-l*a*f+i*u*f)*T,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,a=t.x,o=t.y,s=t.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){var r=this.elements,i=e._x,a=e._y,o=e._z,s=e._w,l=i+i,u=a+a,c=o+o,d=i*l,h=i*u,p=i*c,f=a*u,m=a*c,v=o*c,g=s*l,y=s*u,_=s*c,b=n.x,x=n.y,w=n.z;return r[0]=(1-(f+v))*b,r[1]=(h+_)*b,r[2]=(p-y)*b,r[3]=0,r[4]=(h-_)*x,r[5]=(1-(d+v))*x,r[6]=(m+g)*x,r[7]=0,r[8]=(p+y)*w,r[9]=(m-g)*w,r[10]=(1-(d+f))*w,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:function(){var t=new Se,e=new Ee;return function(n,r,i){var a=this.elements,o=t.set(a[0],a[1],a[2]).length(),s=t.set(a[4],a[5],a[6]).length(),l=t.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),n.x=a[12],n.y=a[13],n.z=a[14],e.copy(this);var u=1/o,c=1/s,d=1/l;return e.elements[0]*=u,e.elements[1]*=u,e.elements[2]*=u,e.elements[4]*=c,e.elements[5]*=c,e.elements[6]*=c,e.elements[8]*=d,e.elements[9]*=d,e.elements[10]*=d,r.setFromRotationMatrix(e),i.x=o,i.y=s,i.z=l,this}}(),makePerspective:function(t,e,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(e-t),l=2*i/(n-r),u=(e+t)/(e-t),c=(n+r)/(n-r),d=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,n,r,i,a){var o=this.elements,s=1/(e-t),l=1/(n-r),u=1/(a-i),c=(e+t)*s,d=(n+r)*l,h=(a+i)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}),Object.assign(Te,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],d=i[a+0],h=i[a+1],p=i[a+2],f=i[a+3];if(c!==f||s!==d||l!==h||u!==p){var m=1-o,v=s*d+l*h+u*p+c*f,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,v*g);m=Math.sin(m*b)/_,o=Math.sin(o*b)/_}var x=o*g;if(s=s*m+d*x,l=l*m+h*x,u=u*m+p*x,c=c*m+f*x,m===1-o){var w=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=w,l*=w,u*=w,c*=w}}t[e]=s,t[e+1]=l,t[e+2]=u,t[e+3]=c}}),Object.defineProperties(Te.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(Te.prototype,{isQuaternion:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,r=t._y,i=t._z,a=t.order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),d=s(n/2),h=s(r/2),p=s(i/2);return"XYZ"===a?(this._x=d*u*c+l*h*p,this._y=l*h*c-d*u*p,this._z=l*u*p+d*h*c,this._w=l*u*c-d*h*p):"YXZ"===a?(this._x=d*u*c+l*h*p,this._y=l*h*c-d*u*p,this._z=l*u*p-d*h*c,this._w=l*u*c+d*h*p):"ZXY"===a?(this._x=d*u*c-l*h*p,this._y=l*h*c+d*u*p,this._z=l*u*p+d*h*c,this._w=l*u*c-d*h*p):"ZYX"===a?(this._x=d*u*c-l*h*p,this._y=l*h*c+d*u*p,this._z=l*u*p-d*h*c,this._w=l*u*c+d*h*p):"YZX"===a?(this._x=d*u*c+l*h*p,this._y=l*h*c+d*u*p,this._z=l*u*p-d*h*c,this._w=l*u*c-d*h*p):"XZY"===a&&(this._x=d*u*c-l*h*p,this._y=l*h*c-d*u*p,this._z=l*u*p+d*h*c,this._w=l*u*c+d*h*p),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],l=n[9],u=n[2],c=n[6],d=n[10],h=r+s+d;return h>0?(e=.5/Math.sqrt(h+1),this._w=.25/e,this._x=(c-l)*e,this._y=(a-u)*e,this._z=(o-i)*e):r>s&&r>d?(e=2*Math.sqrt(1+r-s-d),this._w=(c-l)/e,this._x=.25*e,this._y=(i+o)/e,this._z=(a+u)/e):s>d?(e=2*Math.sqrt(1+s-r-d),this._w=(a-u)/e,this._x=(i+o)/e,this._y=.25*e,this._z=(l+c)/e):(e=2*Math.sqrt(1+d-r-s),this._w=(o-i)/e,this._x=(a+u)/e,this._y=(l+c)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e=new Se;return function(n,r){return void 0===e&&(e=new Se),(t=n.dot(r)+1)<1e-6?(t=0,Math.abs(n.x)>Math.abs(n.z)?e.set(-n.y,n.x,0):e.set(0,-n.z,n.y)):e.crossVectors(n,r),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),angleTo:function(t){return 2*Math.acos(Math.abs(Me.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var n=this.angleTo(t);if(0===n)return this;var r=Math.min(1,e/n);return this.slerp(t,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,a=t._w,o=e._x,s=e._y,l=e._z,u=e._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*t._w+n*t._x+r*t._y+i*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-e;return this._w=l*a+e*this._w,this._x=l*n+e*this._x,this._y=l*r+e*this._y,this._z=l*i+e*this._z,this.normalize()}var u=Math.sqrt(s),c=Math.atan2(u,o),d=Math.sin((1-e)*c)/u,h=Math.sin(e*c)/u;return this._w=a*d+this._w*h,this._x=n*d+this._x*h,this._y=r*d+this._y*h,this._z=i*d+this._z*h,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Se.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new Te;return function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t=new Te;return function(e,n){return this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements,a=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*a,this},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,a=t.y,o=t.z,s=t.w,l=s*e+a*r-o*n,u=s*n+o*e-i*r,c=s*r+i*n-a*e,d=-i*e-a*n-o*r;return this.x=l*s+d*-i+u*-o-c*-a,this.y=u*s+d*-a+c*-i-l*-o,this.z=c*s+d*-o+l*-a-u*-i,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(){var t=new Ee;return function(e){return this.applyMatrix4(t.getInverse(e.projectionMatrix)).applyMatrix4(e.matrixWorld)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new Se,e=new Se;return function(n,r){return t.set(n,n,n),e.set(r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,a=e.x,o=e.y,s=e.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new Se;return function(e){return t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=new Se;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Me.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,n){var r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(Le.prototype,{isMatrix3:!0,set:function(t,e,n,r,i,a,o,s,l){var u=this.elements;return u[0]=t,u[1]=r,u[2]=o,u[3]=e,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new Se;return function(e){for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],d=n[2],h=n[5],p=n[8],f=r[0],m=r[3],v=r[6],g=r[1],y=r[4],_=r[7],b=r[2],x=r[5],w=r[8];return i[0]=a*f+o*g+s*b,i[3]=a*m+o*y+s*x,i[6]=a*v+o*_+s*w,i[1]=l*f+u*g+c*b,i[4]=l*m+u*y+c*x,i[7]=l*v+u*_+c*w,i[2]=d*f+h*g+p*b,i[5]=d*m+h*y+p*x,i[8]=d*v+h*_+p*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8];return e*a*u-e*o*l-n*i*u+n*o*s+r*i*l-r*a*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],a=n[1],o=n[2],s=n[3],l=n[4],u=n[5],c=n[6],d=n[7],h=n[8],p=h*l-u*d,f=u*c-h*s,m=d*s-l*c,v=i*p+a*f+o*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=p*y,r[1]=(o*d-h*a)*y,r[2]=(u*a-o*l)*y,r[3]=f*y,r[4]=(h*i-o*c)*y,r[5]=(o*s-u*i)*y,r[6]=m*y,r[7]=(a*c-d*i)*y,r[8]=(l*i-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);this.set(n*s,n*l,-n*(s*a+l*o)+a+t,-r*l,r*s,-r*(-l*a+s*o)+o+e,0,0,1)},scale:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],l=r[4],u=r[7];return r[0]=e*i+n*s,r[3]=e*a+n*l,r[6]=e*o+n*u,r[1]=-n*i+e*s,r[4]=-n*a+e*l,r[7]=-n*o+e*u,this},translate:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}});var ke={getDataURL:function(t){var e;if("undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)e=t;else{void 0===r&&(r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),r.width=t.width,r.height=t.height;var n=r.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=r}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},Ce=0;function De(t,e,n,r,i,a,o,s,l,u){Object.defineProperty(this,"id",{value:Ce++}),this.uuid=Me.generateUUID(),this.name="",this.image=void 0!==t?t:De.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:De.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:ut,this.wrapT=void 0!==r?r:ut,this.magFilter=void 0!==i?i:ft,this.minFilter=void 0!==a?a:vt,this.anisotropy=void 0!==l?l:1,this.format=void 0!==o?o:Dt,this.type=void 0!==s?s:gt,this.offset=new Ae(0,0),this.repeat=new Ae(1,1),this.center=new Ae(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Le,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:he,this.version=0,this.onUpdate=null}function Pe(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function Re(t,e,n){this.width=t,this.height=e,this.scissor=new Pe(0,0,t,e),this.scissorTest=!1,this.viewport=new Pe(0,0,t,e),n=n||{},this.texture=new De(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:ft,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Oe(t,e,n){Re.call(this,t,e,n),this.samples=4}function Ie(t,e,n){Re.call(this,t,e,n)}function Ne(t,e,n,r,i,a,o,s,l,u,c,d){De.call(this,null,a,o,s,l,u,r,i,c,d),this.image={data:t,width:e,height:n},this.magFilter=void 0!==l?l:dt,this.minFilter=void 0!==u?u:dt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function ze(t,e){this.min=void 0!==t?t:new Se(1/0,1/0,1/0),this.max=void 0!==e?e:new Se(-1/0,-1/0,-1/0)}function Be(t,e){this.center=void 0!==t?t:new Se,this.radius=void 0!==e?e:0}function Fe(t,e){this.normal=void 0!==t?t:new Se(1,0,0),this.constant=void 0!==e?e:0}function je(t,e,n,r,i,a){this.planes=[void 0!==t?t:new Fe,void 0!==e?e:new Fe,void 0!==n?n:new Fe,void 0!==r?r:new Fe,void 0!==i?i:new Fe,void 0!==a?a:new Fe]}De.DEFAULT_IMAGE=void 0,De.DEFAULT_MAPPING=300,De.prototype=Object.assign(Object.create(n.prototype),{constructor:De,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Me.generateUUID()),!e&&void 0===t.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)i.push(ke.getDataURL(r[a]))}else i=ke.getDataURL(r);t.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case lt:t.x=t.x-Math.floor(t.x);break;case ut:t.x=t.x<0?0:1;break;case ct:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case lt:t.y=t.y-Math.floor(t.y);break;case ut:t.y=t.y<0?0:1;break;case ct:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(De.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Pe.prototype,{isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*e+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*e+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*e+a[7]*n+a[11]*r+a[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,a=t.elements,o=a[0],s=a[4],l=a[8],u=a[1],c=a[5],d=a[9],h=a[2],p=a[6],f=a[10];if(Math.abs(s-u)<.01&&Math.abs(l-h)<.01&&Math.abs(d-p)<.01){if(Math.abs(s+u)<.1&&Math.abs(l+h)<.1&&Math.abs(d+p)<.1&&Math.abs(o+c+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(o+1)/2,v=(c+1)/2,g=(f+1)/2,y=(s+u)/4,_=(l+h)/4,b=(d+p)/4;return m>v&&m>g?m<.01?(n=0,r=.707106781,i=.707106781):(r=y/(n=Math.sqrt(m)),i=_/n):v>g?v<.01?(n=.707106781,r=0,i=.707106781):(n=y/(r=Math.sqrt(v)),i=b/r):g<.01?(n=.707106781,r=.707106781,i=0):(n=_/(i=Math.sqrt(g)),r=b/i),this.set(n,r,i,e),this}var x=Math.sqrt((p-d)*(p-d)+(l-h)*(l-h)+(u-s)*(u-s));return Math.abs(x)<.001&&(x=1),this.x=(p-d)/x,this.y=(l-h)/x,this.z=(u-s)/x,this.w=Math.acos((o+c+f-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new Pe,e=new Pe),t.set(n,n,n,n),e.set(r,r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),Re.prototype=Object.assign(Object.create(n.prototype),{constructor:Re,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Oe.prototype=Object.assign(Object.create(Re.prototype),{constructor:Oe,isWebGLMultisampleRenderTarget:!0,copy:function(t){return Re.prototype.copy.call(this,t),this.samples=t.samples,this}}),Ie.prototype=Object.create(Re.prototype),Ie.prototype.constructor=Ie,Ie.prototype.isWebGLRenderTargetCube=!0,Ne.prototype=Object.create(De.prototype),Ne.prototype.constructor=Ne,Ne.prototype.isDataTexture=!0,Object.assign(ze.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=t.length;s<l;s+=3){var u=t[s],c=t[s+1],d=t[s+2];u<e&&(e=u),c<n&&(n=c),d<r&&(r=d),u>i&&(i=u),c>a&&(a=c),d>o&&(o=d)}return this.min.set(e,n,r),this.max.set(i,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=t.count;s<l;s++){var u=t.getX(s),c=t.getY(s),d=t.getZ(s);u<e&&(e=u),c<n&&(n=c),d<r&&(r=d),u>i&&(i=u),c>a&&(a=c),d>o&&(o=d)}return this.min.set(e,n,r),this.max.set(i,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Se;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new Se),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new Se),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,n,r=new Se;function i(i){var a=i.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(e=0,n=o.length;e<n;e++)r.copy(o[e]),r.applyMatrix4(i.matrixWorld),t.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(e=0,n=s.count;e<n;e++)r.fromBufferAttribute(s,e).applyMatrix4(i.matrixWorld),t.expandByPoint(r)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(i),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Se),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new Se;return function(e){return this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant},intersectsTriangle:function(){var t=new Se,e=new Se,n=new Se,r=new Se,i=new Se,a=new Se,o=new Se,s=new Se,l=new Se,u=new Se;function c(r){var i,a;for(i=0,a=r.length-3;i<=a;i+=3){o.fromArray(r,i);var s=l.x*Math.abs(o.x)+l.y*Math.abs(o.y)+l.z*Math.abs(o.z),u=t.dot(o),c=e.dot(o),d=n.dot(o);if(Math.max(-Math.max(u,c,d),Math.min(u,c,d))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),l.subVectors(this.max,s),t.subVectors(o.a,s),e.subVectors(o.b,s),n.subVectors(o.c,s),r.subVectors(e,t),i.subVectors(n,e),a.subVectors(t,n);var d=[0,-r.z,r.y,0,-i.z,i.y,0,-a.z,a.y,r.z,0,-r.x,i.z,0,-i.x,a.z,0,-a.x,-r.y,r.x,0,-i.y,i.x,0,-a.y,a.x,0];return!!c(d)&&!!c(d=[1,0,0,0,1,0,0,0,1])&&(u.crossVectors(r,i),c(d=[u.x,u.y,u.z]))}}(),clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Se),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Se;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new Se;return function(e){return void 0===e&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),e=new Be),this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new Se,new Se,new Se,new Se,new Se,new Se,new Se,new Se];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(Be.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new ze;return function(e,n){var r=this.center;void 0!==n?r.copy(n):t.setFromPoints(e).getCenter(r);for(var i=0,a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new Se),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new ze),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(Fe.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new Se,e=new Se;return function(n,r,i){var a=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Se),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new Se;return function(e,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new Se);var r=e.delta(t),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?n.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?void 0:n.copy(r).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new Se),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new Se,e=new Le;return function(n,r){var i=r||e.getNormalMatrix(n),a=this.coplanarPoint(t).applyMatrix4(n),o=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(o),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(je.prototype,{set:function(t,e,n,r,i,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],d=n[8],h=n[9],p=n[10],f=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return e[0].setComponents(o-r,c-s,f-d,y-m).normalize(),e[1].setComponents(o+r,c+s,f+d,y+m).normalize(),e[2].setComponents(o+i,c+l,f+h,y+v).normalize(),e[3].setComponents(o-i,c-l,f-h,y-v).normalize(),e[4].setComponents(o-a,c-u,f-p,y-g).normalize(),e[5].setComponents(o+a,c+u,f+p,y+g).normalize(),this},intersectsObject:function(){var t=new Be;return function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new Be;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++)if(e[i].distanceToPoint(n)<r)return!1;return!0},intersectsBox:function(){var t=new Se;return function(e){for(var n=this.planes,r=0;r<6;r++){var i=n[r];if(t.x=i.normal.x>0?e.max.x:e.min.x,t.y=i.normal.y>0?e.max.y:e.min.y,t.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(t)<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}});var He={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick( specularColor, dotNV );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor;\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function Ye(t){var e={};for(var n in t)for(var r in e[n]={},t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}return e}function Ue(t){for(var e={},n=0;n<t.length;n++){var r=Ye(t[n]);for(var i in r)e[i]=r[i]}return e}var Ge={clone:Ye,merge:Ue},Ve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function We(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}Object.assign(We.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,r){if(e=Me.euclideanModulo(e,1),n=Me.clamp(n,0,1),r=Me.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,a=2*r-i;this.r=t(a,i,e+1/3),this.g=t(a,i,e),this.b=t(a,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(o,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u,c=(u=n[1]).length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return t&&t.length>0&&(void 0!==(u=Ve[t])?this.setHex(u):console.warn("THREE.Color: Unknown color "+t)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),l=(s+o)/2;if(s===o)e=0,n=0;else{var u=o-s;switch(n=l<=.5?u/(o+s):u/(2-o-s),o){case r:e=(i-a)/u+(i<a?6:0);break;case i:e=(a-r)/u+2;break;case a:e=(r-i)/u+4}e/=6}return t.h=e,t.s=n,t.l=l,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var t={};return function(e,n,r){return this.getHSL(t),t.h+=e,t.s+=n,t.l+=r,this.setHSL(t.h,t.s,t.l),this}}(),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:function(){var t={h:0,s:0,l:0},e={h:0,s:0,l:0};return function(n,r){this.getHSL(t),n.getHSL(e);var i=Me.lerp(t.h,e.h,r),a=Me.lerp(t.s,e.s,r),o=Me.lerp(t.l,e.l,r);return this.setHSL(i,a,o),this}}(),equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var qe={common:{diffuse:{value:new We(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Le},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ae(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new We(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new We(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Le}},sprite:{diffuse:{value:new We(15658734)},opacity:{value:1},center:{value:new Ae(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Le}}},Xe={basic:{uniforms:Ue([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.fog]),vertexShader:He.meshbasic_vert,fragmentShader:He.meshbasic_frag},lambert:{uniforms:Ue([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.fog,qe.lights,{emissive:{value:new We(0)}}]),vertexShader:He.meshlambert_vert,fragmentShader:He.meshlambert_frag},phong:{uniforms:Ue([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.gradientmap,qe.fog,qe.lights,{emissive:{value:new We(0)},specular:{value:new We(1118481)},shininess:{value:30}}]),vertexShader:He.meshphong_vert,fragmentShader:He.meshphong_frag},standard:{uniforms:Ue([qe.common,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.roughnessmap,qe.metalnessmap,qe.fog,qe.lights,{emissive:{value:new We(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:He.meshphysical_vert,fragmentShader:He.meshphysical_frag},matcap:{uniforms:Ue([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,{matcap:{value:null}}]),vertexShader:He.meshmatcap_vert,fragmentShader:He.meshmatcap_frag},points:{uniforms:Ue([qe.points,qe.fog]),vertexShader:He.points_vert,fragmentShader:He.points_frag},dashed:{uniforms:Ue([qe.common,qe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:He.linedashed_vert,fragmentShader:He.linedashed_frag},depth:{uniforms:Ue([qe.common,qe.displacementmap]),vertexShader:He.depth_vert,fragmentShader:He.depth_frag},normal:{uniforms:Ue([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,{opacity:{value:1}}]),vertexShader:He.normal_vert,fragmentShader:He.normal_frag},sprite:{uniforms:Ue([qe.sprite,qe.fog]),vertexShader:He.sprite_vert,fragmentShader:He.sprite_frag},background:{uniforms:{uvTransform:{value:new Le},t2D:{value:null}},vertexShader:He.background_vert,fragmentShader:He.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:He.cube_vert,fragmentShader:He.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:He.equirect_vert,fragmentShader:He.equirect_frag},distanceRGBA:{uniforms:Ue([qe.common,qe.displacementmap,{referencePosition:{value:new Se},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:He.distanceRGBA_vert,fragmentShader:He.distanceRGBA_frag},shadow:{uniforms:Ue([qe.lights,qe.fog,{color:{value:new We(0)},opacity:{value:1}}]),vertexShader:He.shadow_vert,fragmentShader:He.shadow_frag}};function Je(){var t=null,e=!1,n=null;function r(i,a){!1!==e&&(n(i,a),t.requestAnimationFrame(r))}return{start:function(){!0!==e&&null!==n&&(t.requestAnimationFrame(r),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Ze(t){var e=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=e.get(n);r&&(t.deleteBuffer(r.buffer),e.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=e.get(n);void 0===i?e.set(n,function(e,n){var r=e.array,i=e.dynamic?35048:35044,a=t.createBuffer();t.bindBuffer(n,a),t.bufferData(n,r,i),e.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(n,r)):i.version<n.version&&(function(e,n,r){var i=n.array,a=n.updateRange;t.bindBuffer(r,e),!1===n.dynamic?t.bufferData(r,i,35044):-1===a.count?t.bufferSubData(r,0,i):0===a.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(r,a.offset*i.BYTES_PER_ELEMENT,i.subarray(a.offset,a.offset+a.count)),a.count=-1)}(i.buffer,n,r),i.version=n.version)}}}function Qe(t,e,n,r,i,a){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new Se,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new We,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==a?a:0}function Ke(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||Ke.DefaultOrder}function $e(){this.mask=1}Xe.physical={uniforms:Ue([Xe.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:He.meshphysical_vert,fragmentShader:He.meshphysical_frag},Object.assign(Qe.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}),Ke.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Ke.DefaultOrder="XYZ",Object.defineProperties(Ke.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(Ke.prototype,{isEuler:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=Me.clamp,i=t.elements,a=i[0],o=i[4],s=i[8],l=i[1],u=i[5],c=i[9],d=i[2],h=i[6],p=i[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,u),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a))):"ZYX"===e?(this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.99999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u))):"YZX"===e?(this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e?(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new Ee;return function(e,n,r){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new Te;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Se(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign($e.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!==(this.mask&t.mask)}});var tn=0;function en(){Object.defineProperty(this,"id",{value:tn++}),this.uuid=Me.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=en.DefaultUp.clone();var t=new Se,e=new Ke,n=new Te,r=new Se(1,1,1);e.onChange((function(){n.setFromEuler(e,!1)})),n.onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ee},normalMatrix:{value:new Le}}),this.matrix=new Ee,this.matrixWorld=new Ee,this.matrixAutoUpdate=en.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new $e,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}en.DefaultUp=new Se(0,1,0),en.DefaultMatrixAutoUpdate=!0,en.prototype=Object.assign(Object.create(n.prototype),{constructor:en,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new Te;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.multiply(t),this}}(),rotateOnWorldAxis:function(){var t=new Te;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new Se(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new Se(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new Se(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new Se;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new Se(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new Se(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new Se(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new Ee;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new Te,e=new Ee,n=new Se,r=new Se;return function(i,a,o){i.isVector3?n.copy(i):n.set(i,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e.lookAt(r,n,this.up):e.lookAt(n,r,this.up),this.quaternion.setFromRotationMatrix(e),s&&(e.extractRotation(s.matrixWorld),t.setFromRotationMatrix(e),this.quaternion.premultiply(t.inverse()))}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Se),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new Se,e=new Se;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),n=new Te),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,n,e),n}}(),getWorldScale:function(){var t=new Se,e=new Te;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new Se),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new Se),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"===typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==ue&&(r.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){r.geometry=i(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];i(t.shapes,u)}else i(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,l=this.material.length;s<l;s++)c.push(i(t.materials,this.material[s]));r.material=c}else r.material=i(t.materials,this.material);if(this.children.length>0)for(r.children=[],s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(t).object);if(e){var d=m(t.geometries),h=m(t.materials),p=m(t.textures),f=m(t.images);o=m(t.shapes),d.length>0&&(n.geometries=d),h.length>0&&(n.materials=h),p.length>0&&(n.textures=p),f.length>0&&(n.images=f),o.length>0&&(n.shapes=o)}return n.object=r,n;function m(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}});var nn=0;function rn(){Object.defineProperty(this,"id",{value:nn+=2}),this.uuid=Me.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function an(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function on(t,e,n){an.call(this,new Int8Array(t),e,n)}function sn(t,e,n){an.call(this,new Uint8Array(t),e,n)}function ln(t,e,n){an.call(this,new Uint8ClampedArray(t),e,n)}function un(t,e,n){an.call(this,new Int16Array(t),e,n)}function cn(t,e,n){an.call(this,new Uint16Array(t),e,n)}function dn(t,e,n){an.call(this,new Int32Array(t),e,n)}function hn(t,e,n){an.call(this,new Uint32Array(t),e,n)}function pn(t,e,n){an.call(this,new Float32Array(t),e,n)}function fn(t,e,n){an.call(this,new Float64Array(t),e,n)}function mn(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function vn(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,r=t.length;n<r;++n)t[n]>e&&(e=t[n]);return e}rn.prototype=Object.assign(Object.create(n.prototype),{constructor:rn,isGeometry:!0,applyMatrix:function(t){for(var e=(new Le).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++)this.vertices[n].applyMatrix4(t);for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var a=0,o=i.vertexNormals.length;a<o;a++)i.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new Ee;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Ee;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Ee;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Ee;return function(e,n,r){return t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t=new Ee;return function(e,n,r){return t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t=new en;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){var e=this,n=null!==t.index?t.index.array:void 0,r=t.attributes,i=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,l=void 0!==r.uv2?r.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var u=0,c=0;u<i.length;u+=3,c+=2)e.vertices.push((new Se).fromArray(i,u)),void 0!==o&&e.colors.push((new We).fromArray(o,u));function d(t,n,r,i){var u=void 0===o?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[r].clone()],c=new Qe(t,n,r,void 0===a?[]:[(new Se).fromArray(a,3*t),(new Se).fromArray(a,3*n),(new Se).fromArray(a,3*r)],u,i);e.faces.push(c),void 0!==s&&e.faceVertexUvs[0].push([(new Ae).fromArray(s,2*t),(new Ae).fromArray(s,2*n),(new Ae).fromArray(s,2*r)]),void 0!==l&&e.faceVertexUvs[1].push([(new Ae).fromArray(l,2*t),(new Ae).fromArray(l,2*n),(new Ae).fromArray(l,2*r)])}var h=t.groups;if(h.length>0)for(u=0;u<h.length;u++)for(var p=h[u],f=p.start,m=(c=f,f+p.count);c<m;c+=3)void 0!==n?d(n[c],n[c+1],n[c+2],p.materialIndex):d(c,c+1,c+2,p.materialIndex);else if(void 0!==n)for(u=0;u<n.length;u+=3)d(n[u],n[u+1],n[u+2]);else for(u=0;u<i.length/3;u+=3)d(u,u+1,u+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){var t=new Se;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new Ee;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new Se,e=new Se,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){var e,n,r,i,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)o[e]=new Se;if(t){var s,l,u,c=new Se,d=new Se;for(r=0,i=this.faces.length;r<i;r++)a=this.faces[r],s=this.vertices[a.a],l=this.vertices[a.b],u=this.vertices[a.c],c.subVectors(u,l),d.subVectors(s,l),c.cross(d),o[a.a].add(c),o[a.b].add(c),o[a.c].add(c)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,n=this.vertices.length;e<n;e++)o[e].normalize();for(r=0,i=this.faces.length;r<i;r++){var h=(a=this.faces[r]).vertexNormals;3===h.length?(h[0].copy(o[a.a]),h[1].copy(o[a.b]),h[2].copy(o[a.c])):(h[0]=o[a.a].clone(),h[1]=o[a.b].clone(),h[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(n=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var a=new rn;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)l=new Se,u={a:new Se,b:new Se,c:new Se},o.push(l),s.push(u)}var l,u,c=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],l=c.faceNormals[n],u=c.vertexNormals[n],l.copy(i.normal),u.a.copy(i.vertexNormals[0]),u.b.copy(i.vertexNormals[1]),u.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ze),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Be),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(t&&t.isGeometry){var r,i=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,l=t.faces,u=this.faceVertexUvs[0],c=t.faceVertexUvs[0],d=this.colors,h=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new Le).getNormalMatrix(e));for(var p=0,f=o.length;p<f;p++){var m=o[p].clone();void 0!==e&&m.applyMatrix4(e),a.push(m)}for(p=0,f=h.length;p<f;p++)d.push(h[p].clone());for(p=0,f=l.length;p<f;p++){var v,g,y,_=l[p],b=_.vertexNormals,x=_.vertexColors;(v=new Qe(_.a+i,_.b+i,_.c+i)).normal.copy(_.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var w=0,M=b.length;w<M;w++)g=b[w].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),v.vertexNormals.push(g);for(v.color.copy(_.color),w=0,M=x.length;w<M;w++)y=x[w],v.vertexColors.push(y.clone());v.materialIndex=_.materialIndex+n,s.push(v)}for(p=0,f=c.length;p<f;p++){var A=c[p],E=[];if(void 0!==A){for(w=0,M=A.length;w<M;w++)E.push(A[w].clone());u.push(E)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,n,r,i,a,o,s,l={},u=[],c=[],d=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],void 0===l[e=Math.round(t.x*d)+"_"+Math.round(t.y*d)+"_"+Math.round(t.z*d)]?(l[e]=n,u.push(this.vertices[n]),c[n]=u.length-1):c[n]=c[l[e]];var h=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=c[i.a],i.b=c[i.b],i.c=c[i.c],a=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(a[p]===a[(p+1)%3]){h.push(n);break}}for(n=h.length-1;n>=0;n--){var f=h[n];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var m=this.vertices.length-u.length;return this.vertices=u,m},setFromPoints:function(t){this.vertices=[];for(var e=0,n=t.length;e<n;e++){var r=t[e];this.vertices.push(new Se(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var r,i,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(a&&a.length===e&&(r=[]),o&&o.length===e&&(i=[]),n=0;n<e;n++){var s=t[n]._id;r&&r.push(a[s]),i&&i.push(o[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}for(var r=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];r.push(a.x,a.y,a.z)}var o=[],s=[],l={},u=[],c={},d=[],h={};for(i=0;i<this.faces.length;i++){var p=this.faces[i],f=void 0!==this.faceVertexUvs[0][i],m=p.normal.length()>0,v=p.vertexNormals.length>0,g=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=p.vertexColors.length>0,_=0;if(_=M(_,0,0),_=M(_,1,!0),_=M(_,2,!1),_=M(_,3,f),_=M(_,4,m),_=M(_,5,v),_=M(_,6,g),_=M(_,7,y),o.push(_),o.push(p.a,p.b,p.c),o.push(p.materialIndex),f){var b=this.faceVertexUvs[0][i];o.push(T(b[0]),T(b[1]),T(b[2]))}if(m&&o.push(A(p.normal)),v){var x=p.vertexNormals;o.push(A(x[0]),A(x[1]),A(x[2]))}if(g&&o.push(E(p.color)),y){var w=p.vertexColors;o.push(E(w[0]),E(w[1]),E(w[2]))}}function M(t,e,n){return n?t|1<<e:t&~(1<<e)}function A(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==l[e]?l[e]:(l[e]=s.length/3,s.push(t.x,t.y,t.z),l[e])}function E(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==c[e]?c[e]:(c[e]=u.length,u.push(t.getHex()),c[e])}function T(t){var e=t.x.toString()+t.y.toString();return void 0!==h[e]?h[e]:(h[e]=d.length/2,d.push(t.x,t.y),h[e])}return t.data={},t.data.vertices=r,t.data.normals=s,u.length>0&&(t.data.colors=u),d.length>0&&(t.data.uvs=[d]),t.data.faces=o,t},clone:function(){return(new rn).copy(this)},copy:function(t){var e,n,r,i,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var l=t.colors;for(e=0,n=l.length;e<n;e++)this.colors.push(l[e].clone());var u=t.faces;for(e=0,n=u.length;e<n;e++)this.faces.push(u[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var c=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=c.length;r<i;r++){var d=c[r],h=[];for(a=0,o=d.length;a<o;a++){var p=d[a];h.push(p.clone())}this.faceVertexUvs[e].push(h)}}var f=t.morphTargets;for(e=0,n=f.length;e<n;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],r=0,i=f[e].vertices.length;r<i;r++)m.vertices.push(f[e].vertices[r].clone());if(void 0!==f[e].normals)for(m.normals=[],r=0,i=f[e].normals.length;r<i;r++)m.normals.push(f[e].normals[r].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,n=v.length;e<n;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],r=0,i=v[e].vertexNormals.length;r<i;r++){var y=v[e].vertexNormals[r],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),g.vertexNormals.push(_)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],r=0,i=v[e].faceNormals.length;r<i;r++)g.faceNormals.push(v[e].faceNormals[r].clone());this.morphNormals.push(g)}var b=t.skinWeights;for(e=0,n=b.length;e<n;e++)this.skinWeights.push(b[e].clone());var x=t.skinIndices;for(e=0,n=x.length;e<n;e++)this.skinIndices.push(x[e].clone());var w=t.lineDistances;for(e=0,n=w.length;e<n;e++)this.lineDistances.push(w[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var A=t.boundingSphere;return null!==A&&(this.boundingSphere=A.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(an.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(an.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new We),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new Ae),e[n++]=a.x,e[n++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new Se),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new Pe),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),on.prototype=Object.create(an.prototype),on.prototype.constructor=on,sn.prototype=Object.create(an.prototype),sn.prototype.constructor=sn,ln.prototype=Object.create(an.prototype),ln.prototype.constructor=ln,un.prototype=Object.create(an.prototype),un.prototype.constructor=un,cn.prototype=Object.create(an.prototype),cn.prototype.constructor=cn,dn.prototype=Object.create(an.prototype),dn.prototype.constructor=dn,hn.prototype=Object.create(an.prototype),hn.prototype.constructor=hn,pn.prototype=Object.create(an.prototype),pn.prototype.constructor=pn,fn.prototype=Object.create(an.prototype),fn.prototype.constructor=fn,Object.assign(mn.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,a=0;a<i.length;a++){var o=i[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,n.push(e)),e={start:3*a,materialIndex:r})}void 0!==e&&(e.count=3*a-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,i=t.faceVertexUvs,a=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=t.morphTargets,l=s.length;if(l>0){e=[];for(var u=0;u<l;u++)e[u]={name:s[u].name,data:[]};this.morphTargets.position=e}var c,d=t.morphNormals,h=d.length;if(h>0){for(c=[],u=0;u<h;u++)c[u]={name:d[u].name,data:[]};this.morphTargets.normal=c}var p=t.skinIndices,f=t.skinWeights,m=p.length===r.length,v=f.length===r.length;for(r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),u=0;u<n.length;u++){var g=n[u];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var _=g.normal;this.normals.push(_,_,_)}var b,x=g.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var w=g.color;this.colors.push(w,w,w)}!0===a&&(void 0!==(b=i[0][u])?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new Ae,new Ae,new Ae))),!0===o&&(void 0!==(b=i[1][u])?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new Ae,new Ae,new Ae)));for(var M=0;M<l;M++){var A=s[M].vertices;e[M].data.push(A[g.a],A[g.b],A[g.c])}for(M=0;M<h;M++){var E=d[M].vertexNormals[u];c[M].data.push(E.a,E.b,E.c)}m&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),v&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var gn=1;function yn(){Object.defineProperty(this,"id",{value:gn+=2}),this.uuid=Me.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function _n(t,e,n,r,i,a){rn.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:a},this.fromBufferGeometry(new bn(t,e,n,r,i,a)),this.mergeVertices()}function bn(t,e,n,r,i,a){yn.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};var o=this;t=t||1,e=e||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,a=Math.floor(a)||1;var s=[],l=[],u=[],c=[],d=0,h=0;function p(t,e,n,r,i,a,p,f,m,v,g){var y,_,b=a/m,x=p/v,w=a/2,M=p/2,A=f/2,E=m+1,T=v+1,S=0,L=0,k=new Se;for(_=0;_<T;_++){var C=_*x-M;for(y=0;y<E;y++){var D=y*b-w;k[t]=D*r,k[e]=C*i,k[n]=A,l.push(k.x,k.y,k.z),k[t]=0,k[e]=0,k[n]=f>0?1:-1,u.push(k.x,k.y,k.z),c.push(y/m),c.push(1-_/v),S+=1}}for(_=0;_<v;_++)for(y=0;y<m;y++){var P=d+y+E*_,R=d+y+E*(_+1),O=d+(y+1)+E*(_+1),I=d+(y+1)+E*_;s.push(P,R,I),s.push(R,O,I),L+=6}o.addGroup(h,L,g),h+=L,d+=S}p("z","y","x",-1,-1,n,e,t,a,i,0),p("z","y","x",1,-1,n,e,-t,a,i,1),p("x","z","y",1,1,t,n,e,r,a,2),p("x","z","y",1,-1,t,n,-e,r,a,3),p("x","y","z",1,-1,t,e,n,r,i,4),p("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(s),this.addAttribute("position",new pn(l,3)),this.addAttribute("normal",new pn(u,3)),this.addAttribute("uv",new pn(c,2))}function xn(t,e,n,r){rn.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new wn(t,e,n,r)),this.mergeVertices()}function wn(t,e,n,r){yn.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i,a,o=(t=t||1)/2,s=(e=e||1)/2,l=Math.floor(n)||1,u=Math.floor(r)||1,c=l+1,d=u+1,h=t/l,p=e/u,f=[],m=[],v=[],g=[];for(a=0;a<d;a++){var y=a*p-s;for(i=0;i<c;i++){var _=i*h-o;m.push(_,-y,0),v.push(0,0,1),g.push(i/l),g.push(1-a/u)}}for(a=0;a<u;a++)for(i=0;i<l;i++){var b=i+c*a,x=i+c*(a+1),w=i+1+c*(a+1),M=i+1+c*a;f.push(b,x,M),f.push(x,w,M)}this.setIndex(f),this.addAttribute("position",new pn(m,3)),this.addAttribute("normal",new pn(v,3)),this.addAttribute("uv",new pn(g,2))}yn.prototype=Object.assign(Object.create(n.prototype),{constructor:yn,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(vn(t)>65535?hn:cn)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):(this.attributes[t]=e,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(t,new an(arguments[1],arguments[2])))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new Le).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0);var r=this.attributes.tangent;return void 0!==r&&((new Le).getNormalMatrix(t).applyToBufferAttribute(r),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new Ee;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Ee;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Ee;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Ee;return function(e,n,r){return t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t=new Ee;return function(e,n,r){return t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t=new en;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new Se;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new pn(3*e.vertices.length,3),r=new pn(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new pn(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];e.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new pn(e,3)),this},updateFromObject:function(t){var e,n=t.geometry;if(t.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(n.vertices),e.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(n.normals),e.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(n.colors),e.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(n.uvs),e.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(n.lineDistances),e.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(t.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new mn).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new an(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new an(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new an(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new an(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new an(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],l=t.morphTargets[o],u=0,c=l.length;u<c;u++){var d=l[u],h=new pn(3*d.data.length,3);h.name=d.name,s.push(h.copyVector3sArray(d.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var p=new pn(4*t.skinIndices.length,4);this.addAttribute("skinIndex",p.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new pn(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){var t=new ze;return function(){null===this.boundingBox&&(this.boundingBox=new ze);var e=this.attributes.position,n=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),n)for(var r=0,i=n.length;r<i;r++){var a=n[r];t.setFromBufferAttribute(a),this.boundingBox.expandByPoint(t.min),this.boundingBox.expandByPoint(t.max)}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}(),computeBoundingSphere:function(){var t=new ze,e=new ze,n=new Se;return function(){null===this.boundingSphere&&(this.boundingSphere=new Be);var r=this.attributes.position,i=this.morphAttributes.position;if(r){var a=this.boundingSphere.center;if(t.setFromBufferAttribute(r),i)for(var o=0,s=i.length;o<s;o++){var l=i[o];e.setFromBufferAttribute(l),t.expandByPoint(e.min),t.expandByPoint(e.max)}t.getCenter(a);var u=0;for(o=0,s=r.count;o<s;o++)n.fromBufferAttribute(r,o),u=Math.max(u,a.distanceToSquared(n));if(i)for(o=0,s=i.length;o<s;o++)for(var c=0,d=(l=i[o]).count;c<d;c++)n.fromBufferAttribute(l,o),u=Math.max(u,a.distanceToSquared(n));this.boundingSphere.radius=Math.sqrt(u),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new an(new Float32Array(n.length),3));else for(var r=e.normal.array,i=0,a=r.length;i<a;i++)r[i]=0;var o,s,l,u=e.normal.array,c=new Se,d=new Se,h=new Se,p=new Se,f=new Se;if(t){var m=t.array;for(i=0,a=t.count;i<a;i+=3)o=3*m[i+0],s=3*m[i+1],l=3*m[i+2],c.fromArray(n,o),d.fromArray(n,s),h.fromArray(n,l),p.subVectors(h,d),f.subVectors(c,d),p.cross(f),u[o]+=p.x,u[o+1]+=p.y,u[o+2]+=p.z,u[s]+=p.x,u[s+1]+=p.y,u[s+2]+=p.z,u[l]+=p.x,u[l+1]+=p.y,u[l+2]+=p.z}else for(i=0,a=n.length;i<a;i+=9)c.fromArray(n,i),d.fromArray(n,i+3),h.fromArray(n,i+6),p.subVectors(h,d),f.subVectors(c,d),p.cross(f),u[i]=p.x,u[i+1]=p.y,u[i+2]=p.z,u[i+3]=p.x,u[i+4]=p.y,u[i+5]=p.z,u[i+6]=p.x,u[i+7]=p.y,u[i+8]=p.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r].array,a=t.attributes[r],o=a.array,s=0,l=a.itemSize*e;s<o.length;s++,l++)i[l]=o[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){var t=new Se;return function(){for(var e=this.attributes.normal,n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.normalize(),e.setXYZ(n,t.x,t.y,t.z)}}(),toNonIndexed:function(){function t(t,e){for(var n=t.array,r=t.itemSize,i=new n.constructor(e.length*r),a=0,o=0,s=0,l=e.length;s<l;s++){a=e[s]*r;for(var u=0;u<r;u++)i[o++]=n[a++]}return new an(i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new yn,n=this.index.array,r=this.attributes;for(var i in r){var a=t(r[i],n);e.addAttribute(i,a)}var o=this.morphAttributes;for(i in o){for(var s=[],l=o[i],u=0,c=l.length;u<c;u++)a=t(l[u],n),s.push(a);e.morphAttributes[i]=s}for(var d=this.groups,h=(u=0,d.length);u<h;u++){var p=d[u];e.addGroup(p.start,p.count,p.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;null!==r&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var n in i){var a={itemSize:(h=i[n]).itemSize,type:h.array.constructor.name,array:Array.prototype.slice.call(h.array),normalized:h.normalized};""!==h.name&&(a.name=h.name),t.data.attributes[n]=a}var o={},s=!1;for(var n in this.morphAttributes){for(var l=this.morphAttributes[n],u=[],c=0,d=l.length;c<d;c++){var h;a={itemSize:(h=l[c]).itemSize,type:h.array.constructor.name,array:Array.prototype.slice.call(h.array),normalized:h.normalized},""!==h.name&&(a.name=h.name),u.push(a)}u.length>0&&(o[n]=u,s=!0)}s&&(t.data.morphAttributes=o);var p=this.groups;p.length>0&&(t.data.groups=JSON.parse(JSON.stringify(p)));var f=this.boundingSphere;return null!==f&&(t.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),t},clone:function(){return(new yn).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var a=t.attributes;for(e in a){var o=a[e];this.addAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var l=[],u=s[e];for(n=0,r=u.length;n<r;n++)l.push(u[n].clone());this.morphAttributes[e]=l}var c=t.groups;for(n=0,r=c.length;n<r;n++){var d=c[n];this.addGroup(d.start,d.count,d.materialIndex)}var h=t.boundingBox;null!==h&&(this.boundingBox=h.clone());var p=t.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),_n.prototype=Object.create(rn.prototype),_n.prototype.constructor=_n,bn.prototype=Object.create(yn.prototype),bn.prototype.constructor=bn,xn.prototype=Object.create(rn.prototype),xn.prototype.constructor=xn,wn.prototype=Object.create(yn.prototype),wn.prototype.constructor=wn;var Mn=0;function An(){Object.defineProperty(this,"id",{value:Mn++}),this.uuid=Me.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=g,this.side=c,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=p,this.opacity=1,this.transparent=!1,this.blendSrc=D,this.blendDst=P,this.blendEquation=w,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=H,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}An.prototype=Object.assign(Object.create(n.prototype),{constructor:An,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"===typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==g&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==c&&(n.side=this.side),this.vertexColors!==p&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){var i=r(t.textures),a=r(t.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var En="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",Tn="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function Sn(t){An.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=En,this.fragmentShader=Tn,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function Ln(t,e){this.origin=void 0!==t?t:new Se,this.direction=void 0!==e?e:new Se}function kn(t,e,n){this.a=void 0!==t?t:new Se,this.b=void 0!==e?e:new Se,this.c=void 0!==n?n:new Se}function Cn(t){An.call(this),this.type="MeshBasicMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Dn(t,e){en.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new yn,this.material=void 0!==e?e:new Cn({color:16777215*Math.random()}),this.drawMode=ue,this.updateMorphTargets()}function Pn(t,e,n,r){var i,a,o=new We(0),s=0,l=null,u=0;function h(t,n){e.buffers.color.setClear(t.r,t.g,t.b,n,r)}return{getClearColor:function(){return o},setClearColor:function(t,e){o.set(t),h(o,s=void 0!==e?e:1)},getClearAlpha:function(){return s},setClearAlpha:function(t){h(o,s=t)},render:function(e,r,p,f){var m=r.background,v=t.vr,g=v.getSession&&v.getSession();if(g&&"additive"===g.environmentBlendMode&&(m=null),null===m?(h(o,s),l=null,u=0):m&&m.isColor&&(h(m,1),f=!0,l=null,u=0),(t.autoClear||f)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLRenderTargetCube)){void 0===a&&((a=new Dn(new bn(1,1,1),new Sn({type:"BackgroundCubeMaterial",uniforms:Ye(Xe.cube.uniforms),vertexShader:Xe.cube.vertexShader,fragmentShader:Xe.cube.fragmentShader,side:d,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(a));var y=m.isWebGLRenderTargetCube?m.texture:m;a.material.uniforms.tCube.value=y,a.material.uniforms.tFlip.value=m.isWebGLRenderTargetCube?1:-1,l===m&&u===y.version||(a.material.needsUpdate=!0,l=m,u=y.version),e.unshift(a,a.geometry,a.material,0,0,null)}else m&&m.isTexture&&(void 0===i&&((i=new Dn(new wn(2,2),new Sn({type:"BackgroundMaterial",uniforms:Ye(Xe.background.uniforms),vertexShader:Xe.background.vertexShader,fragmentShader:Xe.background.fragmentShader,side:c,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),i.material.uniforms.uvTransform.value.copy(m.matrix),l===m&&u===m.version||(i.material.needsUpdate=!0,l=m,u=m.version),e.unshift(i,i.geometry,i.material,0,0,null))}}}function Rn(t,e,n,r){var i;this.setMode=function(t){i=t},this.render=function(e,r){t.drawArrays(i,e,r),n.update(r,i)},this.renderInstances=function(a,o,s){var l;if(r.isWebGL2)l=t;else if(null===(l=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,o,s,a.maxInstancedCount),n.update(s,i,a.maxInstancedCount)}}function On(t,e,n){var r;function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=!0===n.logarithmicDepthBuffer,u=t.getParameter(34930),c=t.getParameter(35660),d=t.getParameter(3379),h=t.getParameter(34076),p=t.getParameter(34921),f=t.getParameter(36347),m=t.getParameter(36348),v=t.getParameter(36349),g=c>0,y=a||!!e.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=e.get("EXT_texture_filter_anisotropic");return r=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:c,maxTextureSize:d,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?t.getParameter(36183):0}}function In(){var t=this,e=null,n=0,r=!1,i=!1,a=new Fe,o=new Le,s={value:null,needsUpdate:!1};function l(){s.value!==e&&(s.value=e,s.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function u(e,n,r,i){var l=null!==e?e.length:0,u=null;if(0!==l){if(u=s.value,!0!==i||null===u){var c=r+4*l,d=n.matrixWorldInverse;o.getNormalMatrix(d),(null===u||u.length<c)&&(u=new Float32Array(c));for(var h=0,p=r;h!==l;++h,p+=4)a.copy(e[h]).applyMatrix4(d,o),a.normal.toArray(u,p),u[p+3]=a.constant}s.value=u,s.needsUpdate=!0}return t.numPlanes=l,u}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,i,a){var o=0!==t.length||i||0!==n||r;return r=i,e=u(t,a,0),n=t.length,o},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1,l()},this.setState=function(t,a,o,c,d,h){if(!r||null===t||0===t.length||i&&!o)i?u(null):l();else{var p=i?0:n,f=4*p,m=d.clippingState||null;s.value=m,m=u(t,c,f,h);for(var v=0;v!==f;++v)m[v]=e[v];d.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=p}}}function Nn(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}}}function zn(t,e,n){var r={},i={};function a(t){var o=t.target,s=r[o.id];for(var l in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[l]);o.removeEventListener("dispose",a),delete r[o.id];var u=i[s.id];u&&(e.remove(u),delete i[s.id]),n.memory.geometries--}return{get:function(t,e){var i=r[e.id];return i||(e.addEventListener("dispose",a),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new yn).setFromObject(t)),i=e._bufferGeometry),r[e.id]=i,n.memory.geometries++,i)},update:function(t){var n=t.index,r=t.attributes;for(var i in null!==n&&e.update(n,34963),r)e.update(r[i],34962);var a=t.morphAttributes;for(var i in a)for(var o=a[i],s=0,l=o.length;s<l;s++)e.update(o[s],34962)},getWireframeAttribute:function(t){var n=i[t.id];if(n)return n;var r,a=[],o=t.index,s=t.attributes;if(null!==o)for(var l=0,u=(r=o.array).length;l<u;l+=3){var c=r[l+0],d=r[l+1],h=r[l+2];a.push(c,d,d,h,h,c)}else for(l=0,u=(r=s.position.array).length/3-1;l<u;l+=3)c=l+0,d=l+1,h=l+2,a.push(c,d,d,h,h,c);return n=new(vn(a)>65535?hn:cn)(a,1),e.update(n,34963),i[t.id]=n,n}}}function Bn(t,e,n,r){var i,a,o;this.setMode=function(t){i=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,r){t.drawElements(i,r,a,e*o),n.update(r,i)},this.renderInstances=function(s,l,u){var c;if(r.isWebGL2)c=t;else if(null===(c=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,u,a,l*o,s.maxInstancedCount),n.update(u,i,s.maxInstancedCount)}}function Fn(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,r){switch(r=r||1,e.calls++,n){case 4:e.triangles+=r*(t/3);break;case 5:case 6:e.triangles+=r*(t-2);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function jn(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Hn(t){var e={},n=new Float32Array(8);return{update:function(r,i,a,o){var s=r.morphTargetInfluences,l=s.length,u=e[i.id];if(void 0===u){u=[];for(var c=0;c<l;c++)u[c]=[c,0];e[i.id]=u}var d=a.morphTargets&&i.morphAttributes.position,h=a.morphNormals&&i.morphAttributes.normal;for(c=0;c<l;c++)0!==(p=u[c])[1]&&(d&&i.removeAttribute("morphTarget"+c),h&&i.removeAttribute("morphNormal"+c));for(c=0;c<l;c++)(p=u[c])[0]=c,p[1]=s[c];for(u.sort(jn),c=0;c<8;c++){var p;if(p=u[c]){var f=p[0],m=p[1];if(m){d&&i.addAttribute("morphTarget"+c,d[f]),h&&i.addAttribute("morphNormal"+c,h[f]),n[c]=m;continue}}n[c]=0}o.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function Yn(t,e){var n={};return{update:function(r){var i=e.render.frame,a=r.geometry,o=t.get(r,a);return n[o.id]!==i&&(a.isGeometry&&o.updateFromObject(r),t.update(o),n[o.id]=i),o},dispose:function(){n={}}}}function Un(t,e,n,r,i,a,o,s,l,u){t=void 0!==t?t:[],e=void 0!==e?e:et,o=void 0!==o?o:Ct,De.call(this,t,e,n,r,i,a,o,s,l,u),this.flipY=!1}function Gn(t,e,n,r){De.call(this,null),this.image={data:t,width:e,height:n,depth:r},this.magFilter=dt,this.minFilter=dt,this.wrapR=ut,this.generateMipmaps=!1,this.flipY=!1}function Vn(t,e,n,r){De.call(this,null),this.image={data:t,width:e,height:n,depth:r},this.magFilter=dt,this.minFilter=dt,this.wrapR=ut,this.generateMipmaps=!1,this.flipY=!1}Sn.prototype=Object.create(An.prototype),Sn.prototype.constructor=Sn,Sn.prototype.isShaderMaterial=!0,Sn.prototype.copy=function(t){return An.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Ye(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Sn.prototype.toJSON=function(t){var e=An.prototype.toJSON.call(this,t);for(var n in e.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?e.uniforms[n]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[n]={type:"m4",value:r.toArray()}:e.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var i={};for(var a in this.extensions)!0===this.extensions[a]&&(i[a]=!0);return Object.keys(i).length>0&&(e.extensions=i),e},Object.assign(Ln.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new Se),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new Se;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new Se),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new Se;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new Se,e=new Se,n=new Se;return function(r,i,a,o){t.copy(r).add(i).multiplyScalar(.5),e.copy(i).sub(r).normalize(),n.copy(this.origin).sub(t);var s,l,u,c,d=.5*r.distanceTo(i),h=-this.direction.dot(e),p=n.dot(this.direction),f=-n.dot(e),m=n.lengthSq(),v=Math.abs(1-h*h);if(v>0)if(l=h*p-f,c=d*v,(s=h*f-p)>=0)if(l>=-c)if(l<=c){var g=1/v;u=(s*=g)*(s+h*(l*=g)+2*p)+l*(h*s+l+2*f)+m}else l=d,u=-(s=Math.max(0,-(h*l+p)))*s+l*(l+2*f)+m;else l=-d,u=-(s=Math.max(0,-(h*l+p)))*s+l*(l+2*f)+m;else l<=-c?u=-(s=Math.max(0,-(-h*d+p)))*s+(l=s>0?-d:Math.min(Math.max(-d,-f),d))*(l+2*f)+m:l<=c?(s=0,u=(l=Math.min(Math.max(-d,-f),d))*(l+2*f)+m):u=-(s=Math.max(0,-(h*d+p)))*s+(l=s>0?d:Math.min(Math.max(-d,-f),d))*(l+2*f)+m;else l=h>0?-d:d,u=-(s=Math.max(0,-(h*l+p)))*s+l*(l+2*f)+m;return a&&a.copy(this.direction).multiplyScalar(s).add(this.origin),o&&o.copy(e).multiplyScalar(l).add(t),u}}(),intersectSphere:function(){var t=new Se;return function(e,n){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),i=t.dot(t)-r*r,a=e.radius*e.radius;if(i>a)return null;var o=Math.sqrt(a-i),s=r-o,l=r+o;return s<0&&l<0?null:s<0?this.at(l,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return l>=0?(n=(t.min.x-d.x)*l,r=(t.max.x-d.x)*l):(n=(t.max.x-d.x)*l,r=(t.min.x-d.x)*l),u>=0?(i=(t.min.y-d.y)*u,a=(t.max.y-d.y)*u):(i=(t.max.y-d.y)*u,a=(t.min.y-d.y)*u),n>a||i>r?null:((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),c>=0?(o=(t.min.z-d.z)*c,s=(t.max.z-d.z)*c):(o=(t.max.z-d.z)*c,s=(t.min.z-d.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:function(){var t=new Se;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new Se,e=new Se,n=new Se,r=new Se;return function(i,a,o,s,l){e.subVectors(a,i),n.subVectors(o,i),r.crossVectors(e,n);var u,c=this.direction.dot(r);if(c>0){if(s)return null;u=1}else{if(!(c<0))return null;u=-1,c=-c}t.subVectors(this.origin,i);var d=u*this.direction.dot(n.crossVectors(t,n));if(d<0)return null;var h=u*this.direction.dot(e.cross(t));if(h<0)return null;if(d+h>c)return null;var p=-u*t.dot(r);return p<0?null:this.at(p/c,l)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign(kn,{getNormal:function(){var t=new Se;return function(e,n,r,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Se),i.subVectors(r,n),t.subVectors(e,n),i.cross(t);var a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}}(),getBarycoord:function(){var t=new Se,e=new Se,n=new Se;return function(r,i,a,o,s){t.subVectors(o,i),e.subVectors(a,i),n.subVectors(r,i);var l=t.dot(t),u=t.dot(e),c=t.dot(n),d=e.dot(e),h=e.dot(n),p=l*d-u*u;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new Se),0===p)return s.set(-2,-1,-1);var f=1/p,m=(d*c-u*h)*f,v=(l*h-u*c)*f;return s.set(1-m-v,v,m)}}(),containsPoint:function(){var t=new Se;return function(e,n,r,i){return kn.getBarycoord(e,n,r,i,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}(),getUV:function(){var t=new Se;return function(e,n,r,i,a,o,s,l){return this.getBarycoord(e,n,r,i,t),l.set(0,0),l.addScaledVector(a,t.x),l.addScaledVector(o,t.y),l.addScaledVector(s,t.z),l}}()}),Object.assign(kn.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new Se,e=new Se;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new Se),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return kn.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Se),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return kn.getBarycoord(t,this.a,this.b,this.c,e)},containsPoint:function(t){return kn.containsPoint(t,this.a,this.b,this.c)},getUV:function(t,e,n,r,i){return kn.getUV(t,this.a,this.b,this.c,e,n,r,i)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(){var t=new Se,e=new Se,n=new Se,r=new Se,i=new Se,a=new Se;return function(o,s){void 0===s&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),s=new Se);var l,u,c=this.a,d=this.b,h=this.c;t.subVectors(d,c),e.subVectors(h,c),r.subVectors(o,c);var p=t.dot(r),f=e.dot(r);if(p<=0&&f<=0)return s.copy(c);i.subVectors(o,d);var m=t.dot(i),v=e.dot(i);if(m>=0&&v<=m)return s.copy(d);var g=p*v-m*f;if(g<=0&&p>=0&&m<=0)return l=p/(p-m),s.copy(c).addScaledVector(t,l);a.subVectors(o,h);var y=t.dot(a),_=e.dot(a);if(_>=0&&y<=_)return s.copy(h);var b=y*f-p*_;if(b<=0&&f>=0&&_<=0)return u=f/(f-_),s.copy(c).addScaledVector(e,u);var x=m*_-y*v;if(x<=0&&v-m>=0&&y-_>=0)return n.subVectors(h,d),u=(v-m)/(v-m+(y-_)),s.copy(d).addScaledVector(n,u);var w=1/(x+b+g);return l=b*w,u=g*w,s.copy(c).addScaledVector(t,l).addScaledVector(e,u)}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Cn.prototype=Object.create(An.prototype),Cn.prototype.constructor=Cn,Cn.prototype.isMeshBasicMaterial=!0,Cn.prototype.copy=function(t){return An.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Dn.prototype=Object.assign(Object.create(en.prototype),{constructor:Dn,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return en.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,a=Object.keys(i);if(a.length>0){var o=i[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)n=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){var t=new Ee,e=new Ln,n=new Be,r=new Se,i=new Se,a=new Se,o=new Se,s=new Se,l=new Se,u=new Se,c=new Se,p=new Se,f=new Ae,m=new Ae,v=new Ae,g=new Se,y=new Se;function _(t,e,n,r,i,a,o,s){if(null===(e.side===d?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,e.side!==h,s)))return null;y.copy(s),y.applyMatrix4(t.matrixWorld);var l=n.ray.origin.distanceTo(y);return l<n.near||l>n.far?null:{distance:l,point:y.clone(),object:t}}function b(t,e,n,d,h,y,b,x,w,M){r.fromBufferAttribute(h,x),i.fromBufferAttribute(h,w),a.fromBufferAttribute(h,M);var A=t.morphTargetInfluences;if(e.morphTargets&&y&&A){u.set(0,0,0),c.set(0,0,0),p.set(0,0,0);for(var E=0,T=y.length;E<T;E++){var S=A[E],L=y[E];0!==S&&(o.fromBufferAttribute(L,x),s.fromBufferAttribute(L,w),l.fromBufferAttribute(L,M),u.addScaledVector(o.sub(r),S),c.addScaledVector(s.sub(i),S),p.addScaledVector(l.sub(a),S))}r.add(u),i.add(c),a.add(p)}var k=_(t,e,n,d,r,i,a,g);if(k){b&&(f.fromBufferAttribute(b,x),m.fromBufferAttribute(b,w),v.fromBufferAttribute(b,M),k.uv=kn.getUV(g,r,i,a,f,m,v,new Ae));var C=new Qe(x,w,M);kn.getNormal(r,i,a,C.normal),k.face=C}return k}return function(r,i){var a,o=this.geometry,s=this.material,l=this.matrixWorld;if(void 0!==s&&(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(l),!1!==r.ray.intersectsSphere(n)&&(t.getInverse(l),e.copy(r.ray).applyMatrix4(t),null===o.boundingBox||!1!==e.intersectsBox(o.boundingBox))))if(o.isBufferGeometry){var u,c,d,h,p,y,x,w,M,A=o.index,E=o.attributes.position,T=o.morphAttributes.position,S=o.attributes.uv,L=o.groups,k=o.drawRange;if(null!==A)if(Array.isArray(s))for(h=0,y=L.length;h<y;h++)for(M=s[(w=L[h]).materialIndex],p=Math.max(w.start,k.start),x=Math.min(w.start+w.count,k.start+k.count);p<x;p+=3)u=A.getX(p),c=A.getX(p+1),d=A.getX(p+2),(a=b(this,M,r,e,E,T,S,u,c,d))&&(a.faceIndex=Math.floor(p/3),a.face.materialIndex=w.materialIndex,i.push(a));else for(h=Math.max(0,k.start),y=Math.min(A.count,k.start+k.count);h<y;h+=3)u=A.getX(h),c=A.getX(h+1),d=A.getX(h+2),(a=b(this,s,r,e,E,T,S,u,c,d))&&(a.faceIndex=Math.floor(h/3),i.push(a));else if(void 0!==E)if(Array.isArray(s))for(h=0,y=L.length;h<y;h++)for(M=s[(w=L[h]).materialIndex],p=Math.max(w.start,k.start),x=Math.min(w.start+w.count,k.start+k.count);p<x;p+=3)(a=b(this,M,r,e,E,T,S,u=p,c=p+1,d=p+2))&&(a.faceIndex=Math.floor(p/3),a.face.materialIndex=w.materialIndex,i.push(a));else for(h=Math.max(0,k.start),y=Math.min(E.count,k.start+k.count);h<y;h+=3)(a=b(this,s,r,e,E,T,S,u=h,c=h+1,d=h+2))&&(a.faceIndex=Math.floor(h/3),i.push(a))}else if(o.isGeometry){var C,D,P,R,O=Array.isArray(s),I=o.vertices,N=o.faces,z=o.faceVertexUvs[0];z.length>0&&(R=z);for(var B=0,F=N.length;B<F;B++){var j=N[B],H=O?s[j.materialIndex]:s;if(void 0!==H&&(C=I[j.a],D=I[j.b],P=I[j.c],a=_(this,H,r,e,C,D,P,g))){if(R&&R[B]){var Y=R[B];f.copy(Y[0]),m.copy(Y[1]),v.copy(Y[2]),a.uv=kn.getUV(g,C,D,P,f,m,v,new Ae)}a.face=j,a.faceIndex=B,i.push(a)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Un.prototype=Object.create(De.prototype),Un.prototype.constructor=Un,Un.prototype.isCubeTexture=!0,Object.defineProperty(Un.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),Gn.prototype=Object.create(De.prototype),Gn.prototype.constructor=Gn,Gn.prototype.isDataTexture2DArray=!0,Vn.prototype=Object.create(De.prototype),Vn.prototype.constructor=Vn,Vn.prototype.isDataTexture3D=!0;var Wn=new De,qn=new Gn,Xn=new Vn,Jn=new Un;function Zn(){this.seq=[],this.map={}}var Qn=[],Kn=[],$n=new Float32Array(16),tr=new Float32Array(9),er=new Float32Array(4);function nr(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,a=Qn[i];if(void 0===a&&(a=new Float32Array(i),Qn[i]=a),0!==e){r.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function rr(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ir(t,e){for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}function ar(t,e){var n=Kn[e];void 0===n&&(n=new Int32Array(e),Kn[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function or(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function sr(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function lr(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(rr(n,e))return;t.uniform2fv(this.addr,e),ir(n,e)}}function ur(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(rr(n,e))return;t.uniform3fv(this.addr,e),ir(n,e)}}function cr(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(rr(n,e))return;t.uniform4fv(this.addr,e),ir(n,e)}}function dr(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(rr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ir(n,e)}else{if(rr(n,r))return;er.set(r),t.uniformMatrix2fv(this.addr,!1,er),ir(n,r)}}function hr(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(rr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ir(n,e)}else{if(rr(n,r))return;tr.set(r),t.uniformMatrix3fv(this.addr,!1,tr),ir(n,r)}}function pr(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(rr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ir(n,e)}else{if(rr(n,r))return;$n.set(r),t.uniformMatrix4fv(this.addr,!1,$n),ir(n,r)}}function fr(t,e,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||Wn,i)}function mr(t,e,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||qn,i)}function vr(t,e,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Xn,i)}function gr(t,e,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Jn,i)}function yr(t,e){var n=this.cache;rr(n,e)||(t.uniform2iv(this.addr,e),ir(n,e))}function _r(t,e){var n=this.cache;rr(n,e)||(t.uniform3iv(this.addr,e),ir(n,e))}function br(t,e){var n=this.cache;rr(n,e)||(t.uniform4iv(this.addr,e),ir(n,e))}function xr(t,e){var n=this.cache;rr(n,e)||(t.uniform1fv(this.addr,e),ir(n,e))}function wr(t,e){var n=this.cache;rr(n,e)||(t.uniform1iv(this.addr,e),ir(n,e))}function Mr(t,e){var n=this.cache,r=nr(e,this.size,2);rr(n,r)||(t.uniform2fv(this.addr,r),this.updateCache(r))}function Ar(t,e){var n=this.cache,r=nr(e,this.size,3);rr(n,r)||(t.uniform3fv(this.addr,r),this.updateCache(r))}function Er(t,e){var n=this.cache,r=nr(e,this.size,4);rr(n,r)||(t.uniform4fv(this.addr,r),this.updateCache(r))}function Tr(t,e){var n=this.cache,r=nr(e,this.size,4);rr(n,r)||(t.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function Sr(t,e){var n=this.cache,r=nr(e,this.size,9);rr(n,r)||(t.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function Lr(t,e){var n=this.cache,r=nr(e,this.size,16);rr(n,r)||(t.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function kr(t,e,n){var r=this.cache,i=e.length,a=ar(n,i);!1===rr(r,a)&&(t.uniform1iv(this.addr,a),ir(r,a));for(var o=0;o!==i;++o)n.setTexture2D(e[o]||Wn,a[o])}function Cr(t,e,n){var r=this.cache,i=e.length,a=ar(n,i);!1===rr(r,a)&&(t.uniform1iv(this.addr,a),ir(r,a));for(var o=0;o!==i;++o)n.setTextureCube(e[o]||Jn,a[o])}function Dr(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return or;case 35664:return lr;case 35665:return ur;case 35666:return cr;case 35674:return dr;case 35675:return hr;case 35676:return pr;case 35678:case 36198:return fr;case 35679:return vr;case 35680:return gr;case 36289:return mr;case 5124:case 35670:return sr;case 35667:case 35671:return yr;case 35668:case 35672:return _r;case 35669:case 35673:return br}}(e.type)}function Pr(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return xr;case 35664:return Mr;case 35665:return Ar;case 35666:return Er;case 35674:return Tr;case 35675:return Sr;case 35676:return Lr;case 35678:return kr;case 35680:return Cr;case 5124:case 35670:return wr;case 35667:case 35671:return yr;case 35668:case 35672:return _r;case 35669:case 35673:return br}}(e.type)}function Rr(t){this.id=t,Zn.call(this)}Pr.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),ir(e,t)},Rr.prototype.setValue=function(t,e,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(t,e[o.id],n)}};var Or=/([\w\d_]+)(\])?(\[|\.)?/g;function Ir(t,e){t.seq.push(e),t.map[e.id]=e}function Nr(t,e,n){var r=t.name,i=r.length;for(Or.lastIndex=0;;){var a=Or.exec(r),o=Or.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){Ir(n,void 0===u?new Dr(s,t,e):new Pr(s,t,e));break}var c=n.map[s];void 0===c&&Ir(n,c=new Rr(s)),n=c}}function zr(t,e,n){Zn.call(this),this.renderer=n;for(var r=t.getProgramParameter(e,35718),i=0;i<r;++i){var a=t.getActiveUniform(e,i);Nr(a,t.getUniformLocation(e,a.name),this)}}function Br(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===e?"vertex":"fragment",t.getShaderInfoLog(r),function(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}(n)),r}zr.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},zr.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},zr.upload=function(t,e,n,r){for(var i=0,a=e.length;i!==a;++i){var o=e[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}},zr.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var a=t[r];a.id in e&&n.push(a)}return n};var Fr=0;function jr(t){switch(t){case he:return["Linear","( value )"];case pe:return["sRGB","( value )"];case me:return["RGBE","( value )"];case ve:return["RGBM","( value, 7.0 )"];case ge:return["RGBM","( value, 16.0 )"];case ye:return["RGBD","( value, 256.0 )"];case fe:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Hr(t,e){var n=jr(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Yr(t,e){var n=jr(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Ur(t,e){var n;switch(e){case Z:n="Linear";break;case Q:n="Reinhard";break;case K:n="Uncharted2";break;case $:n="OptimizedCineon";break;case tt:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Gr(t){return""!==t}function Vr(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Wr(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function qr(t){return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(t,e){var n=He[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return qr(n)}))}function Xr(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(t,e,n,r){for(var i="",a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[ i \]/g,"[ "+a+" ]");return i}))}function Jr(t,e,n,r,i,a,o){var s=t.context,c=r.defines,d=i.vertexShader,h=i.fragmentShader,p="SHADOWMAP_TYPE_BASIC";a.shadowMapType===l?p="SHADOWMAP_TYPE_PCF":a.shadowMapType===u&&(p="SHADOWMAP_TYPE_PCF_SOFT");var f="ENVMAP_TYPE_CUBE",m="ENVMAP_MODE_REFLECTION",v="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(r.envMap.mapping){case et:case nt:f="ENVMAP_TYPE_CUBE";break;case ot:case st:f="ENVMAP_TYPE_CUBE_UV";break;case rt:case it:f="ENVMAP_TYPE_EQUIREC";break;case at:f="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case nt:case it:m="ENVMAP_MODE_REFRACTION"}switch(r.combine){case W:v="ENVMAP_BLENDING_MULTIPLY";break;case q:v="ENVMAP_BLENDING_MIX";break;case X:v="ENVMAP_BLENDING_ADD"}}var g,y,_=t.gammaFactor>0?t.gammaFactor:1,b=o.isWebGL2?"":function(t,e,n){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Gr).join("\n")}(r.extensions,a,e),x=function(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(c),w=s.createProgram();if(r.isRawShaderMaterial?((g=[x].filter(Gr).join("\n")).length>0&&(g+="\n"),(y=[b,x].filter(Gr).join("\n")).length>0&&(y+="\n")):(g=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+i.name,x,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+_,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+m:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Gr).join("\n"),y=[b,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+i.name,x,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+_,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+f:"",a.envMap?"#define "+m:"",a.envMap?"#define "+v:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==J?"#define TONE_MAPPING":"",a.toneMapping!==J?He.tonemapping_pars_fragment:"",a.toneMapping!==J?Ur("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?He.encodings_pars_fragment:"",a.mapEncoding?Hr("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?Hr("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?Hr("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?Hr("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?Yr("linearToOutputTexel",a.outputEncoding):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Gr).join("\n")),d=Wr(d=Vr(d=qr(d),a),a),h=Wr(h=Vr(h=qr(h),a),a),d=Xr(d),h=Xr(h),o.isWebGL2&&!r.isRawShaderMaterial){var M=!1,A=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==d.match(A)&&null!==h.match(A)&&(M=!0,d=d.replace(A,""),h=h.replace(A,"")),g=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,y=["#version 300 es\n","#define varying in",M?"":"out highp vec4 pc_fragColor;",M?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y}var E=y+h,T=Br(s,35633,g+d),S=Br(s,35632,E);s.attachShader(w,T),s.attachShader(w,S),void 0!==r.index0AttributeName?s.bindAttribLocation(w,0,r.index0AttributeName):!0===a.morphTargets&&s.bindAttribLocation(w,0,"position"),s.linkProgram(w);var L,k,C=s.getProgramInfoLog(w).trim(),D=s.getShaderInfoLog(T).trim(),P=s.getShaderInfoLog(S).trim(),R=!0,O=!0;return!1===s.getProgramParameter(w,35714)?(R=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(w,35715),"gl.getProgramInfoLog",C,D,P)):""!==C?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",C):""!==D&&""!==P||(O=!1),O&&(this.diagnostics={runnable:R,material:r,programLog:C,vertexShader:{log:D,prefix:g},fragmentShader:{log:P,prefix:y}}),s.deleteShader(T),s.deleteShader(S),this.getUniforms=function(){return void 0===L&&(L=new zr(s,w,t)),L},this.getAttributes=function(){return void 0===k&&(k=function(t,e){for(var n={},r=t.getProgramParameter(e,35721),i=0;i<r;i++){var a=t.getActiveAttrib(e,i).name;n[a]=t.getAttribLocation(e,a)}return n}(s,w)),k},this.destroy=function(){s.deleteProgram(w),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=Fr++,this.code=n,this.usedTimes=1,this.program=w,this.vertexShader=T,this.fragmentShader=S,this}function Zr(t,e,n){var r=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},a=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function o(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=he,n===he&&e&&(n=fe),n}this.getParameters=function(e,r,a,s,l,u,c){var p=i[e.type],f=c.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=Math.floor((r-20)/4),a=Math.min(i,e.length);return a<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+a+"."),0):a}(c):0,m=n.precision;null!==e.precision&&(m=n.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",m,"instead.");var v=t.getRenderTarget();return{shaderID:p,precision:m,supportsVertexTextures:n.vertexTextures,outputEncoding:o(v?v.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:o(e.map,t.gammaInput),matcap:!!e.matcap,matcapEncoding:o(e.matcap,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:o(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===ot||e.envMap.mapping===st),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:o(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:e.normalMapType===we,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexTangents:e.normalMap&&e.vertexTangents,vertexColors:e.vertexColors,fog:!!s,useFog:e.fog,fogExp:s&&s.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:e.skinning&&f>0,maxBones:f,useVertexTexture:n.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:l,numClipIntersection:u,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&c.receiveShadow&&a.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===h,flipSided:e.side===d,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(e.fragmentShader),r.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)r.push(i),r.push(e.defines[i]);for(var o=0;o<a.length;o++)r.push(n[a[o]]);return r.push(e.onBeforeCompile.toString()),r.push(t.gammaOutput),r.push(t.gammaFactor),r.join()},this.acquireProgram=function(i,a,o,s){for(var l,u=0,c=r.length;u<c;u++){var d=r[u];if(d.code===s){++(l=d).usedTimes;break}}return void 0===l&&(l=new Jr(t,e,s,i,a,o,n),r.push(l)),l},this.releaseProgram=function(t){if(0===--t.usedTimes){var e=r.indexOf(t);r[e]=r[r.length-1],r.pop(),t.destroy()}},this.programs=r}function Qr(){var t=new WeakMap;return{get:function(e){var n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,r){t.get(e)[n]=r},dispose:function(){t=new WeakMap}}}function Kr(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function $r(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function ti(){var t=[],e=0,n=[],r=[];function i(n,r,i,a,o,s){var l=t[e];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,program:i.program,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},t[e]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.program=i.program,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),e++,l}return{opaque:n,transparent:r,init:function(){e=0,n.length=0,r.length=0},push:function(t,e,a,o,s,l){var u=i(t,e,a,o,s,l);(!0===a.transparent?r:n).push(u)},unshift:function(t,e,a,o,s,l){var u=i(t,e,a,o,s,l);(!0===a.transparent?r:n).unshift(u)},sort:function(){n.length>1&&n.sort(Kr),r.length>1&&r.sort($r)}}}function ei(){var t={};function e(n){var r=n.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(n,r){var i,a=t[n.id];return void 0===a?(i=new ti,t[n.id]={},t[n.id][r.id]=i,n.addEventListener("dispose",e)):void 0===(i=a[r.id])&&(i=new ti,a[r.id]=i),i},dispose:function(){t={}}}}function ni(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new Se,color:new We,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"SpotLight":n={position:new Se,direction:new Se,color:new We,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"PointLight":n={position:new Se,color:new We,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ae,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new Se,skyColor:new We,groundColor:new We};break;case"RectAreaLight":n={color:new We,position:new Se,halfWidth:new Se,halfHeight:new Se}}return t[e.id]=n,n}}}var ri=0;function ii(){var t=new ni,e={id:ri++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new Se,r=new Ee,i=new Ee;return{setup:function(a,o,s){for(var l=0,u=0,c=0,d=0,h=0,p=0,f=0,m=0,v=s.matrixWorldInverse,g=0,y=a.length;g<y;g++){var _=a[g],b=_.color,x=_.intensity,w=_.distance,M=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)l+=b.r*x,u+=b.g*x,c+=b.b*x;else if(_.isDirectionalLight){if((E=t.get(_)).color.copy(_.color).multiplyScalar(_.intensity),E.direction.setFromMatrixPosition(_.matrixWorld),n.setFromMatrixPosition(_.target.matrixWorld),E.direction.sub(n),E.direction.transformDirection(v),E.shadow=_.castShadow,_.castShadow){var A=_.shadow;E.shadowBias=A.bias,E.shadowRadius=A.radius,E.shadowMapSize=A.mapSize}e.directionalShadowMap[d]=M,e.directionalShadowMatrix[d]=_.shadow.matrix,e.directional[d]=E,d++}else if(_.isSpotLight)(E=t.get(_)).position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),E.color.copy(b).multiplyScalar(x),E.distance=w,E.direction.setFromMatrixPosition(_.matrixWorld),n.setFromMatrixPosition(_.target.matrixWorld),E.direction.sub(n),E.direction.transformDirection(v),E.coneCos=Math.cos(_.angle),E.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),E.decay=_.decay,E.shadow=_.castShadow,_.castShadow&&(A=_.shadow,E.shadowBias=A.bias,E.shadowRadius=A.radius,E.shadowMapSize=A.mapSize),e.spotShadowMap[p]=M,e.spotShadowMatrix[p]=_.shadow.matrix,e.spot[p]=E,p++;else if(_.isRectAreaLight)(E=t.get(_)).color.copy(b).multiplyScalar(x),E.position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),i.identity(),r.copy(_.matrixWorld),r.premultiply(v),i.extractRotation(r),E.halfWidth.set(.5*_.width,0,0),E.halfHeight.set(0,.5*_.height,0),E.halfWidth.applyMatrix4(i),E.halfHeight.applyMatrix4(i),e.rectArea[f]=E,f++;else if(_.isPointLight)(E=t.get(_)).position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),E.color.copy(_.color).multiplyScalar(_.intensity),E.distance=_.distance,E.decay=_.decay,E.shadow=_.castShadow,_.castShadow&&(A=_.shadow,E.shadowBias=A.bias,E.shadowRadius=A.radius,E.shadowMapSize=A.mapSize,E.shadowCameraNear=A.camera.near,E.shadowCameraFar=A.camera.far),e.pointShadowMap[h]=M,e.pointShadowMatrix[h]=_.shadow.matrix,e.point[h]=E,h++;else if(_.isHemisphereLight){var E;(E=t.get(_)).direction.setFromMatrixPosition(_.matrixWorld),E.direction.transformDirection(v),E.direction.normalize(),E.skyColor.copy(_.color).multiplyScalar(x),E.groundColor.copy(_.groundColor).multiplyScalar(x),e.hemi[m]=E,m++}}e.ambient[0]=l,e.ambient[1]=u,e.ambient[2]=c,e.directional.length=d,e.spot.length=p,e.rectArea.length=f,e.point.length=h,e.hemi.length=m,e.hash.stateID=e.id,e.hash.directionalLength=d,e.hash.pointLength=h,e.hash.spotLength=p,e.hash.rectAreaLength=f,e.hash.hemiLength=m,e.hash.shadowsLength=o.length},state:e}}function ai(){var t=new ii,e=[],n=[];return{init:function(){e.length=0,n.length=0},state:{lightsArray:e,shadowsArray:n,lights:t},setupLights:function(r){t.setup(e,n,r)},pushLight:function(t){e.push(t)},pushShadow:function(t){n.push(t)}}}function oi(){var t={};function e(n){var r=n.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(n,r){var i;return void 0===t[n.id]?(i=new ai,t[n.id]={},t[n.id][r.id]=i,n.addEventListener("dispose",e)):void 0===t[n.id][r.id]?(i=new ai,t[n.id][r.id]=i):i=t[n.id][r.id],i},dispose:function(){t={}}}}function si(t){An.call(this),this.type="MeshDepthMaterial",this.depthPacking=_e,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function li(t){An.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Se,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function ui(t,e,n){for(var r=new je,i=new Ee,a=new Ae,o=new Ae(n,n),s=new Se,u=new Se,p=1,f=2,m=1+(p|f),g=new Array(m),y=new Array(m),_={},b={0:d,1:c,2:h},x=[new Se(1,0,0),new Se(-1,0,0),new Se(0,0,1),new Se(0,0,-1),new Se(0,1,0),new Se(0,-1,0)],w=[new Se(0,1,0),new Se(0,1,0),new Se(0,1,0),new Se(0,1,0),new Se(0,0,1),new Se(0,0,-1)],M=[new Pe,new Pe,new Pe,new Pe,new Pe,new Pe],A=0;A!==m;++A){var E=0!==(A&p),T=0!==(A&f),S=new si({depthPacking:be,morphTargets:E,skinning:T});g[A]=S;var L=new li({morphTargets:E,skinning:T});y[A]=L}var k=this;function C(e,n,r,i,a,o){var s=e.geometry,l=null,u=g,c=e.customDepthMaterial;if(r&&(u=y,c=e.customDistanceMaterial),c)l=c;else{var d=!1;n.morphTargets&&(s&&s.isBufferGeometry?d=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(d=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var h=e.isSkinnedMesh&&n.skinning,m=0;d&&(m|=p),h&&(m|=f),l=u[m]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var v=l.uuid,x=n.uuid,w=_[v];void 0===w&&(w={},_[v]=w);var M=w[x];void 0===M&&(M=l.clone(),w[x]=M),l=M}return l.visible=n.visible,l.wireframe=n.wireframe,l.side=null!=n.shadowSide?n.shadowSide:b[n.side],l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,r&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(i),l.nearDistance=a,l.farDistance=o),l}function D(n,i,a,o){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var s=e.update(n),l=n.material;if(Array.isArray(l))for(var c=s.groups,d=0,h=c.length;d<h;d++){var p=c[d],f=l[p.materialIndex];if(f&&f.visible){var m=C(n,f,o,u,a.near,a.far);t.renderBufferDirect(a,null,s,m,n,p)}}else l.visible&&(m=C(n,l,o,u,a.near,a.far),t.renderBufferDirect(a,null,s,m,n,null))}for(var v=n.children,g=0,y=v.length;g<y;g++)D(v[g],i,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=l,this.render=function(e,n,l){if(!1!==k.enabled&&(!1!==k.autoUpdate||!1!==k.needsUpdate)&&0!==e.length){var c,d=t.getRenderTarget(),h=t.state;h.setBlending(v),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var p=0,f=e.length;p<f;p++){var m=e[p],g=m.shadow,y=m&&m.isPointLight;if(void 0!==g){var _=g.camera;if(a.copy(g.mapSize),a.min(o),y){var b=a.x,A=a.y;M[0].set(2*b,A,b,A),M[1].set(0,A,b,A),M[2].set(3*b,A,b,A),M[3].set(b,A,b,A),M[4].set(3*b,0,b,A),M[5].set(b,0,b,A),a.x*=4,a.y*=2}if(null===g.map){var E={minFilter:dt,magFilter:dt,format:Dt};g.map=new Re(a.x,a.y,E),g.map.texture.name=m.name+".shadowMap",_.updateProjectionMatrix()}g.isSpotLightShadow&&g.update(m);var T=g.map,S=g.matrix;u.setFromMatrixPosition(m.matrixWorld),_.position.copy(u),y?(c=6,S.makeTranslation(-u.x,-u.y,-u.z)):(c=1,s.setFromMatrixPosition(m.target.matrixWorld),_.lookAt(s),_.updateMatrixWorld(),S.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),S.multiply(_.projectionMatrix),S.multiply(_.matrixWorldInverse)),t.setRenderTarget(T),t.clear();for(var L=0;L<c;L++){if(y){s.copy(_.position),s.add(x[L]),_.up.copy(w[L]),_.lookAt(s),_.updateMatrixWorld();var C=M[L];h.viewport(C)}i.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),r.setFromMatrix(i),D(n,l,_,y)}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}k.needsUpdate=!1,t.setRenderTarget(d)}}}function ci(t,e,n,r){var i=new function(){var e=!1,n=new Pe,r=null,i=new Pe(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,a,o,s){!0===s&&(e*=o,r*=o,a*=o),n.set(e,r,a,o),!1===i.equals(n)&&(t.clearColor(e,r,a,o),i.copy(n))},reset:function(){e=!1,r=null,i.set(-1,0,0,0)}}},l=new function(){var e=!1,n=null,r=null,i=null;return{setTest:function(t){t?at(2929):ot(2929)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case B:t.depthFunc(512);break;case F:t.depthFunc(519);break;case j:t.depthFunc(513);break;case H:t.depthFunc(515);break;case Y:t.depthFunc(514);break;case U:t.depthFunc(518);break;case G:t.depthFunc(516);break;case V:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}},u=new function(){var e=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(t){t?at(2960):ot(2960)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,o){r===e&&i===n&&a===o||(t.stencilFunc(e,n,o),r=e,i=n,a=o)},setOp:function(e,n,r){o===e&&s===n&&l===r||(t.stencilOp(e,n,r),o=e,s=n,l=r)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},c=t.getParameter(34921),p=new Uint8Array(c),f=new Uint8Array(c),m=new Uint8Array(c),M={},A=null,E=null,T=null,S=null,L=null,k=null,C=null,D=null,P=null,R=null,O=!1,I=null,N=null,z=null,W=null,q=null,X=t.getParameter(35661),J=!1,Z=0,Q=t.getParameter(7938);-1!==Q.indexOf("WebGL")?(Z=parseFloat(/^WebGL\ ([0-9])/.exec(Q)[1]),J=Z>=1):-1!==Q.indexOf("OpenGL ES")&&(Z=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(Q)[1]),J=Z>=2);var K=null,$={},tt=new Pe,et=new Pe;function nt(e,n,r){var i=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<r;o++)t.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var rt={};function it(n,i){p[n]=1,0===f[n]&&(t.enableVertexAttribArray(n),f[n]=1),m[n]!==i&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),m[n]=i)}function at(e){!0!==M[e]&&(t.enable(e),M[e]=!0)}function ot(e){!1!==M[e]&&(t.disable(e),M[e]=!1)}function st(e,r,i,a,o,s,l,u){if(e!==v){if(T||(at(3042),T=!0),e===x)o=o||r,s=s||i,l=l||a,r===L&&o===D||(t.blendEquationSeparate(n.convert(r),n.convert(o)),L=r,D=o),i===k&&a===C&&s===P&&l===R||(t.blendFuncSeparate(n.convert(i),n.convert(a),n.convert(s),n.convert(l)),k=i,C=a,P=s,R=l),S=e,O=null;else if(e!==S||u!==O){if(L===w&&D===w||(t.blendEquation(32774),L=w,D=w),u)switch(e){case g:t.blendFuncSeparate(1,771,1,771);break;case y:t.blendFunc(1,1);break;case _:t.blendFuncSeparate(0,0,769,771);break;case b:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case g:t.blendFuncSeparate(770,771,1,771);break;case y:t.blendFunc(770,1);break;case _:t.blendFunc(0,769);break;case b:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}k=null,C=null,P=null,R=null,S=e,O=u}}else T&&(ot(3042),T=!1)}function lt(e){I!==e&&(e?t.frontFace(2304):t.frontFace(2305),I=e)}function ut(e){e!==a?(at(2884),e!==N&&(e===o?t.cullFace(1029):e===s?t.cullFace(1028):t.cullFace(1032))):ot(2884),N=e}function ct(e,n,r){e?(at(32823),W===n&&q===r||(t.polygonOffset(n,r),W=n,q=r)):ot(32823)}function dt(e){void 0===e&&(e=33984+X-1),K!==e&&(t.activeTexture(e),K=e)}return rt[3553]=nt(3553,3553,1),rt[34067]=nt(34067,34069,6),i.setClear(0,0,0,1),l.setClear(1),u.setClear(0),at(2929),l.setFunc(H),lt(!1),ut(o),at(2884),st(v),{buffers:{color:i,depth:l,stencil:u},initAttributes:function(){for(var t=0,e=p.length;t<e;t++)p[t]=0},enableAttribute:function(t){it(t,0)},enableAttributeAndDivisor:it,disableUnusedAttributes:function(){for(var e=0,n=f.length;e!==n;++e)f[e]!==p[e]&&(t.disableVertexAttribArray(e),f[e]=0)},enable:at,disable:ot,getCompressedTextureFormats:function(){if(null===A&&(A=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var n=t.getParameter(34467),r=0;r<n.length;r++)A.push(n[r]);return A},useProgram:function(e){return E!==e&&(t.useProgram(e),E=e,!0)},setBlending:st,setMaterial:function(t,e){t.side===h?ot(2884):at(2884);var n=t.side===d;e&&(n=!n),lt(n),t.blending===g&&!1===t.transparent?st(v):st(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),l.setFunc(t.depthFunc),l.setTest(t.depthTest),l.setMask(t.depthWrite),i.setMask(t.colorWrite),ct(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:lt,setCullFace:ut,setLineWidth:function(e){e!==z&&(J&&t.lineWidth(e),z=e)},setPolygonOffset:ct,setScissorTest:function(t){t?at(3089):ot(3089)},activeTexture:dt,bindTexture:function(e,n){null===K&&dt();var r=$[K];void 0===r&&(r={type:void 0,texture:void 0},$[K]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||rt[e]),r.type=e,r.texture=n)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===tt.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),tt.copy(e))},viewport:function(e){!1===et.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),et.copy(e))},reset:function(){for(var e=0;e<f.length;e++)1===f[e]&&(t.disableVertexAttribArray(e),f[e]=0);M={},A=null,K=null,$={},E=null,S=null,I=null,N=null,i.reset(),l.reset(),u.reset()}}}function di(t,e,n,r,i,a,o){var s,l={},u="undefined"!==typeof OffscreenCanvas;function c(t,e){return u?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function d(t,e,n,r){var i=1;if((t.width>r||t.height>r)&&(i=r/Math.max(t.width,t.height)),i<1||!0===e){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?Me.floorPowerOfTwo:Math.floor,o=a(i*t.width),l=a(i*t.height);void 0===s&&(s=c(o,l));var u=n?c(o,l):s;return u.width=o,u.height=l,u.getContext("2d").drawImage(t,0,0,o,l),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+l+")."),u}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function h(t){return Me.isPowerOfTwo(t.width)&&Me.isPowerOfTwo(t.height)}function p(t,e){return t.generateMipmaps&&e&&t.minFilter!==dt&&t.minFilter!==ft}function f(e,n,i,a){t.generateMipmap(e),r.get(n).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function m(t,n){if(!i.isWebGL2)return t;var r=t;return 6403===t&&(5126===n&&(r=33326),5131===n&&(r=33325),5121===n&&(r=33321)),6407===t&&(5126===n&&(r=34837),5131===n&&(r=34843),5121===n&&(r=32849)),6408===t&&(5126===n&&(r=34836),5131===n&&(r=34842),5121===n&&(r=32856)),33325===r||33326===r||34842===r||34836===r?e.get("EXT_color_buffer_float"):34843!==r&&34837!==r||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),r}function v(t){return t===dt||t===ht||t===pt?9728:9729}function g(e){var n=e.target;n.removeEventListener("dispose",g),function(e){var n=r.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),r.remove(e))}(n),n.isVideoTexture&&delete l[n.id],o.memory.textures--}function y(e){var n=e.target;n.removeEventListener("dispose",y),function(e){var n=r.get(e),i=r.get(e.texture);if(e){if(void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[a]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(e.texture),r.remove(e)}}(n),o.memory.textures--}function _(t,e){var i=r.get(t);if(t.isVideoTexture&&function(t){var e=t.id,n=o.render.frame;l[e]!==n&&(l[e]=n,t.update())}(t),t.version>0&&i.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void w(i,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,i.__webglTexture)}function b(n,o,s){var l;if(s?(t.texParameteri(n,10242,a.convert(o.wrapS)),t.texParameteri(n,10243,a.convert(o.wrapT)),32879!==n&&35866!==n||t.texParameteri(n,32882,a.convert(o.wrapR)),t.texParameteri(n,10240,a.convert(o.magFilter)),t.texParameteri(n,10241,a.convert(o.minFilter))):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),o.wrapS===ut&&o.wrapT===ut||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,v(o.magFilter)),t.texParameteri(n,10241,v(o.minFilter)),o.minFilter!==dt&&o.minFilter!==ft&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),l=e.get("EXT_texture_filter_anisotropic")){if(o.type===Mt&&null===e.get("OES_texture_float_linear"))return;if(o.type===At&&null===(i.isWebGL2||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function x(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",g),e.__webglTexture=t.createTexture(),o.memory.textures++)}function w(e,r,o){var s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),x(e,r),n.activeTexture(33984+o),n.bindTexture(s,e.__webglTexture),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment);var l=function(t){return!i.isWebGL2&&(t.wrapS!==ut||t.wrapT!==ut||t.minFilter!==dt&&t.minFilter!==ft)}(r)&&!1===h(r.image),u=d(r.image,l,!1,i.maxTextureSize),c=h(u)||i.isWebGL2,v=a.convert(r.format),g=a.convert(r.type),y=m(v,g);b(s,r,c);var _,w=r.mipmaps;if(r.isDepthTexture){if(y=6402,r.type===Mt){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");y=36012}else i.isWebGL2&&(y=33189);r.format===It&&6402===y&&r.type!==bt&&r.type!==wt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=bt,g=a.convert(r.type)),r.format===Nt&&(y=34041,r.type!==Lt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Lt,g=a.convert(r.type))),n.texImage2D(3553,0,y,u.width,u.height,0,v,g,null)}else if(r.isDataTexture)if(w.length>0&&c){for(var M=0,A=w.length;M<A;M++)_=w[M],n.texImage2D(3553,M,y,_.width,_.height,0,v,g,_.data);r.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,y,u.width,u.height,0,v,g,u.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(M=0,A=w.length;M<A;M++)_=w[M],r.format!==Dt&&r.format!==Ct?n.getCompressedTextureFormats().indexOf(v)>-1?n.compressedTexImage2D(3553,M,y,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,M,y,_.width,_.height,0,v,g,_.data);e.__maxMipLevel=w.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,y,u.width,u.height,u.depth,0,v,g,u.data),e.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,y,u.width,u.height,u.depth,0,v,g,u.data),e.__maxMipLevel=0;else if(w.length>0&&c){for(M=0,A=w.length;M<A;M++)_=w[M],n.texImage2D(3553,M,y,v,g,_);r.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,y,v,g,u),e.__maxMipLevel=0;p(r,c)&&f(3553,r,u.width,u.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function M(e,i,o,s){var l=a.convert(i.texture.format),u=a.convert(i.texture.type),c=m(l,u);n.texImage2D(s,0,c,i.width,i.height,0,l,u,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function A(e,n,r){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){if(r){var i=T(n);t.renderbufferStorageMultisample(36161,i,33189,n.width,n.height)}else t.renderbufferStorage(36161,33189,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer)r?(i=T(n),t.renderbufferStorageMultisample(36161,i,34041,n.width,n.height)):t.renderbufferStorage(36161,34041,n.width,n.height),t.framebufferRenderbuffer(36160,33306,36161,e);else{var o=m(a.convert(n.texture.format),a.convert(n.texture.type));r?(i=T(n),t.renderbufferStorageMultisample(36161,i,o,n.width,n.height)):t.renderbufferStorage(36161,o,n.width,n.height)}t.bindRenderbuffer(36161,null)}function E(e){var n=r.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),_(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===It)t.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==Nt)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=t.createRenderbuffer(),A(n.__webglDepthbuffer[a],e)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),A(n.__webglDepthbuffer,e);t.bindFramebuffer(36160,null)}function T(t){return i.isWebGL2&&t.isWebGLMultisampleRenderTarget?Math.min(i.maxSamples,t.samples):0}this.setTexture2D=_,this.setTexture2DArray=function(t,e){var i=r.get(t);t.version>0&&i.__version!==t.version?w(i,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(t,e){var i=r.get(t);t.version>0&&i.__version!==t.version?w(i,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=function(e,o){var s=r.get(e);if(6===e.image.length)if(e.version>0&&s.__version!==e.version){x(s,e),n.activeTexture(33984+o),n.bindTexture(34067,s.__webglTexture),t.pixelStorei(37440,e.flipY);for(var l=e&&e.isCompressedTexture,u=e.image[0]&&e.image[0].isDataTexture,c=[],v=0;v<6;v++)c[v]=l||u?u?e.image[v].image:e.image[v]:d(e.image[v],!1,!0,i.maxCubemapSize);var g=c[0],y=h(g)||i.isWebGL2,_=a.convert(e.format),w=a.convert(e.type),M=m(_,w);for(b(34067,e,y),v=0;v<6;v++)if(l)for(var A,E=c[v].mipmaps,T=0,S=E.length;T<S;T++)A=E[T],e.format!==Dt&&e.format!==Ct?n.getCompressedTextureFormats().indexOf(_)>-1?n.compressedTexImage2D(34069+v,T,M,A.width,A.height,0,A.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+v,T,M,A.width,A.height,0,_,w,A.data);else u?n.texImage2D(34069+v,0,M,c[v].width,c[v].height,0,_,w,c[v].data):n.texImage2D(34069+v,0,M,_,w,c[v]);s.__maxMipLevel=l?E.length-1:0,p(e,y)&&f(34067,e,g.width,g.height),s.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(33984+o),n.bindTexture(34067,s.__webglTexture)},this.setTextureCubeDynamic=function(t,e){n.activeTexture(33984+e),n.bindTexture(34067,r.get(t).__webglTexture)},this.setupRenderTarget=function(e){var s=r.get(e),l=r.get(e.texture);e.addEventListener("dispose",y),l.__webglTexture=t.createTexture(),o.memory.textures++;var u=!0===e.isWebGLRenderTargetCube,c=!0===e.isWebGLMultisampleRenderTarget,d=h(e)||i.isWebGL2;if(u){s.__webglFramebuffer=[];for(var v=0;v<6;v++)s.__webglFramebuffer[v]=t.createFramebuffer()}else if(s.__webglFramebuffer=t.createFramebuffer(),c)if(i.isWebGL2){s.__webglMultisampledFramebuffer=t.createFramebuffer(),s.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var g=m(a.convert(e.texture.format),a.convert(e.texture.type)),_=T(e);t.renderbufferStorageMultisample(36161,_,g,e.width,e.height),t.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(s.__webglDepthRenderbuffer=t.createRenderbuffer(),A(s.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(u){for(n.bindTexture(34067,l.__webglTexture),b(34067,e.texture,d),v=0;v<6;v++)M(s.__webglFramebuffer[v],e,36064,34069+v);p(e.texture,d)&&f(34067,e.texture,e.width,e.height),n.bindTexture(34067,null)}else n.bindTexture(3553,l.__webglTexture),b(3553,e.texture,d),M(s.__webglFramebuffer,e,36064,3553),p(e.texture,d)&&f(3553,e.texture,e.width,e.height),n.bindTexture(3553,null);e.depthBuffer&&E(e)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(p(e,h(t)||i.isWebGL2)){var a=t.isWebGLRenderTargetCube?34067:3553,o=r.get(e).__webglTexture;n.bindTexture(a,o),f(a,e,t.width,t.height),n.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(i.isWebGL2){var n=r.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);var a=e.width,o=e.height,s=16384;e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024),t.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}}function hi(t,e,n){return{convert:function(t){var r;if(t===lt)return 10497;if(t===ut)return 33071;if(t===ct)return 33648;if(t===dt)return 9728;if(t===ht)return 9984;if(t===pt)return 9986;if(t===ft)return 9729;if(t===mt)return 9985;if(t===vt)return 9987;if(t===gt)return 5121;if(t===Et)return 32819;if(t===Tt)return 32820;if(t===St)return 33635;if(t===yt)return 5120;if(t===_t)return 5122;if(t===bt)return 5123;if(t===xt)return 5124;if(t===wt)return 5125;if(t===Mt)return 5126;if(t===At){if(n.isWebGL2)return 5131;if(null!==(r=e.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(t===kt)return 6406;if(t===Ct)return 6407;if(t===Dt)return 6408;if(t===Pt)return 6409;if(t===Rt)return 6410;if(t===It)return 6402;if(t===Nt)return 34041;if(t===zt)return 6403;if(t===w)return 32774;if(t===M)return 32778;if(t===A)return 32779;if(t===S)return 0;if(t===L)return 1;if(t===k)return 768;if(t===C)return 769;if(t===D)return 770;if(t===P)return 771;if(t===R)return 772;if(t===O)return 773;if(t===I)return 774;if(t===N)return 775;if(t===z)return 776;if((t===Bt||t===Ft||t===jt||t===Ht)&&null!==(r=e.get("WEBGL_compressed_texture_s3tc"))){if(t===Bt)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Ft)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===jt)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Ht)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===Yt||t===Ut||t===Gt||t===Vt)&&null!==(r=e.get("WEBGL_compressed_texture_pvrtc"))){if(t===Yt)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===Ut)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Gt)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===Vt)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===Wt&&null!==(r=e.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((t===qt||t===Xt||t===Jt||t===Zt||t===Qt||t===Kt||t===$t||t===te||t===ee||t===ne||t===re||t===ie||t===ae||t===oe)&&null!==(r=e.get("WEBGL_compressed_texture_astc")))return t;if(t===E||t===T){if(n.isWebGL2){if(t===E)return 32775;if(t===T)return 32776}if(null!==(r=e.get("EXT_blend_minmax"))){if(t===E)return r.MIN_EXT;if(t===T)return r.MAX_EXT}}if(t===Lt){if(n.isWebGL2)return 34042;if(null!==(r=e.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function pi(){en.call(this),this.type="Group"}function fi(){en.call(this),this.type="Camera",this.matrixWorldInverse=new Ee,this.projectionMatrix=new Ee,this.projectionMatrixInverse=new Ee}function mi(t,e,n,r){fi.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function vi(t){mi.call(this),this.cameras=t||[]}si.prototype=Object.create(An.prototype),si.prototype.constructor=si,si.prototype.isMeshDepthMaterial=!0,si.prototype.copy=function(t){return An.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},li.prototype=Object.create(An.prototype),li.prototype.constructor=li,li.prototype.isMeshDistanceMaterial=!0,li.prototype.copy=function(t){return An.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},pi.prototype=Object.assign(Object.create(en.prototype),{constructor:pi,isGroup:!0}),fi.prototype=Object.assign(Object.create(en.prototype),{constructor:fi,isCamera:!0,copy:function(t,e){return en.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new Se),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){en.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),mi.prototype=Object.assign(Object.create(fi.prototype),{constructor:mi,isPerspectiveCamera:!0,copy:function(t,e){return fi.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Me.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Me.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Me.RAD2DEG*Math.atan(Math.tan(.5*Me.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Me.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,e-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=en.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),vi.prototype=Object.assign(Object.create(mi.prototype),{constructor:vi,isArrayCamera:!0});var gi,yi=new Se,_i=new Se;function bi(t,e,n){yi.setFromMatrixPosition(e.matrixWorld),_i.setFromMatrixPosition(n.matrixWorld);var r=yi.distanceTo(_i),i=e.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],d=(a[8]+1)/a[0],h=o*c,p=o*d,f=r/(-c+d),m=f*-c;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var v=o+f,g=s+f,y=h-m,_=p+(r-m),b=l*s/g*v,x=u*s/g*v;t.projectionMatrix.makePerspective(y,_,b,x,v,g)}function xi(t){var e=this,n=null,r=null,i=null,a=[],o=new Ee,s=new Ee,l=1,u="stage";"undefined"!==typeof window&&"VRFrameData"in window&&(r=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",_,!1));var c=new Ee,d=new Te,h=new Se,p=new mi;p.bounds=new Pe(0,0,.5,1),p.layers.enable(1);var f=new mi;f.bounds=new Pe(.5,0,.5,1),f.layers.enable(2);var m=new vi([p,f]);function v(){return null!==n&&!0===n.isPresenting}m.layers.enable(1),m.layers.enable(2);var g,y=new Ae;function _(){w(),v()?M.start():M.stop()}var b=[];function x(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=e.length;n<i;n++){var a=e[n];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("Spatial Controller"))){if(r===t)return a;r++}}}function w(){if(v()){var r=n.getEyeParameters("left"),i=r.renderWidth*l,a=r.renderHeight*l;t.setDrawingBufferSize(2*i,a,1)}else e.enabled&&(g=t.getPixelRatio(),t.getSize(y),t.setDrawingBufferSize(y.width,y.height,g))}this.enabled=!1,this.getController=function(t){var e=a[t];return void 0===e&&((e=new pi).matrixAutoUpdate=!1,e.visible=!1,a[t]=e),e},this.getDevice=function(){return n},this.setDevice=function(t){void 0!==t&&(n=t),M.setContext(t),w(),v()&&M.start()},this.setFramebufferScaleFactor=function(t){l=t},this.setFrameOfReferenceType=function(t){u=t},this.setPoseTarget=function(t){void 0!==t&&(i=t)},this.getCamera=function(t){var e="stage"===u?1.6:0;if(!1===v())return t.position.set(0,e,0),t.rotation.set(0,0,0),t;if(n.depthNear=t.near,n.depthFar=t.far,n.getFrameData(r),"stage"===u){var l=n.stageParameters;l?o.fromArray(l.sittingToStandingTransform):o.makeTranslation(0,e,0)}var g=r.pose,y=null!==i?i:t;y.matrix.copy(o),y.matrix.decompose(y.position,y.quaternion,y.scale),null!==g.orientation&&(d.fromArray(g.orientation),y.quaternion.multiply(d)),null!==g.position&&(d.setFromRotationMatrix(o),h.fromArray(g.position),h.applyQuaternion(d),y.position.add(h)),y.updateMatrixWorld(),p.near=t.near,f.near=t.near,p.far=t.far,f.far=t.far,p.matrixWorldInverse.fromArray(r.leftViewMatrix),f.matrixWorldInverse.fromArray(r.rightViewMatrix),s.getInverse(o),"stage"===u&&(p.matrixWorldInverse.multiply(s),f.matrixWorldInverse.multiply(s));var _=y.parent;null!==_&&(c.getInverse(_.matrixWorld),p.matrixWorldInverse.multiply(c),f.matrixWorldInverse.multiply(c)),p.matrixWorld.getInverse(p.matrixWorldInverse),f.matrixWorld.getInverse(f.matrixWorldInverse),p.projectionMatrix.fromArray(r.leftProjectionMatrix),f.projectionMatrix.fromArray(r.rightProjectionMatrix),bi(m,p,f);var w=n.getLayers();if(w.length){var M=w[0];null!==M.leftBounds&&4===M.leftBounds.length&&p.bounds.fromArray(M.leftBounds),null!==M.rightBounds&&4===M.rightBounds.length&&f.bounds.fromArray(M.rightBounds)}return function(){for(var t=0;t<a.length;t++){var e=a[t],n=x(t);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&e.position.set(.2,-.6,-.05),null!==r.position&&e.position.fromArray(r.position),null!==r.orientation&&e.quaternion.fromArray(r.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(o),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var i="Daydream Controller"===n.id?0:1;b[t]!==n.buttons[i].pressed&&(b[t]=n.buttons[i].pressed,!0===b[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),m},this.getStandingMatrix=function(){return o},this.isPresenting=v;var M=new Je;this.setAnimationLoop=function(t){M.setAnimationLoop(t),v()&&M.start()},this.submitFrame=function(){v()&&n.submitFrame()},this.dispose=function(){"undefined"!==typeof window&&window.removeEventListener("vrdisplaypresentchange",_)}}function wi(t){var e=t.context,n=null,r=null,i=1,a=null,o="stage",s=null,l=null,u=[],c=[];function d(){return null!==r&&null!==a}var h=new mi;h.layers.enable(1),h.viewport=new Pe;var p=new mi;p.layers.enable(2),p.viewport=new Pe;var f=new vi([h,p]);function m(t){var e=u[c.indexOf(t.inputSource)];e&&e.dispatchEvent({type:t.type})}function v(){t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),_.stop()}function g(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}f.layers.enable(1),f.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=u[t];return void 0===e&&((e=new pi).matrixAutoUpdate=!1,e.visible=!1,u[t]=e),e},this.getDevice=function(){return n},this.setDevice=function(t){void 0!==t&&(n=t),t instanceof XRDevice&&e.setCompatibleXRDevice(t)},this.setFramebufferScaleFactor=function(t){i=t},this.setFrameOfReferenceType=function(t){o=t},this.setSession=function(n){null!==(r=n)&&(r.addEventListener("select",m),r.addEventListener("selectstart",m),r.addEventListener("selectend",m),r.addEventListener("end",v),r.baseLayer=new XRWebGLLayer(r,e,{framebufferScaleFactor:i}),r.requestFrameOfReference(o).then((function(e){a=e,t.setFramebuffer(r.baseLayer.framebuffer),_.setContext(r),_.start()})),c=r.getInputSources(),r.addEventListener("inputsourceschange",(function(){c=r.getInputSources(),console.log(c);for(var t=0;t<u.length;t++)u[t].userData.inputSource=c[t]})))},this.setPoseTarget=function(t){void 0!==t&&(l=t)},this.getCamera=function(t){if(d()){var e=t.parent,n=f.cameras,r=l||t;g(f,e);for(var i=0;i<n.length;i++)g(n[i],e);r.matrixWorld.copy(f.matrixWorld);for(var a=r.children,o=(i=0,a.length);i<o;i++)a[i].updateMatrixWorld(!0);return bi(f,h,p),f}return t},this.getCameraPose=function(){return s},this.isPresenting=d;var y=null,_=new Je;_.setAnimationLoop((function(t,e){if(null!==(s=e.getDevicePose(a)))for(var n=r.baseLayer,i=e.views,o=0;o<i.length;o++){var l=i[o],d=n.getViewport(l),h=s.getViewMatrix(l),p=f.cameras[o];p.matrix.fromArray(h).getInverse(p.matrix),p.projectionMatrix.fromArray(l.projectionMatrix),p.viewport.set(d.x,d.y,d.width,d.height),0===o&&f.matrix.copy(p.matrix)}for(o=0;o<u.length;o++){var m=u[o],v=c[o];if(v){var g=e.getInputPose(v,a);if(null!==g){"targetRay"in g?m.matrix.elements=g.targetRay.transformMatrix:"pointerMatrix"in g&&(m.matrix.elements=g.pointerMatrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.visible=!0;continue}}m.visible=!1}y&&y(t,e)})),this.setAnimationLoop=function(t){y=t},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new Ee},this.submitFrame=function(){}}function Mi(t){console.log("THREE.WebGLRenderer",i);var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,a=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,s=void 0!==t.antialias&&t.antialias,l=void 0===t.premultipliedAlpha||t.premultipliedAlpha,u=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:"default",h=null,p=null;this.domElement=e,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Z,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,m,v,g,y,_,b,x,w,M,A,E,T,S,L,k,C,D,P=this,R=!1,O=null,I=null,N=null,z=-1,B={geometry:null,program:null,wireframe:!1},F=null,j=null,H=new Pe,Y=new Pe,U=null,G=0,V=e.width,W=e.height,q=1,X=new Pe(0,0,V,W),J=new Pe(0,0,V,W),Q=!1,K=new je,$=new In,tt=!1,et=!1,nt=new Ee,rt=new Se;function it(){return null===I?q:1}try{var at={alpha:r,depth:a,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c};if(e.addEventListener("webglcontextlost",ut,!1),e.addEventListener("webglcontextrestored",ct,!1),null===(f=n||e.getContext("webgl",at)||e.getContext("experimental-webgl",at)))throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Tt){throw console.error("THREE.WebGLRenderer: "+Tt.message),Tt}function ot(){m=new Nn(f),(v=new On(f,m,t)).isWebGL2||(m.get("WEBGL_depth_texture"),m.get("OES_texture_float"),m.get("OES_texture_half_float"),m.get("OES_texture_half_float_linear"),m.get("OES_standard_derivatives"),m.get("OES_element_index_uint"),m.get("ANGLE_instanced_arrays")),m.get("OES_texture_float_linear"),D=new hi(f,m,v),(g=new ci(f,m,D,v)).scissor(Y.copy(J).multiplyScalar(q)),g.viewport(H.copy(X).multiplyScalar(q)),y=new Fn(f),_=new Qr,b=new di(f,m,g,_,v,D,y),x=new Ze(f),w=new zn(f,x,y),M=new Yn(w,y),L=new Hn(f),A=new Zr(P,m,v),E=new ei,T=new oi,S=new Pn(P,g,M,l),k=new Rn(f,m,y,v),C=new Bn(f,m,y,v),y.programs=A.programs,P.context=f,P.capabilities=v,P.extensions=m,P.properties=_,P.renderLists=E,P.state=g,P.info=y}ot();var st=null;"undefined"!==typeof navigator&&(st="xr"in navigator?new wi(P):new xi(P)),this.vr=st;var lt=new ui(P,M,v.maxTextureSize);function ut(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),R=!0}function ct(){console.log("THREE.WebGLRenderer: Context Restored."),R=!1,ot()}function dt(t){var e=t.target;e.removeEventListener("dispose",dt),function(t){ht(t),_.remove(t)}(e)}function ht(t){var e=_.get(t).program;t.program=void 0,void 0!==e&&A.releaseProgram(e)}this.shadowMap=lt,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var t=m.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=m.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(t){void 0!==t&&(q=t,this.setSize(V,W,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new Ae),t.set(V,W)},this.setSize=function(t,n,r){st.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(V=t,W=n,e.width=t*q,e.height=n*q,!1!==r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new Ae),t.set(V*q,W*q)},this.setDrawingBufferSize=function(t,n,r){V=t,W=n,q=r,e.width=t*r,e.height=n*r,this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new Pe),t.copy(H)},this.getViewport=function(t){return t.copy(X)},this.setViewport=function(t,e,n,r){t.isVector4?X.set(t.x,t.y,t.z,t.w):X.set(t,e,n,r),g.viewport(H.copy(X).multiplyScalar(q))},this.getScissor=function(t){return t.copy(J)},this.setScissor=function(t,e,n,r){t.isVector4?J.set(t.x,t.y,t.z,t.w):J.set(t,e,n,r),g.scissor(Y.copy(J).multiplyScalar(q))},this.getScissorTest=function(){return Q},this.setScissorTest=function(t){g.setScissorTest(Q=t)},this.getClearColor=function(){return S.getClearColor()},this.setClearColor=function(){S.setClearColor.apply(S,arguments)},this.getClearAlpha=function(){return S.getClearAlpha()},this.setClearAlpha=function(){S.setClearAlpha.apply(S,arguments)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=16384),(void 0===e||e)&&(r|=256),(void 0===n||n)&&(r|=1024),f.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ut,!1),e.removeEventListener("webglcontextrestored",ct,!1),E.dispose(),T.dispose(),_.dispose(),M.dispose(),st.dispose(),ft.stop()},this.renderBufferImmediate=function(t,e){g.initAttributes();var n=_.get(t);t.hasPositions&&!n.position&&(n.position=f.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=f.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=f.createBuffer()),t.hasColors&&!n.color&&(n.color=f.createBuffer());var r=e.getAttributes();t.hasPositions&&(f.bindBuffer(34962,n.position),f.bufferData(34962,t.positionArray,35048),g.enableAttribute(r.position),f.vertexAttribPointer(r.position,3,5126,!1,0,0)),t.hasNormals&&(f.bindBuffer(34962,n.normal),f.bufferData(34962,t.normalArray,35048),g.enableAttribute(r.normal),f.vertexAttribPointer(r.normal,3,5126,!1,0,0)),t.hasUvs&&(f.bindBuffer(34962,n.uv),f.bufferData(34962,t.uvArray,35048),g.enableAttribute(r.uv),f.vertexAttribPointer(r.uv,2,5126,!1,0,0)),t.hasColors&&(f.bindBuffer(34962,n.color),f.bufferData(34962,t.colorArray,35048),g.enableAttribute(r.color),f.vertexAttribPointer(r.color,3,5126,!1,0,0)),g.disableUnusedAttributes(),f.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,r,i,a){var o=i.isMesh&&i.matrixWorld.determinant()<0;g.setMaterial(r,o);var s=bt(t,e,r,i),l=!1;B.geometry===n.id&&B.program===s.id&&B.wireframe===(!0===r.wireframe)||(B.geometry=n.id,B.program=s.id,B.wireframe=!0===r.wireframe,l=!0),i.morphTargetInfluences&&(L.update(i,n,r,s),l=!0);var u,c=n.index,d=n.attributes.position,h=1;!0===r.wireframe&&(c=w.getWireframeAttribute(n),h=2);var p=k;null!==c&&(u=x.get(c),(p=C).setIndex(u)),l&&(function(t,e,n){if(n&&n.isInstancedBufferGeometry&&!v.isWebGL2&&null===m.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{g.initAttributes();var r=n.attributes,i=e.getAttributes(),a=t.defaultAttributeValues;for(var o in i){var s=i[o];if(s>=0){var l=r[o];if(void 0!==l){var u=l.normalized,c=l.itemSize,d=x.get(l);if(void 0===d)continue;var h=d.buffer,p=d.type,y=d.bytesPerElement;if(l.isInterleavedBufferAttribute){var _=l.data,b=_.stride,w=l.offset;_&&_.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(s,_.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=_.meshPerAttribute*_.count)):g.enableAttribute(s),f.bindBuffer(34962,h),f.vertexAttribPointer(s,c,p,u,b*y,w*y)}else l.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(s,l.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):g.enableAttribute(s),f.bindBuffer(34962,h),f.vertexAttribPointer(s,c,p,u,0,0)}else if(void 0!==a){var M=a[o];if(void 0!==M)switch(M.length){case 2:f.vertexAttrib2fv(s,M);break;case 3:f.vertexAttrib3fv(s,M);break;case 4:f.vertexAttrib4fv(s,M);break;default:f.vertexAttrib1fv(s,M)}}}}g.disableUnusedAttributes()}}(r,s,n),null!==c&&f.bindBuffer(34963,u.buffer));var y=1/0;null!==c?y=c.count:void 0!==d&&(y=d.count);var _=n.drawRange.start*h,b=n.drawRange.count*h,M=null!==a?a.start*h:0,A=null!==a?a.count*h:1/0,E=Math.max(_,M),T=Math.min(y,_+b,M+A)-1,S=Math.max(0,T-E+1);if(0!==S){if(i.isMesh)if(!0===r.wireframe)g.setLineWidth(r.wireframeLinewidth*it()),p.setMode(1);else switch(i.drawMode){case ue:p.setMode(4);break;case ce:p.setMode(5);break;case de:p.setMode(6)}else if(i.isLine){var D=r.linewidth;void 0===D&&(D=1),g.setLineWidth(D*it()),i.isLineSegments?p.setMode(1):i.isLineLoop?p.setMode(2):p.setMode(3)}else i.isPoints?p.setMode(0):i.isSprite&&p.setMode(4);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&p.renderInstances(n,E,S):p.render(E,S)}},this.compile=function(t,e){(p=T.get(t,e)).init(),t.traverse((function(t){t.isLight&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))})),p.setupLights(e),t.traverse((function(e){if(e.material)if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)_t(e.material[n],t.fog,e);else _t(e.material,t.fog,e)}))};var pt=null,ft=new Je;function mt(t,e,n,r){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||K.intersectsSprite(t)){r&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(nt);var i=M.update(t);(a=t.material).visible&&h.push(t,i,a,n,rt.z,null)}}else if(t.isImmediateRenderObject)r&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(nt),h.push(t,null,t.material,n,rt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||K.intersectsObject(t))){r&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(nt),i=M.update(t);var a=t.material;if(Array.isArray(a))for(var o=i.groups,s=0,l=o.length;s<l;s++){var u=o[s],c=a[u.materialIndex];c&&c.visible&&h.push(t,i,c,n,rt.z,u)}else a.visible&&h.push(t,i,a,n,rt.z,null)}var d=t.children;for(s=0,l=d.length;s<l;s++)mt(d[s],e,n,r)}}function vt(t,e,n,r){for(var i=0,a=t.length;i<a;i++){var o=t[i],s=o.object,l=o.geometry,u=void 0===r?o.material:r,c=o.group;if(n.isArrayCamera){j=n;for(var d=n.cameras,h=0,f=d.length;h<f;h++){var m=d[h];if(s.layers.test(m.layers)){if("viewport"in m)g.viewport(H.copy(m.viewport));else{var v=m.bounds,y=v.x*V,_=v.y*W,b=v.z*V,x=v.w*W;g.viewport(H.set(y,_,b,x).multiplyScalar(q))}p.setupLights(m),yt(s,e,m,l,u,c)}}}else j=null,yt(s,e,n,l,u,c)}}function yt(t,e,n,r,i,a){if(t.onBeforeRender(P,e,n,r,i,a),p=T.get(e,j||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){g.setMaterial(i);var o=bt(n,e.fog,i,t);B.geometry=null,B.program=null,B.wireframe=!1,function(t,e){t.render((function(t){P.renderBufferImmediate(t,e)}))}(t,o)}else P.renderBufferDirect(n,e.fog,r,i,t,a);t.onAfterRender(P,e,n,r,i,a),p=T.get(e,j||n)}function _t(t,e,n){var r=_.get(t),i=p.state.lights,a=p.state.shadowsArray,o=r.lightsHash,s=i.state.hash,l=A.getParameters(t,i.state,a,e,$.numPlanes,$.numIntersection,n),u=A.getProgramCode(t,l),c=r.program,d=!0;if(void 0===c)t.addEventListener("dispose",dt);else if(c.code!==u)ht(t);else if(o.stateID!==s.stateID||o.directionalLength!==s.directionalLength||o.pointLength!==s.pointLength||o.spotLength!==s.spotLength||o.rectAreaLength!==s.rectAreaLength||o.hemiLength!==s.hemiLength||o.shadowsLength!==s.shadowsLength)o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,d=!1;else{if(void 0!==l.shaderID)return;d=!1}if(d){if(l.shaderID){var h=Xe[l.shaderID];r.shader={name:t.type,uniforms:Ye(h.uniforms),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader}}else r.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(r.shader,P),u=A.getProgramCode(t,l),c=A.acquireProgram(t,r.shader,l,u),r.program=c,t.program=c}var f=c.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var m=0;m<P.maxMorphTargets;m++)f["morphTarget"+m]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,m=0;m<P.maxMorphNormals;m++)f["morphNormal"+m]>=0&&t.numSupportedMorphNormals++;var v=r.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=$.numPlanes,r.numIntersection=$.numIntersection,v.clippingPlanes=$.uniform),r.fog=e,void 0===o&&(r.lightsHash=o={}),o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,t.lights&&(v.ambientLightColor.value=i.state.ambient,v.directionalLights.value=i.state.directional,v.spotLights.value=i.state.spot,v.rectAreaLights.value=i.state.rectArea,v.pointLights.value=i.state.point,v.hemisphereLights.value=i.state.hemi,v.directionalShadowMap.value=i.state.directionalShadowMap,v.directionalShadowMatrix.value=i.state.directionalShadowMatrix,v.spotShadowMap.value=i.state.spotShadowMap,v.spotShadowMatrix.value=i.state.spotShadowMatrix,v.pointShadowMap.value=i.state.pointShadowMap,v.pointShadowMatrix.value=i.state.pointShadowMatrix);var g=r.program.getUniforms(),y=zr.seqWithValue(g.seq,v);r.uniformsList=y}function bt(t,e,n,r){G=0;var i=_.get(n),a=p.state.lights,o=i.lightsHash,s=a.state.hash;if(tt&&(et||t!==F)){var l=t===F&&n.id===z;$.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,l)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:(!n.lights||o.stateID===s.stateID&&o.directionalLength===s.directionalLength&&o.pointLength===s.pointLength&&o.spotLength===s.spotLength&&o.rectAreaLength===s.rectAreaLength&&o.hemiLength===s.hemiLength&&o.shadowsLength===s.shadowsLength)&&(void 0===i.numClippingPlanes||i.numClippingPlanes===$.numPlanes&&i.numIntersection===$.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(_t(n,e,r),n.needsUpdate=!1);var u,c,h=!1,m=!1,y=!1,b=i.program,x=b.getUniforms(),w=i.shader.uniforms;if(g.useProgram(b.program)&&(h=!0,m=!0,y=!0),n.id!==z&&(z=n.id,m=!0),h||F!==t){if(x.setValue(f,"projectionMatrix",t.projectionMatrix),v.logarithmicDepthBuffer&&x.setValue(f,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),F!==t&&(F=t,m=!0,y=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var M=x.map.cameraPosition;void 0!==M&&M.setValue(f,rt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&x.setValue(f,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){x.setOptional(f,r,"bindMatrix"),x.setOptional(f,r,"bindMatrixInverse");var A=r.skeleton;if(A){var E=A.bones;if(v.floatVertexTextures){if(void 0===A.boneTexture){var T=Math.sqrt(4*E.length);T=Me.ceilPowerOfTwo(T),T=Math.max(T,4);var S=new Float32Array(T*T*4);S.set(A.boneMatrices);var L=new Ne(S,T,T,Dt,Mt);L.needsUpdate=!0,A.boneMatrices=S,A.boneTexture=L,A.boneTextureSize=T}x.setValue(f,"boneTexture",A.boneTexture),x.setValue(f,"boneTextureSize",A.boneTextureSize)}else x.setOptional(f,A,"boneMatrices")}}return m&&(x.setValue(f,"toneMappingExposure",P.toneMappingExposure),x.setValue(f,"toneMappingWhitePoint",P.toneMappingWhitePoint),n.lights&&(c=y,(u=w).ambientLightColor.needsUpdate=c,u.directionalLights.needsUpdate=c,u.pointLights.needsUpdate=c,u.spotLights.needsUpdate=c,u.rectAreaLights.needsUpdate=c,u.hemisphereLights.needsUpdate=c),e&&n.fog&&function(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(w,e),n.isMeshBasicMaterial?xt(w,n):n.isMeshLambertMaterial?(xt(w,n),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(w,n)):n.isMeshPhongMaterial?(xt(w,n),n.isMeshToonMaterial?function(t,e){wt(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(w,n):wt(w,n)):n.isMeshStandardMaterial?(xt(w,n),n.isMeshPhysicalMaterial?function(t,e){Et(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}(w,n):Et(w,n)):n.isMeshMatcapMaterial?(xt(w,n),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(w,n)):n.isMeshDepthMaterial?(xt(w,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(w,n)):n.isMeshDistanceMaterial?(xt(w,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(w,n)):n.isMeshNormalMaterial?(xt(w,n),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(w,n)):n.isLineBasicMaterial?(function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}(w,n),n.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(w,n)):n.isPointsMaterial?function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*q,t.scale.value=.5*W,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(w,n):n.isSpriteMaterial?function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(w,n):n.isShadowMaterial&&(w.color.value=n.color,w.opacity.value=n.opacity),void 0!==w.ltc_1&&(w.ltc_1.value=qe.LTC_1),void 0!==w.ltc_2&&(w.ltc_2.value=qe.LTC_2),zr.upload(f,i.uniformsList,w,P)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(zr.upload(f,i.uniformsList,w,P),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&x.setValue(f,"center",r.center),x.setValue(f,"modelViewMatrix",r.modelViewMatrix),x.setValue(f,"normalMatrix",r.normalMatrix),x.setValue(f,"modelMatrix",r.matrixWorld),b}function xt(t,e){var n;t.opacity.value=e.opacity,e.color&&(t.diffuse.value=e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=_.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}function wt(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Et(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}ft.setAnimationLoop((function(t){st.isPresenting()||pt&&pt(t)})),"undefined"!==typeof window&&ft.setContext(window),this.setAnimationLoop=function(t){pt=t,st.setAnimationLoop(t),ft.start()},this.render=function(t,e){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),e&&e.isCamera){if(!R){B.geometry=null,B.program=null,B.wireframe=!1,z=-1,F=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),st.enabled&&(e=st.getCamera(e)),(p=T.get(t,e)).init(),t.onBeforeRender(P,t,e,n||I),nt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),K.setFromMatrix(nt),et=this.localClippingEnabled,tt=$.init(this.clippingPlanes,et,e),(h=E.get(t,e)).init(),mt(t,e,0,P.sortObjects),!0===P.sortObjects&&h.sort(),tt&&$.beginShadows();var i=p.state.shadowsArray;lt.render(i,t,e),p.setupLights(e),tt&&$.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),S.render(h,t,e,r);var a=h.opaque,o=h.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;a.length&&vt(a,t,e,s),o.length&&vt(o,t,e,s)}else a.length&&vt(a,t,e),o.length&&vt(o,t,e);t.onAfterRender(P,t,e),null!==I&&(b.updateRenderTargetMipmap(I),b.updateMultisampleRenderTarget(I)),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),st.enabled&&st.submitFrame(),h=null,p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var t=G;return t>=v.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+t+" texture units while this GPU supports only "+v.maxTextures),G+=1,t},this.setTexture2D=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),b.setTexture2D(e,n)}}(),this.setTexture2DArray=function(t,e){b.setTexture2DArray(t,e)},this.setTexture3D=function(t,e){b.setTexture3D(t,e)},this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),b.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?b.setTextureCube(e,n):b.setTextureCubeDynamic(e,n)}}(),this.setFramebuffer=function(t){O=t},this.getRenderTarget=function(){return I},this.setRenderTarget=function(t,e,n){I=t,t&&void 0===_.get(t).__webglFramebuffer&&b.setupRenderTarget(t);var r=O,i=!1;if(t){var a=_.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(r=a[e||0],i=!0):r=t.isWebGLMultisampleRenderTarget?_.get(t).__webglMultisampledFramebuffer:a,H.copy(t.viewport),Y.copy(t.scissor),U=t.scissorTest}else H.copy(X).multiplyScalar(q),Y.copy(J).multiplyScalar(q),U=Q;if(N!==r&&(f.bindFramebuffer(36160,r),N=r),g.viewport(H),g.scissor(Y),g.setScissorTest(U),i){var o=_.get(t.texture);f.framebufferTexture2D(36160,36064,34069+(e||0),o.__webglTexture,n||0)}},this.readRenderTargetPixels=function(t,e,n,r,i,a){if(t&&t.isWebGLRenderTarget){var o=_.get(t).__webglFramebuffer;if(o){var s=!1;o!==N&&(f.bindFramebuffer(36160,o),s=!0);try{var l=t.texture,u=l.format,c=l.type;if(u!==Dt&&D.convert(u)!==f.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(c!==gt&&D.convert(c)!==f.getParameter(35738)&&(c!==Mt||!(v.isWebGL2||m.get("OES_texture_float")||m.get("WEBGL_color_buffer_float")))&&(c!==At||(v.isWebGL2?!m.get("EXT_color_buffer_float"):!m.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===f.checkFramebufferStatus(36160)?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&f.readPixels(e,n,r,i,D.convert(u),D.convert(c),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&f.bindFramebuffer(36160,N)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,n){var r=e.image.width,i=e.image.height,a=D.convert(e.format);this.setTexture2D(e,0),f.copyTexImage2D(3553,n||0,a,t.x,t.y,r,i,0)},this.copyTextureToTexture=function(t,e,n,r){var i=e.image.width,a=e.image.height,o=D.convert(n.format),s=D.convert(n.type);this.setTexture2D(n,0),e.isDataTexture?f.texSubImage2D(3553,r||0,t.x,t.y,i,a,o,s,e.image.data):f.texSubImage2D(3553,r||0,t.x,t.y,o,s,e.image)}}function Ai(t,e){this.name="",this.color=new We(t),this.density=void 0!==e?e:25e-5}function Ei(t,e,n){this.name="",this.color=new We(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function Ti(){en.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Si(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Li(t,e,n,r){this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function ki(t){An.call(this),this.type="SpriteMaterial",this.color=new We(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(t)}function Ci(t){if(en.call(this),this.type="Sprite",void 0===gi){gi=new yn;var e=new Si(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);gi.setIndex([0,1,2,0,2,3]),gi.addAttribute("position",new Li(e,3,0,!1)),gi.addAttribute("uv",new Li(e,2,3,!1))}this.geometry=gi,this.material=void 0!==t?t:new ki,this.center=new Ae(.5,.5)}function Di(){en.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Pi(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Dn.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ee,this.bindMatrixInverse=new Ee}function Ri(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Ee)}}function Oi(){en.call(this),this.type="Bone"}function Ii(t){An.call(this),this.type="LineBasicMaterial",this.color=new We(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Ni(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),en.call(this),this.type="Line",this.geometry=void 0!==t?t:new yn,this.material=void 0!==e?e:new Ii({color:16777215*Math.random()})}function zi(t,e){Ni.call(this,t,e),this.type="LineSegments"}function Bi(t,e){Ni.call(this,t,e),this.type="LineLoop"}function Fi(t){An.call(this),this.type="PointsMaterial",this.color=new We(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function ji(t,e){en.call(this),this.type="Points",this.geometry=void 0!==t?t:new yn,this.material=void 0!==e?e:new Fi({color:16777215*Math.random()})}function Hi(t,e,n,r,i,a,o,s,l){De.call(this,t,e,n,r,i,a,o,s,l),this.format=void 0!==o?o:Ct,this.minFilter=void 0!==a?a:ft,this.magFilter=void 0!==i?i:ft,this.generateMipmaps=!1}function Yi(t,e,n,r,i,a,o,s,l,u,c,d){De.call(this,null,a,o,s,l,u,r,i,c,d),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Ui(t,e,n,r,i,a,o,s,l){De.call(this,t,e,n,r,i,a,o,s,l),this.needsUpdate=!0}function Gi(t,e,n,r,i,a,o,s,l,u){if((u=void 0!==u?u:It)!==It&&u!==Nt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===It&&(n=bt),void 0===n&&u===Nt&&(n=Lt),De.call(this,null,r,i,a,o,s,u,n,l),this.image={width:t,height:e},this.magFilter=void 0!==o?o:dt,this.minFilter=void 0!==s?s:dt,this.flipY=!1,this.generateMipmaps=!1}function Vi(t){yn.call(this),this.type="WireframeGeometry";var e,n,r,i,a,o,s,l,u,c,d=[],h=[0,0],p={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,r=m.length;e<r;e++){var v=m[e];for(n=0;n<3;n++)s=v[f[n]],l=v[f[(n+1)%3]],h[0]=Math.min(s,l),h[1]=Math.max(s,l),void 0===p[u=h[0]+","+h[1]]&&(p[u]={index1:h[0],index2:h[1]})}for(u in p)o=p[u],c=t.vertices[o.index1],d.push(c.x,c.y,c.z),c=t.vertices[o.index2],d.push(c.x,c.y,c.z)}else if(t&&t.isBufferGeometry){var g,y,_,b,x,w,M;if(c=new Se,null!==t.index){for(g=t.attributes.position,y=t.index,0===(_=t.groups).length&&(_=[{start:0,count:y.count,materialIndex:0}]),i=0,a=_.length;i<a;++i)for(e=x=(b=_[i]).start,r=x+b.count;e<r;e+=3)for(n=0;n<3;n++)s=y.getX(e+n),l=y.getX(e+(n+1)%3),h[0]=Math.min(s,l),h[1]=Math.max(s,l),void 0===p[u=h[0]+","+h[1]]&&(p[u]={index1:h[0],index2:h[1]});for(u in p)o=p[u],c.fromBufferAttribute(g,o.index1),d.push(c.x,c.y,c.z),c.fromBufferAttribute(g,o.index2),d.push(c.x,c.y,c.z)}else for(e=0,r=(g=t.attributes.position).count/3;e<r;e++)for(n=0;n<3;n++)w=3*e+n,c.fromBufferAttribute(g,w),d.push(c.x,c.y,c.z),M=3*e+(n+1)%3,c.fromBufferAttribute(g,M),d.push(c.x,c.y,c.z)}this.addAttribute("position",new pn(d,3))}function Wi(t,e,n){rn.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new qi(t,e,n)),this.mergeVertices()}function qi(t,e,n){yn.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r,i,a=[],o=[],s=[],l=[],u=new Se,c=new Se,d=new Se,h=new Se,p=new Se;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var f=e+1;for(r=0;r<=n;r++){var m=r/n;for(i=0;i<=e;i++){var v=i/e;t(v,m,c),o.push(c.x,c.y,c.z),v-1e-5>=0?(t(v-1e-5,m,d),h.subVectors(c,d)):(t(v+1e-5,m,d),h.subVectors(d,c)),m-1e-5>=0?(t(v,m-1e-5,d),p.subVectors(c,d)):(t(v,m+1e-5,d),p.subVectors(d,c)),u.crossVectors(h,p).normalize(),s.push(u.x,u.y,u.z),l.push(v,m)}}for(r=0;r<n;r++)for(i=0;i<e;i++){var g=r*f+i,y=r*f+i+1,_=(r+1)*f+i+1,b=(r+1)*f+i;a.push(g,y,b),a.push(y,_,b)}this.setIndex(a),this.addAttribute("position",new pn(o,3)),this.addAttribute("normal",new pn(s,3)),this.addAttribute("uv",new pn(l,2))}function Xi(t,e,n,r){rn.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new Ji(t,e,n,r)),this.mergeVertices()}function Ji(t,e,n,r){yn.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1;var i=[],a=[];function o(t,e,n,r){var i,a,o=Math.pow(2,r),l=[];for(i=0;i<=o;i++){l[i]=[];var u=t.clone().lerp(n,i/o),c=e.clone().lerp(n,i/o),d=o-i;for(a=0;a<=d;a++)l[i][a]=0===a&&i===o?u:u.clone().lerp(c,a/d)}for(i=0;i<o;i++)for(a=0;a<2*(o-i)-1;a++){var h=Math.floor(a/2);a%2===0?(s(l[i][h+1]),s(l[i+1][h]),s(l[i][h])):(s(l[i][h+1]),s(l[i+1][h+1]),s(l[i+1][h]))}}function s(t){i.push(t.x,t.y,t.z)}function l(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function u(t,e,n,r){r<0&&1===t.x&&(a[e]=t.x-1),0===n.x&&0===n.z&&(a[e]=r/2/Math.PI+.5)}function c(t){return Math.atan2(t.z,-t.x)}!function(t){for(var n=new Se,r=new Se,i=new Se,a=0;a<e.length;a+=3)l(e[a+0],n),l(e[a+1],r),l(e[a+2],i),o(n,r,i,t)}(r=r||0),function(t){for(var e=new Se,n=0;n<i.length;n+=3)e.x=i[n+0],e.y=i[n+1],e.z=i[n+2],e.normalize().multiplyScalar(t),i[n+0]=e.x,i[n+1]=e.y,i[n+2]=e.z}(n),function(){for(var t=new Se,e=0;e<i.length;e+=3){t.x=i[e+0],t.y=i[e+1],t.z=i[e+2];var n=c(t)/2/Math.PI+.5,r=(o=t,Math.atan2(-o.y,Math.sqrt(o.x*o.x+o.z*o.z))/Math.PI+.5);a.push(n,1-r)}var o;(function(){for(var t=new Se,e=new Se,n=new Se,r=new Se,o=new Ae,s=new Ae,l=new Ae,d=0,h=0;d<i.length;d+=9,h+=6){t.set(i[d+0],i[d+1],i[d+2]),e.set(i[d+3],i[d+4],i[d+5]),n.set(i[d+6],i[d+7],i[d+8]),o.set(a[h+0],a[h+1]),s.set(a[h+2],a[h+3]),l.set(a[h+4],a[h+5]),r.copy(t).add(e).add(n).divideScalar(3);var p=c(r);u(o,h+0,t,p),u(s,h+2,e,p),u(l,h+4,n,p)}})(),function(){for(var t=0;t<a.length;t+=6){var e=a[t+0],n=a[t+2],r=a[t+4],i=Math.max(e,n,r),o=Math.min(e,n,r);i>.9&&o<.1&&(e<.2&&(a[t+0]+=1),n<.2&&(a[t+2]+=1),r<.2&&(a[t+4]+=1))}}()}(),this.addAttribute("position",new pn(i,3)),this.addAttribute("normal",new pn(i.slice(),3)),this.addAttribute("uv",new pn(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Zi(t,e){rn.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Qi(t,e)),this.mergeVertices()}function Qi(t,e){Ji.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ki(t,e){rn.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new $i(t,e)),this.mergeVertices()}function $i(t,e){Ji.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ta(t,e){rn.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ea(t,e)),this.mergeVertices()}function ea(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];Ji.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function na(t,e){rn.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ra(t,e)),this.mergeVertices()}function ra(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];Ji.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ia(t,e,n,r,i,a){rn.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new aa(t,e,n,r,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function aa(t,e,n,r,i){yn.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},e=e||64,n=n||1,r=r||8,i=i||!1;var a=t.computeFrenetFrames(e,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,l=new Se,u=new Se,c=new Ae,d=new Se,h=[],p=[],f=[],m=[];function v(i){d=t.getPointAt(i/e,d);var o=a.normals[i],c=a.binormals[i];for(s=0;s<=r;s++){var f=s/r*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);u.x=v*o.x+m*c.x,u.y=v*o.y+m*c.y,u.z=v*o.z+m*c.z,u.normalize(),p.push(u.x,u.y,u.z),l.x=d.x+n*u.x,l.y=d.y+n*u.y,l.z=d.z+n*u.z,h.push(l.x,l.y,l.z)}}!function(){for(o=0;o<e;o++)v(o);v(!1===i?e:0),function(){for(o=0;o<=e;o++)for(s=0;s<=r;s++)c.x=o/e,c.y=s/r,f.push(c.x,c.y)}(),function(){for(s=1;s<=e;s++)for(o=1;o<=r;o++){var t=(r+1)*(s-1)+(o-1),n=(r+1)*s+(o-1),i=(r+1)*s+o,a=(r+1)*(s-1)+o;m.push(t,n,a),m.push(n,i,a)}}()}(),this.setIndex(m),this.addAttribute("position",new pn(h,3)),this.addAttribute("normal",new pn(p,3)),this.addAttribute("uv",new pn(f,2))}function oa(t,e,n,r,i,a,o){rn.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new sa(t,e,n,r,i,a)),this.mergeVertices()}function sa(t,e,n,r,i,a){yn.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:a},t=t||1,e=e||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,a=a||3;var o,s,l=[],u=[],c=[],d=[],h=new Se,p=new Se,f=new Se,m=new Se,v=new Se,g=new Se,y=new Se;for(o=0;o<=n;++o){var _=o/n*i*Math.PI*2;for(S(_,i,a,t,f),S(_+.01,i,a,t,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var b=s/r*Math.PI*2,x=-e*Math.cos(b),w=e*Math.sin(b);h.x=f.x+(x*y.x+w*v.x),h.y=f.y+(x*y.y+w*v.y),h.z=f.z+(x*y.z+w*v.z),u.push(h.x,h.y,h.z),p.subVectors(h,f).normalize(),c.push(p.x,p.y,p.z),d.push(o/n),d.push(s/r)}}for(s=1;s<=n;s++)for(o=1;o<=r;o++){var M=(r+1)*(s-1)+(o-1),A=(r+1)*s+(o-1),E=(r+1)*s+o,T=(r+1)*(s-1)+o;l.push(M,A,T),l.push(A,E,T)}function S(t,e,n,r,i){var a=Math.cos(t),o=Math.sin(t),s=n/e*t,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(l),this.addAttribute("position",new pn(u,3)),this.addAttribute("normal",new pn(c,3)),this.addAttribute("uv",new pn(d,2))}function la(t,e,n,r,i){rn.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new ua(t,e,n,r,i)),this.mergeVertices()}function ua(t,e,n,r,i){yn.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||1,e=e||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var a,o,s=[],l=[],u=[],c=[],d=new Se,h=new Se,p=new Se;for(a=0;a<=n;a++)for(o=0;o<=r;o++){var f=o/r*i,m=a/n*Math.PI*2;h.x=(t+e*Math.cos(m))*Math.cos(f),h.y=(t+e*Math.cos(m))*Math.sin(f),h.z=e*Math.sin(m),l.push(h.x,h.y,h.z),d.x=t*Math.cos(f),d.y=t*Math.sin(f),p.subVectors(h,d).normalize(),u.push(p.x,p.y,p.z),c.push(o/r),c.push(a/n)}for(a=1;a<=n;a++)for(o=1;o<=r;o++){var v=(r+1)*a+o-1,g=(r+1)*(a-1)+o-1,y=(r+1)*(a-1)+o,_=(r+1)*a+o;s.push(v,g,_),s.push(g,y,_)}this.setIndex(s),this.addAttribute("position",new pn(l,3)),this.addAttribute("normal",new pn(u,3)),this.addAttribute("uv",new pn(c,2))}Object.assign(Ai.prototype,{isFogExp2:!0,clone:function(){return new Ai(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(Ei.prototype,{isFog:!0,clone:function(){return new Ei(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Ti.prototype=Object.assign(Object.create(en.prototype),{constructor:Ti,isScene:!0,copy:function(t,e){return en.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=en.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Si.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Si.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Object.defineProperties(Li.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Li.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}}),ki.prototype=Object.create(An.prototype),ki.prototype.constructor=ki,ki.prototype.isSpriteMaterial=!0,ki.prototype.copy=function(t){return An.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this},Ci.prototype=Object.assign(Object.create(en.prototype),{constructor:Ci,isSprite:!0,raycast:function(){var t=new Se,e=new Se,n=new Se,r=new Ae,i=new Ae,a=new Ee,o=new Se,s=new Se,l=new Se,u=new Ae,c=new Ae,d=new Ae;function h(t,e,n,o,s,l){r.subVectors(t,n).addScalar(.5).multiply(o),void 0!==s?(i.x=l*r.x-s*r.y,i.y=s*r.x+l*r.y):i.copy(r),t.copy(e),t.x+=i.x,t.y+=i.y,t.applyMatrix4(a)}return function(r,i){e.setFromMatrixScale(this.matrixWorld),a.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix);var p,f,m=this.material.rotation;0!==m&&(f=Math.cos(m),p=Math.sin(m));var v=this.center;h(o.set(-.5,-.5,0),n,v,e,p,f),h(s.set(.5,-.5,0),n,v,e,p,f),h(l.set(.5,.5,0),n,v,e,p,f),u.set(0,0),c.set(1,0),d.set(1,1);var g=r.ray.intersectTriangle(o,s,l,!1,t);if(null!==g||(h(s.set(-.5,.5,0),n,v,e,p,f),c.set(0,1),null!==(g=r.ray.intersectTriangle(o,l,s,!1,t)))){var y=r.ray.origin.distanceTo(t);y<r.near||y>r.far||i.push({distance:y,point:t.clone(),uv:kn.getUV(t,o,s,l,u,c,d,new Ae),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return en.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),Di.prototype=Object.assign(Object.create(en.prototype),{constructor:Di,copy:function(t){en.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new Se;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(t);this.getObjectForDistance(r).raycast(e,n)}}(),update:function(){var t=new Se,e=new Se;return function(n){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&i>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(t){var e=en.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),Pi.prototype=Object.assign(Object.create(Dn.prototype),{constructor:Pi,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new Pe,e=this.geometry.attributes.skinWeight,n=0,r=e.count;n<r;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);var i=1/t.manhattanLength();i!==1/0?t.multiplyScalar(i):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Dn.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(Ri.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new Ee;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new Ee,e=new Ee;return function(){for(var n=this.bones,r=this.boneInverses,i=this.boneMatrices,a=this.boneTexture,o=0,s=n.length;o<s;o++){var l=n[o]?n[o].matrixWorld:e;t.multiplyMatrices(l,r[o]),t.toArray(i,16*o)}void 0!==a&&(a.needsUpdate=!0)}}(),clone:function(){return new Ri(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,n=this.bones.length;e<n;e++){var r=this.bones[e];if(r.name===t)return r}}}),Oi.prototype=Object.assign(Object.create(en.prototype),{constructor:Oi,isBone:!0}),Ii.prototype=Object.create(An.prototype),Ii.prototype.constructor=Ii,Ii.prototype.isLineBasicMaterial=!0,Ii.prototype.copy=function(t){return An.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Ni.prototype=Object.assign(Object.create(en.prototype),{constructor:Ni,isLine:!0,computeLineDistances:function(){var t=new Se,e=new Se;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[0],a=1,o=r.count;a<o;a++)t.fromBufferAttribute(r,a-1),e.fromBufferAttribute(r,a),i[a]=i[a-1],i[a]+=t.distanceTo(e);n.addAttribute("lineDistance",new pn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;for((i=n.lineDistances)[0]=0,a=1,o=s.length;a<o;a++)i[a]=i[a-1],i[a]+=s[a-1].distanceTo(s[a])}return this}}(),raycast:function(){var t=new Ee,e=new Ln,n=new Be;return function(r,i){var a=r.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),n.radius+=a,!1!==r.ray.intersectsSphere(n)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,c=new Se,d=new Se,h=new Se,p=new Se,f=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,v=o.attributes.position.array;if(null!==m)for(var g=m.array,y=0,_=g.length-1;y<_;y+=f){var b=g[y],x=g[y+1];c.fromArray(v,3*b),d.fromArray(v,3*x),e.distanceSqToSegment(c,d,p,h)>u||(p.applyMatrix4(this.matrixWorld),(A=r.ray.origin.distanceTo(p))<r.near||A>r.far||i.push({distance:A,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else for(y=0,_=v.length/3-1;y<_;y+=f)c.fromArray(v,3*y),d.fromArray(v,3*y+3),e.distanceSqToSegment(c,d,p,h)>u||(p.applyMatrix4(this.matrixWorld),(A=r.ray.origin.distanceTo(p))<r.near||A>r.far||i.push({distance:A,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else if(o.isGeometry){var w=o.vertices,M=w.length;for(y=0;y<M-1;y+=f){var A;e.distanceSqToSegment(w[y],w[y+1],p,h)>u||(p.applyMatrix4(this.matrixWorld),(A=r.ray.origin.distanceTo(p))<r.near||A>r.far||i.push({distance:A,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),zi.prototype=Object.assign(Object.create(Ni.prototype),{constructor:zi,isLineSegments:!0,computeLineDistances:function(){var t=new Se,e=new Se;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[],a=0,o=r.count;a<o;a+=2)t.fromBufferAttribute(r,a),e.fromBufferAttribute(r,a+1),i[a]=0===a?0:i[a-1],i[a+1]=i[a]+t.distanceTo(e);n.addAttribute("lineDistance",new pn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;for(i=n.lineDistances,a=0,o=s.length;a<o;a+=2)t.copy(s[a]),e.copy(s[a+1]),i[a]=0===a?0:i[a-1],i[a+1]=i[a]+t.distanceTo(e)}return this}}()}),Bi.prototype=Object.assign(Object.create(Ni.prototype),{constructor:Bi,isLineLoop:!0}),Fi.prototype=Object.create(An.prototype),Fi.prototype.constructor=Fi,Fi.prototype.isPointsMaterial=!0,Fi.prototype.copy=function(t){return An.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},ji.prototype=Object.assign(Object.create(en.prototype),{constructor:ji,isPoints:!0,raycast:function(){var t=new Ee,e=new Ln,n=new Be;return function(r,i){var a=this,o=this.geometry,s=this.matrixWorld,l=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),n.radius+=l,!1!==r.ray.intersectsSphere(n)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var u=l/((this.scale.x+this.scale.y+this.scale.z)/3),c=u*u,d=new Se,h=new Se;if(o.isBufferGeometry){var p=o.index,f=o.attributes.position.array;if(null!==p)for(var m=p.array,v=0,g=m.length;v<g;v++){var y=m[v];d.fromArray(f,3*y),x(d,y)}else{v=0;for(var _=f.length/3;v<_;v++)d.fromArray(f,3*v),x(d,v)}}else{var b=o.vertices;for(v=0,_=b.length;v<_;v++)x(b[v],v)}}function x(t,n){var o=e.distanceSqToPoint(t);if(o<c){e.closestPointToPoint(t,h),h.applyMatrix4(s);var l=r.ray.origin.distanceTo(h);if(l<r.near||l>r.far)return;i.push({distance:l,distanceToRay:Math.sqrt(o),point:h.clone(),index:n,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Hi.prototype=Object.assign(Object.create(De.prototype),{constructor:Hi,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Yi.prototype=Object.create(De.prototype),Yi.prototype.constructor=Yi,Yi.prototype.isCompressedTexture=!0,Ui.prototype=Object.create(De.prototype),Ui.prototype.constructor=Ui,Ui.prototype.isCanvasTexture=!0,Gi.prototype=Object.create(De.prototype),Gi.prototype.constructor=Gi,Gi.prototype.isDepthTexture=!0,Vi.prototype=Object.create(yn.prototype),Vi.prototype.constructor=Vi,Wi.prototype=Object.create(rn.prototype),Wi.prototype.constructor=Wi,qi.prototype=Object.create(yn.prototype),qi.prototype.constructor=qi,Xi.prototype=Object.create(rn.prototype),Xi.prototype.constructor=Xi,Ji.prototype=Object.create(yn.prototype),Ji.prototype.constructor=Ji,Zi.prototype=Object.create(rn.prototype),Zi.prototype.constructor=Zi,Qi.prototype=Object.create(Ji.prototype),Qi.prototype.constructor=Qi,Ki.prototype=Object.create(rn.prototype),Ki.prototype.constructor=Ki,$i.prototype=Object.create(Ji.prototype),$i.prototype.constructor=$i,ta.prototype=Object.create(rn.prototype),ta.prototype.constructor=ta,ea.prototype=Object.create(Ji.prototype),ea.prototype.constructor=ea,na.prototype=Object.create(rn.prototype),na.prototype.constructor=na,ra.prototype=Object.create(Ji.prototype),ra.prototype.constructor=ra,ia.prototype=Object.create(rn.prototype),ia.prototype.constructor=ia,aa.prototype=Object.create(yn.prototype),aa.prototype.constructor=aa,aa.prototype.toJSON=function(){var t=yn.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},oa.prototype=Object.create(rn.prototype),oa.prototype.constructor=oa,sa.prototype=Object.create(yn.prototype),sa.prototype.constructor=sa,la.prototype=Object.create(rn.prototype),la.prototype.constructor=la,ua.prototype=Object.create(yn.prototype),ua.prototype.constructor=ua;var ca=function(t,e,n){n=n||2;var r,i,a,o,s,l,u,c=e&&e.length,d=c?e[0]*n:t.length,h=da(t,0,d,n,!0),p=[];if(!h)return p;if(c&&(h=function(t,e,n,r){var i,a,o,s,l,u=[];for(i=0,a=e.length;i<a;i++)o=e[i]*r,s=i<a-1?e[i+1]*r:t.length,(l=da(t,o,s,r,!1))===l.next&&(l.steiner=!0),u.push(xa(l));for(u.sort(ya),i=0;i<u.length;i++)_a(u[i],n),n=ha(n,n.next);return n}(t,e,h,n)),t.length>80*n){r=a=t[0],i=o=t[1];for(var f=n;f<d;f+=n)(s=t[f])<r&&(r=s),(l=t[f+1])<i&&(i=l),s>a&&(a=s),l>o&&(o=l);u=0!==(u=Math.max(a-r,o-i))?1/u:0}return pa(h,p,n,r,i,u),p};function da(t,e,n,r,i){var a,o;if(i===function(t,e,n,r){for(var i=0,a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}(t,e,n,r)>0)for(a=e;a<n;a+=r)o=ka(a,t[a],t[a+1],o);else for(a=n-r;a>=e;a-=r)o=ka(a,t[a],t[a+1],o);return o&&Ea(o,o.next)&&(Ca(o),o=o.next),o}function ha(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Ea(r,r.next)&&0!==Aa(r.prev,r,r.next))r=r.next;else{if(Ca(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function pa(t,e,n,r,i,a,o){if(t){!o&&a&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=ba(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,a,o,s,l,u=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(t,r,i,a);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,a?ma(t,r,i,a):fa(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),Ca(t),t=l.next,u=l.next;else if((t=l)===u){o?1===o?pa(t=va(t,e,n),e,n,r,i,a,2):2===o&&ga(t,e,n,r,i,a):pa(ha(t),e,n,r,i,a,1);break}}}function fa(t){var e=t.prev,n=t,r=t.next;if(Aa(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(wa(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Aa(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function ma(t,e,n,r){var i=t.prev,a=t,o=t.next;if(Aa(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,l=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,u=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=ba(s,l,e,n,r),h=ba(u,c,e,n,r),p=t.nextZ;p&&p.z<=h;){if(p!==t.prev&&p!==t.next&&wa(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Aa(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=d;){if(p!==t.prev&&p!==t.next&&wa(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Aa(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function va(t,e,n){var r=t;do{var i=r.prev,a=r.next.next;!Ea(i,a)&&Ta(i,r,r.next,a)&&Sa(i,a)&&Sa(a,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(a.i/n),Ca(r),Ca(r.next),r=t=a),r=r.next}while(r!==t);return r}function ga(t,e,n,r,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Ma(o,s)){var l=La(o,s);return o=ha(o,o.next),l=ha(l,l.next),pa(o,e,n,r,i,a),void pa(l,e,n,r,i,a)}s=s.next}o=o.next}while(o!==t)}function ya(t,e){return t.x-e.x}function _a(t,e){if(e=function(t,e){var n,r=e,i=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===o)return n.prev;var l,u=n,c=n.x,d=n.y,h=1/0;for(r=n.next;r!==u;)i>=r.x&&r.x>=c&&i!==r.x&&wa(a<d?i:o,a,c,d,a<d?o:i,a,r.x,r.y)&&((l=Math.abs(a-r.y)/(i-r.x))<h||l===h&&r.x>n.x)&&Sa(r,t)&&(n=r,h=l),r=r.next;return n}(t,e)){var n=La(e,t);ha(n,n.next)}}function ba(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function xa(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function wa(t,e,n,r,i,a,o,s){return(i-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(n-o)*(e-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Ma(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ta(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Sa(t,e)&&Sa(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function Aa(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ea(t,e){return t.x===e.x&&t.y===e.y}function Ta(t,e,n,r){return!!(Ea(t,e)&&Ea(n,r)||Ea(t,r)&&Ea(n,e))||Aa(t,e,n)>0!==Aa(t,e,r)>0&&Aa(n,r,t)>0!==Aa(n,r,e)>0}function Sa(t,e){return Aa(t.prev,t,t.next)<0?Aa(t,e,t.next)>=0&&Aa(t,t.prev,e)>=0:Aa(t,e,t.prev)<0||Aa(t,t.next,e)<0}function La(t,e){var n=new Da(t.i,t.x,t.y),r=new Da(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function ka(t,e,n,r){var i=new Da(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ca(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Da(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Pa={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},isClockWise:function(t){return Pa.area(t)<0},triangulateShape:function(t,e){var n=[],r=[],i=[];Ra(t),Oa(n,t);var a=t.length;e.forEach(Ra);for(var o=0;o<e.length;o++)r.push(a),a+=e[o].length,Oa(n,e[o]);var s=ca(n,r);for(o=0;o<s.length;o+=3)i.push(s.slice(o,o+3));return i}};function Ra(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Oa(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}function Ia(t,e){rn.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new Na(t,e)),this.mergeVertices()}function Na(t,e){yn.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var n=this,r=[],i=[],a=0,o=t.length;a<o;a++)s(t[a]);function s(t){var a=[],o=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,l=void 0!==e.depth?e.depth:100,u=void 0===e.bevelEnabled||e.bevelEnabled,c=void 0!==e.bevelThickness?e.bevelThickness:6,d=void 0!==e.bevelSize?e.bevelSize:c-2,h=void 0!==e.bevelSegments?e.bevelSegments:3,p=e.extrudePath,f=void 0!==e.UVGenerator?e.UVGenerator:za;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=e.amount);var m,v,g,y,_,b,x,w,M=!1;p&&(m=p.getSpacedPoints(s),M=!0,u=!1,v=p.computeFrenetFrames(s,!1),g=new Se,y=new Se,_=new Se),u||(h=0,c=0,d=0);var A=t.extractPoints(o),E=A.shape,T=A.holes;if(!Pa.isClockWise(E))for(E=E.reverse(),x=0,w=T.length;x<w;x++)b=T[x],Pa.isClockWise(b)&&(T[x]=b.reverse());var S=Pa.triangulateShape(E,T),L=E;for(x=0,w=T.length;x<w;x++)b=T[x],E=E.concat(b);function k(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var C,D,P,R,O,I,N=E.length,z=S.length;function B(t,e,n){var r,i,a,o=t.x-e.x,s=t.y-e.y,l=n.x-t.x,u=n.y-t.y,c=o*o+s*s,d=o*u-s*l;if(Math.abs(d)>Number.EPSILON){var h=Math.sqrt(c),p=Math.sqrt(l*l+u*u),f=e.x-s/h,m=e.y+o/h,v=((n.x-u/p-f)*u-(n.y+l/p-m)*l)/(o*u-s*l),g=(r=f+o*v-t.x)*r+(i=m+s*v-t.y)*i;if(g<=2)return new Ae(r,i);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?l>Number.EPSILON&&(y=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new Ae(r/a,i/a)}for(var F=[],j=0,H=L.length,Y=H-1,U=j+1;j<H;j++,Y++,U++)Y===H&&(Y=0),U===H&&(U=0),F[j]=B(L[j],L[Y],L[U]);var G,V,W=[],q=F.concat();for(x=0,w=T.length;x<w;x++){for(b=T[x],G=[],j=0,Y=(H=b.length)-1,U=j+1;j<H;j++,Y++,U++)Y===H&&(Y=0),U===H&&(U=0),G[j]=B(b[j],b[Y],b[U]);W.push(G),q=q.concat(G)}for(C=0;C<h;C++){for(P=C/h,R=c*Math.cos(P*Math.PI/2),D=d*Math.sin(P*Math.PI/2),j=0,H=L.length;j<H;j++)J((O=k(L[j],F[j],D)).x,O.y,-R);for(x=0,w=T.length;x<w;x++)for(b=T[x],G=W[x],j=0,H=b.length;j<H;j++)J((O=k(b[j],G[j],D)).x,O.y,-R)}for(D=d,j=0;j<N;j++)O=u?k(E[j],q[j],D):E[j],M?(y.copy(v.normals[0]).multiplyScalar(O.x),g.copy(v.binormals[0]).multiplyScalar(O.y),_.copy(m[0]).add(y).add(g),J(_.x,_.y,_.z)):J(O.x,O.y,0);for(V=1;V<=s;V++)for(j=0;j<N;j++)O=u?k(E[j],q[j],D):E[j],M?(y.copy(v.normals[V]).multiplyScalar(O.x),g.copy(v.binormals[V]).multiplyScalar(O.y),_.copy(m[V]).add(y).add(g),J(_.x,_.y,_.z)):J(O.x,O.y,l/s*V);for(C=h-1;C>=0;C--){for(P=C/h,R=c*Math.cos(P*Math.PI/2),D=d*Math.sin(P*Math.PI/2),j=0,H=L.length;j<H;j++)J((O=k(L[j],F[j],D)).x,O.y,l+R);for(x=0,w=T.length;x<w;x++)for(b=T[x],G=W[x],j=0,H=b.length;j<H;j++)O=k(b[j],G[j],D),M?J(O.x,O.y+m[s-1].y,m[s-1].x+R):J(O.x,O.y,l+R)}function X(t,e){var n,r;for(j=t.length;--j>=0;){n=j,(r=j-1)<0&&(r=t.length-1);var i=0,a=s+2*h;for(i=0;i<a;i++){var o=N*i,l=N*(i+1);Q(e+n+o,e+r+o,e+r+l,e+n+l)}}}function J(t,e,n){a.push(t),a.push(e),a.push(n)}function Z(t,e,i){K(t),K(e),K(i);var a=r.length/3,o=f.generateTopUV(n,r,a-3,a-2,a-1);$(o[0]),$(o[1]),$(o[2])}function Q(t,e,i,a){K(t),K(e),K(a),K(e),K(i),K(a);var o=r.length/3,s=f.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);$(s[0]),$(s[1]),$(s[3]),$(s[1]),$(s[2]),$(s[3])}function K(t){r.push(a[3*t+0]),r.push(a[3*t+1]),r.push(a[3*t+2])}function $(t){i.push(t.x),i.push(t.y)}!function(){var t=r.length/3;if(u){var e=0,i=N*e;for(j=0;j<z;j++)Z((I=S[j])[2]+i,I[1]+i,I[0]+i);for(i=N*(e=s+2*h),j=0;j<z;j++)Z((I=S[j])[0]+i,I[1]+i,I[2]+i)}else{for(j=0;j<z;j++)Z((I=S[j])[2],I[1],I[0]);for(j=0;j<z;j++)Z((I=S[j])[0]+N*s,I[1]+N*s,I[2]+N*s)}n.addGroup(t,r.length/3-t,0)}(),function(){var t=r.length/3,e=0;for(X(L,e),e+=L.length,x=0,w=T.length;x<w;x++)X(b=T[x],e),e+=b.length;n.addGroup(t,r.length/3-t,1)}()}this.addAttribute("position",new pn(r,3)),this.addAttribute("uv",new pn(i,2)),this.computeVertexNormals()}Ia.prototype=Object.create(rn.prototype),Ia.prototype.constructor=Ia,Ia.prototype.toJSON=function(){var t=rn.prototype.toJSON.call(this);return Ba(this.parameters.shapes,this.parameters.options,t)},Na.prototype=Object.create(yn.prototype),Na.prototype.constructor=Na,Na.prototype.toJSON=function(){var t=yn.prototype.toJSON.call(this);return Ba(this.parameters.shapes,this.parameters.options,t)};var za={generateTopUV:function(t,e,n,r,i){var a=e[3*n],o=e[3*n+1],s=e[3*r],l=e[3*r+1],u=e[3*i],c=e[3*i+1];return[new Ae(a,o),new Ae(s,l),new Ae(u,c)]},generateSideWallUV:function(t,e,n,r,i,a){var o=e[3*n],s=e[3*n+1],l=e[3*n+2],u=e[3*r],c=e[3*r+1],d=e[3*r+2],h=e[3*i],p=e[3*i+1],f=e[3*i+2],m=e[3*a],v=e[3*a+1],g=e[3*a+2];return Math.abs(s-c)<.01?[new Ae(o,1-l),new Ae(u,1-d),new Ae(h,1-f),new Ae(m,1-g)]:[new Ae(s,1-l),new Ae(c,1-d),new Ae(p,1-f),new Ae(v,1-g)]}};function Ba(t,e,n){if(n.shapes=[],Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var a=t[r];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}function Fa(t,e){rn.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new ja(t,e)),this.mergeVertices()}function ja(t,e){var n=(e=e||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new rn;var r=n.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Na.call(this,r,e),this.type="TextBufferGeometry"}function Ha(t,e,n,r,i,a,o){rn.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Ya(t,e,n,r,i,a,o)),this.mergeVertices()}function Ya(t,e,n,r,i,a,o){yn.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var s,l,u=(a=void 0!==a?a:0)+(o=void 0!==o?o:Math.PI),c=0,d=[],h=new Se,p=new Se,f=[],m=[],v=[],g=[];for(l=0;l<=n;l++){var y=[],_=l/n;for(s=0;s<=e;s++){var b=s/e;h.x=-t*Math.cos(r+b*i)*Math.sin(a+_*o),h.y=t*Math.cos(a+_*o),h.z=t*Math.sin(r+b*i)*Math.sin(a+_*o),m.push(h.x,h.y,h.z),p.set(h.x,h.y,h.z).normalize(),v.push(p.x,p.y,p.z),g.push(b,1-_),y.push(c++)}d.push(y)}for(l=0;l<n;l++)for(s=0;s<e;s++){var x=d[l][s+1],w=d[l][s],M=d[l+1][s],A=d[l+1][s+1];(0!==l||a>0)&&f.push(x,w,A),(l!==n-1||u<Math.PI)&&f.push(w,M,A)}this.setIndex(f),this.addAttribute("position",new pn(m,3)),this.addAttribute("normal",new pn(v,3)),this.addAttribute("uv",new pn(g,2))}function Ua(t,e,n,r,i,a){rn.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new Ga(t,e,n,r,i,a)),this.mergeVertices()}function Ga(t,e,n,r,i,a){yn.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},t=t||.5,e=e||1,i=void 0!==i?i:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var o,s,l,u=[],c=[],d=[],h=[],p=t,f=(e-t)/(r=void 0!==r?Math.max(1,r):1),m=new Se,v=new Ae;for(s=0;s<=r;s++){for(l=0;l<=n;l++)o=i+l/n*a,m.x=p*Math.cos(o),m.y=p*Math.sin(o),c.push(m.x,m.y,m.z),d.push(0,0,1),v.x=(m.x/e+1)/2,v.y=(m.y/e+1)/2,h.push(v.x,v.y);p+=f}for(s=0;s<r;s++){var g=s*(n+1);for(l=0;l<n;l++){var y=o=l+g,_=o+n+1,b=o+n+2,x=o+1;u.push(y,_,x),u.push(_,b,x)}}this.setIndex(u),this.addAttribute("position",new pn(c,3)),this.addAttribute("normal",new pn(d,3)),this.addAttribute("uv",new pn(h,2))}function Va(t,e,n,r){rn.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new Wa(t,e,n,r)),this.mergeVertices()}function Wa(t,e,n,r){yn.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=Me.clamp(r,0,2*Math.PI);var i,a,o,s=[],l=[],u=[],c=1/e,d=new Se,h=new Ae;for(a=0;a<=e;a++){var p=n+a*c*r,f=Math.sin(p),m=Math.cos(p);for(o=0;o<=t.length-1;o++)d.x=t[o].x*f,d.y=t[o].y,d.z=t[o].x*m,l.push(d.x,d.y,d.z),h.x=a/e,h.y=o/(t.length-1),u.push(h.x,h.y)}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){var v=i=o+a*t.length,g=i+t.length,y=i+t.length+1,_=i+1;s.push(v,g,_),s.push(g,y,_)}if(this.setIndex(s),this.addAttribute("position",new pn(l,3)),this.addAttribute("uv",new pn(u,2)),this.computeVertexNormals(),r===2*Math.PI){var b=this.attributes.normal.array,x=new Se,w=new Se,M=new Se;for(i=e*t.length*3,a=0,o=0;a<t.length;a++,o+=3)x.x=b[o+0],x.y=b[o+1],x.z=b[o+2],w.x=b[i+o+0],w.y=b[i+o+1],w.z=b[i+o+2],M.addVectors(x,w).normalize(),b[o+0]=b[i+o+0]=M.x,b[o+1]=b[i+o+1]=M.y,b[o+2]=b[i+o+2]=M.z}}function qa(t,e){rn.call(this),this.type="ShapeGeometry","object"===typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new Xa(t,e)),this.mergeVertices()}function Xa(t,e){yn.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var n=[],r=[],i=[],a=[],o=0,s=0;if(!1===Array.isArray(t))u(t);else for(var l=0;l<t.length;l++)u(t[l]),this.addGroup(o,s,l),o+=s,s=0;function u(t){var o,l,u,c=r.length/3,d=t.extractPoints(e),h=d.shape,p=d.holes;for(!1===Pa.isClockWise(h)&&(h=h.reverse()),o=0,l=p.length;o<l;o++)u=p[o],!0===Pa.isClockWise(u)&&(p[o]=u.reverse());var f=Pa.triangulateShape(h,p);for(o=0,l=p.length;o<l;o++)u=p[o],h=h.concat(u);for(o=0,l=h.length;o<l;o++){var m=h[o];r.push(m.x,m.y,0),i.push(0,0,1),a.push(m.x,m.y)}for(o=0,l=f.length;o<l;o++){var v=f[o],g=v[0]+c,y=v[1]+c,_=v[2]+c;n.push(g,y,_),s+=3}}this.setIndex(n),this.addAttribute("position",new pn(r,3)),this.addAttribute("normal",new pn(i,3)),this.addAttribute("uv",new pn(a,2))}function Ja(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,r=t.length;n<r;n++){var i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}function Za(t,e){yn.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n,r,i,a,o=[],s=Math.cos(Me.DEG2RAD*e),l=[0,0],u={},c=["a","b","c"];t.isBufferGeometry?(a=new rn).fromBufferGeometry(t):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var d=a.vertices,h=a.faces,p=0,f=h.length;p<f;p++)for(var m=h[p],v=0;v<3;v++)n=m[c[v]],r=m[c[(v+1)%3]],l[0]=Math.min(n,r),l[1]=Math.max(n,r),void 0===u[i=l[0]+","+l[1]]?u[i]={index1:l[0],index2:l[1],face1:p,face2:void 0}:u[i].face2=p;for(i in u){var g=u[i];if(void 0===g.face2||h[g.face1].normal.dot(h[g.face2].normal)<=s){var y=d[g.index1];o.push(y.x,y.y,y.z),y=d[g.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new pn(o,3))}function Qa(t,e,n,r,i,a,o,s){rn.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Ka(t,e,n,r,i,a,o,s)),this.mergeVertices()}function Ka(t,e,n,r,i,a,o,s){yn.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};var l=this;t=void 0!==t?t:1,e=void 0!==e?e:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var u=[],c=[],d=[],h=[],p=0,f=[],m=n/2,v=0;function g(n){var i,a,f,g=new Ae,y=new Se,_=0,b=!0===n?t:e,x=!0===n?1:-1;for(a=p,i=1;i<=r;i++)c.push(0,m*x,0),d.push(0,x,0),h.push(.5,.5),p++;for(f=p,i=0;i<=r;i++){var w=i/r*s+o,M=Math.cos(w),A=Math.sin(w);y.x=b*A,y.y=m*x,y.z=b*M,c.push(y.x,y.y,y.z),d.push(0,x,0),g.x=.5*M+.5,g.y=.5*A*x+.5,h.push(g.x,g.y),p++}for(i=0;i<r;i++){var E=a+i,T=f+i;!0===n?u.push(T,T+1,E):u.push(T+1,T,E),_+=3}l.addGroup(v,_,!0===n?1:2),v+=_}!function(){var a,g,y=new Se,_=new Se,b=0,x=(e-t)/n;for(g=0;g<=i;g++){var w=[],M=g/i,A=M*(e-t)+t;for(a=0;a<=r;a++){var E=a/r,T=E*s+o,S=Math.sin(T),L=Math.cos(T);_.x=A*S,_.y=-M*n+m,_.z=A*L,c.push(_.x,_.y,_.z),y.set(S,x,L).normalize(),d.push(y.x,y.y,y.z),h.push(E,1-M),w.push(p++)}f.push(w)}for(a=0;a<r;a++)for(g=0;g<i;g++){var k=f[g][a],C=f[g+1][a],D=f[g+1][a+1],P=f[g][a+1];u.push(k,C,P),u.push(C,D,P),b+=6}l.addGroup(v,b,0),v+=b}(),!1===a&&(t>0&&g(!0),e>0&&g(!1)),this.setIndex(u),this.addAttribute("position",new pn(c,3)),this.addAttribute("normal",new pn(d,3)),this.addAttribute("uv",new pn(h,2))}function $a(t,e,n,r,i,a,o){Qa.call(this,0,t,e,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function to(t,e,n,r,i,a,o){Ka.call(this,0,t,e,n,r,i,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function eo(t,e,n,r){rn.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new no(t,e,n,r)),this.mergeVertices()}function no(t,e,n,r){yn.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,a,o=[],s=[],l=[],u=[],c=new Se,d=new Ae;for(s.push(0,0,0),l.push(0,0,1),u.push(.5,.5),a=0,i=3;a<=e;a++,i+=3){var h=n+a/e*r;c.x=t*Math.cos(h),c.y=t*Math.sin(h),s.push(c.x,c.y,c.z),l.push(0,0,1),d.x=(s[i]/t+1)/2,d.y=(s[i+1]/t+1)/2,u.push(d.x,d.y)}for(i=1;i<=e;i++)o.push(i,i+1,0);this.setIndex(o),this.addAttribute("position",new pn(s,3)),this.addAttribute("normal",new pn(l,3)),this.addAttribute("uv",new pn(u,2))}Fa.prototype=Object.create(rn.prototype),Fa.prototype.constructor=Fa,ja.prototype=Object.create(Na.prototype),ja.prototype.constructor=ja,Ha.prototype=Object.create(rn.prototype),Ha.prototype.constructor=Ha,Ya.prototype=Object.create(yn.prototype),Ya.prototype.constructor=Ya,Ua.prototype=Object.create(rn.prototype),Ua.prototype.constructor=Ua,Ga.prototype=Object.create(yn.prototype),Ga.prototype.constructor=Ga,Va.prototype=Object.create(rn.prototype),Va.prototype.constructor=Va,Wa.prototype=Object.create(yn.prototype),Wa.prototype.constructor=Wa,qa.prototype=Object.create(rn.prototype),qa.prototype.constructor=qa,qa.prototype.toJSON=function(){var t=rn.prototype.toJSON.call(this);return Ja(this.parameters.shapes,t)},Xa.prototype=Object.create(yn.prototype),Xa.prototype.constructor=Xa,Xa.prototype.toJSON=function(){var t=yn.prototype.toJSON.call(this);return Ja(this.parameters.shapes,t)},Za.prototype=Object.create(yn.prototype),Za.prototype.constructor=Za,Qa.prototype=Object.create(rn.prototype),Qa.prototype.constructor=Qa,Ka.prototype=Object.create(yn.prototype),Ka.prototype.constructor=Ka,$a.prototype=Object.create(Qa.prototype),$a.prototype.constructor=$a,to.prototype=Object.create(Ka.prototype),to.prototype.constructor=to,eo.prototype=Object.create(rn.prototype),eo.prototype.constructor=eo,no.prototype=Object.create(yn.prototype),no.prototype.constructor=no;var ro=Object.freeze({WireframeGeometry:Vi,ParametricGeometry:Wi,ParametricBufferGeometry:qi,TetrahedronGeometry:Zi,TetrahedronBufferGeometry:Qi,OctahedronGeometry:Ki,OctahedronBufferGeometry:$i,IcosahedronGeometry:ta,IcosahedronBufferGeometry:ea,DodecahedronGeometry:na,DodecahedronBufferGeometry:ra,PolyhedronGeometry:Xi,PolyhedronBufferGeometry:Ji,TubeGeometry:ia,TubeBufferGeometry:aa,TorusKnotGeometry:oa,TorusKnotBufferGeometry:sa,TorusGeometry:la,TorusBufferGeometry:ua,TextGeometry:Fa,TextBufferGeometry:ja,SphereGeometry:Ha,SphereBufferGeometry:Ya,RingGeometry:Ua,RingBufferGeometry:Ga,PlaneGeometry:xn,PlaneBufferGeometry:wn,LatheGeometry:Va,LatheBufferGeometry:Wa,ShapeGeometry:qa,ShapeBufferGeometry:Xa,ExtrudeGeometry:Ia,ExtrudeBufferGeometry:Na,EdgesGeometry:Za,ConeGeometry:$a,ConeBufferGeometry:to,CylinderGeometry:Qa,CylinderBufferGeometry:Ka,CircleGeometry:eo,CircleBufferGeometry:no,BoxGeometry:_n,BoxBufferGeometry:bn});function io(t){An.call(this),this.type="ShadowMaterial",this.color=new We(0),this.transparent=!0,this.setValues(t)}function ao(t){Sn.call(this,t),this.type="RawShaderMaterial"}function oo(t){An.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new We(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xe,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function so(t){oo.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function lo(t){An.call(this),this.type="MeshPhongMaterial",this.color=new We(16777215),this.specular=new We(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xe,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function uo(t){lo.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function co(t){An.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xe,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ho(t){An.call(this),this.type="MeshLambertMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function po(t){An.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new We(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xe,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(t)}function fo(t){Ii.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}io.prototype=Object.create(An.prototype),io.prototype.constructor=io,io.prototype.isShadowMaterial=!0,io.prototype.copy=function(t){return An.prototype.copy.call(this,t),this.color.copy(t.color),this},ao.prototype=Object.create(Sn.prototype),ao.prototype.constructor=ao,ao.prototype.isRawShaderMaterial=!0,oo.prototype=Object.create(An.prototype),oo.prototype.constructor=oo,oo.prototype.isMeshStandardMaterial=!0,oo.prototype.copy=function(t){return An.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},so.prototype=Object.create(oo.prototype),so.prototype.constructor=so,so.prototype.isMeshPhysicalMaterial=!0,so.prototype.copy=function(t){return oo.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},lo.prototype=Object.create(An.prototype),lo.prototype.constructor=lo,lo.prototype.isMeshPhongMaterial=!0,lo.prototype.copy=function(t){return An.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},uo.prototype=Object.create(lo.prototype),uo.prototype.constructor=uo,uo.prototype.isMeshToonMaterial=!0,uo.prototype.copy=function(t){return lo.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},co.prototype=Object.create(An.prototype),co.prototype.constructor=co,co.prototype.isMeshNormalMaterial=!0,co.prototype.copy=function(t){return An.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ho.prototype=Object.create(An.prototype),ho.prototype.constructor=ho,ho.prototype.isMeshLambertMaterial=!0,ho.prototype.copy=function(t){return An.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},po.prototype=Object.create(An.prototype),po.prototype.constructor=po,po.prototype.isMeshMatcapMaterial=!0,po.prototype.copy=function(t){return An.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},fo.prototype=Object.create(Ii.prototype),fo.prototype.constructor=fo,fo.prototype.isLineDashedMaterial=!0,fo.prototype.copy=function(t){return Ii.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var mo=Object.freeze({ShadowMaterial:io,SpriteMaterial:ki,RawShaderMaterial:ao,ShaderMaterial:Sn,PointsMaterial:Fi,MeshPhysicalMaterial:so,MeshStandardMaterial:oo,MeshPhongMaterial:lo,MeshToonMaterial:uo,MeshNormalMaterial:co,MeshLambertMaterial:ho,MeshDepthMaterial:si,MeshDistanceMaterial:li,MeshBasicMaterial:Cn,MeshMatcapMaterial:po,LineDashedMaterial:fo,LineBasicMaterial:Ii,Material:An}),vo={arraySlice:function(t,e,n){return vo.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),r=0;r!==e;++r)n[r]=r;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*e,l=0;l!==e;++l)i[o++]=t[s+l];return i},flattenJSON:function(t,e,n,r){for(var i=1,a=t[0];void 0!==a&&void 0===a[r];)a=t[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(e.push(a.time),n.push.apply(n,o)),a=t[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(e.push(a.time),o.toArray(n,n.length)),a=t[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(e.push(a.time),n.push(o)),a=t[i++]}while(void 0!==a)}}};function go(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function yo(t,e,n,r){go.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function _o(t,e,n,r){go.call(this,t,e,n,r)}function bo(t,e,n,r){go.call(this,t,e,n,r)}function xo(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=vo.convertArray(e,this.TimeBufferType),this.values=vo.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function wo(t,e,n){xo.call(this,t,e,n)}function Mo(t,e,n,r){xo.call(this,t,e,n,r)}function Ao(t,e,n,r){xo.call(this,t,e,n,r)}function Eo(t,e,n,r){go.call(this,t,e,n,r)}function To(t,e,n,r){xo.call(this,t,e,n,r)}function So(t,e,n,r){xo.call(this,t,e,n,r)}function Lo(t,e,n,r){xo.call(this,t,e,n,r)}function ko(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=Me.generateUUID(),this.duration<0&&this.resetDuration()}function Co(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ao;case"vector":case"vector2":case"vector3":case"vector4":return Lo;case"color":return Mo;case"quaternion":return To;case"bool":case"boolean":return wo;case"string":return So}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var n=[],r=[];vo.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(go.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var a;n:{r:if(!(t<r)){for(var o=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===o)break;if(i=r,t<(r=e[++n]))break e}a=e.length;break n}if(t>=i)break t;var s=e[1];for(t<s&&(n=2,i=s),o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===o)break;if(r=i,t>=(i=e[--n-1]))break e}a=n,n=0}for(;n<a;){var l=n+a>>>1;t<e[l]?a=l:n=l+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,a=0;a!==r;++a)e[a]=n[i+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(go.prototype,{beforeStart_:go.prototype.copySampleValue_,afterEnd_:go.prototype.copySampleValue_}),yo.prototype=Object.assign(Object.create(go.prototype),{constructor:yo,DefaultSettings_:{endingStart:le,endingEnd:le},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,a=t+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:i=t,o=2*e-n;break;case 2402:o=e+r[i=r.length-2]-r[i+1];break;default:i=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=t,s=2*n-e;break;case 2402:a=1,s=n+r[1]-r[0];break;default:a=t-1,s=e}var l=.5*(n-e),u=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-e)/(r-e),f=p*p,m=f*p,v=-d*m+2*d*f-d*p,g=(1+d)*m+(-1.5-2*d)*f+(-.5+d)*p+1,y=(-1-h)*m+(1.5+h)*f+.5*p,_=h*m-h*f,b=0;b!==o;++b)i[b]=v*a[u+b]+g*a[l+b]+y*a[s+b]+_*a[c+b];return i}}),_o.prototype=Object.assign(Object.create(go.prototype),{constructor:_o,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=(n-e)/(r-e),c=1-u,d=0;d!==o;++d)i[d]=a[l+d]*c+a[s+d]*u;return i}}),bo.prototype=Object.assign(Object.create(go.prototype),{constructor:bo,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(xo,{toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:vo.convertArray(t.times,Array),values:vo.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e}}),Object.assign(xo.prototype,{constructor:xo,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new bo(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new _o(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new yo(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<t;)++i;for(;-1!==a&&n[a]>e;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=vo.arraySlice(n,i,a),this.values=vo.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),t=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),t=!1;break}a=s}if(void 0!==r&&vo.isTypedArray(r)){o=0;for(var l=r.length;o!==l;++o){var u=r[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,a=t.length-1,o=1;o<a;++o){var s=!1,l=t[o];if(l!==t[o+1]&&(1!==o||l!==l[0]))if(r)s=!0;else for(var u=o*n,c=u-n,d=u+n,h=0;h!==n;++h){var p=e[u+h];if(p!==e[c+h]||p!==e[d+h]){s=!0;break}}if(s){if(o!==i){t[i]=t[o];var f=o*n,m=i*n;for(h=0;h!==n;++h)e[m+h]=e[f+h]}++i}}if(a>0){for(t[i]=t[a],f=a*n,m=i*n,h=0;h!==n;++h)e[m+h]=e[f+h];++i}return i!==t.length&&(this.times=vo.arraySlice(t,0,i),this.values=vo.arraySlice(e,0,i*n)),this},clone:function(){var t=vo.arraySlice(this.times,0),e=vo.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),wo.prototype=Object.assign(Object.create(xo.prototype),{constructor:wo,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Mo.prototype=Object.assign(Object.create(xo.prototype),{constructor:Mo,ValueTypeName:"color"}),Ao.prototype=Object.assign(Object.create(xo.prototype),{constructor:Ao,ValueTypeName:"number"}),Eo.prototype=Object.assign(Object.create(go.prototype),{constructor:Eo,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=(n-e)/(r-e),u=s+o;s!==u;s+=4)Te.slerpFlat(i,0,a,s-o,a,s,l);return i}}),To.prototype=Object.assign(Object.create(xo.prototype),{constructor:To,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new Eo(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),So.prototype=Object.assign(Object.create(xo.prototype),{constructor:So,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Lo.prototype=Object.assign(Object.create(xo.prototype),{constructor:Lo,ValueTypeName:"vector"}),Object.assign(ko,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,a=n.length;i!==a;++i)e.push(Co(n[i]).scale(r));return new ko(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},i=0,a=n.length;i!==a;++i)e.push(xo.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,a=[],o=0;o<i;o++){var s=[],l=[];s.push((o+i-1)%i,o,(o+1)%i),l.push(0,1,0);var u=vo.getKeyframeOrder(s);s=vo.sortedArray(s,1,u),l=vo.sortedArray(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),a.push(new Ao(".morphTargetInfluences["+e[o].name+"]",s,l).scale(1/n))}return new ko(t,-1,a)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],l=s.name.match(i);if(l&&l.length>1){var u=r[d=l[1]];u||(r[d]=u=[]),u.push(s)}}var c=[];for(var d in r)c.push(ko.CreateFromMorphTargetSequence(d,r[d],e,n));return c},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var a=[],o=[];vo.flattenJSON(n,a,o,r),0!==a.length&&i.push(new t(e,a,o))}},r=[],i=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],l=0;l<s.length;l++){var u=s[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var c={},d=0;d<u.length;d++)if(u[d].morphTargets)for(var h=0;h<u[d].morphTargets.length;h++)c[u[d].morphTargets[h]]=-1;for(var p in c){var f=[],m=[];for(h=0;h!==u[d].morphTargets.length;++h){var v=u[d];f.push(v.time),m.push(v.morphTarget===p?1:0)}r.push(new Ao(".morphTargetInfluence["+p+"]",f,m))}a=c.length*(o||1)}else{var g=".bones["+e[l].name+"]";n(Lo,g+".position",u,"pos",r),n(To,g+".quaternion",u,"rot",r),n(Lo,g+".scale",u,"scl",r)}}return 0===r.length?null:new ko(i,a,r)}}),Object.assign(ko.prototype,{resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new ko(this.name,this.duration,t)}});var Do={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function Po(t,e,n){var r=this,i=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){o++,!1===i&&void 0!==r.onStart&&r.onStart(t,a,o),i=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,o),a===o&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var Ro=new Po,Oo={};function Io(t){this.manager=void 0!==t?t:Ro}function No(t){this.manager=void 0!==t?t:Ro}function zo(t){this.manager=void 0!==t?t:Ro,this._parser=null}function Bo(t){this.manager=void 0!==t?t:Ro,this._parser=null}function Fo(t){this.manager=void 0!==t?t:Ro}function jo(t){this.manager=void 0!==t?t:Ro}function Ho(t){this.manager=void 0!==t?t:Ro}function Yo(){this.type="Curve",this.arcLengthDivisions=200}function Uo(t,e,n,r,i,a,o,s){Yo.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function Go(t,e,n,r,i,a){Uo.call(this,t,e,n,n,r,i,a),this.type="ArcCurve"}function Vo(){var t=0,e=0,n=0,r=0;function i(i,a,o,s){t=i,e=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(t,e,n,r,a){i(e,n,a*(n-t),a*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,a,o,s){var l=(e-t)/a-(n-t)/(a+o)+(n-e)/o,u=(n-e)/o-(r-e)/(o+s)+(r-n)/s;i(e,n,l*=o,u*=o)},calc:function(i){var a=i*i;return t+e*i+n*a+r*(a*i)}}}Object.assign(Io.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,a=Do.get(t);if(void 0!==a)return i.manager.itemStart(t),setTimeout((function(){e&&e(a),i.manager.itemEnd(t)}),0),a;if(void 0===Oo[t]){var o=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],l=!!o[2],u=o[3];u=decodeURIComponent(u),l&&(u=atob(u));try{var c,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var h=new Uint8Array(u.length),p=0;p<u.length;p++)h[p]=u.charCodeAt(p);c="blob"===d?new Blob([h.buffer],{type:s}):h.buffer;break;case"document":var f=new DOMParser;c=f.parseFromString(u,s);break;case"json":c=JSON.parse(u);break;default:c=u}setTimeout((function(){e&&e(c),i.manager.itemEnd(t)}),0)}catch(g){setTimeout((function(){r&&r(g),i.manager.itemError(t),i.manager.itemEnd(t)}),0)}}else{Oo[t]=[],Oo[t].push({onLoad:e,onProgress:n,onError:r});var m=new XMLHttpRequest;for(var v in m.open("GET",t,!0),m.addEventListener("load",(function(e){var n=this.response;Do.add(t,n);var r=Oo[t];if(delete Oo[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var a=0,o=r.length;a<o;a++)(s=r[a]).onLoad&&s.onLoad(n);i.manager.itemEnd(t)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}}),!1),m.addEventListener("progress",(function(e){for(var n=Oo[t],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(e)}}),!1),m.addEventListener("error",(function(e){var n=Oo[t];delete Oo[t];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!1),m.addEventListener("abort",(function(e){var n=Oo[t];delete Oo[t];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return i.manager.itemStart(t),m}Oo[t].push({onLoad:e,onProgress:n,onError:r})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(No.prototype,{load:function(t,e,n,r){var i=this,a=new Io(i.manager);a.setPath(i.path),a.load(t,(function(t){e(i.parse(JSON.parse(t)))}),n,r)},parse:function(t){for(var e=[],n=0;n<t.length;n++){var r=ko.parse(t[n]);e.push(r)}return e},setPath:function(t){return this.path=t,this}}),Object.assign(zo.prototype,{load:function(t,e,n,r){var i=this,a=[],o=new Yi;o.image=a;var s=new Io(this.manager);function l(l){s.load(t[l],(function(t){var n=i._parser(t,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(o.minFilter=ft),o.format=n.format,o.needsUpdate=!0,e&&e(o))}),n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var u=0,c=0,d=t.length;c<d;++c)l(c);else s.load(t,(function(t){var n=i._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=ft),o.format=n.format,o.needsUpdate=!0,e&&e(o)}),n,r);return o},setPath:function(t){return this.path=t,this}}),Object.assign(Bo.prototype,{load:function(t,e,n,r){var i=this,a=new Ne,o=new Io(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(t,(function(t){var n=i._parser(t);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:ut,a.wrapT=void 0!==n.wrapT?n.wrapT:ut,a.magFilter=void 0!==n.magFilter?n.magFilter:ft,a.minFilter=void 0!==n.minFilter?n.minFilter:vt,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps),1===n.mipmapCount&&(a.minFilter=ft),a.needsUpdate=!0,e&&e(a,n))}),n,r),a},setPath:function(t){return this.path=t,this}}),Object.assign(Fo.prototype,{crossOrigin:"anonymous",load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,a=Do.get(t);if(void 0!==a)return i.manager.itemStart(t),setTimeout((function(){e&&e(a),i.manager.itemEnd(t)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),Do.add(t,this),e&&e(this),i.manager.itemEnd(t)}function l(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(jo.prototype,{crossOrigin:"anonymous",load:function(t,e,n,r){var i=new Un,a=new Fo(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(t[n],(function(t){i.images[n]=t,6===++o&&(i.needsUpdate=!0,e&&e(i))}),void 0,r)}for(var l=0;l<t.length;++l)s(l);return i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Ho.prototype,{crossOrigin:"anonymous",load:function(t,e,n,r){var i=new De,a=new Fo(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(n){i.image=n;var r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);i.format=r?Ct:Dt,i.needsUpdate=!0,void 0!==e&&e(i)}),n,r),i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Yo.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),a=0;for(r.push(0),n=1;n<=t;n++)a+=(e=this.getPoint(n/t)).distanceTo(i),r.push(a),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,a=r.length;n=e||t*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(a-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(a-1)},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,r,i,a=new Se,o=[],s=[],l=[],u=new Se,c=new Ee;for(n=0;n<=t;n++)r=n/t,o[n]=this.getTangentAt(r),o[n].normalize();s[0]=new Se,l[0]=new Se;var d=Number.MAX_VALUE,h=Math.abs(o[0].x),p=Math.abs(o[0].y),f=Math.abs(o[0].z);for(h<=d&&(d=h,a.set(1,0,0)),p<=d&&(d=p,a.set(0,1,0)),f<=d&&a.set(0,0,1),u.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],u),l[0].crossVectors(o[0],s[0]),n=1;n<=t;n++)s[n]=s[n-1].clone(),l[n]=l[n-1].clone(),u.crossVectors(o[n-1],o[n]),u.length()>Number.EPSILON&&(u.normalize(),i=Math.acos(Me.clamp(o[n-1].dot(o[n]),-1,1)),s[n].applyMatrix4(c.makeRotationAxis(u,i))),l[n].crossVectors(o[n],s[n]);if(!0===e)for(i=Math.acos(Me.clamp(s[0].dot(s[t]),-1,1)),i/=t,o[0].dot(u.crossVectors(s[0],s[t]))>0&&(i=-i),n=1;n<=t;n++)s[n].applyMatrix4(c.makeRotationAxis(o[n],i*n)),l[n].crossVectors(o[n],s[n]);return{tangents:o,normals:s,binormals:l}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Uo.prototype=Object.create(Yo.prototype),Uo.prototype.constructor=Uo,Uo.prototype.isEllipseCurve=!0,Uo.prototype.getPoint=function(t,e){for(var n=e||new Ae,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+t*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),d=s-this.aX,h=l-this.aY;s=d*u-h*c+this.aX,l=d*c+h*u+this.aY}return n.set(s,l)},Uo.prototype.copy=function(t){return Yo.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Uo.prototype.toJSON=function(){var t=Yo.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Uo.prototype.fromJSON=function(t){return Yo.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Go.prototype=Object.create(Uo.prototype),Go.prototype.constructor=Go,Go.prototype.isArcCurve=!0;var Wo=new Se,qo=new Vo,Xo=new Vo,Jo=new Vo;function Zo(t,e,n,r){Yo.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=n||"centripetal",this.tension=r||.5}function Qo(t,e,n,r,i){var a=.5*(r-e),o=.5*(i-n),s=t*t;return(2*n-2*r+a+o)*(t*s)+(-3*n+3*r-2*a-o)*s+a*t+n}function Ko(t,e,n,r){return function(t,e){var n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,r)}function $o(t,e,n,r,i){return function(t,e){var n=1-t;return n*n*n*e}(t,e)+function(t,e){var n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,i)}function ts(t,e,n,r){Yo.call(this),this.type="CubicBezierCurve",this.v0=t||new Ae,this.v1=e||new Ae,this.v2=n||new Ae,this.v3=r||new Ae}function es(t,e,n,r){Yo.call(this),this.type="CubicBezierCurve3",this.v0=t||new Se,this.v1=e||new Se,this.v2=n||new Se,this.v3=r||new Se}function ns(t,e){Yo.call(this),this.type="LineCurve",this.v1=t||new Ae,this.v2=e||new Ae}function rs(t,e){Yo.call(this),this.type="LineCurve3",this.v1=t||new Se,this.v2=e||new Se}function is(t,e,n){Yo.call(this),this.type="QuadraticBezierCurve",this.v0=t||new Ae,this.v1=e||new Ae,this.v2=n||new Ae}function as(t,e,n){Yo.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new Se,this.v1=e||new Se,this.v2=n||new Se}function os(t){Yo.call(this),this.type="SplineCurve",this.points=t||[]}Zo.prototype=Object.create(Yo.prototype),Zo.prototype.constructor=Zo,Zo.prototype.isCatmullRomCurve3=!0,Zo.prototype.getPoint=function(t,e){var n,r,i,a,o=e||new Se,s=this.points,l=s.length,u=(l-(this.closed?0:1))*t,c=Math.floor(u),d=u-c;if(this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/l)+1)*l:0===d&&c===l-1&&(c=l-2,d=1),this.closed||c>0?n=s[(c-1)%l]:(Wo.subVectors(s[0],s[1]).add(s[0]),n=Wo),r=s[c%l],i=s[(c+1)%l],this.closed||c+2<l?a=s[(c+2)%l]:(Wo.subVectors(s[l-1],s[l-2]).add(s[l-1]),a=Wo),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,p=Math.pow(n.distanceToSquared(r),h),f=Math.pow(r.distanceToSquared(i),h),m=Math.pow(i.distanceToSquared(a),h);f<1e-4&&(f=1),p<1e-4&&(p=f),m<1e-4&&(m=f),qo.initNonuniformCatmullRom(n.x,r.x,i.x,a.x,p,f,m),Xo.initNonuniformCatmullRom(n.y,r.y,i.y,a.y,p,f,m),Jo.initNonuniformCatmullRom(n.z,r.z,i.z,a.z,p,f,m)}else"catmullrom"===this.curveType&&(qo.initCatmullRom(n.x,r.x,i.x,a.x,this.tension),Xo.initCatmullRom(n.y,r.y,i.y,a.y,this.tension),Jo.initCatmullRom(n.z,r.z,i.z,a.z,this.tension));return o.set(qo.calc(d),Xo.calc(d),Jo.calc(d)),o},Zo.prototype.copy=function(t){Yo.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Zo.prototype.toJSON=function(){var t=Yo.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},Zo.prototype.fromJSON=function(t){Yo.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push((new Se).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},ts.prototype=Object.create(Yo.prototype),ts.prototype.constructor=ts,ts.prototype.isCubicBezierCurve=!0,ts.prototype.getPoint=function(t,e){var n=e||new Ae,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set($o(t,r.x,i.x,a.x,o.x),$o(t,r.y,i.y,a.y,o.y)),n},ts.prototype.copy=function(t){return Yo.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},ts.prototype.toJSON=function(){var t=Yo.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},ts.prototype.fromJSON=function(t){return Yo.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},es.prototype=Object.create(Yo.prototype),es.prototype.constructor=es,es.prototype.isCubicBezierCurve3=!0,es.prototype.getPoint=function(t,e){var n=e||new Se,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set($o(t,r.x,i.x,a.x,o.x),$o(t,r.y,i.y,a.y,o.y),$o(t,r.z,i.z,a.z,o.z)),n},es.prototype.copy=function(t){return Yo.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},es.prototype.toJSON=function(){var t=Yo.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},es.prototype.fromJSON=function(t){return Yo.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},ns.prototype=Object.create(Yo.prototype),ns.prototype.constructor=ns,ns.prototype.isLineCurve=!0,ns.prototype.getPoint=function(t,e){var n=e||new Ae;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},ns.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},ns.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},ns.prototype.copy=function(t){return Yo.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ns.prototype.toJSON=function(){var t=Yo.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ns.prototype.fromJSON=function(t){return Yo.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},rs.prototype=Object.create(Yo.prototype),rs.prototype.constructor=rs,rs.prototype.isLineCurve3=!0,rs.prototype.getPoint=function(t,e){var n=e||new Se;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},rs.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},rs.prototype.copy=function(t){return Yo.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},rs.prototype.toJSON=function(){var t=Yo.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},rs.prototype.fromJSON=function(t){return Yo.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},is.prototype=Object.create(Yo.prototype),is.prototype.constructor=is,is.prototype.isQuadraticBezierCurve=!0,is.prototype.getPoint=function(t,e){var n=e||new Ae,r=this.v0,i=this.v1,a=this.v2;return n.set(Ko(t,r.x,i.x,a.x),Ko(t,r.y,i.y,a.y)),n},is.prototype.copy=function(t){return Yo.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},is.prototype.toJSON=function(){var t=Yo.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},is.prototype.fromJSON=function(t){return Yo.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},as.prototype=Object.create(Yo.prototype),as.prototype.constructor=as,as.prototype.isQuadraticBezierCurve3=!0,as.prototype.getPoint=function(t,e){var n=e||new Se,r=this.v0,i=this.v1,a=this.v2;return n.set(Ko(t,r.x,i.x,a.x),Ko(t,r.y,i.y,a.y),Ko(t,r.z,i.z,a.z)),n},as.prototype.copy=function(t){return Yo.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},as.prototype.toJSON=function(){var t=Yo.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},as.prototype.fromJSON=function(t){return Yo.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},os.prototype=Object.create(Yo.prototype),os.prototype.constructor=os,os.prototype.isSplineCurve=!0,os.prototype.getPoint=function(t,e){var n=e||new Ae,r=this.points,i=(r.length-1)*t,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],l=r[a],u=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(Qo(o,s.x,l.x,u.x,c.x),Qo(o,s.y,l.y,u.y,c.y)),n},os.prototype.copy=function(t){Yo.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push(r.clone())}return this},os.prototype.toJSON=function(){var t=Yo.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var r=this.points[e];t.points.push(r.toArray())}return t},os.prototype.fromJSON=function(t){Yo.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push((new Ae).fromArray(r))}return this};var ss=Object.freeze({ArcCurve:Go,CatmullRomCurve3:Zo,CubicBezierCurve:ts,CubicBezierCurve3:es,EllipseCurve:Uo,LineCurve:ns,LineCurve3:rs,QuadraticBezierCurve:is,QuadraticBezierCurve3:as,SplineCurve:os});function ls(){Yo.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function us(t){ls.call(this),this.type="Path",this.currentPoint=new Ae,t&&this.setFromPoints(t)}function cs(t){us.call(this,t),this.uuid=Me.generateUUID(),this.type="Shape",this.holes=[]}function ds(t,e){en.call(this),this.type="Light",this.color=new We(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function hs(t,e,n){ds.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(en.DefaultUp),this.updateMatrix(),this.groundColor=new We(e)}function ps(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new Ae(512,512),this.map=null,this.matrix=new Ee}function fs(){ps.call(this,new mi(50,1,.5,500))}function ms(t,e,n,r,i,a){ds.call(this,t,e),this.type="SpotLight",this.position.copy(en.DefaultUp),this.updateMatrix(),this.target=new en,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new fs}function vs(t,e,n,r){ds.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new ps(new mi(90,1,.5,500))}function gs(t,e,n,r,i,a){fi.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function ys(){ps.call(this,new gs(-5,5,5,-5,.5,500))}function _s(t,e){ds.call(this,t,e),this.type="DirectionalLight",this.position.copy(en.DefaultUp),this.updateMatrix(),this.target=new en,this.shadow=new ys}function bs(t,e){ds.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function xs(t,e,n,r){ds.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function ws(t){this.manager=void 0!==t?t:Ro,this.textures={}}ls.prototype=Object.assign(Object.create(Yo.prototype),{constructor:ls,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new ns(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,a=this.curves[r],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(t){Yo.prototype.copy.call(this,t),this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=Yo.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,n=this.curves.length;e<n;e++){var r=this.curves[e];t.curves.push(r.toJSON())}return t},fromJSON:function(t){Yo.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var r=t.curves[e];this.curves.push((new ss[r.type]).fromJSON(r))}return this}}),us.prototype=Object.assign(Object.create(ls.prototype),{constructor:us,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new ns(this.currentPoint.clone(),new Ae(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var i=new is(this.currentPoint.clone(),new Ae(t,e),new Ae(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,i,a){var o=new ts(this.currentPoint.clone(),new Ae(t,e),new Ae(n,r),new Ae(i,a));this.curves.push(o),this.currentPoint.set(i,a)},splineThru:function(t){var e=new os([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,n,r,i,a)},absarc:function(t,e,n,r,i,a){this.absellipse(t,e,n,n,r,i,a)},ellipse:function(t,e,n,r,i,a,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(t+l,e+u,n,r,i,a,o,s)},absellipse:function(t,e,n,r,i,a,o,s){var l=new Uo(t,e,n,r,i,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);this.currentPoint.copy(c)},copy:function(t){return ls.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=ls.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return ls.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),cs.prototype=Object.assign(Object.create(us.prototype),{constructor:cs,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){us.prototype.copy.call(this,t),this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var r=t.holes[e];this.holes.push(r.clone())}return this},toJSON:function(){var t=us.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,n=this.holes.length;e<n;e++){var r=this.holes[e];t.holes.push(r.toJSON())}return t},fromJSON:function(t){us.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var r=t.holes[e];this.holes.push((new us).fromJSON(r))}return this}}),ds.prototype=Object.assign(Object.create(en.prototype),{constructor:ds,isLight:!0,copy:function(t){return en.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=en.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),hs.prototype=Object.assign(Object.create(ds.prototype),{constructor:hs,isHemisphereLight:!0,copy:function(t){return ds.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(ps.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),fs.prototype=Object.assign(Object.create(ps.prototype),{constructor:fs,isSpotLightShadow:!0,update:function(t){var e=this.camera,n=2*Me.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;n===e.fov&&r===e.aspect&&i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix())}}),ms.prototype=Object.assign(Object.create(ds.prototype),{constructor:ms,isSpotLight:!0,copy:function(t){return ds.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),vs.prototype=Object.assign(Object.create(ds.prototype),{constructor:vs,isPointLight:!0,copy:function(t){return ds.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),gs.prototype=Object.assign(Object.create(fi.prototype),{constructor:gs,isOrthographicCamera:!0,copy:function(t,e){return fi.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,a=n+t,o=r+e,s=r-e;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,d=(this.top-this.bottom)/this.view.height;a=(i+=c*(this.view.offsetX/l))+c*(this.view.width/l),s=(o-=d*(this.view.offsetY/u))-d*(this.view.height/u)}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=en.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),ys.prototype=Object.assign(Object.create(ps.prototype),{constructor:ys}),_s.prototype=Object.assign(Object.create(ds.prototype),{constructor:_s,isDirectionalLight:!0,copy:function(t){return ds.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),bs.prototype=Object.assign(Object.create(ds.prototype),{constructor:bs,isAmbientLight:!0}),xs.prototype=Object.assign(Object.create(ds.prototype),{constructor:xs,isRectAreaLight:!0,copy:function(t){return ds.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=ds.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),Object.assign(ws.prototype,{load:function(t,e,n,r){var i=this,a=new Io(i.manager);a.setPath(i.path),a.load(t,(function(t){e(i.parse(JSON.parse(t)))}),n,r)},parse:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var r=new mo[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.uniforms)for(var i in t.uniforms){var a=t.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=n(a.value);break;case"c":r.uniforms[i].value=(new We).setHex(a.value);break;case"v2":r.uniforms[i].value=(new Ae).fromArray(a.value);break;case"v3":r.uniforms[i].value=(new Se).fromArray(a.value);break;case"v4":r.uniforms[i].value=(new Pe).fromArray(a.value);break;case"m3":r.uniforms[i].value=(new Le).fromArray(a.value);case"m4":r.uniforms[i].value=(new Ee).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)r.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=n(t.map)),void 0!==t.alphaMap&&(r.alphaMap=n(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new Ae).fromArray(s)}return void 0!==t.displacementMap&&(r.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=n(t.specularMap)),void 0!==t.envMap&&(r.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=n(t.gradientMap)),r},setPath:function(t){return this.path=t,this},setTextures:function(t){return this.textures=t,this}});var Ms={decodeText:function(t){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);return decodeURIComponent(escape(e))},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function As(t){this.manager=void 0!==t?t:Ro}Object.assign(As.prototype,{load:function(t,e,n,r){var i=this,a=new Io(i.manager);a.setPath(i.path),a.load(t,(function(t){e(i.parse(JSON.parse(t)))}),n,r)},parse:function(t){var e=new yn,n=t.data.index;if(void 0!==n){var r=new Es[n.type](n.array);e.setIndex(new an(r,1))}var i=t.data.attributes;for(var a in i){var o=i[a],s=new an(r=new Es[o.type](o.array),o.itemSize,o.normalized);void 0!==o.name&&(s.name=o.name),e.addAttribute(a,s)}var l=t.data.morphAttributes;if(l)for(var a in l){for(var u=l[a],c=[],d=0,h=u.length;d<h;d++)o=u[d],s=new an(r=new Es[o.type](o.array),o.itemSize,o.normalized),void 0!==o.name&&(s.name=o.name),c.push(s);e.morphAttributes[a]=c}var p=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==p){d=0;for(var f=p.length;d!==f;++d){var m=p[d];e.addGroup(m.start,m.count,m.materialIndex)}}var v=t.data.boundingSphere;if(void 0!==v){var g=new Se;void 0!==v.center&&g.fromArray(v.center),e.boundingSphere=new Be(g,v.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e},setPath:function(t){return this.path=t,this}});var Es={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Ts(t){this.manager=void 0!==t?t:Ro,this.resourcePath=""}Object.assign(Ts.prototype,{crossOrigin:"anonymous",load:function(t,e,n,r){var i=this,a=void 0===this.path?Ms.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;var o=new Io(i.manager);o.setPath(this.path),o.load(t,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+t+".",s.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,e):console.error("THREE.ObjectLoader: Can't load "+t)}),n,r)},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var n=this.parseShape(t.shapes),r=this.parseGeometries(t.geometries,n),i=this.parseImages(t.images,(function(){void 0!==e&&e(s)})),a=this.parseTextures(t.textures,i),o=this.parseMaterials(t.materials,a),s=this.parseObject(t.object,r,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var n=0,r=t.length;n<r;n++){var i=(new cs).fromJSON(t[n]);e[i.uuid]=i}return e},parseGeometries:function(t,e){var n={};if(void 0!==t)for(var r=new As,i=0,a=t.length;i<a;i++){var o,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new ro[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new ro[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new ro[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new ro[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new ro[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new ro[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new ro[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new ro[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new ro[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new ro[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new ro[s.type]((new ss[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new ro[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new ro[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var l=[],u=0,c=s.shapes.length;u<c;u++){var d=e[s.shapes[u]];l.push(d)}o=new ro[s.type](l,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(l=[],u=0,c=s.shapes.length;u<c;u++)d=e[s.shapes[u]],l.push(d);var h=s.options.extrudePath;void 0!==h&&(s.options.extrudePath=(new ss[h.type]).fromJSON(h)),o=new ro[s.type](l,s.options);break;case"BufferGeometry":o=r.parse(s);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE?o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry:console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n},parseMaterials:function(t,e){var n={},r={};if(void 0!==t){var i=new ws;i.setTextures(e);for(var a=0,o=t.length;a<o;a++){var s=t[a];if("MultiMaterial"===s.type){for(var l=[],u=0;u<s.materials.length;u++){var c=s.materials[u];void 0===n[c.uuid]&&(n[c.uuid]=i.parse(c)),l.push(n[c.uuid])}r[s.uuid]=l}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=ko.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),e.push(i)}return e},parseImages:function(t,e){var n=this,r={};function i(t){return n.manager.itemStart(t),a.load(t,(function(){n.manager.itemEnd(t)}),void 0,(function(){n.manager.itemError(t),n.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var a=new Fo(new Po(e));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=t.length;o<s;o++){var l=t[o],u=l.url;if(Array.isArray(u)){r[l.uuid]=[];for(var c=0,d=u.length;c<d;c++){var h=u[c],p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h;r[l.uuid].push(i(p))}}else p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.resourcePath+l.url,r[l.uuid]=i(p)}}return r},parseTextures:function(t,e){function n(t,e){return"number"===typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={};if(void 0!==t)for(var i=0,a=t.length;i<a;i++){var o,s=t[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(o=Array.isArray(e[s.image])?new Un(e[s.image]):new De(e[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=n(s.mapping,Ls)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=n(s.wrap[0],ks),o.wrapT=n(s.wrap[1],ks)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=n(s.minFilter,Cs)),void 0!==s.magFilter&&(o.magFilter=n(s.magFilter,Cs)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),r[s.uuid]=o}return r},parseObject:function(t,e,n){var r;function i(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],r=0,i=t.length;r<i;r++){var a=t[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),e.push(n[a])}return e}return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}}switch(t.type){case"Scene":r=new Ti,void 0!==t.background&&Number.isInteger(t.background)&&(r.background=new We(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?r.fog=new Ei(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(r.fog=new Ai(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":r=new mi(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(r.focus=t.focus),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.filmGauge&&(r.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(r.filmOffset=t.filmOffset),void 0!==t.view&&(r.view=Object.assign({},t.view));break;case"OrthographicCamera":r=new gs(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.view&&(r.view=Object.assign({},t.view));break;case"AmbientLight":r=new bs(t.color,t.intensity);break;case"DirectionalLight":r=new _s(t.color,t.intensity);break;case"PointLight":r=new vs(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":r=new xs(t.color,t.intensity,t.width,t.height);break;case"SpotLight":r=new ms(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":r=new hs(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=i(t.geometry),s=a(t.material);r=o.bones&&o.bones.length>0?new Pi(o,s):new Dn(o,s),void 0!==t.drawMode&&r.setDrawMode(t.drawMode);break;case"LOD":r=new Di;break;case"Line":r=new Ni(i(t.geometry),a(t.material),t.mode);break;case"LineLoop":r=new Bi(i(t.geometry),a(t.material));break;case"LineSegments":r=new zi(i(t.geometry),a(t.material));break;case"PointCloud":case"Points":r=new ji(i(t.geometry),a(t.material));break;case"Sprite":r=new Ci(a(t.material));break;case"Group":r=new pi;break;default:r=new en}if(r.uuid=t.uuid,void 0!==t.name&&(r.name=t.name),void 0!==t.matrix?(r.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(r.matrixAutoUpdate=t.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==t.position&&r.position.fromArray(t.position),void 0!==t.rotation&&r.rotation.fromArray(t.rotation),void 0!==t.quaternion&&r.quaternion.fromArray(t.quaternion),void 0!==t.scale&&r.scale.fromArray(t.scale)),void 0!==t.castShadow&&(r.castShadow=t.castShadow),void 0!==t.receiveShadow&&(r.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(r.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(r.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&r.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(r.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.frustumCulled&&(r.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(r.renderOrder=t.renderOrder),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.layers&&(r.layers.mask=t.layers),void 0!==t.children)for(var l=t.children,u=0;u<l.length;u++)r.add(this.parseObject(l[u],e,n));if("LOD"===t.type)for(var c=t.levels,d=0;d<c.length;d++){var h=c[d],p=r.getObjectByProperty("uuid",h.object);void 0!==p&&r.addLevel(p,h.distance)}return r}});var Ss,Ls={UVMapping:300,CubeReflectionMapping:et,CubeRefractionMapping:nt,EquirectangularReflectionMapping:rt,EquirectangularRefractionMapping:it,SphericalReflectionMapping:at,CubeUVReflectionMapping:ot,CubeUVRefractionMapping:st},ks={RepeatWrapping:lt,ClampToEdgeWrapping:ut,MirroredRepeatWrapping:ct},Cs={NearestFilter:dt,NearestMipMapNearestFilter:ht,NearestMipMapLinearFilter:pt,LinearFilter:ft,LinearMipMapNearestFilter:mt,LinearMipMapLinearFilter:vt};function Ds(t){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==t?t:Ro,this.options=void 0}function Ps(){this.type="ShapePath",this.color=new We,this.subPaths=[],this.currentPath=null}function Rs(t){this.type="Font",this.data=t}function Os(t,e,n,r,i){var a=i.glyphs[t]||i.glyphs["?"];if(a){var o,s,l,u,c,d,h,p,f=new Ps;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;)switch(m[v++]){case"m":o=m[v++]*e+n,s=m[v++]*e+r,f.moveTo(o,s);break;case"l":o=m[v++]*e+n,s=m[v++]*e+r,f.lineTo(o,s);break;case"q":l=m[v++]*e+n,u=m[v++]*e+r,c=m[v++]*e+n,d=m[v++]*e+r,f.quadraticCurveTo(c,d,l,u);break;case"b":l=m[v++]*e+n,u=m[v++]*e+r,c=m[v++]*e+n,d=m[v++]*e+r,h=m[v++]*e+n,p=m[v++]*e+r,f.bezierCurveTo(c,d,h,p,l,u)}return{offsetX:a.ha*e,path:f}}}function Is(t){this.manager=void 0!==t?t:Ro}function Ns(){}Ds.prototype={constructor:Ds,setOptions:function(t){return this.options=t,this},load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,a=Do.get(t);if(void 0!==a)return i.manager.itemStart(t),setTimeout((function(){e&&e(a),i.manager.itemEnd(t)}),0),a;fetch(t).then((function(t){return t.blob()})).then((function(t){return void 0===i.options?createImageBitmap(t):createImageBitmap(t,i.options)})).then((function(n){Do.add(t,n),e&&e(n),i.manager.itemEnd(t)})).catch((function(e){r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)})),i.manager.itemStart(t)},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},Object.assign(Ps.prototype,{moveTo:function(t,e){this.currentPath=new us,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,a){this.currentPath.bezierCurveTo(t,e,n,r,i,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],a=new cs;a.curves=i.curves,e.push(a)}return e}function r(t,e){for(var n=e.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=e[i],s=e[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=e[a],l=-l,s=e[i],u=-u),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var c=u*(t.x-o.x)-l*(t.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return r}var i=Pa.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return n(a);var o,s,l,u=[];if(1===a.length)return s=a[0],(l=new cs).curves=s.curves,u.push(l),u;var c=!i(a[0].getPoints());c=t?!c:c;var d,h,p=[],f=[],m=[],v=0;f[v]=void 0,m[v]=[];for(var g=0,y=a.length;g<y;g++)o=i(d=(s=a[g]).getPoints()),(o=t?!o:o)?(!c&&f[v]&&v++,f[v]={s:new cs,p:d},f[v].s.curves=s.curves,c&&v++,m[v]=[]):m[v].push({h:s,p:d[0]});if(!f[0])return n(a);if(f.length>1){for(var _=!1,b=[],x=0,w=f.length;x<w;x++)p[x]=[];for(x=0,w=f.length;x<w;x++)for(var M=m[x],A=0;A<M.length;A++){for(var E=M[A],T=!0,S=0;S<f.length;S++)r(E.p,f[S].p)&&(x!==S&&b.push({froms:x,tos:S,hole:A}),T?(T=!1,p[S].push(E)):_=!0);T&&p[x].push(E)}b.length>0&&(_||(m=p))}g=0;for(var L=f.length;g<L;g++){l=f[g].s,u.push(l);for(var k=0,C=(h=m[g]).length;k<C;k++)l.holes.push(h[k].h)}return u}}),Object.assign(Rs.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var n=[],r=function(t,e,n){for(var r=Array.from?Array.from(t):String(t).split(""),i=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,l=0,u=0;u<r.length;u++){var c=r[u];if("\n"===c)s=0,l-=a;else{var d=Os(c,i,s,l,n);s+=d.offsetX,o.push(d.path)}}return o}(t,e,this.data),i=0,a=r.length;i<a;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),Object.assign(Is.prototype,{load:function(t,n,r,i){var a=this,o=new Io(this.manager);o.setPath(this.path),o.load(t,(function(t){var r;try{r=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(t.substring(65,t.length-2))}var i=a.parse(r);n&&n(i)}),r,i)},parse:function(t){return new Rs(t)},setPath:function(t){return this.path=t,this}}),Ns.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],a=e[n+1];if(i.test(t))return a}return null}},Object.assign(Ns.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:function(){var t={NoBlending:v,NormalBlending:g,AdditiveBlending:y,SubtractiveBlending:_,MultiplyBlending:b,CustomBlending:x},e=new We,n=new Ho,r=new ws;return function(i,a,o){var s={};function l(t,e,r,i,l){var u,c=a+t,d=Ns.Handlers.get(c);null!==d?u=d.load(c):(n.setCrossOrigin(o),u=n.load(c)),void 0!==e&&(u.repeat.fromArray(e),1!==e[0]&&(u.wrapS=lt),1!==e[1]&&(u.wrapT=lt)),void 0!==r&&u.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(u.wrapS=lt),"mirror"===i[0]&&(u.wrapS=ct),"repeat"===i[1]&&(u.wrapT=lt),"mirror"===i[1]&&(u.wrapT=ct)),void 0!==l&&(u.anisotropy=l);var h=Me.generateUUID();return s[h]=u,h}var u={uuid:Me.generateUUID(),type:"MeshLambertMaterial"};for(var c in i){var p=i[c];switch(c){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":u.name=p;break;case"blending":u.blending=t[p];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",c,"is no longer supported.");break;case"colorDiffuse":u.color=e.fromArray(p).getHex();break;case"colorSpecular":u.specular=e.fromArray(p).getHex();break;case"colorEmissive":u.emissive=e.fromArray(p).getHex();break;case"specularCoef":u.shininess=p;break;case"shading":"basic"===p.toLowerCase()&&(u.type="MeshBasicMaterial"),"phong"===p.toLowerCase()&&(u.type="MeshPhongMaterial"),"standard"===p.toLowerCase()&&(u.type="MeshStandardMaterial");break;case"mapDiffuse":u.map=l(p,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":u.emissiveMap=l(p,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":u.lightMap=l(p,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":u.aoMap=l(p,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":u.bumpMap=l(p,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":u.bumpScale=p;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":u.normalMap=l(p,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":u.normalScale=p;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":u.specularMap=l(p,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":u.metalnessMap=l(p,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":u.roughnessMap=l(p,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":u.alphaMap=l(p,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":u.side=d;break;case"doubleSided":u.side=h;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),u.opacity=p;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":u[c]=p;break;case"vertexColors":!0===p&&(u.vertexColors=m),"face"===p&&(u.vertexColors=f);break;default:console.error("THREE.Loader.createMaterial: Unsupported",c,p)}}return"MeshBasicMaterial"===u.type&&delete u.emissive,"MeshPhongMaterial"!==u.type&&delete u.specular,u.opacity<1&&(u.transparent=!0),r.setTextures(s),r.parse(u)}}()});var zs,Bs,Fs={getContext:function(){return void 0===Ss&&(Ss=new(window.AudioContext||window.webkitAudioContext)),Ss},setContext:function(t){Ss=t}};function js(t){this.manager=void 0!==t?t:Ro}function Hs(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new mi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new mi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Ys(t,e,n,r){en.call(this),this.type="CubeCamera";var i=new mi(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new Se(1,0,0)),this.add(i);var a=new mi(90,1,t,e);a.up.set(0,-1,0),a.lookAt(new Se(-1,0,0)),this.add(a);var o=new mi(90,1,t,e);o.up.set(0,0,1),o.lookAt(new Se(0,1,0)),this.add(o);var s=new mi(90,1,t,e);s.up.set(0,0,-1),s.lookAt(new Se(0,-1,0)),this.add(s);var l=new mi(90,1,t,e);l.up.set(0,-1,0),l.lookAt(new Se(0,0,1)),this.add(l);var u=new mi(90,1,t,e);u.up.set(0,-1,0),u.lookAt(new Se(0,0,-1)),this.add(u),r=r||{format:Ct,magFilter:ft,minFilter:ft},this.renderTarget=new Ie(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=t.getRenderTarget(),r=this.renderTarget,c=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0),t.render(e,i),t.setRenderTarget(r,1),t.render(e,a),t.setRenderTarget(r,2),t.render(e,o),t.setRenderTarget(r,3),t.render(e,s),t.setRenderTarget(r,4),t.render(e,l),r.texture.generateMipmaps=c,t.setRenderTarget(r,5),t.render(e,u),t.setRenderTarget(n)},this.clear=function(t,e,n,r){for(var i=t.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)t.setRenderTarget(a,o),t.clear(e,n,r);t.setRenderTarget(i)}}function Us(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Gs(){en.call(this),this.type="AudioListener",this.context=Fs.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function Vs(t){en.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Ws(t){Vs.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function qs(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Xs(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Js(t,e,n){var r=n||Zs.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function Zs(t,e,n){this.path=e,this.parsedPath=n||Zs.parseTrackName(e),this.node=Zs.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Qs(){this.uuid=Me.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Ks(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,a=new Array(i),o={endingStart:le,endingEnd:le},s=0;s!==i;++s){var l=r[s].createInterpolant(null);a[s]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=se,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function $s(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function tl(t){"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function el(){yn.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function nl(t,e,n){Si.call(this,t,e),this.meshPerAttribute=n||1}function rl(t,e,n,r){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),an.call(this,t,e,n),this.meshPerAttribute=r||1}function il(t,e,n,r){this.ray=new Ln(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function al(t,e){return t.distance-e.distance}function ol(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,a=0,o=i.length;a<o;a++)ol(i[a],e,n,!0)}function sl(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function ll(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function ul(t,e){this.min=void 0!==t?t:new Ae(1/0,1/0),this.max=void 0!==e?e:new Ae(-1/0,-1/0)}function cl(t,e){this.start=void 0!==t?t:new Se,this.end=void 0!==e?e:new Se}function dl(t){en.call(this),this.material=t,this.render=function(){}}function hl(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var l=new yn,u=new pn(2*o*3,3);l.addAttribute("position",u),zi.call(this,l,new Ii({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function pl(t,e){en.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var n=new yn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,a=1;i<32;i++,a++){var o=i/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new pn(r,3));var l=new Ii({fog:!1});this.cone=new zi(n,l),this.add(this.cone),this.update()}function fl(t){for(var e=function t(e){var n=[];e&&e.isBone&&n.push(e);for(var r=0;r<e.children.length;r++)n.push.apply(n,t(e.children[r]));return n}(t),n=new yn,r=[],i=[],a=new We(0,0,1),o=new We(0,1,0),s=0;s<e.length;s++){var l=e[s];l.parent&&l.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}n.addAttribute("position",new pn(r,3)),n.addAttribute("color",new pn(i,3));var u=new Ii({vertexColors:m,depthTest:!1,depthWrite:!1,transparent:!0});zi.call(this,n,u),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function ml(t,e,n){this.light=t,this.light.updateMatrixWorld(),this.color=n;var r=new Ya(e,4,2),i=new Cn({wireframe:!0,fog:!1});Dn.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function vl(t,e){this.type="RectAreaLightHelper",this.light=t,this.color=e;var n=new yn;n.addAttribute("position",new pn([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var r=new Ii({fog:!1});Ni.call(this,n,r);var i=new yn;i.addAttribute("position",new pn([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Dn(i,new Cn({side:d,fog:!1}))),this.update()}function gl(t,e,n){en.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new $i(e);r.rotateY(.5*Math.PI),this.material=new Cn({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=m);var i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.addAttribute("color",new an(a,3)),this.add(new Dn(r,this.material)),this.update()}function yl(t,e,n,r){t=t||10,e=e||10,n=new We(void 0!==n?n:4473924),r=new We(void 0!==r?r:8947848);for(var i=e/2,a=t/e,o=t/2,s=[],l=[],u=0,c=0,d=-o;u<=e;u++,d+=a){s.push(-o,0,d,o,0,d),s.push(d,0,-o,d,0,o);var h=u===i?n:r;h.toArray(l,c),c+=3,h.toArray(l,c),c+=3,h.toArray(l,c),c+=3,h.toArray(l,c),c+=3}var p=new yn;p.addAttribute("position",new pn(s,3)),p.addAttribute("color",new pn(l,3));var f=new Ii({vertexColors:m});zi.call(this,p,f)}function _l(t,e,n,r,i,a){t=t||10,e=e||16,n=n||8,r=r||64,i=new We(void 0!==i?i:4473924),a=new We(void 0!==a?a:8947848);var o,s,l,u,c,d,h,p=[],f=[];for(u=0;u<=e;u++)l=u/e*(2*Math.PI),o=Math.sin(l)*t,s=Math.cos(l)*t,p.push(0,0,0),p.push(o,0,s),h=1&u?i:a,f.push(h.r,h.g,h.b),f.push(h.r,h.g,h.b);for(u=0;u<=n;u++)for(h=1&u?i:a,d=t-t/n*u,c=0;c<r;c++)l=c/r*(2*Math.PI),o=Math.sin(l)*d,s=Math.cos(l)*d,p.push(o,0,s),f.push(h.r,h.g,h.b),l=(c+1)/r*(2*Math.PI),o=Math.sin(l)*d,s=Math.cos(l)*d,p.push(o,0,s),f.push(h.r,h.g,h.b);var v=new yn;v.addAttribute("position",new pn(p,3)),v.addAttribute("color",new pn(f,3));var g=new Ii({vertexColors:m});zi.call(this,v,g)}function bl(t,e,n,r){this.audio=t,this.range=e||1,this.divisionsInnerAngle=n||16,this.divisionsOuterAngle=r||2;var i=new yn,a=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*a+3));i.addAttribute("position",new an(o,3));var s=new Ii({color:65280}),l=new Ii({color:16776960});Ni.call(this,i,[l,s]),this.update()}function xl(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new yn,u=new pn(2*o*3,3);l.addAttribute("position",u),zi.call(this,l,new Ii({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function wl(t,e,n){en.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);var r=new yn;r.addAttribute("position",new pn([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var i=new Ii({fog:!1});this.lightPlane=new Ni(r,i),this.add(this.lightPlane),(r=new yn).addAttribute("position",new pn([0,0,0,0,0,1],3)),this.targetLine=new Ni(r,i),this.add(this.targetLine),this.update()}function Ml(t){var e=new yn,n=new Ii({color:16777215,vertexColors:f}),r=[],i=[],a={},o=new We(16755200),s=new We(16711680),l=new We(43775),u=new We(16777215),c=new We(3355443);function d(t,e,n){h(t,n),h(e,n)}function h(t,e){r.push(0,0,0),i.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(r.length/3-1)}d("n1","n2",o),d("n2","n4",o),d("n4","n3",o),d("n3","n1",o),d("f1","f2",o),d("f2","f4",o),d("f4","f3",o),d("f3","f1",o),d("n1","f1",o),d("n2","f2",o),d("n3","f3",o),d("n4","f4",o),d("p","n1",s),d("p","n2",s),d("p","n3",s),d("p","n4",s),d("u1","u2",l),d("u2","u3",l),d("u3","u1",l),d("c","t",u),d("p","c",c),d("cn1","cn2",c),d("cn3","cn4",c),d("cf1","cf2",c),d("cf3","cf4",c),e.addAttribute("position",new pn(r,3)),e.addAttribute("color",new pn(i,3)),zi.call(this,e,n),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Al(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new yn;i.setIndex(new an(n,1)),i.addAttribute("position",new an(r,3)),zi.call(this,i,new Ii({color:e})),this.matrixAutoUpdate=!1,this.update()}function El(t,e){this.type="Box3Helper",this.box=t;var n=void 0!==e?e:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new yn;i.setIndex(new an(r,1)),i.addAttribute("position",new pn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),zi.call(this,i,new Ii({color:n})),this.geometry.computeBoundingSphere()}function Tl(t,e,n){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var r=void 0!==n?n:16776960,i=new yn;i.addAttribute("position",new pn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Ni.call(this,i,new Ii({color:r}));var a=new yn;a.addAttribute("position",new pn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new Dn(a,new Cn({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function Sl(t,e,n,r,i,a){en.call(this),void 0===t&&(t=new Se(0,0,1)),void 0===e&&(e=new Se(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===a&&(a=.2*i),void 0===zs&&((zs=new yn).addAttribute("position",new pn([0,0,0,0,1,0],3)),(Bs=new Ka(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new Ni(zs,new Ii({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Dn(Bs,new Cn({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,a)}function Ll(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new yn;n.addAttribute("position",new pn(e,3)),n.addAttribute("color",new pn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Ii({vertexColors:m});zi.call(this,n,r)}function kl(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Zo.call(this,t),this.type="catmullrom",this.closed=!0}function Cl(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Zo.call(this,t),this.type="catmullrom"}function Dl(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Zo.call(this,t),this.type="catmullrom"}Object.assign(js.prototype,{load:function(t,e,n,r){var i=new Io(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(t,(function(t){var n=t.slice(0);Fs.getContext().decodeAudioData(n,(function(t){e(t)}))}),n,r)},setPath:function(t){return this.path=t,this}}),Object.assign(Hs.prototype,{update:function(){var t,e,n,r,i,a,o,s,l=new Ee,u=new Ee;return function(c){if(t!==this||e!==c.focus||n!==c.fov||r!==c.aspect*this.aspect||i!==c.near||a!==c.far||o!==c.zoom||s!==this.eyeSep){t=this,e=c.focus,n=c.fov,r=c.aspect*this.aspect,i=c.near,a=c.far,o=c.zoom;var d,h,p=c.projectionMatrix.clone(),f=(s=this.eyeSep/2)*i/e,m=i*Math.tan(Me.DEG2RAD*n*.5)/o;u.elements[12]=-s,l.elements[12]=s,d=-m*r+f,h=m*r+f,p.elements[0]=2*i/(h-d),p.elements[8]=(h+d)/(h-d),this.cameraL.projectionMatrix.copy(p),d=-m*r-f,h=m*r-f,p.elements[0]=2*i/(h-d),p.elements[8]=(h+d)/(h-d),this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(c.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(c.matrixWorld).multiply(l)}}()}),Ys.prototype=Object.create(en.prototype),Ys.prototype.constructor=Ys,Object.assign(Us.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"===typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Gs.prototype=Object.assign(Object.create(en.prototype),{constructor:Gs,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new Se,e=new Te,n=new Se,r=new Se,i=new Us;return function(a){en.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,s=this.up;if(this.timeDelta=i.getDelta(),this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),o.positionX){var l=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(t.x,l),o.positionY.linearRampToValueAtTime(t.y,l),o.positionZ.linearRampToValueAtTime(t.z,l),o.forwardX.linearRampToValueAtTime(r.x,l),o.forwardY.linearRampToValueAtTime(r.y,l),o.forwardZ.linearRampToValueAtTime(r.z,l),o.upX.linearRampToValueAtTime(s.x,l),o.upY.linearRampToValueAtTime(s.y,l),o.upZ.linearRampToValueAtTime(s.z,l)}else o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),Vs.prototype=Object.assign(Object.create(en.prototype),{constructor:Vs,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),Ws.prototype=Object.assign(Object.create(Vs.prototype),{constructor:Ws,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var t=new Se,e=new Te,n=new Se,r=new Se;return function(i){if(en.prototype.updateMatrixWorld.call(this,i),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(t,e,n),r.set(0,0,1).applyQuaternion(e);var a=this.panner;if(a.positionX){var o=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(t.x,o),a.positionY.linearRampToValueAtTime(t.y,o),a.positionZ.linearRampToValueAtTime(t.z,o),a.orientationX.linearRampToValueAtTime(r.x,o),a.orientationY.linearRampToValueAtTime(r.y,o),a.orientationZ.linearRampToValueAtTime(r.z,o)}else a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z)}}}()}),Object.assign(qs.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(Xs.prototype,{accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=e}else{var s=e/(a+=e);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,i<1){var o=3*e;this._mixBufferRegion(n,r,o,1-i,e)}for(var s=e,l=e+e;s!==l;++s)if(n[s]!==n[s+e]){a.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,a=r;i!==a;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)t[e+a]=t[n+a]},_slerp:function(t,e,n,r){Te.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=e+o;t[s]=t[s]*a+t[n+o]*r}}}),Object.assign(Js.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(Zs,{Composite:Js,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new Zs.Composite(t,e,n):new Zs(t,e,n)},sanitizeNodeName:function(){var t=new RegExp("[\\[\\]\\.:\\/]","g");return function(e){return e.replace(/\s/g,"_").replace(t,"")}}(),parseTrackName:function(){var t="[^\\[\\]\\.:\\/]",e="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",n=/((?:WC+[\/:])*)/.source.replace("WC",t),r=/(WCOD+)?/.source.replace("WCOD",e),i=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",t),a=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",t),o=new RegExp("^"+n+r+i+a+"$"),s=["material","materials","bones"];return function(t){var e=o.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==s.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}}(),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var r=function t(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===e||i.uuid===e)return i;var a=t(i.children);if(a)return a}return null}(t.children);if(r)return r}return null}}),Object.assign(Zs.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=Zs.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var a=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var s=t[r];if(void 0!==s){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var u=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===i){i=o;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===i){i=o;break}}}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}else{var c=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Zs.prototype,{_getValue_unbound:Zs.prototype.getValue,_setValue_unbound:Zs.prototype.setValue}),Object.assign(Qs.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,l=void 0,u=0,c=arguments.length;u!==c;++u){var d=arguments[u],h=d.uuid,p=r[h];if(void 0===p){p=e++,r[h]=p,t.push(d);for(var f=0,m=s;f!==m;++f)o[f].push(new Zs(d,i[f],a[f]))}else if(p<n){l=t[p];var v=--n,g=t[v];for(r[g.uuid]=p,t[p]=g,r[h]=v,t[v]=d,f=0,m=s;f!==m;++f){var y=o[f],_=y[v],b=y[p];y[p]=_,void 0===b&&(b=new Zs(d,i[f],a[f])),y[v]=b}}else t[p]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,u=n[l];if(void 0!==u&&u>=e){var c=e++,d=t[c];n[d.uuid]=u,t[u]=d,n[l]=c,t[c]=s;for(var h=0,p=i;h!==p;++h){var f=r[h],m=f[c],v=f[u];f[u]=m,f[c]=v}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,a=i.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],u=l.uuid,c=r[u];if(void 0!==c)if(delete r[u],c<n){var d=--n,h=t[d],p=t[y=--e];r[h.uuid]=c,t[c]=h,r[p.uuid]=d,t[d]=p,t.pop();for(var f=0,m=a;f!==m;++f){var v=(_=i[f])[d],g=_[y];_[c]=v,_[d]=g,_.pop()}}else{var y;for(r[(p=t[y=--e]).uuid]=c,t[c]=p,t.pop(),f=0,m=a;f!==m;++f){var _;(_=i[f])[c]=_[y],_.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[t]=r,a.push(t),o.push(e),i.push(c);for(var d=u,h=s.length;d!==h;++d){var p=s[d];c[d]=new Zs(p,t,e)}return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}),Object.assign(Ks.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,a=i/r,o=r/i;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=i,s[1]=i+n,l[0]=t/o,l[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(t-i)*n;if(a<0||0===n)return;this._startTime=null,e=n*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var l=this._interpolants,u=this._propertyBindings,c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulate(r,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,n=this._clip.duration,r=this.loop,i=this._loopCount,a=2202===r;if(0===t)return-1===i?e:a&&1===(1&i)?n-e:e;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=n||e<0){var o=Math.floor(e/n);e-=n*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var l=t<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&1===(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=t?this.zeroSlopeAtStart?2401:le:2402,r.endingEnd=e?this.zeroSlopeAtEnd?2401:le:2402)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=e,o[1]=i+t,s[1]=n,this}}),$s.prototype=Object.assign(Object.create(n.prototype),{constructor:$s,_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,a=t._propertyBindings,o=t._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var d=r[c],h=d.name,p=u[h];if(void 0!==p)a[c]=p;else{if(void 0!==(p=a[c])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,h));continue}var f=e&&e._propertyBindings[c].binding.parsedPath;++(p=new Xs(Zs.create(n,h,f),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(p,s,h),a[c]=p}o[c].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,a=i[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=r.length,r.push(t),a.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],u=t._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],a=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=e[e.length-1],l=t._cacheIndex;s._cacheIndex=l,e[l]=s,e.pop(),delete o[i];t:{for(var u in o)break t;delete a[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new _o(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"===typeof t?ko.findByName(n,t):t,a=null!==i?i.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var l=o.actionByRoot[r];if(void 0!==l)return l;s=o.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var u=new Ks(this,i,e);return this._bindAction(u,s),this._addInactiveAction(u,a,r),u},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"===typeof t?ko.findByName(n,t):t,a=i?i.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),a=this._accuIndex^=1,o=0;o!==n;++o)e[o]._update(r,t,i,a);var s=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,c=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,e[u]=c,e.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),tl.prototype.clone=function(){return new tl(void 0===this.value.clone?this.value:this.value.clone())},el.prototype=Object.assign(Object.create(yn.prototype),{constructor:el,isInstancedBufferGeometry:!0,copy:function(t){return yn.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),nl.prototype=Object.assign(Object.create(Si.prototype),{constructor:nl,isInstancedInterleavedBuffer:!0,copy:function(t){return Si.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),rl.prototype=Object.assign(Object.create(an.prototype),{constructor:rl,isInstancedBufferAttribute:!0,copy:function(t){return an.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(il.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){var r=n||[];return ol(t,this,r,e),r.sort(al),r},intersectObjects:function(t,e,n){var r=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,a=t.length;i<a;i++)ol(t[i],this,r,e);return r.sort(al),r}}),Object.assign(sl.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Me.clamp(e/this.radius,-1,1))),this}}),Object.assign(ll.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}}),Object.assign(ul.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Ae;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new Ae),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new Ae),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new Ae),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new Ae),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Ae;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(cl.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new Se),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new Se),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new Se),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new Se,e=new Se;return function(n,r){t.subVectors(n,this.start),e.subVectors(this.end,this.start);var i=e.dot(e),a=e.dot(t)/i;return r&&(a=Me.clamp(a,0,1)),a}}(),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new Se),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),dl.prototype=Object.create(en.prototype),dl.prototype.constructor=dl,dl.prototype.isImmediateRenderObject=!0,hl.prototype=Object.create(zi.prototype),hl.prototype.constructor=hl,hl.prototype.update=function(){var t=new Se,e=new Se,n=new Le;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,l=o.faces,u=0,c=0,d=l.length;c<d;c++)for(var h=l[c],p=0,f=h.vertexNormals.length;p<f;p++){var m=s[h[r[p]]],v=h.vertexNormals[p];t.copy(m).applyMatrix4(i),e.copy(v).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(u,t.x,t.y,t.z),u+=1,a.setXYZ(u,e.x,e.y,e.z),u+=1}else if(o&&o.isBufferGeometry){var g=o.attributes.position,y=o.attributes.normal;for(u=0,p=0,f=g.count;p<f;p++)t.set(g.getX(p),g.getY(p),g.getZ(p)).applyMatrix4(i),e.set(y.getX(p),y.getY(p),y.getZ(p)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(u,t.x,t.y,t.z),u+=1,a.setXYZ(u,e.x,e.y,e.z),u+=1}a.needsUpdate=!0}}(),pl.prototype=Object.create(en.prototype),pl.prototype.constructor=pl,pl.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},pl.prototype.update=function(){var t=new Se;return function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),fl.prototype=Object.create(zi.prototype),fl.prototype.constructor=fl,fl.prototype.updateMatrixWorld=function(){var t=new Se,e=new Ee,n=new Ee;return function(r){var i=this.bones,a=this.geometry,o=a.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,l=0;s<i.length;s++){var u=i[s];u.parent&&u.parent.isBone&&(e.multiplyMatrices(n,u.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(l,t.x,t.y,t.z),e.multiplyMatrices(n,u.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(l+1,t.x,t.y,t.z),l+=2)}a.getAttribute("position").needsUpdate=!0,en.prototype.updateMatrixWorld.call(this,r)}}(),ml.prototype=Object.create(Dn.prototype),ml.prototype.constructor=ml,ml.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ml.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},vl.prototype=Object.create(Ni.prototype),vl.prototype.constructor=vl,vl.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var t=this.material.color,e=Math.max(t.r,t.g,t.b);e>1&&t.multiplyScalar(1/e),this.children[0].material.color.copy(this.material.color)}},vl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},gl.prototype=Object.create(en.prototype),gl.prototype.constructor=gl,gl.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},gl.prototype.update=function(){var t=new Se,e=new We,n=new We;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute("color");e.copy(this.light.color),n.copy(this.light.groundColor);for(var a=0,o=i.count;a<o;a++){var s=a<o/2?e:n;i.setXYZ(a,s.r,s.g,s.b)}i.needsUpdate=!0}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),yl.prototype=Object.create(zi.prototype),yl.prototype.constructor=yl,_l.prototype=Object.create(zi.prototype),_l.prototype.constructor=_l,bl.prototype=Object.create(Ni.prototype),bl.prototype.constructor=bl,bl.prototype.update=function(){var t,e,n=this.audio,r=this.range,i=this.divisionsInnerAngle,a=this.divisionsOuterAngle,o=Me.degToRad(n.panner.coneInnerAngle),s=Me.degToRad(n.panner.coneOuterAngle),l=o/2,u=s/2,c=0,d=0,h=this.geometry,p=h.attributes.position;function f(n,i,a,o){var s=(i-n)/a;for(p.setXYZ(c,0,0,0),d++,t=n;t<i;t+=s)e=c+d,p.setXYZ(e,Math.sin(t)*r,0,Math.cos(t)*r),p.setXYZ(e+1,Math.sin(Math.min(t+s,i))*r,0,Math.cos(Math.min(t+s,i))*r),p.setXYZ(e+2,0,0,0),d+=3;h.addGroup(c,d,o),c+=d,d=0}h.clearGroups(),f(-u,-l,a,0),f(-l,l,i,1),f(l,u,a,0),p.needsUpdate=!0,o===s&&(this.material[0].visible=!1)},bl.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},xl.prototype=Object.create(zi.prototype),xl.prototype.constructor=xl,xl.prototype.update=function(){var t=new Se,e=new Se,n=new Le;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,l=0,u=0,c=s.length;u<c;u++){var d=s[u],h=d.normal;t.copy(o[d.a]).add(o[d.b]).add(o[d.c]).divideScalar(3).applyMatrix4(r),e.copy(h).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),i.setXYZ(l,t.x,t.y,t.z),l+=1,i.setXYZ(l,e.x,e.y,e.z),l+=1}i.needsUpdate=!0}}(),wl.prototype=Object.create(en.prototype),wl.prototype.constructor=wl,wl.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},wl.prototype.update=function(){var t=new Se,e=new Se,n=new Se;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t),this.lightPlane.lookAt(e),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(e),this.targetLine.scale.z=n.length()}}(),Ml.prototype=Object.create(zi.prototype),Ml.prototype.constructor=Ml,Ml.prototype.update=function(){var t,e,n=new Se,r=new fi;function i(i,a,o,s){n.set(a,o,s).unproject(r);var l=e[i];if(void 0!==l)for(var u=t.getAttribute("position"),c=0,d=l.length;c<d;c++)u.setXYZ(l[c],n.x,n.y,n.z)}return function(){t=this.geometry,e=this.pointMap,r.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),Al.prototype=Object.create(zi.prototype),Al.prototype.constructor=Al,Al.prototype.update=function(){var t=new ze;return function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var n=t.min,r=t.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=n.x,a[4]=r.y,a[5]=r.z,a[6]=n.x,a[7]=n.y,a[8]=r.z,a[9]=r.x,a[10]=n.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=n.z,a[15]=n.x,a[16]=r.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=r.x,a[22]=n.y,a[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Al.prototype.setFromObject=function(t){return this.object=t,this.update(),this},Al.prototype.copy=function(t){return zi.prototype.copy.call(this,t),this.object=t.object,this},Al.prototype.clone=function(){return(new this.constructor).copy(this)},El.prototype=Object.create(zi.prototype),El.prototype.constructor=El,El.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),en.prototype.updateMatrixWorld.call(this,t))},Tl.prototype=Object.create(Ni.prototype),Tl.prototype.constructor=Tl,Tl.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?d:c,this.lookAt(this.plane.normal),en.prototype.updateMatrixWorld.call(this,t)},Sl.prototype=Object.create(en.prototype),Sl.prototype.constructor=Sl,Sl.prototype.setDirection=function(){var t,e=new Se;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),Sl.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},Sl.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},Sl.prototype.copy=function(t){return en.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},Sl.prototype.clone=function(){return(new this.constructor).copy(this)},Ll.prototype=Object.create(zi.prototype),Ll.prototype.constructor=Ll,Yo.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Yo.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(ls.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new rn,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new Se(i.x,i.y,i.z||0))}return e}}),Object.assign(us.prototype,{fromPoints:function(t){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),kl.prototype=Object.create(Zo.prototype),Cl.prototype=Object.create(Zo.prototype),Dl.prototype=Object.create(Zo.prototype),Object.assign(Dl.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),yl.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},fl.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Ns.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ms.extractUrlBase(t)}}),Object.assign(Ts.prototype,{setTexturePath:function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}),Object.assign(ul.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(ze.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),cl.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(Me,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Me.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Me.ceilPowerOfTwo(t)}}),Object.assign(Le.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Ee.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new Se),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,a)}}),Fe.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Te.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Ln.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(kn.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(kn,{barycoordFromPoint:function(t,e,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),kn.getBarycoord(t,e,n,r,i)},normal:function(t,e,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),kn.getNormal(t,e,n,r)}}),Object.assign(cs.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ia(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new qa(this,t)}}),Object.assign(Ae.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Se.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Pe.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(rn.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(en.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(en.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Di.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Ri.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Pi.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Yo.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),mi.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(ds.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(an.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(yn.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(yn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Na.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(tl.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(An.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new We}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}}}),Object.defineProperties(lo.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Sn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Mi.prototype,{clearTarget:function(t,e,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,r)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(Mi.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ui.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Ie.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(Re.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(xi.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Vs.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new js).load(t,(function(t){e.setBuffer(t)})),this},qs.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Ys.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};var Pl={merge:function(t,e,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}};ke.crossOrigin=void 0,ke.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Ho;i.setCrossOrigin(this.crossOrigin);var a=i.load(t,n,void 0,r);return e&&(a.mapping=e),a},ke.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new jo;i.setCrossOrigin(this.crossOrigin);var a=i.load(t,n,void 0,r);return e&&(a.mapping=e),a},ke.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},ke.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Rl={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};t.WebGLMultisampleRenderTarget=Oe,t.WebGLRenderTargetCube=Ie,t.WebGLRenderTarget=Re,t.WebGLRenderer=Mi,t.ShaderLib=Xe,t.UniformsLib=qe,t.UniformsUtils=Ge,t.ShaderChunk=He,t.FogExp2=Ai,t.Fog=Ei,t.Scene=Ti,t.Sprite=Ci,t.LOD=Di,t.SkinnedMesh=Pi,t.Skeleton=Ri,t.Bone=Oi,t.Mesh=Dn,t.LineSegments=zi,t.LineLoop=Bi,t.Line=Ni,t.Points=ji,t.Group=pi,t.VideoTexture=Hi,t.DataTexture=Ne,t.DataTexture2DArray=Gn,t.DataTexture3D=Vn,t.CompressedTexture=Yi,t.CubeTexture=Un,t.CanvasTexture=Ui,t.DepthTexture=Gi,t.Texture=De,t.AnimationLoader=No,t.CompressedTextureLoader=zo,t.DataTextureLoader=Bo,t.CubeTextureLoader=jo,t.TextureLoader=Ho,t.ObjectLoader=Ts,t.MaterialLoader=ws,t.BufferGeometryLoader=As,t.DefaultLoadingManager=Ro,t.LoadingManager=Po,t.ImageLoader=Fo,t.ImageBitmapLoader=Ds,t.FontLoader=Is,t.FileLoader=Io,t.Loader=Ns,t.LoaderUtils=Ms,t.Cache=Do,t.AudioLoader=js,t.SpotLightShadow=fs,t.SpotLight=ms,t.PointLight=vs,t.RectAreaLight=xs,t.HemisphereLight=hs,t.DirectionalLightShadow=ys,t.DirectionalLight=_s,t.AmbientLight=bs,t.LightShadow=ps,t.Light=ds,t.StereoCamera=Hs,t.PerspectiveCamera=mi,t.OrthographicCamera=gs,t.CubeCamera=Ys,t.ArrayCamera=vi,t.Camera=fi,t.AudioListener=Gs,t.PositionalAudio=Ws,t.AudioContext=Fs,t.AudioAnalyser=qs,t.Audio=Vs,t.VectorKeyframeTrack=Lo,t.StringKeyframeTrack=So,t.QuaternionKeyframeTrack=To,t.NumberKeyframeTrack=Ao,t.ColorKeyframeTrack=Mo,t.BooleanKeyframeTrack=wo,t.PropertyMixer=Xs,t.PropertyBinding=Zs,t.KeyframeTrack=xo,t.AnimationUtils=vo,t.AnimationObjectGroup=Qs,t.AnimationMixer=$s,t.AnimationClip=ko,t.Uniform=tl,t.InstancedBufferGeometry=el,t.BufferGeometry=yn,t.Geometry=rn,t.InterleavedBufferAttribute=Li,t.InstancedInterleavedBuffer=nl,t.InterleavedBuffer=Si,t.InstancedBufferAttribute=rl,t.Face3=Qe,t.Object3D=en,t.Raycaster=il,t.Layers=$e,t.EventDispatcher=n,t.Clock=Us,t.QuaternionLinearInterpolant=Eo,t.LinearInterpolant=_o,t.DiscreteInterpolant=bo,t.CubicInterpolant=yo,t.Interpolant=go,t.Triangle=kn,t.Math=Me,t.Spherical=sl,t.Cylindrical=ll,t.Plane=Fe,t.Frustum=je,t.Sphere=Be,t.Ray=Ln,t.Matrix4=Ee,t.Matrix3=Le,t.Box3=ze,t.Box2=ul,t.Line3=cl,t.Euler=Ke,t.Vector4=Pe,t.Vector3=Se,t.Vector2=Ae,t.Quaternion=Te,t.Color=We,t.ImmediateRenderObject=dl,t.VertexNormalsHelper=hl,t.SpotLightHelper=pl,t.SkeletonHelper=fl,t.PointLightHelper=ml,t.RectAreaLightHelper=vl,t.HemisphereLightHelper=gl,t.GridHelper=yl,t.PolarGridHelper=_l,t.PositionalAudioHelper=bl,t.FaceNormalsHelper=xl,t.DirectionalLightHelper=wl,t.CameraHelper=Ml,t.BoxHelper=Al,t.Box3Helper=El,t.PlaneHelper=Tl,t.ArrowHelper=Sl,t.AxesHelper=Ll,t.Shape=cs,t.Path=us,t.ShapePath=Ps,t.Font=Rs,t.CurvePath=ls,t.Curve=Yo,t.ImageUtils=ke,t.ShapeUtils=Pa,t.WebGLUtils=hi,t.WireframeGeometry=Vi,t.ParametricGeometry=Wi,t.ParametricBufferGeometry=qi,t.TetrahedronGeometry=Zi,t.TetrahedronBufferGeometry=Qi,t.OctahedronGeometry=Ki,t.OctahedronBufferGeometry=$i,t.IcosahedronGeometry=ta,t.IcosahedronBufferGeometry=ea,t.DodecahedronGeometry=na,t.DodecahedronBufferGeometry=ra,t.PolyhedronGeometry=Xi,t.PolyhedronBufferGeometry=Ji,t.TubeGeometry=ia,t.TubeBufferGeometry=aa,t.TorusKnotGeometry=oa,t.TorusKnotBufferGeometry=sa,t.TorusGeometry=la,t.TorusBufferGeometry=ua,t.TextGeometry=Fa,t.TextBufferGeometry=ja,t.SphereGeometry=Ha,t.SphereBufferGeometry=Ya,t.RingGeometry=Ua,t.RingBufferGeometry=Ga,t.PlaneGeometry=xn,t.PlaneBufferGeometry=wn,t.LatheGeometry=Va,t.LatheBufferGeometry=Wa,t.ShapeGeometry=qa,t.ShapeBufferGeometry=Xa,t.ExtrudeGeometry=Ia,t.ExtrudeBufferGeometry=Na,t.EdgesGeometry=Za,t.ConeGeometry=$a,t.ConeBufferGeometry=to,t.CylinderGeometry=Qa,t.CylinderBufferGeometry=Ka,t.CircleGeometry=eo,t.CircleBufferGeometry=no,t.BoxGeometry=_n,t.CubeGeometry=_n,t.BoxBufferGeometry=bn,t.ShadowMaterial=io,t.SpriteMaterial=ki,t.RawShaderMaterial=ao,t.ShaderMaterial=Sn,t.PointsMaterial=Fi,t.MeshPhysicalMaterial=so,t.MeshStandardMaterial=oo,t.MeshPhongMaterial=lo,t.MeshToonMaterial=uo,t.MeshNormalMaterial=co,t.MeshLambertMaterial=ho,t.MeshDepthMaterial=si,t.MeshDistanceMaterial=li,t.MeshBasicMaterial=Cn,t.MeshMatcapMaterial=po,t.LineDashedMaterial=fo,t.LineBasicMaterial=Ii,t.Material=An,t.Float64BufferAttribute=fn,t.Float32BufferAttribute=pn,t.Uint32BufferAttribute=hn,t.Int32BufferAttribute=dn,t.Uint16BufferAttribute=cn,t.Int16BufferAttribute=un,t.Uint8ClampedBufferAttribute=ln,t.Uint8BufferAttribute=sn,t.Int8BufferAttribute=on,t.BufferAttribute=an,t.ArcCurve=Go,t.CatmullRomCurve3=Zo,t.CubicBezierCurve=ts,t.CubicBezierCurve3=es,t.EllipseCurve=Uo,t.LineCurve=ns,t.LineCurve3=rs,t.QuadraticBezierCurve=is,t.QuadraticBezierCurve3=as,t.SplineCurve=os,t.REVISION=i,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.CullFaceNone=a,t.CullFaceBack=o,t.CullFaceFront=s,t.CullFaceFrontBack=3,t.FrontFaceDirectionCW=0,t.FrontFaceDirectionCCW=1,t.BasicShadowMap=0,t.PCFShadowMap=l,t.PCFSoftShadowMap=u,t.FrontSide=c,t.BackSide=d,t.DoubleSide=h,t.FlatShading=1,t.SmoothShading=2,t.NoColors=p,t.FaceColors=f,t.VertexColors=m,t.NoBlending=v,t.NormalBlending=g,t.AdditiveBlending=y,t.SubtractiveBlending=_,t.MultiplyBlending=b,t.CustomBlending=x,t.AddEquation=w,t.SubtractEquation=M,t.ReverseSubtractEquation=A,t.MinEquation=E,t.MaxEquation=T,t.ZeroFactor=S,t.OneFactor=L,t.SrcColorFactor=k,t.OneMinusSrcColorFactor=C,t.SrcAlphaFactor=D,t.OneMinusSrcAlphaFactor=P,t.DstAlphaFactor=R,t.OneMinusDstAlphaFactor=O,t.DstColorFactor=I,t.OneMinusDstColorFactor=N,t.SrcAlphaSaturateFactor=z,t.NeverDepth=B,t.AlwaysDepth=F,t.LessDepth=j,t.LessEqualDepth=H,t.EqualDepth=Y,t.GreaterEqualDepth=U,t.GreaterDepth=G,t.NotEqualDepth=V,t.MultiplyOperation=W,t.MixOperation=q,t.AddOperation=X,t.NoToneMapping=J,t.LinearToneMapping=Z,t.ReinhardToneMapping=Q,t.Uncharted2ToneMapping=K,t.CineonToneMapping=$,t.ACESFilmicToneMapping=tt,t.UVMapping=300,t.CubeReflectionMapping=et,t.CubeRefractionMapping=nt,t.EquirectangularReflectionMapping=rt,t.EquirectangularRefractionMapping=it,t.SphericalReflectionMapping=at,t.CubeUVReflectionMapping=ot,t.CubeUVRefractionMapping=st,t.RepeatWrapping=lt,t.ClampToEdgeWrapping=ut,t.MirroredRepeatWrapping=ct,t.NearestFilter=dt,t.NearestMipMapNearestFilter=ht,t.NearestMipMapLinearFilter=pt,t.LinearFilter=ft,t.LinearMipMapNearestFilter=mt,t.LinearMipMapLinearFilter=vt,t.UnsignedByteType=gt,t.ByteType=yt,t.ShortType=_t,t.UnsignedShortType=bt,t.IntType=xt,t.UnsignedIntType=wt,t.FloatType=Mt,t.HalfFloatType=At,t.UnsignedShort4444Type=Et,t.UnsignedShort5551Type=Tt,t.UnsignedShort565Type=St,t.UnsignedInt248Type=Lt,t.AlphaFormat=kt,t.RGBFormat=Ct,t.RGBAFormat=Dt,t.LuminanceFormat=Pt,t.LuminanceAlphaFormat=Rt,t.RGBEFormat=Ot,t.DepthFormat=It,t.DepthStencilFormat=Nt,t.RedFormat=zt,t.RGB_S3TC_DXT1_Format=Bt,t.RGBA_S3TC_DXT1_Format=Ft,t.RGBA_S3TC_DXT3_Format=jt,t.RGBA_S3TC_DXT5_Format=Ht,t.RGB_PVRTC_4BPPV1_Format=Yt,t.RGB_PVRTC_2BPPV1_Format=Ut,t.RGBA_PVRTC_4BPPV1_Format=Gt,t.RGBA_PVRTC_2BPPV1_Format=Vt,t.RGB_ETC1_Format=Wt,t.RGBA_ASTC_4x4_Format=qt,t.RGBA_ASTC_5x4_Format=Xt,t.RGBA_ASTC_5x5_Format=Jt,t.RGBA_ASTC_6x5_Format=Zt,t.RGBA_ASTC_6x6_Format=Qt,t.RGBA_ASTC_8x5_Format=Kt,t.RGBA_ASTC_8x6_Format=$t,t.RGBA_ASTC_8x8_Format=te,t.RGBA_ASTC_10x5_Format=ee,t.RGBA_ASTC_10x6_Format=ne,t.RGBA_ASTC_10x8_Format=re,t.RGBA_ASTC_10x10_Format=ie,t.RGBA_ASTC_12x10_Format=ae,t.RGBA_ASTC_12x12_Format=oe,t.LoopOnce=2200,t.LoopRepeat=se,t.LoopPingPong=2202,t.InterpolateDiscrete=2300,t.InterpolateLinear=2301,t.InterpolateSmooth=2302,t.ZeroCurvatureEnding=le,t.ZeroSlopeEnding=2401,t.WrapAroundEnding=2402,t.TrianglesDrawMode=ue,t.TriangleStripDrawMode=ce,t.TriangleFanDrawMode=de,t.LinearEncoding=he,t.sRGBEncoding=pe,t.GammaEncoding=fe,t.RGBEEncoding=me,t.LogLuvEncoding=3003,t.RGBM7Encoding=ve,t.RGBM16Encoding=ge,t.RGBDEncoding=ye,t.BasicDepthPacking=_e,t.RGBADepthPacking=be,t.TangentSpaceNormalMap=xe,t.ObjectSpaceNormalMap=we,t.Face4=function(t,e,n,r,i,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Qe(t,e,n,i,a,o)},t.LineStrip=0,t.LinePieces=1,t.MeshFaceMaterial=function(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t},t.MultiMaterial=function(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t},t.PointCloud=function(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new ji(t,e)},t.Particle=function(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Ci(t)},t.ParticleSystem=function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new ji(t,e)},t.PointCloudMaterial=function(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Fi(t)},t.ParticleBasicMaterial=function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Fi(t)},t.ParticleSystemMaterial=function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Fi(t)},t.Vertex=function(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Se(t,e,n)},t.DynamicBufferAttribute=function(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new an(t,e).setDynamic(!0)},t.Int8Attribute=function(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new on(t,e)},t.Uint8Attribute=function(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new sn(t,e)},t.Uint8ClampedAttribute=function(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new ln(t,e)},t.Int16Attribute=function(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new un(t,e)},t.Uint16Attribute=function(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new cn(t,e)},t.Int32Attribute=function(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new dn(t,e)},t.Uint32Attribute=function(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new hn(t,e)},t.Float32Attribute=function(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new pn(t,e)},t.Float64Attribute=function(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new fn(t,e)},t.ClosedSplineCurve3=kl,t.SplineCurve3=Cl,t.Spline=Dl,t.AxisHelper=function(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Ll(t)},t.BoundingBoxHelper=function(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Al(t,e)},t.EdgesHelper=function(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new zi(new Za(t.geometry),new Ii({color:void 0!==e?e:16777215}))},t.WireframeHelper=function(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new zi(new Vi(t.geometry),new Ii({color:void 0!==e?e:16777215}))},t.XHRLoader=function(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Io(t)},t.BinaryTextureLoader=function(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Bo(t)},t.GeometryUtils=Pl,t.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},t.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},t.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},t.SceneUtils=Rl,t.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},Object.defineProperty(t,"__esModule",{value:!0})}))},{}],37:[function(t,e,n){"use strict";THREE.DRACOLoader=function(t){this.timeLoaded=0,this.manager=t||THREE.DefaultLoadingManager,this.materials=null,this.verbosity=0,this.attributeOptions={},this.drawMode=THREE.TrianglesDrawMode,this.nativeAttributeMap={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"}},THREE.DRACOLoader.prototype={constructor:THREE.DRACOLoader,load:function(t,e,n,r){var i=this,a=new THREE.FileLoader(i.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.load(t,(function(t){i.decodeDracoFile(t,e)}),n,r)},setPath:function(t){return this.path=t,this},setVerbosity:function(t){return this.verbosity=t,this},setDrawMode:function(t){return this.drawMode=t,this},setSkipDequantization:function(t,e){var n=!0;return"undefined"!==typeof e&&(n=e),this.getAttributeOptions(t).skipDequantization=n,this},decodeDracoFile:function(t,e,n,r){var i=this;THREE.DRACOLoader.getDecoderModule().then((function(a){i.decodeDracoFileInternal(t,a.decoder,e,n,r)}))},decodeDracoFileInternal:function(t,e,n,r,i){var a=new e.DecoderBuffer;a.Init(new Int8Array(t),t.byteLength);var o=new e.Decoder,s=o.GetEncodedGeometryType(a);if(s==e.TRIANGULAR_MESH)this.verbosity>0&&console.log("Loaded a mesh.");else{if(s!=e.POINT_CLOUD){var l="THREE.DRACOLoader: Unknown geometry type.";throw console.error(l),new Error(l)}this.verbosity>0&&console.log("Loaded a point cloud.")}n(this.convertDracoGeometryTo3JS(e,o,s,a,r,i))},addAttributeToGeometry:function(t,e,n,r,i,a,o,s){if(0===a.ptr){var l="THREE.DRACOLoader: No attribute "+r;throw console.error(l),new Error(l)}var u,c,d=a.num_components(),h=n.num_points()*d;switch(i){case Float32Array:u=new t.DracoFloat32Array,e.GetAttributeFloatForAllPoints(n,a,u),s[r]=new Float32Array(h),c=THREE.Float32BufferAttribute;break;case Int8Array:u=new t.DracoInt8Array,e.GetAttributeInt8ForAllPoints(n,a,u),s[r]=new Int8Array(h),c=THREE.Int8BufferAttribute;break;case Int16Array:u=new t.DracoInt16Array,e.GetAttributeInt16ForAllPoints(n,a,u),s[r]=new Int16Array(h),c=THREE.Int16BufferAttribute;break;case Int32Array:u=new t.DracoInt32Array,e.GetAttributeInt32ForAllPoints(n,a,u),s[r]=new Int32Array(h),c=THREE.Int32BufferAttribute;break;case Uint8Array:u=new t.DracoUInt8Array,e.GetAttributeUInt8ForAllPoints(n,a,u),s[r]=new Uint8Array(h),c=THREE.Uint8BufferAttribute;break;case Uint16Array:u=new t.DracoUInt16Array,e.GetAttributeUInt16ForAllPoints(n,a,u),s[r]=new Uint16Array(h),c=THREE.Uint16BufferAttribute;break;case Uint32Array:u=new t.DracoUInt32Array,e.GetAttributeUInt32ForAllPoints(n,a,u),s[r]=new Uint32Array(h),c=THREE.Uint32BufferAttribute;break;default:throw l="THREE.DRACOLoader: Unexpected attribute type.",console.error(l),new Error(l)}for(var p=0;p<h;p++)s[r][p]=u.GetValue(p);o.addAttribute(r,new c(s[r],d)),t.destroy(u)},convertDracoGeometryTo3JS:function(t,e,n,r,i,a){var o,s;!0===this.getAttributeOptions("position").skipDequantization&&e.SkipAttributeTransform(t.POSITION);var l=performance.now();if(n===t.TRIANGULAR_MESH?(o=new t.Mesh,s=e.DecodeBufferToMesh(r,o)):(o=new t.PointCloud,s=e.DecodeBufferToPointCloud(r,o)),!s.ok()||0==o.ptr){var u="THREE.DRACOLoader: Decoding failed: ";throw u+=s.error_msg(),console.error(u),t.destroy(e),t.destroy(o),new Error(u)}var c,d=performance.now();t.destroy(r),n==t.TRIANGULAR_MESH?(c=o.num_faces(),this.verbosity>0&&console.log("Number of faces loaded: "+c.toString())):c=0;var h=o.num_points(),p=o.num_attributes();this.verbosity>0&&(console.log("Number of points loaded: "+h.toString()),console.log("Number of attributes loaded: "+p.toString()));var f=e.GetAttributeId(o,t.POSITION);if(-1==f)throw u="THREE.DRACOLoader: No position attribute found.",console.error(u),t.destroy(e),t.destroy(o),new Error(u);var m=e.GetAttribute(o,f),v={},g=new THREE.BufferGeometry;if(i)for(var y in i){var _=a[y],b=i[y],x=e.GetAttributeByUniqueId(o,b);this.addAttributeToGeometry(t,e,o,y,_,x,g,v)}else for(var y in this.nativeAttributeMap){var w=e.GetAttributeId(o,t[this.nativeAttributeMap[y]]);-1!==w&&(this.verbosity>0&&console.log("Loaded "+y+" attribute."),x=e.GetAttribute(o,w),this.addAttributeToGeometry(t,e,o,y,Float32Array,x,g,v))}if(n==t.TRIANGULAR_MESH)if(this.drawMode===THREE.TriangleStripDrawMode){var M=new t.DracoInt32Array;e.GetTriangleStripsFromMesh(o,M),v.indices=new Uint32Array(M.size());for(var A=0;A<M.size();++A)v.indices[A]=M.GetValue(A);t.destroy(M)}else{var E=3*c;v.indices=new Uint32Array(E);var T=new t.DracoInt32Array;for(A=0;A<c;++A){e.GetFaceFromMesh(o,A,T);var S=3*A;v.indices[S]=T.GetValue(0),v.indices[S+1]=T.GetValue(1),v.indices[S+2]=T.GetValue(2)}t.destroy(T)}g.drawMode=this.drawMode,n==t.TRIANGULAR_MESH&&g.setIndex(new(v.indices.length>65535?THREE.Uint32BufferAttribute:THREE.Uint16BufferAttribute)(v.indices,1));var L=new t.AttributeQuantizationTransform;if(L.InitFromAttribute(m))for(g.attributes.position.isQuantized=!0,g.attributes.position.maxRange=L.range(),g.attributes.position.numQuantizationBits=L.quantization_bits(),g.attributes.position.minValues=new Float32Array(3),A=0;A<3;++A)g.attributes.position.minValues[A]=L.min_value(A);return t.destroy(L),t.destroy(e),t.destroy(o),this.decode_time=d-l,this.import_time=performance.now()-d,this.verbosity>0&&(console.log("Decode time: "+this.decode_time),console.log("Import time: "+this.import_time)),g},isVersionSupported:function(t,e){THREE.DRACOLoader.getDecoderModule().then((function(n){e(n.decoder.isVersionSupported(t))}))},getAttributeOptions:function(t){return"undefined"===typeof this.attributeOptions[t]&&(this.attributeOptions[t]={}),this.attributeOptions[t]}},THREE.DRACOLoader.decoderPath="./",THREE.DRACOLoader.decoderConfig={},THREE.DRACOLoader.decoderModulePromise=null,THREE.DRACOLoader.setDecoderPath=function(t){THREE.DRACOLoader.decoderPath=t},THREE.DRACOLoader.setDecoderConfig=function(t){var e=THREE.DRACOLoader.decoderConfig.wasmBinary;THREE.DRACOLoader.decoderConfig=t||{},THREE.DRACOLoader.releaseDecoderModule(),e&&(THREE.DRACOLoader.decoderConfig.wasmBinary=e)},THREE.DRACOLoader.releaseDecoderModule=function(){THREE.DRACOLoader.decoderModulePromise=null},THREE.DRACOLoader.getDecoderModule=function(){var t=this,e=THREE.DRACOLoader.decoderPath,n=THREE.DRACOLoader.decoderConfig,r=THREE.DRACOLoader.decoderModulePromise;return r||("undefined"!==typeof DracoDecoderModule?r=Promise.resolve():"object"!==typeof WebAssembly||"js"===n.type?r=THREE.DRACOLoader._loadScript(e+"draco_decoder.js"):(n.wasmBinaryFile=e+"draco_decoder.wasm",r=THREE.DRACOLoader._loadScript(e+"draco_wasm_wrapper.js").then((function(){return THREE.DRACOLoader._loadArrayBuffer(n.wasmBinaryFile)})).then((function(t){n.wasmBinary=t}))),r=r.then((function(){return new Promise((function(e){n.onModuleLoaded=function(n){t.timeLoaded=performance.now(),e({decoder:n})},DracoDecoderModule(n)}))})),THREE.DRACOLoader.decoderModulePromise=r,r)},THREE.DRACOLoader._loadScript=function(t){var e=document.getElementById("decoder_script");null!==e&&e.parentNode.removeChild(e);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");return r.id="decoder_script",r.type="text/javascript",r.src=t,new Promise((function(t){r.onload=t,n.appendChild(r)}))},THREE.DRACOLoader._loadArrayBuffer=function(t){var e=new THREE.FileLoader;return e.setResponseType("arraybuffer"),new Promise((function(n,r){e.load(t,n,void 0,r)}))}},{}],38:[function(t,n,r){THREE.GLTFLoader=function(){function t(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager,this.dracoLoader=null}function n(){var t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}t.prototype={constructor:t,crossOrigin:"anonymous",load:function(t,n,r,i){var a,o=this;a=void 0!==this.resourcePath?this.resourcePath:void 0!==this.path?this.path:THREE.LoaderUtils.extractUrlBase(t),o.manager.itemStart(t);var s=function(e){i?i(e):console.error(e),o.manager.itemError(t),o.manager.itemEnd(t)},l=new THREE.FileLoader(o.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.load(t,(function(r){try{o.parse(r,a,(function(e){n(e),o.manager.itemEnd(t)}),s)}catch(e){s(e)}}),r,s)},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setDRACOLoader:function(t){return this.dracoLoader=t,this},parse:function(t,e,n,l){var u,f={};if("string"===typeof t)u=t;else if(THREE.LoaderUtils.decodeText(new Uint8Array(t,0,4))===s){try{f[r.KHR_BINARY_GLTF]=new c(t)}catch(_){return void(l&&l(_))}u=f[r.KHR_BINARY_GLTF].content}else u=THREE.LoaderUtils.decodeText(new Uint8Array(t));var m=JSON.parse(u);if(void 0===m.asset||m.asset.version[0]<2)l&&l(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));else{if(m.extensionsUsed)for(var v=0;v<m.extensionsUsed.length;++v){var g=m.extensionsUsed[v],y=m.extensionsRequired||[];switch(g){case r.KHR_LIGHTS_PUNCTUAL:f[g]=new a(m);break;case r.KHR_MATERIALS_UNLIT:f[g]=new o(m);break;case r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:f[g]=new p(m);break;case r.KHR_DRACO_MESH_COMPRESSION:f[g]=new d(m,this.dracoLoader);break;case r.MSFT_TEXTURE_DDS:f[r.MSFT_TEXTURE_DDS]=new i;break;case r.KHR_TEXTURE_TRANSFORM:f[r.KHR_TEXTURE_TRANSFORM]=new h(m);break;default:y.indexOf(g)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+g+'".')}}new H(m,f,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(n,l)}}};var r={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function i(){if(!THREE.DDSLoader)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=r.MSFT_TEXTURE_DDS,this.ddsLoader=new THREE.DDSLoader}function a(t){this.name=r.KHR_LIGHTS_PUNCTUAL;var e=t.extensions&&t.extensions[r.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=e.lights||[]}function o(t){this.name=r.KHR_MATERIALS_UNLIT}a.prototype.loadLight=function(t){var e,n=this.lightDefs[t],r=new THREE.Color(16777215);void 0!==n.color&&r.fromArray(n.color);var i=void 0!==n.range?n.range:0;switch(n.type){case"directional":(e=new THREE.DirectionalLight(r)).target.position.set(0,0,-1),e.add(e.target);break;case"point":(e=new THREE.PointLight(r)).distance=i;break;case"spot":(e=new THREE.SpotLight(r)).distance=i,n.spot=n.spot||{},n.spot.innerConeAngle=void 0!==n.spot.innerConeAngle?n.spot.innerConeAngle:0,n.spot.outerConeAngle=void 0!==n.spot.outerConeAngle?n.spot.outerConeAngle:Math.PI/4,e.angle=n.spot.outerConeAngle,e.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,e.target.position.set(0,0,-1),e.add(e.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+n.type+'".')}return e.position.set(0,0,0),e.decay=2,void 0!==n.intensity&&(e.intensity=n.intensity),e.name=n.name||"light_"+t,Promise.resolve(e)},o.prototype.getMaterialType=function(t){return THREE.MeshBasicMaterial},o.prototype.extendParams=function(t,e,n){var r=[];t.color=new THREE.Color(1,1,1),t.opacity=1;var i=e.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;t.color.fromArray(a),t.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(t,"map",i.baseColorTexture))}return Promise.all(r)};var s="glTF",l=12,u={JSON:1313821514,BIN:5130562};function c(t){this.name=r.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(t,0,l);if(this.header={magic:THREE.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==s)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var n=new DataView(t,l),i=0;i<n.byteLength;){var a=n.getUint32(i,!0);i+=4;var o=n.getUint32(i,!0);if(i+=4,o===u.JSON){var c=new Uint8Array(t,l+i,a);this.content=THREE.LoaderUtils.decodeText(c)}else if(o===u.BIN){var d=l+i;this.body=t.slice(d,d+a)}i+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function d(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=r.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e}function h(t){this.name=r.KHR_TEXTURE_TRANSFORM}function p(){return{name:r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return THREE.ShaderMaterial},extendParams:function(t,e,n){var r=e.extensions[this.name],i=THREE.ShaderLib.standard,a=THREE.UniformsUtils.clone(i.uniforms),o=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),s=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),l=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),u=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),c=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),d=i.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",o).replace("#include <metalnessmap_pars_fragment>",s).replace("#include <roughnessmap_fragment>",l).replace("#include <metalnessmap_fragment>",u).replace("#include <lights_physical_fragment>",c);delete a.roughness,delete a.metalness,delete a.roughnessMap,delete a.metalnessMap,a.specular={value:(new THREE.Color).setHex(1118481)},a.glossiness={value:.5},a.specularMap={value:null},a.glossinessMap={value:null},t.vertexShader=i.vertexShader,t.fragmentShader=d,t.uniforms=a,t.defines={STANDARD:""},t.color=new THREE.Color(1,1,1),t.opacity=1;var h=[];if(Array.isArray(r.diffuseFactor)){var p=r.diffuseFactor;t.color.fromArray(p),t.opacity=p[3]}if(void 0!==r.diffuseTexture&&h.push(n.assignTexture(t,"map",r.diffuseTexture)),t.emissive=new THREE.Color(0,0,0),t.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,t.specular=new THREE.Color(1,1,1),Array.isArray(r.specularFactor)&&t.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var f=r.specularGlossinessTexture;h.push(n.assignTexture(t,"glossinessMap",f)),h.push(n.assignTexture(t,"specularMap",f))}return Promise.all(h)},createMaterial:function(t){var e=new THREE.ShaderMaterial({defines:t.defines,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,fog:!0,lights:!0,opacity:t.opacity,transparent:t.transparent});return e.isGLTFSpecularGlossinessMaterial=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e.extensions.derivatives=!0,e},cloneMaterial:function(t){var e=t.clone();e.isGLTFSpecularGlossinessMaterial=!0;for(var n=this.specularGlossinessParams,r=0,i=n.length;r<i;r++)e[n[r]]=t[n[r]];return e},refreshUniforms:function(t,e,n,r,i,a){if(!0===i.isGLTFSpecularGlossinessMaterial){var o,s=i.uniforms,l=i.defines;s.opacity.value=i.opacity,s.diffuse.value.copy(i.color),s.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),s.map.value=i.map,s.specularMap.value=i.specularMap,s.alphaMap.value=i.alphaMap,s.lightMap.value=i.lightMap,s.lightMapIntensity.value=i.lightMapIntensity,s.aoMap.value=i.aoMap,s.aoMapIntensity.value=i.aoMapIntensity,i.map?o=i.map:i.specularMap?o=i.specularMap:i.displacementMap?o=i.displacementMap:i.normalMap?o=i.normalMap:i.bumpMap?o=i.bumpMap:i.glossinessMap?o=i.glossinessMap:i.alphaMap?o=i.alphaMap:i.emissiveMap&&(o=i.emissiveMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),s.uvTransform.value.copy(o.matrix)),i.envMap&&(s.envMap.value=i.envMap,s.envMapIntensity.value=i.envMapIntensity,s.flipEnvMap.value=i.envMap.isCubeTexture?-1:1,s.reflectivity.value=i.reflectivity,s.refractionRatio.value=i.refractionRatio,s.maxMipLevel.value=t.properties.get(i.envMap).__maxMipLevel),s.specular.value.copy(i.specular),s.glossiness.value=i.glossiness,s.glossinessMap.value=i.glossinessMap,s.emissiveMap.value=i.emissiveMap,s.bumpMap.value=i.bumpMap,s.normalMap.value=i.normalMap,s.displacementMap.value=i.displacementMap,s.displacementScale.value=i.displacementScale,s.displacementBias.value=i.displacementBias,null!==s.glossinessMap.value&&void 0===l.USE_GLOSSINESSMAP&&(l.USE_GLOSSINESSMAP="",l.USE_ROUGHNESSMAP=""),null===s.glossinessMap.value&&void 0!==l.USE_GLOSSINESSMAP&&(delete l.USE_GLOSSINESSMAP,delete l.USE_ROUGHNESSMAP)}}}}function f(t,e,n,r){THREE.Interpolant.call(this,t,e,n,r)}d.prototype.decodePrimitive=function(t,e){var n=this.json,r=this.dracoLoader,i=t.extensions[this.name].bufferView,a=t.extensions[this.name].attributes,o={},s={},l={};for(var u in a){var c=S[u]||u.toLowerCase();o[c]=a[u]}for(u in t.attributes)if(c=S[u]||u.toLowerCase(),void 0!==a[u]){var d=n.accessors[t.attributes[u]],h=M[d.componentType];l[c]=h,s[c]=!0===d.normalized}return e.getDependency("bufferView",i).then((function(t){return new Promise((function(e){r.decodeDracoFile(t,(function(t){for(var n in t.attributes){var r=t.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}e(t)}),o,l)}))}))},h.prototype.extendTexture=function(t,e){return t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.needsUpdate=!0,t},f.prototype=Object.create(THREE.Interpolant.prototype),f.prototype.constructor=f,f.prototype.copySampleValue_=function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r*3+r,a=0;a!==r;a++)e[a]=n[i+a];return e},f.prototype.beforeStart_=f.prototype.copySampleValue_,f.prototype.afterEnd_=f.prototype.copySampleValue_,f.prototype.interpolate_=function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,u=r-e,c=(n-e)/u,d=c*c,h=d*c,p=t*l,f=p-l,m=-2*h+3*d,v=h-d,g=1-m,y=v-d+c,_=0;_!==o;_++){var b=a[f+_+o],x=a[f+_+s]*u,w=a[p+_+o],M=a[p+_]*u;i[_]=g*b+y*x+m*w+v*M}return i};var m,v=0,g=1,y=2,_=3,b=4,x=5,w=6,M=(Number,THREE.Matrix3,THREE.Matrix4,THREE.Vector2,THREE.Vector3,THREE.Vector4,THREE.Texture,{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),A={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipMapNearestFilter,9985:THREE.LinearMipMapNearestFilter,9986:THREE.NearestMipMapLinearFilter,9987:THREE.LinearMipMapLinearFilter},E={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping},T=(THREE.BackSide,THREE.FrontSide,THREE.NeverDepth,THREE.LessDepth,THREE.EqualDepth,THREE.LessEqualDepth,THREE.GreaterEqualDepth,THREE.NotEqualDepth,THREE.GreaterEqualDepth,THREE.AlwaysDepth,THREE.AddEquation,THREE.SubtractEquation,THREE.ReverseSubtractEquation,THREE.ZeroFactor,THREE.OneFactor,THREE.SrcColorFactor,THREE.OneMinusSrcColorFactor,THREE.SrcAlphaFactor,THREE.OneMinusSrcAlphaFactor,THREE.DstAlphaFactor,THREE.OneMinusDstAlphaFactor,THREE.DstColorFactor,THREE.OneMinusDstColorFactor,THREE.SrcAlphaSaturateFactor,{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),S={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},L={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},k={CUBICSPLINE:void 0,LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete},C="OPAQUE",D="MASK",P="BLEND",R={"image/png":THREE.RGBAFormat,"image/jpeg":THREE.RGBFormat};function O(t,e){return"string"!==typeof t||""===t?"":/^(https?:)?\/\//i.test(t)?t:/^data:.*,.*$/i.test(t)?t:/^blob:.*$/i.test(t)?t:e+t}function I(t,e,n){for(var r in n.extensions)void 0===t[r]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function N(t,e){void 0!==e.extras&&("object"===typeof e.extras?t.userData=e.extras:console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function z(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(var n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){var i=e.extras.targetNames;if(t.morphTargetInfluences.length===i.length)for(t.morphTargetDictionary={},n=0,r=i.length;n<r;n++)t.morphTargetDictionary[i[n]]=n;else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function B(t){var e=t.extensions&&t.extensions[r.KHR_DRACO_MESH_COMPRESSION];return e?"draco:"+e.bufferView+":"+e.indices+":"+F(e.attributes):t.indices+":"+F(t.attributes)+":"+t.mode}function F(t){for(var e="",n=Object.keys(t).sort(),r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function j(t){if(t.isInterleavedBufferAttribute){for(var e=t.count,n=t.itemSize,r=t.array.slice(0,e*n),i=0,a=0;i<e;++i)r[a++]=t.getX(i),n>=2&&(r[a++]=t.getY(i)),n>=3&&(r[a++]=t.getZ(i)),n>=4&&(r[a++]=t.getW(i));return new THREE.BufferAttribute(r,n,t.normalized)}return t.clone()}function H(t,e,r){this.json=t||{},this.extensions=e||{},this.options=r||{},this.cache=new n,this.primitiveCache={},this.textureLoader=new THREE.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new THREE.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer")}function Y(t,e,n){var r=e.attributes,i=[];function a(e,r){return n.getDependency("accessor",e).then((function(e){t.addAttribute(r,e)}))}for(var o in r){var s=S[o]||o.toLowerCase();s in t.attributes||i.push(a(r[o],s))}if(void 0!==e.indices&&!t.index){var l=n.getDependency("accessor",e.indices).then((function(e){t.setIndex(e)}));i.push(l)}return N(t,e),Promise.all(i).then((function(){return void 0!==e.targets?function(t,e,n){for(var r=!1,i=!1,a=0,o=e.length;a<o&&(void 0!==(u=e[a]).POSITION&&(r=!0),void 0!==u.NORMAL&&(i=!0),!r||!i);a++);if(!r&&!i)return Promise.resolve(t);var s=[],l=[];for(a=0,o=e.length;a<o;a++){var u=e[a];if(r){var c=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):t.attributes.position;s.push(c)}i&&(c=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):t.attributes.normal,l.push(c))}return Promise.all([Promise.all(s),Promise.all(l)]).then((function(n){for(var a=n[0],o=n[1],s=0,l=a.length;s<l;s++)t.attributes.position!==a[s]&&(a[s]=j(a[s]));for(s=0,l=o.length;s<l;s++)t.attributes.normal!==o[s]&&(o[s]=j(o[s]));for(s=0,l=e.length;s<l;s++){var u=e[s],c="morphTarget"+s;if(r&&void 0!==u.POSITION){var d=a[s];d.name=c;for(var h=t.attributes.position,p=0,f=d.count;p<f;p++)d.setXYZ(p,d.getX(p)+h.getX(p),d.getY(p)+h.getY(p),d.getZ(p)+h.getZ(p))}if(i&&void 0!==u.NORMAL){var m=o[s];m.name=c;var v=t.attributes.normal;for(p=0,f=m.count;p<f;p++)m.setXYZ(p,m.getX(p)+v.getX(p),m.getY(p)+v.getY(p),m.getZ(p)+v.getZ(p))}}return r&&(t.morphAttributes.position=a),i&&(t.morphAttributes.normal=o),t}))}(t,e.targets,n):t}))}return H.prototype.parse=function(t,e){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(e){var a={scene:e[0][r.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:r.asset,parser:n,userData:{}};I(i,a,r),t(a)})).catch(e)},H.prototype.markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[],r={},i={},a=0,o=e.length;a<o;a++)for(var s=e[a].joints,l=0,u=s.length;l<u;l++)t[s[l]].isBone=!0;for(var c=0,d=t.length;c<d;c++){var h=t[c];void 0!==h.mesh&&(void 0===r[h.mesh]&&(r[h.mesh]=i[h.mesh]=0),r[h.mesh]++,void 0!==h.skin&&(n[h.mesh].isSkinnedMesh=!0))}this.json.meshReferences=r,this.json.meshUses=i},H.prototype.getDependency=function(t,e){var n=t+":"+e,i=this.cache.get(n);if(!i){switch(t){case"scene":i=this.loadScene(e);break;case"node":i=this.loadNode(e);break;case"mesh":i=this.loadMesh(e);break;case"accessor":i=this.loadAccessor(e);break;case"bufferView":i=this.loadBufferView(e);break;case"buffer":i=this.loadBuffer(e);break;case"material":i=this.loadMaterial(e);break;case"texture":i=this.loadTexture(e);break;case"skin":i=this.loadSkin(e);break;case"animation":i=this.loadAnimation(e);break;case"camera":i=this.loadCamera(e);break;case"light":i=this.extensions[r.KHR_LIGHTS_PUNCTUAL].loadLight(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(n,i)}return i},H.prototype.getDependencies=function(t){var e=this.cache.get(t);if(!e){var n=this,r=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(r.map((function(e,r){return n.getDependency(t,r)}))),this.cache.add(t,e)}return e},H.prototype.loadBuffer=function(t){var e=this.json.buffers[t],n=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[r.KHR_BINARY_GLTF].body);var i=this.options;return new Promise((function(t,r){n.load(O(e.uri,i.path),t,void 0,(function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))}))}))},H.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){var n=e.byteLength||0,r=e.byteOffset||0;return t.slice(r,r+n)}))},H.prototype.loadAccessor=function(t){var e=this,n=this.json,r=this.json.accessors[t];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(t){var i,a,o=t[0],s=T[r.type],l=M[r.componentType],u=l.BYTES_PER_ELEMENT,c=u*s,d=r.byteOffset||0,h=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;if(h&&h!==c){var f="InterleavedBuffer:"+r.bufferView+":"+r.componentType,m=e.cache.get(f);m||(i=new l(o),m=new THREE.InterleavedBuffer(i,h/u),e.cache.add(f,m)),a=new THREE.InterleavedBufferAttribute(m,s,d/u,p)}else i=null===o?new l(r.count*s):new l(o,d,r.count*s),a=new THREE.BufferAttribute(i,s,p);if(void 0!==r.sparse){var v=T.SCALAR,g=M[r.sparse.indices.componentType],y=r.sparse.indices.byteOffset||0,_=r.sparse.values.byteOffset||0,b=new g(t[1],y,r.sparse.count*v),x=new l(t[2],_,r.sparse.count*s);null!==o&&a.setArray(a.array.slice());for(var w=0,A=b.length;w<A;w++){var E=b[w];if(a.setX(E,x[w*s]),s>=2&&a.setY(E,x[w*s+1]),s>=3&&a.setZ(E,x[w*s+2]),s>=4&&a.setW(E,x[w*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))},H.prototype.loadTexture=function(t){var e,n=this,i=this.json,a=this.options,o=this.textureLoader,s=window.URL||window.webkitURL,l=i.textures[t],u=l.extensions||{},c=(e=u[r.MSFT_TEXTURE_DDS]?i.images[u[r.MSFT_TEXTURE_DDS].source]:i.images[l.source]).uri,d=!1;return void 0!==e.bufferView&&(c=n.getDependency("bufferView",e.bufferView).then((function(t){d=!0;var n=new Blob([t],{type:e.mimeType});return c=s.createObjectURL(n)}))),Promise.resolve(c).then((function(t){var e=THREE.Loader.Handlers.get(t);return e||(e=u[r.MSFT_TEXTURE_DDS]?n.extensions[r.MSFT_TEXTURE_DDS].ddsLoader:o),new Promise((function(n,r){e.load(O(t,a.path),n,void 0,r)}))})).then((function(t){!0===d&&s.revokeObjectURL(c),t.flipY=!1,void 0!==l.name&&(t.name=l.name),e.mimeType in R&&(t.format=R[e.mimeType]);var n=(i.samplers||{})[l.sampler]||{};return t.magFilter=A[n.magFilter]||THREE.LinearFilter,t.minFilter=A[n.minFilter]||THREE.LinearMipMapLinearFilter,t.wrapS=E[n.wrapS]||THREE.RepeatWrapping,t.wrapT=E[n.wrapT]||THREE.RepeatWrapping,t}))},H.prototype.assignTexture=function(t,e,n){var i=this;return this.getDependency("texture",n.index).then((function(a){switch(e){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":a.format=THREE.RGBFormat}if(i.extensions[r.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[r.KHR_TEXTURE_TRANSFORM]:void 0;o&&(a=i.extensions[r.KHR_TEXTURE_TRANSFORM].extendTexture(a,o))}t[e]=a}))},H.prototype.assignFinalMaterial=function(t){var e=t.geometry,n=t.material,i=this.extensions,a=void 0!==e.attributes.tangent,o=void 0!==e.attributes.color,s=void 0===e.attributes.normal,l=!0===t.isSkinnedMesh,u=Object.keys(e.morphAttributes).length>0,c=u&&void 0!==e.morphAttributes.normal;if(t.isPoints){var d="PointsMaterial:"+n.uuid,h=this.cache.get(d);h||(h=new THREE.PointsMaterial,THREE.Material.prototype.copy.call(h,n),h.color.copy(n.color),h.map=n.map,h.lights=!1,this.cache.add(d,h)),n=h}else if(t.isLine){d="LineBasicMaterial:"+n.uuid;var p=this.cache.get(d);p||(p=new THREE.LineBasicMaterial,THREE.Material.prototype.copy.call(p,n),p.color.copy(n.color),p.lights=!1,this.cache.add(d,p)),n=p}if(a||o||s||l||u){d="ClonedMaterial:"+n.uuid+":",n.isGLTFSpecularGlossinessMaterial&&(d+="specular-glossiness:"),l&&(d+="skinning:"),a&&(d+="vertex-tangents:"),o&&(d+="vertex-colors:"),s&&(d+="flat-shading:"),u&&(d+="morph-targets:"),c&&(d+="morph-normals:");var f=this.cache.get(d);f||(f=n.isGLTFSpecularGlossinessMaterial?i[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(n):n.clone(),l&&(f.skinning=!0),a&&(f.vertexTangents=!0),o&&(f.vertexColors=THREE.VertexColors),s&&(f.flatShading=!0),u&&(f.morphTargets=!0),c&&(f.morphNormals=!0),this.cache.add(d,f)),n=f}n.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),e.addAttribute("uv2",new THREE.BufferAttribute(e.attributes.uv.array,2))),n.isGLTFSpecularGlossinessMaterial&&(t.onBeforeRender=i[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms),t.material=n},H.prototype.loadMaterial=function(t){var e,n=this.json,i=this.extensions,a=n.materials[t],o={},s=a.extensions||{},l=[];if(s[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=i[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];e=u.getMaterialType(a),l.push(u.extendParams(o,a,this))}else if(s[r.KHR_MATERIALS_UNLIT]){var c=i[r.KHR_MATERIALS_UNLIT];e=c.getMaterialType(a),l.push(c.extendParams(o,a,this))}else{e=THREE.MeshStandardMaterial;var d=a.pbrMetallicRoughness||{};if(o.color=new THREE.Color(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){var h=d.baseColorFactor;o.color.fromArray(h),o.opacity=h[3]}void 0!==d.baseColorTexture&&l.push(this.assignTexture(o,"map",d.baseColorTexture)),o.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,o.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(l.push(this.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),l.push(this.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture)))}!0===a.doubleSided&&(o.side=THREE.DoubleSide);var p=a.alphaMode||C;return p===P?o.transparent=!0:(o.transparent=!1,p===D&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&e!==THREE.MeshBasicMaterial&&(l.push(this.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new THREE.Vector2(1,1),void 0!==a.normalTexture.scale&&o.normalScale.set(a.normalTexture.scale,a.normalTexture.scale)),void 0!==a.occlusionTexture&&e!==THREE.MeshBasicMaterial&&(l.push(this.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&e!==THREE.MeshBasicMaterial&&(o.emissive=(new THREE.Color).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&e!==THREE.MeshBasicMaterial&&l.push(this.assignTexture(o,"emissiveMap",a.emissiveTexture)),Promise.all(l).then((function(){var t;return t=e===THREE.ShaderMaterial?i[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new e(o),void 0!==a.name&&(t.name=a.name),t.map&&(t.map.encoding=THREE.sRGBEncoding),t.emissiveMap&&(t.emissiveMap.encoding=THREE.sRGBEncoding),t.specularMap&&(t.specularMap.encoding=THREE.sRGBEncoding),N(t,a),a.extensions&&I(i,t,a),t}))},H.prototype.loadGeometries=function(t){var e=this,n=this.extensions,i=this.primitiveCache;function a(t){return n[r.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then((function(n){return Y(n,t,e)}))}for(var o=[],s=0,l=t.length;s<l;s++){var u,c=t[s],d=B(c),h=i[d];h?o.push(h.promise):(u=c.extensions&&c.extensions[r.KHR_DRACO_MESH_COMPRESSION]?a(c):Y(new THREE.BufferGeometry,c,e),i[d]={primitive:c,promise:u},o.push(u))}return Promise.all(o)},H.prototype.loadMesh=function(t){for(var e=this,n=this.json,r=(this.extensions,n.meshes[t]),i=r.primitives,a=[],o=0,s=i.length;o<s;o++){var l=void 0===i[o].material?m=m||new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE.FrontSide}):this.getDependency("material",i[o].material);a.push(l)}return Promise.all(a).then((function(n){return e.loadGeometries(i).then((function(a){for(var o=[],s=0,l=a.length;s<l;s++){var u,c=a[s],d=i[s],h=n[s];if(d.mode===b||d.mode===x||d.mode===w||void 0===d.mode)!0===(u=!0===r.isSkinnedMesh?new THREE.SkinnedMesh(c,h):new THREE.Mesh(c,h)).isSkinnedMesh&&u.normalizeSkinWeights(),d.mode===x?u.drawMode=THREE.TriangleStripDrawMode:d.mode===w&&(u.drawMode=THREE.TriangleFanDrawMode);else if(d.mode===g)u=new THREE.LineSegments(c,h);else if(d.mode===_)u=new THREE.Line(c,h);else if(d.mode===y)u=new THREE.LineLoop(c,h);else{if(d.mode!==v)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+d.mode);u=new THREE.Points(c,h)}Object.keys(u.geometry.morphAttributes).length>0&&z(u,r),u.name=r.name||"mesh_"+t,a.length>1&&(u.name+="_"+s),N(u,r),e.assignFinalMaterial(u),o.push(u)}if(1===o.length)return o[0];var p=new THREE.Group;for(s=0,l=o.length;s<l;s++)p.add(o[s]);return p}))}))},H.prototype.loadCamera=function(t){var e,n=this.json.cameras[t],r=n[n.type];if(r)return"perspective"===n.type?e=new THREE.PerspectiveCamera(THREE.Math.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(e=new THREE.OrthographicCamera(r.xmag/-2,r.xmag/2,r.ymag/2,r.ymag/-2,r.znear,r.zfar)),void 0!==n.name&&(e.name=n.name),N(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")},H.prototype.loadSkin=function(t){var e=this.json.skins[t],n={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return n.inverseBindMatrices=t,n}))},H.prototype.loadAnimation=function(t){for(var e=this.json.animations[t],n=[],r=[],i=[],a=[],o=[],s=0,l=e.channels.length;s<l;s++){var u=e.channels[s],c=e.samplers[u.sampler],d=u.target,h=void 0!==d.node?d.node:d.id,p=void 0!==e.parameters?e.parameters[c.input]:c.input,m=void 0!==e.parameters?e.parameters[c.output]:c.output;n.push(this.getDependency("node",h)),r.push(this.getDependency("accessor",p)),i.push(this.getDependency("accessor",m)),a.push(c),o.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(a),Promise.all(o)]).then((function(n){for(var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=[],u=0,c=r.length;u<c;u++){var d=r[u],h=i[u],p=a[u],m=o[u],v=s[u];if(void 0!==d){var g;switch(d.updateMatrix(),d.matrixAutoUpdate=!0,L[v.path]){case L.weights:g=THREE.NumberKeyframeTrack;break;case L.rotation:g=THREE.QuaternionKeyframeTrack;break;case L.position:case L.scale:default:g=THREE.VectorKeyframeTrack}var y=d.name?d.name:d.uuid,_=void 0!==m.interpolation?k[m.interpolation]:THREE.InterpolateLinear,b=[];L[v.path]===L.weights?d.traverse((function(t){!0===t.isMesh&&t.morphTargetInfluences&&b.push(t.name?t.name:t.uuid)})):b.push(y);for(var x=0,w=b.length;x<w;x++){var M=new g(b[x]+"."+L[v.path],h.array,p.array,_);"CUBICSPLINE"===m.interpolation&&(M.createInterpolant=function(t){return new f(this.times,this.values,this.getValueSize()/3,t)},M.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(M)}}}var A=void 0!==e.name?e.name:"animation_"+t;return new THREE.AnimationClip(A,void 0,l)}))},H.prototype.loadNode=function(t){var e=this.json,n=this.extensions,i=this,a=e.meshReferences,o=e.meshUses,s=e.nodes[t];return(!0===s.isBone?Promise.resolve(new THREE.Bone):void 0!==s.mesh?i.getDependency("mesh",s.mesh).then((function(t){var e;if(a[s.mesh]>1){var n=o[s.mesh]++;(e=t.clone()).name+="_instance_"+n,e.onBeforeRender=t.onBeforeRender;for(var r=0,i=e.children.length;r<i;r++)e.children[r].name+="_instance_"+n,e.children[r].onBeforeRender=t.children[r].onBeforeRender}else e=t;return void 0!==s.weights&&e.traverse((function(t){if(t.isMesh)for(var e=0,n=s.weights.length;e<n;e++)t.morphTargetInfluences[e]=s.weights[e]})),e})):void 0!==s.camera?i.getDependency("camera",s.camera):s.extensions&&s.extensions[r.KHR_LIGHTS_PUNCTUAL]&&void 0!==s.extensions[r.KHR_LIGHTS_PUNCTUAL].light?i.getDependency("light",s.extensions[r.KHR_LIGHTS_PUNCTUAL].light):Promise.resolve(new THREE.Object3D)).then((function(t){if(void 0!==s.name&&(t.name=THREE.PropertyBinding.sanitizeNodeName(s.name)),N(t,s),s.extensions&&I(n,t,s),void 0!==s.matrix){var e=new THREE.Matrix4;e.fromArray(s.matrix),t.applyMatrix(e)}else void 0!==s.translation&&t.position.fromArray(s.translation),void 0!==s.rotation&&t.quaternion.fromArray(s.rotation),void 0!==s.scale&&t.scale.fromArray(s.scale);return t}))},H.prototype.loadScene=function(){function t(e,n,r,i){var a=r.nodes[e];return i.getDependency("node",e).then((function(t){return void 0===a.skin?t:i.getDependency("skin",a.skin).then((function(t){for(var n=[],r=0,a=(e=t).joints.length;r<a;r++)n.push(i.getDependency("node",e.joints[r]));return Promise.all(n)})).then((function(n){for(var r=!0===t.isGroup?t.children:[t],i=0,a=r.length;i<a;i++){for(var o=r[i],s=[],l=[],u=0,c=n.length;u<c;u++){var d=n[u];if(d){s.push(d);var h=new THREE.Matrix4;void 0!==e.inverseBindMatrices&&h.fromArray(e.inverseBindMatrices.array,16*u),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[u])}o.bind(new THREE.Skeleton(s,l),o.matrixWorld)}return t}));var e})).then((function(e){n.add(e);var o=[];if(a.children)for(var s=a.children,l=0,u=s.length;l<u;l++){var c=s[l];o.push(t(c,e,r,i))}return Promise.all(o)}))}return function(e){var n=this.json,r=this.extensions,i=this.json.scenes[e],a=new THREE.Scene;void 0!==i.name&&(a.name=i.name),N(a,i),i.extensions&&I(r,a,i);for(var o=i.nodes||[],s=[],l=0,u=o.length;l<u;l++)s.push(t(o[l],a,n,this));return Promise.all(s).then((function(){return a}))}}(),t}()},{}],39:[function(t,e,n){THREE.MTLLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.MTLLoader.prototype={constructor:THREE.MTLLoader,load:function(t,e,n,r){var i=this,a=void 0===this.path?THREE.LoaderUtils.extractUrlBase(t):this.path,o=new THREE.FileLoader(this.manager);o.setPath(this.path),o.load(t,(function(t){e(i.parse(t,a))}),n,r)},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setTexturePath:function(t){return console.warn("THREE.MTLLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)},setCrossOrigin:function(t){return this.crossOrigin=t,this},setMaterialOptions:function(t){return this.materialOptions=t,this},parse:function(t,e){for(var n=t.split("\n"),r={},i=/\s+/,a={},o=0;o<n.length;o++){var s=n[o];if(0!==(s=s.trim()).length&&"#"!==s.charAt(0)){var l=s.indexOf(" "),u=l>=0?s.substring(0,l):s;u=u.toLowerCase();var c=l>=0?s.substring(l+1):"";if(c=c.trim(),"newmtl"===u)r={name:c},a[c]=r;else if("ka"===u||"kd"===u||"ks"===u||"ke"===u){var d=c.split(i,3);r[u]=[parseFloat(d[0]),parseFloat(d[1]),parseFloat(d[2])]}else r[u]=c}}var h=new THREE.MTLLoader.MaterialCreator(this.resourcePath||e,this.materialOptions);return h.setCrossOrigin(this.crossOrigin),h.setManager(this.manager),h.setMaterials(a),h}},THREE.MTLLoader.MaterialCreator=function(t,e){this.baseUrl=t||"",this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,crossOrigin:"anonymous",setCrossOrigin:function(t){return this.crossOrigin=t,this},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var n in t){var r=t[n],i={};for(var a in e[n]=i,r){var o=!0,s=r[a],l=a.toLowerCase();switch(l){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(o=!1)}o&&(i[l]=s)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){var e=this,n=this.materialsInfo[t],r={name:t,side:this.side};function i(t,n){if(!r[t]){var i,a,o=e.getTextureParams(n,r),s=e.loadTexture((i=e.baseUrl,"string"!==typeof(a=o.url)||""===a?"":/^https?:\/\//i.test(a)?a:i+a));s.repeat.copy(o.scale),s.offset.copy(o.offset),s.wrapS=e.wrap,s.wrapT=e.wrap,r[t]=s}}for(var a in n){var o,s=n[a];if(""!==s)switch(a.toLowerCase()){case"kd":r.color=(new THREE.Color).fromArray(s);break;case"ks":r.specular=(new THREE.Color).fromArray(s);break;case"ke":r.emissive=(new THREE.Color).fromArray(s);break;case"map_kd":i("map",s);break;case"map_ks":i("specularMap",s);break;case"map_ke":i("emissiveMap",s);break;case"norm":i("normalMap",s);break;case"map_bump":case"bump":i("bumpMap",s);break;case"map_d":i("alphaMap",s),r.transparent=!0;break;case"ns":r.shininess=parseFloat(s);break;case"d":(o=parseFloat(s))<1&&(r.opacity=o,r.transparent=!0);break;case"tr":o=parseFloat(s),this.options&&this.options.invertTrProperty&&(o=1-o),o>0&&(r.opacity=1-o,r.transparent=!0)}}return this.materials[t]=new THREE.MeshPhongMaterial(r),this.materials[t]},getTextureParams:function(t,e){var n,r={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},i=t.split(/\s+/);return(n=i.indexOf("-bm"))>=0&&(e.bumpScale=parseFloat(i[n+1]),i.splice(n,2)),(n=i.indexOf("-s"))>=0&&(r.scale.set(parseFloat(i[n+1]),parseFloat(i[n+2])),i.splice(n,4)),(n=i.indexOf("-o"))>=0&&(r.offset.set(parseFloat(i[n+1]),parseFloat(i[n+2])),i.splice(n,4)),r.url=i.join(" ").trim(),r},loadTexture:function(t,e,n,r,i){var a,o=THREE.Loader.Handlers.get(t),s=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===o&&(o=new THREE.TextureLoader(s)),o.setCrossOrigin&&o.setCrossOrigin(this.crossOrigin),a=o.load(t,n,r,i),void 0!==e&&(a.mapping=e),a}}},{}],40:[function(t,e,n){THREE.OBJLoader=function(){var t=/^[og]\s*(.+)?/,e=/^mtllib /,n=/^usemtl /;function r(){var t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var n=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:"number"===typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},n&&n.name&&"function"===typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseNormalIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseUVIndex:function(t,e){var n=parseInt(t,10);return 2*(n>=0?n-1:n+e/2)},addVertex:function(t,e,n){var r=this.vertices,i=this.object.geometry.vertices;i.push(r[t+0],r[t+1],r[t+2]),i.push(r[e+0],r[e+1],r[e+2]),i.push(r[n+0],r[n+1],r[n+2])},addVertexPoint:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,n){var r=this.normals,i=this.object.geometry.normals;i.push(r[t+0],r[t+1],r[t+2]),i.push(r[e+0],r[e+1],r[e+2]),i.push(r[n+0],r[n+1],r[n+2])},addColor:function(t,e,n){var r=this.colors,i=this.object.geometry.colors;i.push(r[t+0],r[t+1],r[t+2]),i.push(r[e+0],r[e+1],r[e+2]),i.push(r[n+0],r[n+1],r[n+2])},addUV:function(t,e,n){var r=this.uvs,i=this.object.geometry.uvs;i.push(r[t+0],r[t+1]),i.push(r[e+0],r[e+1]),i.push(r[n+0],r[n+1])},addUVLine:function(t){var e=this.uvs;this.object.geometry.uvs.push(e[t+0],e[t+1])},addFace:function(t,e,n,r,i,a,o,s,l){var u=this.vertices.length,c=this.parseVertexIndex(t,u),d=this.parseVertexIndex(e,u),h=this.parseVertexIndex(n,u);if(this.addVertex(c,d,h),void 0!==r&&""!==r){var p=this.uvs.length;c=this.parseUVIndex(r,p),d=this.parseUVIndex(i,p),h=this.parseUVIndex(a,p),this.addUV(c,d,h)}if(void 0!==o&&""!==o){var f=this.normals.length;c=this.parseNormalIndex(o,f),d=o===s?c:this.parseNormalIndex(s,f),h=o===l?c:this.parseNormalIndex(l,f),this.addNormal(c,d,h)}this.colors.length>0&&this.addColor(c,d,h)},addPointGeometry:function(t){this.object.geometry.type="Points";for(var e=this.vertices.length,n=0,r=t.length;n<r;n++)this.addVertexPoint(this.parseVertexIndex(t[n],e))},addLineGeometry:function(t,e){this.object.geometry.type="Line";for(var n=this.vertices.length,r=this.uvs.length,i=0,a=t.length;i<a;i++)this.addVertexLine(this.parseVertexIndex(t[i],n));var o=0;for(a=e.length;o<a;o++)this.addUVLine(this.parseUVIndex(e[o],r))}};return t.startObject("",!1),t}function i(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager,this.materials=null}return i.prototype={constructor:i,load:function(t,e,n,r){var i=this,a=new THREE.FileLoader(i.manager);a.setPath(this.path),a.load(t,(function(t){e(i.parse(t))}),n,r)},setPath:function(t){return this.path=t,this},setMaterials:function(t){return this.materials=t,this},parse:function(i){console.time("OBJLoader");var a=new r;-1!==i.indexOf("\r\n")&&(i=i.replace(/\r\n/g,"\n")),-1!==i.indexOf("\\\n")&&(i=i.replace(/\\\n/g,""));for(var o=i.split("\n"),s="",l="",u=[],c="function"===typeof"".trimLeft,d=0,h=o.length;d<h;d++)if(s=o[d],0!==(s=c?s.trimLeft():s.trim()).length&&"#"!==(l=s.charAt(0)))if("v"===l){var p=s.split(/\s+/);switch(p[0]){case"v":a.vertices.push(parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3])),8===p.length&&a.colors.push(parseFloat(p[4]),parseFloat(p[5]),parseFloat(p[6]));break;case"vn":a.normals.push(parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3]));break;case"vt":a.uvs.push(parseFloat(p[1]),parseFloat(p[2]))}}else if("f"===l){for(var f=s.substr(1).trim().split(/\s+/),m=[],v=0,g=f.length;v<g;v++){var y=f[v];if(y.length>0){var _=y.split("/");m.push(_)}}var b=m[0];for(v=1,g=m.length-1;v<g;v++){var x=m[v],w=m[v+1];a.addFace(b[0],x[0],w[0],b[1],x[1],w[1],b[2],x[2],w[2])}}else if("l"===l){var M=s.substring(1).trim().split(" "),A=[],E=[];if(-1===s.indexOf("/"))A=M;else for(var T=0,S=M.length;T<S;T++){var L=M[T].split("/");""!==L[0]&&A.push(L[0]),""!==L[1]&&E.push(L[1])}a.addLineGeometry(A,E)}else if("p"===l){var k=s.substr(1).trim().split(" ");a.addPointGeometry(k)}else if(null!==(u=t.exec(s))){var C=(" "+u[0].substr(1).trim()).substr(1);a.startObject(C)}else if(n.test(s))a.object.startMaterial(s.substring(7).trim(),a.materialLibraries);else if(e.test(s))a.materialLibraries.push(s.substring(7).trim());else{if("s"!==l){if("\0"===s)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+s+'"')}if((u=s.split(" ")).length>1){var D=u[1].trim().toLowerCase();a.object.smooth="0"!==D&&"off"!==D}else a.object.smooth=!0;(V=a.object.currentMaterial())&&(V.smooth=a.object.smooth)}a.finalize();var P=new THREE.Group;for(P.materialLibraries=[].concat(a.materialLibraries),d=0,h=a.objects.length;d<h;d++){var R=a.objects[d],O=R.geometry,I=R.materials,N="Line"===O.type,z="Points"===O.type,B=!1;if(0!==O.vertices.length){var F=new THREE.BufferGeometry;F.addAttribute("position",new THREE.Float32BufferAttribute(O.vertices,3)),O.normals.length>0?F.addAttribute("normal",new THREE.Float32BufferAttribute(O.normals,3)):F.computeVertexNormals(),O.colors.length>0&&(B=!0,F.addAttribute("color",new THREE.Float32BufferAttribute(O.colors,3))),O.uvs.length>0&&F.addAttribute("uv",new THREE.Float32BufferAttribute(O.uvs,2));for(var j,H=[],Y=0,U=I.length;Y<U;Y++){var G=I[Y],V=void 0;if(null!==this.materials)if(V=this.materials.create(G.name),!N||!V||V instanceof THREE.LineBasicMaterial){if(z&&V&&!(V instanceof THREE.PointsMaterial)){var W=new THREE.PointsMaterial({size:10,sizeAttenuation:!1});THREE.Material.prototype.copy.call(W,V),W.color.copy(V.color),W.map=V.map,W.lights=!1,V=W}}else{var q=new THREE.LineBasicMaterial;THREE.Material.prototype.copy.call(q,V),q.color.copy(V.color),q.lights=!1,V=q}V||((V=N?new THREE.LineBasicMaterial:z?new THREE.PointsMaterial({size:1,sizeAttenuation:!1}):new THREE.MeshPhongMaterial).name=G.name),V.flatShading=!G.smooth,V.vertexColors=B?THREE.VertexColors:THREE.NoColors,H.push(V)}if(H.length>1){for(Y=0,U=I.length;Y<U;Y++)G=I[Y],F.addGroup(G.groupStart,G.groupCount,Y);j=N?new THREE.LineSegments(F,H):z?new THREE.Points(F,H):new THREE.Mesh(F,H)}else j=N?new THREE.LineSegments(F,H[0]):z?new THREE.Points(F,H[0]):new THREE.Mesh(F,H[0]);j.name=R.name,P.add(j)}}return console.timeEnd("OBJLoader"),P}},i}()},{}],41:[function(t,e,n){var r=t("layout-bmfont-text"),i=t("inherits"),a=t("quad-indices"),o=t("three-buffer-vertex-data"),s=t("object-assign"),l=t("./lib/vertices"),u=t("./lib/utils"),c=THREE.BufferGeometry;function d(t){c.call(this),"string"===typeof t&&(t={text:t}),this._opt=s({},t),t&&this.update(t)}e.exports=function(t){return new d(t)},i(d,c),d.prototype.update=function(t){if("string"===typeof t&&(t={text:t}),!(t=s({},this._opt,t)).font)throw new TypeError("must specify a { font } in options");this.layout=r(t);var e=!1!==t.flipY,n=t.font,i=n.common.scaleW,u=n.common.scaleH,c=this.layout.glyphs.filter((function(t){var e=t.data;return e.width*e.height>0}));this.visibleGlyphs=c;var d=l.positions(c),h=l.uvs(c,i,u,e),p=a({clockwise:!0,type:"uint16",count:c.length});if(o.index(this,p,1,"uint16"),o.attr(this,"position",d,2),o.attr(this,"uv",h,2),!t.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(t.multipage){var f=l.pages(c);o.attr(this,"page",f,1)}},d.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var t=this.attributes.position.array,e=this.attributes.position.itemSize;if(!t||!e||t.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);u.computeSphere(t,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},d.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var t=this.boundingBox,e=this.attributes.position.array,n=this.attributes.position.itemSize;!e||!n||e.length<2?t.makeEmpty():u.computeBox(e,t)}},{"./lib/utils":42,"./lib/vertices":43,inherits:17,"layout-bmfont-text":22,"object-assign":25,"quad-indices":34,"three-buffer-vertex-data":44}],42:[function(t,e,n){var r=2,i={min:[0,0],max:[0,0]};function a(t){var e=t.length/r;i.min[0]=t[0],i.min[1]=t[1],i.max[0]=t[0],i.max[1]=t[1];for(var n=0;n<e;n++){var a=t[n*r+0],o=t[n*r+1];i.min[0]=Math.min(a,i.min[0]),i.min[1]=Math.min(o,i.min[1]),i.max[0]=Math.max(a,i.max[0]),i.max[1]=Math.max(o,i.max[1])}}e.exports.computeBox=function(t,e){a(t),e.min.set(i.min[0],i.min[1],0),e.max.set(i.max[0],i.max[1],0)},e.exports.computeSphere=function(t,e){a(t);var n=i.min[0],r=i.min[1],o=i.max[0]-n,s=i.max[1]-r,l=Math.sqrt(o*o+s*s);e.center.set(n+o/2,r+s/2,0),e.radius=l/2}},{}],43:[function(t,e,n){e.exports.pages=function(t){var e=new Float32Array(4*t.length*1),n=0;return t.forEach((function(t){var r=t.data.page||0;e[n++]=r,e[n++]=r,e[n++]=r,e[n++]=r})),e},e.exports.uvs=function(t,e,n,r){var i=new Float32Array(4*t.length*2),a=0;return t.forEach((function(t){var o=t.data,s=o.x+o.width,l=o.y+o.height,u=o.x/e,c=o.y/n,d=s/e,h=l/n;r&&(c=(n-o.y)/n,h=(n-l)/n),i[a++]=u,i[a++]=c,i[a++]=u,i[a++]=h,i[a++]=d,i[a++]=h,i[a++]=d,i[a++]=c})),i},e.exports.positions=function(t){var e=new Float32Array(4*t.length*2),n=0;return t.forEach((function(t){var r=t.data,i=t.position[0]+r.xoffset,a=t.position[1]+r.yoffset,o=r.width,s=r.height;e[n++]=i,e[n++]=a,e[n++]=i,e[n++]=a+s,e[n++]=i+o,e[n++]=a+s,e[n++]=i+o,e[n++]=a})),e}},{}],44:[function(t,e,n){var r=t("flatten-vertex-data"),i=!1;function a(t,e,n,a){if(e=e||[],!t||function(t,e,n){if(t.itemSize!==n)return!0;if(!t.array)return!0;var r=t.array.length;return Array.isArray(e)&&Array.isArray(e[0])?r!==e.length*n:r!==e.length}(t,e,n)){e=r(e,a);var o=t&&"function"!==typeof t.setArray;return t&&!o||(o&&!i&&(i=!0,console.warn(["A WebGL buffer is being updated with a new size or itemSize, ","however this version of ThreeJS only supports fixed-size buffers.","\nThe old buffer may still be kept in memory.\n","To avoid memory leaks, it is recommended that you dispose ","your geometries and create new ones, or update to ThreeJS r82 or newer.\n","See here for discussion:\n","https://github.com/mrdoob/three.js/pull/9631"].join(""))),t=new THREE.BufferAttribute(e,n)),t.itemSize=n,t.needsUpdate=!0,"function"===typeof t.setArray&&t.setArray(e),t}return r(e,t.array),t.needsUpdate=!0,null}e.exports.attr=function(t,e,n,r,i){if("number"!==typeof r&&(r=3),"string"!==typeof i&&(i="float32"),Array.isArray(n)&&Array.isArray(n[0])&&n[0].length!==r)throw new Error("Nested vertex array has unexpected size; expected "+r+" but found "+n[0].length);var o=a(t.getAttribute(e),n,r,i);o&&t.addAttribute(e,o)},e.exports.index=function(t,e,n,r){"number"!==typeof n&&(n=1),"string"!==typeof r&&(r="uint16");var i=!t.index&&"function"!==typeof t.setIndex,o=a(i?t.getAttribute("index"):t.index,e,n,r);o&&(i?t.addAttribute("index",o):t.index=o)}},{"flatten-vertex-data":13}],45:[function(t,e,n){(n=e.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},n.right=function(t){return t.replace(/\s*$/,"")}},{}],46:[function(t,e,r){(function(t){!function(t,n){"object"===typeof r&&"undefined"!==typeof e?e.exports=n():t.WebVRPolyfill=n()}(this,(function(){"use strict";var e,n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},r=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},i=function(t,e){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]},a=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},o=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){t.exports=function(){var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(t,e,n){return t+(e-t)*n},a=function(){var t=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return t}}(),o=function(){var t=-1!==navigator.userAgent.indexOf("Version")&&-1!==navigator.userAgent.indexOf("Android")&&-1!==navigator.userAgent.indexOf("Chrome");return function(){return t}}(),s=(/^((?!chrome|android).)*safari/i.test(navigator.userAgent),function(){var t=-1!==navigator.userAgent.indexOf("Firefox")&&-1!==navigator.userAgent.indexOf("Android");return function(){return t}}()),l=function(){var t=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),e=t?parseInt(t[1],10):null;return function(){return e}}(),u=function(){var t=!1;if(65===l()){var e=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(e){var n=e[1].split("."),i=r(n,4),a=(i[0],i[1],i[2]),o=i[3];t=3325===parseInt(a,10)&&parseInt(o,10)<148}}return function(){return t}}(),c=function(){var t=-1!==navigator.userAgent.indexOf("R7 Build");return function(){return t}}(),d=function(){var t=90==window.orientation||-90==window.orientation;return c()?!t:t},h=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},p=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},f=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},m=function(t,e,n,r){var i=t.createShader(t.VERTEX_SHADER);t.shaderSource(i,e),t.compileShader(i);var a=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(a,n),t.compileShader(a);var o=t.createProgram();for(var s in t.attachShader(o,i),t.attachShader(o,a),r)t.bindAttribLocation(o,r[s],s);return t.linkProgram(o),t.deleteShader(i),t.deleteShader(a),o},v=function(t,e){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i="",a=0;a<r;a++)n[i=t.getActiveUniform(e,a).name.replace("[0]","")]=t.getUniformLocation(e,i);return n},g=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},y=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},_=function(t){if(a()){var e=t.style.width,n=t.style.height;t.style.width=parseInt(e)+1+"px",t.style.height=parseInt(n)+"px",setTimeout((function(){t.style.width=e,t.style.height=n}),100)}window.canvas=t},b=function(){var t=Math.PI/180,e=.25*Math.PI,n=new Float32Array([0,0,0,1]),r=new Float32Array([0,0,0]);function i(i,a,o,s,l,u){!function(n,r,i,a){var o=Math.tan(r?r.upDegrees*t:e),s=Math.tan(r?r.downDegrees*t:e),l=Math.tan(r?r.leftDegrees*t:e),u=Math.tan(r?r.rightDegrees*t:e),c=2/(l+u),d=2/(o+s);n[0]=c,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=d,n[6]=0,n[7]=0,n[8]=-(l-u)*c*.5,n[9]=(o-s)*d*.5,n[10]=a/(i-a),n[11]=-1,n[12]=0,n[13]=0,n[14]=a*i/(i-a),n[15]=0}(i,s||null,u.depthNear,u.depthFar),function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,l=i+i,u=a+a,c=r*s,d=r*l,h=r*u,p=i*l,f=i*u,m=a*u,v=o*s,g=o*l,y=o*u;t[0]=1-(p+m),t[1]=d+y,t[2]=h-g,t[3]=0,t[4]=d-y,t[5]=1-(c+m),t[6]=f+v,t[7]=0,t[8]=h+g,t[9]=f-v,t[10]=1-(c+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1}(a,o.orientation||n,o.position||r),l&&function(t,e,n){var r,i,a,o,s,l,u,c,d,h,p,f,m=n[0],v=n[1],g=n[2];e===t?(t[12]=e[0]*m+e[4]*v+e[8]*g+e[12],t[13]=e[1]*m+e[5]*v+e[9]*g+e[13],t[14]=e[2]*m+e[6]*v+e[10]*g+e[14],t[15]=e[3]*m+e[7]*v+e[11]*g+e[15]):(r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],d=e[8],h=e[9],p=e[10],f=e[11],t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=d,t[9]=h,t[10]=p,t[11]=f,t[12]=r*m+s*v+d*g+e[12],t[13]=i*m+l*v+h*g+e[13],t[14]=a*m+u*v+p*g+e[14],t[15]=o*m+c*v+f*g+e[15])}(a,a,l),function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],d=e[9],h=e[10],p=e[11],f=e[12],m=e[13],v=e[14],g=e[15],y=n*s-r*o,_=n*l-i*o,b=n*u-a*o,x=r*l-i*s,w=r*u-a*s,M=i*u-a*l,A=c*m-d*f,E=c*v-h*f,T=c*g-p*f,S=d*v-h*m,L=d*g-p*m,k=h*g-p*v,C=y*k-_*L+b*S+x*T-w*E+M*A;C&&(C=1/C,t[0]=(s*k-l*L+u*S)*C,t[1]=(i*L-r*k-a*S)*C,t[2]=(m*M-v*w+g*x)*C,t[3]=(h*w-d*M-p*x)*C,t[4]=(l*T-o*k-u*E)*C,t[5]=(n*k-i*T+a*E)*C,t[6]=(v*b-f*M-g*_)*C,t[7]=(c*M-h*b+p*_)*C,t[8]=(o*L-s*T+u*A)*C,t[9]=(r*T-n*L-a*A)*C,t[10]=(f*w-m*b+g*y)*C,t[11]=(d*b-c*w-p*y)*C,t[12]=(s*E-o*S-l*A)*C,t[13]=(n*S-r*E+i*A)*C,t[14]=(m*_-f*x-v*y)*C,t[15]=(c*x-d*_+h*y)*C)}(a,a)}return function(t,e,n){return!(!t||!e)&&(t.pose=e,t.timestamp=e.timestamp,i(t.leftProjectionMatrix,t.leftViewMatrix,e,n._getFieldOfView("left"),n._getEyeOffset("left"),n),i(t.rightProjectionMatrix,t.rightViewMatrix,e,n._getFieldOfView("right"),n._getEyeOffset("right"),n),!0)}}(),x=function(t){var e,n=t.indexOf("://");e=-1!==n?n+3:0;var r=t.indexOf("/",e);return-1===r&&(r=t.length),t.substring(0,r)},w=function(){var t={};return function(e,n){void 0===t[e]&&(console.warn("webvr-polyfill: "+n),t[e]=!0)}}(),M=function(t,e){w(t,t+" has been deprecated. This may not work on native WebVR displays. "+(e?"Please use "+e+" instead.":""))},A=function(t,e,n){if(e){for(var r=[],i=null,a=0;a<e.length;++a)switch(o=e[a]){case t.TEXTURE_BINDING_2D:case t.TEXTURE_BINDING_CUBE_MAP:if((l=e[++a])<t.TEXTURE0||l>t.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),r.push(null,null);break}i||(i=t.getParameter(t.ACTIVE_TEXTURE)),t.activeTexture(l),r.push(t.getParameter(o),null);break;case t.ACTIVE_TEXTURE:i=t.getParameter(t.ACTIVE_TEXTURE),r.push(null);break;default:r.push(t.getParameter(o))}for(n(t),a=0;a<e.length;++a){var o=e[a],s=r[a];switch(o){case t.ACTIVE_TEXTURE:break;case t.ARRAY_BUFFER_BINDING:t.bindBuffer(t.ARRAY_BUFFER,s);break;case t.COLOR_CLEAR_VALUE:t.clearColor(s[0],s[1],s[2],s[3]);break;case t.COLOR_WRITEMASK:t.colorMask(s[0],s[1],s[2],s[3]);break;case t.CURRENT_PROGRAM:t.useProgram(s);break;case t.ELEMENT_ARRAY_BUFFER_BINDING:t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,s);break;case t.FRAMEBUFFER_BINDING:t.bindFramebuffer(t.FRAMEBUFFER,s);break;case t.RENDERBUFFER_BINDING:t.bindRenderbuffer(t.RENDERBUFFER,s);break;case t.TEXTURE_BINDING_2D:if((l=e[++a])<t.TEXTURE0||l>t.TEXTURE31)break;t.activeTexture(l),t.bindTexture(t.TEXTURE_2D,s);break;case t.TEXTURE_BINDING_CUBE_MAP:var l;if((l=e[++a])<t.TEXTURE0||l>t.TEXTURE31)break;t.activeTexture(l),t.bindTexture(t.TEXTURE_CUBE_MAP,s);break;case t.VIEWPORT:t.viewport(s[0],s[1],s[2],s[3]);break;case t.BLEND:case t.CULL_FACE:case t.DEPTH_TEST:case t.SCISSOR_TEST:case t.STENCIL_TEST:s?t.enable(o):t.disable(o);break;default:console.log("No GL restore behavior for 0x"+o.toString(16))}i&&t.activeTexture(i)}}else n(t)},E=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),T=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function S(t,e,n,r){this.gl=t,this.cardboardUI=e,this.bufferScale=n,this.dirtySubmitFrameBindings=r,this.ctxAttribs=t.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=t.drawingBufferWidth,this.bufferHeight=t.drawingBufferHeight,this.realBindFramebuffer=t.bindFramebuffer,this.realEnable=t.enable,this.realDisable=t.disable,this.realColorMask=t.colorMask,this.realClearColor=t.clearColor,this.realViewport=t.viewport,a()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(t.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(t.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=m(t,E,T,this.attribs),this.uniforms=v(t,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.indexCount=0,this.renderTarget=t.createTexture(),this.framebuffer=t.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=t.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=t.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=t.createRenderbuffer()),this.patch(),this.onResize()}S.prototype.destroy=function(){var t=this.gl;this.unpatch(),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer),t.deleteTexture(this.renderTarget),t.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&t.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&t.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&t.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},S.prototype.onResize=function(){var t=this.gl,e=this,n=[t.RENDERBUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0];A(t,n,(function(t){e.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),e.scissorTest&&e.realDisable.call(t,t.SCISSOR_TEST),e.realColorMask.call(t,!0,!0,!0,!0),e.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),e.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),e.realBindFramebuffer.call(t,t.FRAMEBUFFER,e.framebuffer),t.bindTexture(t.TEXTURE_2D,e.renderTarget),t.texImage2D(t.TEXTURE_2D,0,e.ctxAttribs.alpha?t.RGBA:t.RGB,e.bufferWidth,e.bufferHeight,0,e.ctxAttribs.alpha?t.RGBA:t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.renderTarget,0),e.ctxAttribs.depth&&e.ctxAttribs.stencil?(t.bindRenderbuffer(t.RENDERBUFFER,e.depthStencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.bufferWidth,e.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e.depthStencilBuffer)):e.ctxAttribs.depth?(t.bindRenderbuffer(t.RENDERBUFFER,e.depthBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,e.bufferWidth,e.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e.depthBuffer)):e.ctxAttribs.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,e.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.STENCIL_INDEX8,e.bufferWidth,e.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,e.stencilBuffer)),!t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),e.realBindFramebuffer.call(t,t.FRAMEBUFFER,e.lastBoundFramebuffer),e.scissorTest&&e.realEnable.call(t,t.SCISSOR_TEST),e.realColorMask.apply(t,e.colorMask),e.realViewport.apply(t,e.viewport),e.realClearColor.apply(t,e.clearColor)})),this.cardboardUI&&this.cardboardUI.onResize()},S.prototype.patch=function(){if(!this.isPatched){var t=this,e=this.gl.canvas,n=this.gl;a()||(e.width=h()*this.bufferScale,e.height=p()*this.bufferScale,Object.defineProperty(e,"width",{configurable:!0,enumerable:!0,get:function(){return t.bufferWidth},set:function(n){t.bufferWidth=n,t.realCanvasWidth.set.call(e,n),t.onResize()}}),Object.defineProperty(e,"height",{configurable:!0,enumerable:!0,get:function(){return t.bufferHeight},set:function(n){t.bufferHeight=n,t.realCanvasHeight.set.call(e,n),t.onResize()}})),this.lastBoundFramebuffer=n.getParameter(n.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(e,r){t.lastBoundFramebuffer=r||t.framebuffer,t.realBindFramebuffer.call(n,e,t.lastBoundFramebuffer)},this.cullFace=n.getParameter(n.CULL_FACE),this.depthTest=n.getParameter(n.DEPTH_TEST),this.blend=n.getParameter(n.BLEND),this.scissorTest=n.getParameter(n.SCISSOR_TEST),this.stencilTest=n.getParameter(n.STENCIL_TEST),n.enable=function(e){switch(e){case n.CULL_FACE:t.cullFace=!0;break;case n.DEPTH_TEST:t.depthTest=!0;break;case n.BLEND:t.blend=!0;break;case n.SCISSOR_TEST:t.scissorTest=!0;break;case n.STENCIL_TEST:t.stencilTest=!0}t.realEnable.call(n,e)},n.disable=function(e){switch(e){case n.CULL_FACE:t.cullFace=!1;break;case n.DEPTH_TEST:t.depthTest=!1;break;case n.BLEND:t.blend=!1;break;case n.SCISSOR_TEST:t.scissorTest=!1;break;case n.STENCIL_TEST:t.stencilTest=!1}t.realDisable.call(n,e)},this.colorMask=n.getParameter(n.COLOR_WRITEMASK),n.colorMask=function(e,r,i,a){t.colorMask[0]=e,t.colorMask[1]=r,t.colorMask[2]=i,t.colorMask[3]=a,t.realColorMask.call(n,e,r,i,a)},this.clearColor=n.getParameter(n.COLOR_CLEAR_VALUE),n.clearColor=function(e,r,i,a){t.clearColor[0]=e,t.clearColor[1]=r,t.clearColor[2]=i,t.clearColor[3]=a,t.realClearColor.call(n,e,r,i,a)},this.viewport=n.getParameter(n.VIEWPORT),n.viewport=function(e,r,i,a){t.viewport[0]=e,t.viewport[1]=r,t.viewport[2]=i,t.viewport[3]=a,t.realViewport.call(n,e,r,i,a)},this.isPatched=!0,_(e)}},S.prototype.unpatch=function(){if(this.isPatched){var t=this.gl,e=this.gl.canvas;a()||(Object.defineProperty(e,"width",this.realCanvasWidth),Object.defineProperty(e,"height",this.realCanvasHeight)),e.width=this.bufferWidth,e.height=this.bufferHeight,t.bindFramebuffer=this.realBindFramebuffer,t.enable=this.realEnable,t.disable=this.realDisable,t.colorMask=this.realColorMask,t.clearColor=this.realClearColor,t.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&t.bindFramebuffer(t.FRAMEBUFFER,null),this.isPatched=!1,setTimeout((function(){_(e)}),1)}},S.prototype.setTextureBounds=function(t,e){t||(t=[0,0,.5,1]),e||(e=[.5,0,.5,1]),this.viewportOffsetScale[0]=t[0],this.viewportOffsetScale[1]=t[1],this.viewportOffsetScale[2]=t[2],this.viewportOffsetScale[3]=t[3],this.viewportOffsetScale[4]=e[0],this.viewportOffsetScale[5]=e[1],this.viewportOffsetScale[6]=e[2],this.viewportOffsetScale[7]=e[3]},S.prototype.submitFrame=function(){var t=this.gl,e=this,n=[];if(this.dirtySubmitFrameBindings||n.push(t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0),A(t,n,(function(t){e.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),e.cullFace&&e.realDisable.call(t,t.CULL_FACE),e.depthTest&&e.realDisable.call(t,t.DEPTH_TEST),e.blend&&e.realDisable.call(t,t.BLEND),e.scissorTest&&e.realDisable.call(t,t.SCISSOR_TEST),e.stencilTest&&e.realDisable.call(t,t.STENCIL_TEST),e.realColorMask.call(t,!0,!0,!0,!0),e.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),(e.ctxAttribs.alpha||a())&&(e.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)),t.useProgram(e.program),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.indexBuffer),t.bindBuffer(t.ARRAY_BUFFER,e.vertexBuffer),t.enableVertexAttribArray(e.attribs.position),t.enableVertexAttribArray(e.attribs.texCoord),t.vertexAttribPointer(e.attribs.position,2,t.FLOAT,!1,20,0),t.vertexAttribPointer(e.attribs.texCoord,3,t.FLOAT,!1,20,8),t.activeTexture(t.TEXTURE0),t.uniform1i(e.uniforms.diffuse,0),t.bindTexture(t.TEXTURE_2D,e.renderTarget),t.uniform4fv(e.uniforms.viewportOffsetScale,e.viewportOffsetScale),t.drawElements(t.TRIANGLES,e.indexCount,t.UNSIGNED_SHORT,0),e.cardboardUI&&e.cardboardUI.renderNoState(),e.realBindFramebuffer.call(e.gl,t.FRAMEBUFFER,e.framebuffer),e.ctxAttribs.preserveDrawingBuffer||(e.realClearColor.call(t,0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)),e.dirtySubmitFrameBindings||e.realBindFramebuffer.call(t,t.FRAMEBUFFER,e.lastBoundFramebuffer),e.cullFace&&e.realEnable.call(t,t.CULL_FACE),e.depthTest&&e.realEnable.call(t,t.DEPTH_TEST),e.blend&&e.realEnable.call(t,t.BLEND),e.scissorTest&&e.realEnable.call(t,t.SCISSOR_TEST),e.stencilTest&&e.realEnable.call(t,t.STENCIL_TEST),e.realColorMask.apply(t,e.colorMask),e.realViewport.apply(t,e.viewport),!e.ctxAttribs.alpha&&e.ctxAttribs.preserveDrawingBuffer||e.realClearColor.apply(t,e.clearColor)})),a()){var r=t.canvas;r.width==e.bufferWidth&&r.height==e.bufferHeight||(e.bufferWidth=r.width,e.bufferHeight=r.height,e.onResize())}},S.prototype.updateDeviceInfo=function(t){var e=this.gl,n=this,r=[e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING];A(e,r,(function(e){var r=n.computeMeshVertices_(n.meshWidth,n.meshHeight,t);if(e.bindBuffer(e.ARRAY_BUFFER,n.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),!n.indexCount){var i=n.computeMeshIndices_(n.meshWidth,n.meshHeight);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,i,e.STATIC_DRAW),n.indexCount=i.length}}))},S.prototype.computeMeshVertices_=function(t,e,n){for(var r=new Float32Array(2*t*e*5),a=n.getLeftEyeVisibleTanAngles(),o=n.getLeftEyeNoLensTanAngles(),s=n.getLeftEyeVisibleScreenRect(o),l=0,u=0;u<2;u++){for(var c=0;c<e;c++)for(var d=0;d<t;d++,l++){var h=d/(t-1),p=c/(e-1),f=h,m=p,v=i(a[0],a[2],h),g=i(a[3],a[1],p),y=Math.sqrt(v*v+g*g),_=n.distortion.distortInverse(y),b=g*_/y;h=(v*_/y-o[0])/(o[2]-o[0]),p=(b-o[3])/(o[1]-o[3]),h=2*(s.x+h*s.width-.5),p=2*(s.y+p*s.height-.5),r[5*l+0]=h,r[5*l+1]=p,r[5*l+2]=f,r[5*l+3]=m,r[5*l+4]=u}var x=a[2]-a[0];a[0]=-(x+a[0]),a[2]=x-a[2],x=o[2]-o[0],o[0]=-(x+o[0]),o[2]=x-o[2],s.x=1-(s.x+s.width)}return r},S.prototype.computeMeshIndices_=function(t,e){for(var n=new Uint16Array(2*(t-1)*(e-1)*6),r=t/2,i=e/2,a=0,o=0,s=0;s<2;s++)for(var l=0;l<e;l++)for(var u=0;u<t;u++,a++)0!=u&&0!=l&&(u<=r==l<=i?(n[o++]=a,n[o++]=a-t-1,n[o++]=a-t,n[o++]=a-t-1,n[o++]=a,n[o++]=a-1):(n[o++]=a-1,n[o++]=a-t,n[o++]=a,n[o++]=a-t,n[o++]=a-1,n[o++]=a-t-1));return n},S.prototype.getOwnPropertyDescriptor_=function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n.get&&void 0!==n.set||(n.configurable=!0,n.enumerable=!0,n.get=function(){return this.getAttribute(e)},n.set=function(t){this.setAttribute(e,t)}),n};var L=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),k=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),C=Math.PI/180,D=.3125;function P(t){this.gl=t,this.attribs={position:0},this.program=m(t,L,k,this.attribs),this.uniforms=v(t,this.program),this.vertexBuffer=t.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function R(t){this.coefficients=t}P.prototype.destroy=function(){var t=this.gl;this.listener&&t.canvas.removeEventListener("click",this.listener,!1),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer)},P.prototype.listen=function(t,e){var n=this.gl.canvas;this.listener=function(r){var i=n.clientWidth/2;r.clientX>i-42&&r.clientX<i+42&&r.clientY>n.clientHeight-42?t(r):r.clientX<42&&r.clientY<42&&e(r)},n.addEventListener("click",this.listener,!1)},P.prototype.onResize=function(){var t=this.gl,e=this,n=[t.ARRAY_BUFFER_BINDING];A(t,n,(function(t){var n=[],r=t.drawingBufferWidth/2,i=Math.max(screen.width,screen.height)*window.devicePixelRatio,a=t.drawingBufferWidth/i*window.devicePixelRatio,o=4*a/2,s=42*a,l=28*a/2,u=14*a;function c(t,e){var i=(90-t)*C,a=Math.cos(i),o=Math.sin(i);n.push(D*a*l+r,D*o*l+l),n.push(e*a*l+r,e*o*l+l)}n.push(r-o,s),n.push(r-o,t.drawingBufferHeight),n.push(r+o,s),n.push(r+o,t.drawingBufferHeight),e.gearOffset=n.length/2;for(var d=0;d<=6;d++){var h=60*d;c(h,1),c(h+12,1),c(h+20,.75),c(h+40,.75),c(h+48,1)}function p(e,r){n.push(u+e,t.drawingBufferHeight-u-r)}e.gearVertexCount=n.length/2-e.gearOffset,e.arrowOffset=n.length/2;var f=o/Math.sin(45*C);p(0,l),p(l,0),p(l+f,f),p(f,l+f),p(f,l-f),p(0,l),p(l,2*l),p(l+f,2*l-f),p(f,l-f),p(0,l),p(f,l-o),p(28*a,l-o),p(f,l+o),p(28*a,l+o),e.arrowVertexCount=n.length/2-e.arrowOffset,t.bindBuffer(t.ARRAY_BUFFER,e.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),t.STATIC_DRAW)}))},P.prototype.render=function(){var t=this.gl,e=this,n=[t.CULL_FACE,t.DEPTH_TEST,t.BLEND,t.SCISSOR_TEST,t.STENCIL_TEST,t.COLOR_WRITEMASK,t.VIEWPORT,t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING];A(t,n,(function(t){t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.BLEND),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.colorMask(!0,!0,!0,!0),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),e.renderNoState()}))},P.prototype.renderNoState=function(){var t=this.gl;t.useProgram(this.program),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.enableVertexAttribArray(this.attribs.position),t.vertexAttribPointer(this.attribs.position,2,t.FLOAT,!1,8,0),t.uniform4f(this.uniforms.color,1,1,1,1),function(t,e,n,r,i,a,o){var s=1/(e-n),l=1/(r-i),u=1/(a-o);t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(o+a)*u,t[15]=1}(this.projMat,0,t.drawingBufferWidth,0,t.drawingBufferHeight,.1,1024),t.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),t.drawArrays(t.TRIANGLE_STRIP,0,4),t.drawArrays(t.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),t.drawArrays(t.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},R.prototype.distortInverse=function(t){for(var e=0,n=1,r=t-this.distort(e);Math.abs(n-e)>1e-4;){var i=t-this.distort(n),a=n-i*((n-e)/(i-r));e=n,n=a,r=i}return n},R.prototype.distort=function(t){for(var e=t*t,n=0,r=0;r<this.coefficients.length;r++)n=e*(n+this.coefficients[r]);return(n+1)*t};var O=Math.PI/180,I=180/Math.PI,N=function(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0};N.prototype={constructor:N,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var t=this.length();if(0!==t){var e=1/t;this.multiplyScalar(e)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(t){this.x*=t,this.y*=t,this.z*=t},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,a=t.y,o=t.z,s=t.w,l=s*e+a*r-o*n,u=s*n+o*e-i*r,c=s*r+i*n-a*e,d=-i*e-a*n-o*r;return this.x=l*s+d*-i+u*-o-c*-a,this.y=u*s+d*-a+c*-i-l*-o,this.z=c*s+d*-o+l*-a-u*-i,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,a=e.x,o=e.y,s=e.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}};var z=function(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1};function B(t){this.width=t.width||h(),this.height=t.height||p(),this.widthMeters=t.widthMeters,this.heightMeters=t.heightMeters,this.bevelMeters=t.bevelMeters}z.prototype={constructor:z,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},setFromEulerXYZ:function(t,e,n){var r=Math.cos(t/2),i=Math.cos(e/2),a=Math.cos(n/2),o=Math.sin(t/2),s=Math.sin(e/2),l=Math.sin(n/2);return this.x=o*i*a+r*s*l,this.y=r*s*a-o*i*l,this.z=r*i*l+o*s*a,this.w=r*i*a-o*s*l,this},setFromEulerYXZ:function(t,e,n){var r=Math.cos(t/2),i=Math.cos(e/2),a=Math.cos(n/2),o=Math.sin(t/2),s=Math.sin(e/2),l=Math.sin(n/2);return this.x=o*i*a+r*s*l,this.y=r*s*a-o*i*l,this.z=r*i*l-o*s*a,this.w=r*i*a+o*s*l,this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this.x=t.x*r,this.y=t.y*r,this.z=t.z*r,this.w=Math.cos(n),this},multiply:function(t){return this.multiplyQuaternions(this,t)},multiplyQuaternions:function(t,e){var n=t.x,r=t.y,i=t.z,a=t.w,o=e.x,s=e.y,l=e.z,u=e.w;return this.x=n*u+a*o+r*l-i*s,this.y=r*u+a*s+i*o-n*l,this.z=i*u+a*l+n*s-r*o,this.w=a*u-n*o-r*s-i*l,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this.x,r=this.y,i=this.z,a=this.w,o=a*t.w+n*t.x+r*t.y+i*t.z;if(o<0?(this.w=-t.w,this.x=-t.x,this.y=-t.y,this.z=-t.z,o=-o):this.copy(t),o>=1)return this.w=a,this.x=n,this.y=r,this.z=i,this;var s=Math.acos(o),l=Math.sqrt(1-o*o);if(Math.abs(l)<.001)return this.w=.5*(a+this.w),this.x=.5*(n+this.x),this.y=.5*(r+this.y),this.z=.5*(i+this.z),this;var u=Math.sin((1-e)*s)/l,c=Math.sin(e*s)/l;return this.w=a*u+this.w*c,this.x=n*u+this.x*c,this.y=r*u+this.y*c,this.z=i*u+this.z*c,this},setFromUnitVectors:function(){var t,e;return function(n,r){return void 0===t&&(t=new N),(e=n.dot(r)+1)<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this.x=t.x,this.y=t.y,this.z=t.z,this.w=e,this.normalize(),this}}()};var F=new B({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),j=new B({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),H={CardboardV1:new U({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new U({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function Y(t,e){this.viewer=H.CardboardV2,this.updateDeviceParams(t),this.distortion=new R(this.viewer.distortionCoefficients);for(var n=0;n<e.length;n++){var r=e[n];H[r.id]=new U(r)}}function U(t){this.id=t.id,this.label=t.label,this.fov=t.fov,this.interLensDistance=t.interLensDistance,this.baselineLensDistance=t.baselineLensDistance,this.screenLensDistance=t.screenLensDistance,this.distortionCoefficients=t.distortionCoefficients,this.inverseCoefficients=t.inverseCoefficients}Y.prototype.updateDeviceParams=function(t){this.device=this.determineDevice_(t)||this.device},Y.prototype.getDevice=function(){return this.device},Y.prototype.setViewer=function(t){this.viewer=t,this.distortion=new R(this.viewer.distortionCoefficients)},Y.prototype.determineDevice_=function(t){if(!t)return a()?(console.warn("Using fallback iOS device measurements."),j):(console.warn("Using fallback Android device measurements."),F);var e=.0254/t.xdpi,n=.0254/t.ydpi;return new B({widthMeters:e*h(),heightMeters:n*p(),bevelMeters:.001*t.bevelMm})},Y.prototype.getDistortedFieldOfViewLeftEye=function(){var t=this.viewer,e=this.device,n=this.distortion,r=t.screenLensDistance,i=(e.widthMeters-t.interLensDistance)/2,a=t.interLensDistance/2,o=t.baselineLensDistance-e.bevelMeters,s=e.heightMeters-o,l=I*Math.atan(n.distort(i/r)),u=I*Math.atan(n.distort(a/r)),c=I*Math.atan(n.distort(o/r)),d=I*Math.atan(n.distort(s/r));return{leftDegrees:Math.min(l,t.fov),rightDegrees:Math.min(u,t.fov),downDegrees:Math.min(c,t.fov),upDegrees:Math.min(d,t.fov)}},Y.prototype.getLeftEyeVisibleTanAngles=function(){var t=this.viewer,e=this.device,n=this.distortion,r=Math.tan(-O*t.fov),i=Math.tan(O*t.fov),a=Math.tan(O*t.fov),o=Math.tan(-O*t.fov),s=e.widthMeters/4,l=e.heightMeters/2,u=t.baselineLensDistance-e.bevelMeters-l,c=t.interLensDistance/2-s,d=-u,h=t.screenLensDistance,p=n.distort((c-s)/h),f=n.distort((d+l)/h),m=n.distort((c+s)/h),v=n.distort((d-l)/h),g=new Float32Array(4);return g[0]=Math.max(r,p),g[1]=Math.min(i,f),g[2]=Math.min(a,m),g[3]=Math.max(o,v),g},Y.prototype.getLeftEyeNoLensTanAngles=function(){var t=this.viewer,e=this.device,n=this.distortion,r=new Float32Array(4),i=n.distortInverse(Math.tan(-O*t.fov)),a=n.distortInverse(Math.tan(O*t.fov)),o=n.distortInverse(Math.tan(O*t.fov)),s=n.distortInverse(Math.tan(-O*t.fov)),l=e.widthMeters/4,u=e.heightMeters/2,c=t.baselineLensDistance-e.bevelMeters-u,d=t.interLensDistance/2-l,h=-c,p=t.screenLensDistance,f=(d-l)/p,m=(h+u)/p,v=(d+l)/p,g=(h-u)/p;return r[0]=Math.max(i,f),r[1]=Math.min(a,m),r[2]=Math.min(o,v),r[3]=Math.max(s,g),r},Y.prototype.getLeftEyeVisibleScreenRect=function(t){var e=this.viewer,n=this.device,r=e.screenLensDistance,i=(n.widthMeters-e.interLensDistance)/2,a=e.baselineLensDistance-n.bevelMeters,o=(t[0]*r+i)/n.widthMeters,s=(t[1]*r+a)/n.heightMeters,l=(t[2]*r+i)/n.widthMeters,u=(t[3]*r+a)/n.heightMeters;return{x:o,y:u,width:l-o,height:s-u}},Y.prototype.getFieldOfViewLeftEye=function(t){return t?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},Y.prototype.getFieldOfViewRightEye=function(t){var e=this.getFieldOfViewLeftEye(t);return{leftDegrees:e.rightDegrees,rightDegrees:e.leftDegrees,upDegrees:e.upDegrees,downDegrees:e.downDegrees}},Y.prototype.getUndistortedFieldOfViewLeftEye=function(){var t=this.getUndistortedParams_();return{leftDegrees:I*Math.atan(t.outerDist),rightDegrees:I*Math.atan(t.innerDist),downDegrees:I*Math.atan(t.bottomDist),upDegrees:I*Math.atan(t.topDist)}},Y.prototype.getUndistortedViewportLeftEye=function(){var t=this.getUndistortedParams_(),e=this.viewer,n=this.device,r=e.screenLensDistance,i=n.widthMeters/r,a=n.heightMeters/r,o=n.width/i,s=n.height/a,l=Math.round((t.eyePosX-t.outerDist)*o),u=Math.round((t.eyePosY-t.bottomDist)*s);return{x:l,y:u,width:Math.round((t.eyePosX+t.innerDist)*o)-l,height:Math.round((t.eyePosY+t.topDist)*s)-u}},Y.prototype.getUndistortedParams_=function(){var t=this.viewer,e=this.device,n=this.distortion,r=t.screenLensDistance,i=t.interLensDistance/2/r,a=e.widthMeters/r,o=e.heightMeters/r,s=a/2-i,l=(t.baselineLensDistance-e.bevelMeters)/r,u=t.fov,c=n.distortInverse(Math.tan(O*u)),d=Math.min(s,c),h=Math.min(i,c),p=Math.min(l,c);return{outerDist:d,innerDist:h,topDist:Math.min(o-l,c),bottomDist:p,eyePosX:s,eyePosY:l}},Y.Viewers=H;var G={format:1,last_updated:"2018-12-10T17:01:42Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3}]};function V(t,e){if(this.dpdb=G,this.recalculateDeviceParams_(),t){this.onDeviceParamsUpdated=e;var n=new XMLHttpRequest,r=this;n.open("GET",t,!0),n.addEventListener("load",(function(){r.loading=!1,n.status>=200&&n.status<=299?(r.dpdb=JSON.parse(n.response),r.recalculateDeviceParams_()):console.error("Error loading online DPDB!")})),n.send()}}function W(t){this.xdpi=t.xdpi,this.ydpi=t.ydpi,this.bevelMm=t.bevelMm}function q(t,e){this.set(t,e)}function X(t,e){this.kFilter=t,this.isDebug=e,this.currentAccelMeasurement=new q,this.currentGyroMeasurement=new q,this.previousGyroMeasurement=new q,a()?this.filterQ=new z(-1,0,0,1):this.filterQ=new z(1,0,0,1),this.previousFilterQ=new z,this.previousFilterQ.copy(this.filterQ),this.accelQ=new z,this.isOrientationInitialized=!1,this.estimatedGravity=new N,this.measuredGravity=new N,this.gyroIntegralQ=new z}function J(t,e){this.predictionTimeS=t,this.isDebug=e,this.previousQ=new z,this.previousTimestampS=null,this.deltaQ=new z,this.outQ=new z}function Z(t,e,n,r){this.yawOnly=n,this.accelerometer=new N,this.gyroscope=new N,this.filter=new X(t,r),this.posePredictor=new J(e,r),this.isFirefoxAndroid=s(),this.isIOS=a();var i=l();this.isDeviceMotionInRadians=!this.isIOS&&i&&i<66,this.isWithoutDeviceMotion=u(),this.filterToWorldQ=new z,a()?this.filterToWorldQ.setFromAxisAngle(new N(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new N(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new z,this.worldToScreenQ=new z,this.originalPoseAdjustQ=new z,this.originalPoseAdjustQ.setFromAxisAngle(new N(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),d()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new z,this.orientationOut_=new Float32Array(4),this.start()}V.prototype.getDeviceParams=function(){return this.deviceParams},V.prototype.recalculateDeviceParams_=function(){var t=this.calcDeviceParams_();t?(this.deviceParams=t,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},V.prototype.calcDeviceParams_=function(){var t=this.dpdb;if(!t)return console.error("DPDB not available."),null;if(1!=t.format)return console.error("DPDB has unexpected format version."),null;if(!t.devices||!t.devices.length)return console.error("DPDB does not have a devices section."),null;var e=navigator.userAgent||navigator.vendor||window.opera,n=h(),r=p();if(!t.devices)return console.error("DPDB has no devices section."),null;for(var i=0;i<t.devices.length;i++){var o=t.devices[i];if(o.rules)if("ios"==o.type||"android"==o.type){if(a()==("ios"==o.type)){for(var s=!1,l=0;l<o.rules.length;l++){var u=o.rules[l];if(this.ruleMatches_(u,e,n,r)){s=!0;break}}if(s)return new W({xdpi:o.dpi[0]||o.dpi,ydpi:o.dpi[1]||o.dpi,bevelMm:o.bw})}}else console.warn("Device["+i+"] has invalid type.");else console.warn("Device["+i+"] has no rules section.")}return console.warn("No DPDB device match."),null},V.prototype.ruleMatches_=function(t,e,n,r){if(!t.ua&&!t.res)return!1;if(t.ua&&"SM"===t.ua.substring(0,2)&&(t.ua=t.ua.substring(0,7)),t.ua&&e.indexOf(t.ua)<0)return!1;if(t.res){if(!t.res[0]||!t.res[1])return!1;var i=t.res[0],a=t.res[1];if(Math.min(n,r)!=Math.min(i,a)||Math.max(n,r)!=Math.max(i,a))return!1}return!0},q.prototype.set=function(t,e){this.sample=t,this.timestampS=e},q.prototype.copy=function(t){this.set(t.sample,t.timestampS)},X.prototype.addAccelMeasurement=function(t,e){this.currentAccelMeasurement.set(t,e)},X.prototype.addGyroMeasurement=function(t,e){this.currentGyroMeasurement.set(t,e);var n,r=e-this.previousGyroMeasurement.timestampS;n=r,isNaN(n)||n<=.001||n>1||this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},X.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var t=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,e=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,t);this.gyroIntegralQ.multiply(e),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(e);var n=new z;n.copy(this.filterQ),n.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(n),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var r,i=new z;i.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),i.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",I*((r=i).w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*Math.acos(r.w)),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var a=new z;a.copy(this.filterQ),a.multiply(i),this.filterQ.slerp(a,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},X.prototype.getOrientation=function(){return this.filterQ},X.prototype.accelToQuaternion_=function(t){var e=new N;e.copy(t),e.normalize();var n=new z;return n.setFromUnitVectors(new N(0,0,-1),e),n.inverse(),n},X.prototype.gyroToQuaternionDelta_=function(t,e){var n=new z,r=new N;return r.copy(t),r.normalize(),n.setFromAxisAngle(r,t.length()*e),n},J.prototype.getPrediction=function(t,e,n){if(!this.previousTimestampS)return this.previousQ.copy(t),this.previousTimestampS=n,t;var r=new N;r.copy(e),r.normalize();var i=e.length();if(i<20*O)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(I*i).toFixed(1)),this.outQ.copy(t),this.previousQ.copy(t),this.outQ;var a=i*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(r,a),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(t),this.previousTimestampS=n,this.outQ},Z.prototype.getPosition=function(){return null},Z.prototype.getOrientation=function(){var t=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ)return this.deviceOrientationFixQ=this.deviceOrientationFixQ||function(){var t=(new z).setFromAxisAngle(new N(0,0,-1),0),e=new z;return-90===window.orientation?e.setFromAxisAngle(new N(0,1,0),Math.PI/-2):e.setFromAxisAngle(new N(0,1,0),Math.PI/2),t.multiply(e)}(),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var t=new z;return t.setFromAxisAngle(new N(1,0,0),-Math.PI/2),t}(),t=this._deviceOrientationQ,(e=new z).copy(t),e.multiply(this.deviceOrientationFilterToWorldQ),e.multiply(this.resetQ),e.multiply(this.worldToScreenQ),e.multiplyQuaternions(this.deviceOrientationFixQ,e),this.yawOnly&&(e.x=0,e.z=0,e.normalize()),this.orientationOut_[0]=e.x,this.orientationOut_[1]=e.y,this.orientationOut_[2]=e.z,this.orientationOut_[3]=e.w,this.orientationOut_;var e,n=this.filter.getOrientation();return t=this.posePredictor.getPrediction(n,this.gyroscope,this.previousTimestampS),(e=new z).copy(this.filterToWorldQ),e.multiply(this.resetQ),e.multiply(t),e.multiply(this.worldToScreenQ),this.yawOnly&&(e.x=0,e.z=0,e.normalize()),this.orientationOut_[0]=e.x,this.orientationOut_[1]=e.y,this.orientationOut_[2]=e.z,this.orientationOut_[3]=e.w,this.orientationOut_},Z.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),d()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},Z.prototype.onDeviceOrientation_=function(t){this._deviceOrientationQ=this._deviceOrientationQ||new z;var e=t.alpha,n=t.beta,r=t.gamma;e=(e||0)*Math.PI/180,n=(n||0)*Math.PI/180,r=(r||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(n,e,-r)},Z.prototype.onDeviceMotion_=function(t){this.updateDeviceMotion_(t)},Z.prototype.updateDeviceMotion_=function(t){var e=t.accelerationIncludingGravity,n=t.rotationRate,r=t.timeStamp/1e3,i=r-this.previousTimestampS;return i<0?(w("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=r)):i<=.001||i>1?(w("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=r)):(this.accelerometer.set(-e.x,-e.y,-e.z),c()?this.gyroscope.set(-n.beta,n.alpha,n.gamma):this.gyroscope.set(n.alpha,n.beta,n.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,r),this.filter.addGyroMeasurement(this.gyroscope,r),void(this.previousTimestampS=r))},Z.prototype.onOrientationChange_=function(t){this.setScreenTransform_()},Z.prototype.onMessage_=function(t){var e=t.data;e&&e.type&&"devicemotion"===e.type.toLowerCase()&&this.updateDeviceMotion_(e.deviceMotionEvent)},Z.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new N(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new N(0,0,1),Math.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},Z.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),a()&&function(){var t=window.self!==window.top,e=x(document.referrer),n=x(window.location.href);return t&&e!==n}()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},Z.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var Q=new N(1,0,0),K=new N(0,0,1),$=new z;$.setFromAxisAngle(Q,-Math.PI/2),$.multiply((new z).setFromAxisAngle(K,Math.PI/2));var tt=function(){function n(e){t(this,n),this.config=e,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new z,this._outQ=new z,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return e(n,[{key:"init",value:function(){var t=null;try{(t=new RelativeOrientationSensor({frequency:60,referenceFrame:"screen"})).addEventListener("error",this._onSensorError)}catch(e){this.errors.push(e),"SecurityError"===e.name?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):"ReferenceError"===e.name?this.useDeviceMotion():console.error(e)}t&&(this.api="sensor",this.sensor=t,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new Z(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var t=this.sensor.quaternion;this._sensorQ.set(t[0],t[1],t[2],t[3]);var e=this._outQ;return e.copy($),e.multiply(this._sensorQ),this.config.YAW_ONLY&&(e.x=e.z=0,e.normalize()),this._out[0]=e.x,this._out[1]=e.y,this._out[2]=e.z,this._out[3]=e.w,this._out}},{key:"_onSensorError",value:function(t){this.errors.push(t.error),"NotAllowedError"===t.error.name?console.error("Permission to access sensor was denied"):"NotReadableError"===t.error.name?console.error("Sensor could not be read"):console.error(t.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),n}();function et(){this.loadIcon_();var t=document.createElement("div");(a=t.style).position="fixed",a.top=0,a.right=0,a.bottom=0,a.left=0,a.backgroundColor="gray",a.fontFamily="sans-serif",a.zIndex=1e6;var e=document.createElement("img");e.src=this.icon,(a=e.style).marginLeft="25%",a.marginTop="25%",a.width="50%",t.appendChild(e);var n=document.createElement("div");(a=n.style).textAlign="center",a.fontSize="16px",a.lineHeight="24px",a.margin="24px 25%",a.width="50%",n.innerHTML="Place your phone into your Cardboard viewer.",t.appendChild(n);var r=document.createElement("div");(a=r.style).backgroundColor="#CFD8DC",a.position="fixed",a.bottom=0,a.width="100%",a.height="48px",a.padding="14px 24px",a.boxSizing="border-box",a.color="#656A6B",t.appendChild(r);var i=document.createElement("div");i.style.float="left",i.innerHTML="No Cardboard viewer?";var a,o=document.createElement("a");o.href="https://www.google.com/get/cardboard/get-cardboard/",o.innerHTML="get one",o.target="_blank",(a=o.style).float="right",a.fontWeight=600,a.textTransform="uppercase",a.borderLeft="1px solid gray",a.paddingLeft="24px",a.textDecoration="none",a.color="#656A6B",r.appendChild(i),r.appendChild(o),this.overlay=t,this.text=n,this.hide()}et.prototype.show=function(t){t||this.overlay.parentElement?t&&(this.overlay.parentElement&&this.overlay.parentElement!=t&&this.overlay.parentElement.removeChild(this.overlay),t.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var e=this.overlay.querySelector("img").style;d()?(e.width="20%",e.marginLeft="40%",e.marginTop="3%"):(e.width="50%",e.marginLeft="25%",e.marginTop="25%")},et.prototype.hide=function(){this.overlay.style.display="none"},et.prototype.showTemporarily=function(t,e){this.show(e),this.timer=setTimeout(this.hide.bind(this),t)},et.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},et.prototype.update=function(){this.disableShowTemporarily(),!d()&&g()?this.show():this.hide()},et.prototype.loadIcon_=function(){this.icon="data:image/svg+xml,"+encodeURIComponent("<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>")};var nt="CardboardV1",rt="WEBVR_CARDBOARD_VIEWER";function it(t){try{this.selectedKey=localStorage.getItem(rt)}catch(e){console.error("Failed to load viewer profile: %s",e)}this.selectedKey||(this.selectedKey=t||nt),this.dialog=this.createDialog_(Y.Viewers),this.root=null,this.onChangeCallbacks_=[]}it.prototype.show=function(t){this.root=t,t.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},it.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},it.prototype.getCurrentViewer=function(){return Y.Viewers[this.selectedKey]},it.prototype.getSelectedKey_=function(){var t=this.dialog.querySelector("input[name=field]:checked");return t?t.id:null},it.prototype.onChange=function(t){this.onChangeCallbacks_.push(t)},it.prototype.fireOnChange_=function(t){for(var e=0;e<this.onChangeCallbacks_.length;e++)this.onChangeCallbacks_[e](t)},it.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),this.selectedKey&&Y.Viewers[this.selectedKey]){this.fireOnChange_(Y.Viewers[this.selectedKey]);try{localStorage.setItem(rt,this.selectedKey)}catch(t){console.error("Failed to save viewer profile: %s",t)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},it.prototype.createDialog_=function(t){var e=document.createElement("div");e.classList.add("webvr-polyfill-viewer-selector"),e.style.display="none";var n=document.createElement("div");(i=n.style).position="fixed",i.left=0,i.top=0,i.width="100%",i.height="100%",i.background="rgba(0, 0, 0, 0.3)",n.addEventListener("click",this.hide.bind(this));var r=document.createElement("div"),i=r.style;for(var a in i.boxSizing="border-box",i.position="fixed",i.top="24px",i.left="50%",i.marginLeft="-140px",i.width="280px",i.padding="24px",i.overflow="hidden",i.background="#fafafa",i.fontFamily="'Roboto', sans-serif",i.boxShadow="0px 5px 20px #666",r.appendChild(this.createH1_("Select your viewer")),t)r.appendChild(this.createChoice_(a,t[a].label));return r.appendChild(this.createButton_("Save",this.onSave_.bind(this))),e.appendChild(n),e.appendChild(r),e},it.prototype.createH1_=function(t){var e=document.createElement("h1"),n=e.style;return n.color="black",n.fontSize="20px",n.fontWeight="bold",n.marginTop=0,n.marginBottom="24px",e.innerHTML=t,e},it.prototype.createChoice_=function(t,e){var n=document.createElement("div");n.style.marginTop="8px",n.style.color="black";var r=document.createElement("input");r.style.fontSize="30px",r.setAttribute("id",t),r.setAttribute("type","radio"),r.setAttribute("value",t),r.setAttribute("name","field");var i=document.createElement("label");return i.style.marginLeft="4px",i.setAttribute("for",t),i.innerHTML=e,n.appendChild(r),n.appendChild(i),n},it.prototype.createButton_=function(t,e){var n=document.createElement("button");n.innerHTML=t;var r=n.style;return r.float="right",r.textTransform="uppercase",r.color="#1094f7",r.fontSize="14px",r.letterSpacing=0,r.border=0,r.background="none",r.marginTop="16px",n.addEventListener("click",e),n},"undefined"!==typeof window?window:"undefined"!==typeof n||"undefined"!==typeof self&&self;var at,ot=(at=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){var n;n=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a="undefined"!==typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",i),this.noSleepVideo.addEventListener("timeupdate",function(t){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}.bind(this)))}return r(t,[{key:"enable",value:function(){a?(this.disable(),this.noSleepTimer=window.setInterval((function(){window.location.href="/",window.setTimeout(window.stop,0)}),15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){a?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),t}();t.exports=o},function(t,e,n){t.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])},t.exports=n()})))&&at.__esModule&&Object.prototype.hasOwnProperty.call(at,"default")?at.default:at,st=1e3,lt=[0,0,.5,1],ut=[.5,0,.5,1],ct=window.requestAnimationFrame,dt=window.cancelAnimationFrame;function ht(t){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:t.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:t.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:t.canPresent},maxLayers:{writable:!1,enumerable:!0,value:t.maxLayers},hasOrientation:{enumerable:!0,get:function(){return M("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),t.hasOrientation}}})}function pt(t){var e=!("wakelock"in(t=t||{}))||t.wakelock;this.isPolyfilled=!0,this.displayId=st++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return M("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new ht({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,e&&g()&&(this.wakelock_=new ot)}pt.prototype.getFrameData=function(t){return b(t,this._getPose(),this)},pt.prototype.getPose=function(){return M("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},pt.prototype.resetPose=function(){return M("VRDisplay.prototype.resetPose"),this._resetPose()},pt.prototype.getImmediatePose=function(){return M("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},pt.prototype.requestAnimationFrame=function(t){return ct(t)},pt.prototype.cancelAnimationFrame=function(t){return dt(t)},pt.prototype.wrapForFullscreen=function(t){if(a())return t;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var e=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",e.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==t)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=t,this.originalParent_=t.parentElement,this.originalParent_||document.body.appendChild(t),!this.fullscreenWrapper_.parentElement){var n=this.fullscreenElement_.parentElement;n.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),n.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var r=this;return function(){if(r.fullscreenElement_){var t=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];r.fullscreenElement_.setAttribute("style",t.join("; ")+";")}}(),this.fullscreenWrapper_},pt.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var t=this.fullscreenElement_;this.fullscreenElementCachedStyle_?t.setAttribute("style",this.fullscreenElementCachedStyle_):t.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var e=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(t),this.originalParent_===e?e.insertBefore(t,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(t),e.removeChild(this.fullscreenWrapper_),t}},pt.prototype.requestPresent=function(t){var e=this.isPresenting,n=this;return t instanceof Array||(M("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),t=[t]),new Promise((function(r,i){if(n.capabilities.canPresent)if(0==t.length||t.length>n.capabilities.maxLayers)i(new Error("Invalid number of layers."));else{var s=t[0];if(s.source){var l=s.leftBounds||lt,u=s.rightBounds||ut;if(e){var c=n.layer_;c.source!==s.source&&(c.source=s.source);for(var d=0;d<4;d++)c.leftBounds[d]=l[d],c.rightBounds[d]=u[d];return n.wrapForFullscreen(n.layer_.source),n.updatePresent_(),void r()}if(n.layer_={predistorted:s.predistorted,source:s.source,leftBounds:l.slice(0),rightBounds:u.slice(0)},n.waitingForPresent_=!1,n.layer_&&n.layer_.source){var h=n.wrapForFullscreen(n.layer_.source);n.addFullscreenListeners_(h,(function(){var t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;n.isPresenting=h===t,n.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch((function(t){console.error("screen.orientation.lock() failed due to",t.message)})),n.waitingForPresent_=!1,n.beginPresent_(),r()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),n.removeFullscreenWrapper(),n.disableWakeLock(),n.endPresent_(),n.removeFullscreenListeners_()),n.fireVRDisplayPresentChange_()}),(function(){n.waitingForPresent_&&(n.removeFullscreenWrapper(),n.removeFullscreenListeners_(),n.disableWakeLock(),n.waitingForPresent_=!1,n.isPresenting=!1,i(new Error("Unable to present.")))})),function(t){if(o())return!1;if(t.requestFullscreen)t.requestFullscreen();else if(t.webkitRequestFullscreen)t.webkitRequestFullscreen();else if(t.mozRequestFullScreen)t.mozRequestFullScreen();else{if(!t.msRequestFullscreen)return!1;t.msRequestFullscreen()}return!0}(h)?(n.enableWakeLock(),n.waitingForPresent_=!0):(a()||o())&&(n.enableWakeLock(),n.isPresenting=!0,n.beginPresent_(),n.fireVRDisplayPresentChange_(),r())}n.waitingForPresent_||a()||(f(),i(new Error("Unable to present.")))}else r()}else i(new Error("VRDisplay is not capable of presenting."))}))},pt.prototype.exitPresent=function(){var t=this.isPresenting,e=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise((function(n,r){t?(!f()&&a()&&(e.endPresent_(),e.fireVRDisplayPresentChange_()),o()&&(e.removeFullscreenWrapper(),e.removeFullscreenListeners_(),e.endPresent_(),e.fireVRDisplayPresentChange_()),n()):r(new Error("Was not presenting to VRDisplay."))}))},pt.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},pt.prototype.fireVRDisplayPresentChange_=function(){var t=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(t)},pt.prototype.fireVRDisplayConnect_=function(){var t=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(t)},pt.prototype.addFullscreenListeners_=function(t,e,n){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=t,this.fullscreenChangeHandler_=e,this.fullscreenErrorHandler_=n,e&&(document.fullscreenEnabled?t.addEventListener("fullscreenchange",e,!1):document.webkitFullscreenEnabled?t.addEventListener("webkitfullscreenchange",e,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",e,!1):document.msFullscreenEnabled&&t.addEventListener("msfullscreenchange",e,!1)),n&&(document.fullscreenEnabled?t.addEventListener("fullscreenerror",n,!1):document.webkitFullscreenEnabled?t.addEventListener("webkitfullscreenerror",n,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",n,!1):document.msFullscreenEnabled&&t.addEventListener("msfullscreenerror",n,!1))},pt.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var t=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var e=this.fullscreenChangeHandler_;t.removeEventListener("fullscreenchange",e,!1),t.removeEventListener("webkitfullscreenchange",e,!1),document.removeEventListener("mozfullscreenchange",e,!1),t.removeEventListener("msfullscreenchange",e,!1)}if(this.fullscreenErrorHandler_){var n=this.fullscreenErrorHandler_;t.removeEventListener("fullscreenerror",n,!1),t.removeEventListener("webkitfullscreenerror",n,!1),document.removeEventListener("mozfullscreenerror",n,!1),t.removeEventListener("msfullscreenerror",n,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},pt.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},pt.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},pt.prototype.beginPresent_=function(){},pt.prototype.endPresent_=function(){},pt.prototype.submitFrame=function(t){},pt.prototype.getEyeParameters=function(t){return null};var ft={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},mt="left",vt="right";function gt(t){var e=y({},ft);t=y(e,t||{}),pt.call(this,{wakelock:t.MOBILE_WAKE_LOCK}),this.config=t,this.displayName="Cardboard VRDisplay",this.capabilities=new ht({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new tt(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new V(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new Y(this.dpdb_.getDeviceParams(),t.ADDITIONAL_VIEWERS),this.viewerSelector_=new it(t.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new et),a()&&window.addEventListener("resize",this.onResize_.bind(this))}return gt.prototype=Object.create(pt.prototype),gt.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},gt.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},gt.prototype._getFieldOfView=function(t){var e;if(t==mt)e=this.deviceInfo_.getFieldOfViewLeftEye();else{if(t!=vt)return console.error("Invalid eye provided: %s",t),null;e=this.deviceInfo_.getFieldOfViewRightEye()}return e},gt.prototype._getEyeOffset=function(t){var e;if(t==mt)e=[.5*-this.deviceInfo_.viewer.interLensDistance,0,0];else{if(t!=vt)return console.error("Invalid eye provided: %s",t),null;e=[.5*this.deviceInfo_.viewer.interLensDistance,0,0]}return e},gt.prototype.getEyeParameters=function(t){var e=this._getEyeOffset(t),n=this._getFieldOfView(t),r={offset:e,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(r,"fieldOfView",{enumerable:!0,get:function(){return M("VRFieldOfView","VRFrameData's projection matrices"),n}}),r},gt.prototype.onDeviceParamsUpdated_=function(t){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(t),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},gt.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},gt.prototype.beginPresent_=function(){var t=this.layer_.source.getContext("webgl");t||(t=this.layer_.source.getContext("experimental-webgl")),t||(t=this.layer_.source.getContext("webgl2")),t&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(t.canvas.width=h()*this.bufferScale_,t.canvas.height=p()*this.bufferScale_,this.cardboardUI_=new P(t)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new P(t)),this.distorter_=new S(t,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen(function(t){this.viewerSelector_.show(this.layer_.source.parentElement),t.stopPropagation(),t.preventDefault()}.bind(this),function(t){this.exitPresent(),t.stopPropagation(),t.preventDefault()}.bind(this)),this.rotateInstructions_&&(d()&&g()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},gt.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},gt.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},gt.prototype.submitFrame=function(t){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var e=this.layer_.source.getContext("webgl").canvas;e.width==this.lastWidth&&e.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=e.width,this.lastHeight=e.height,this.cardboardUI_.render()}},gt.prototype.onOrientationChange_=function(t){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},gt.prototype.onResize_=function(t){if(this.layer_){var e=this.layer_.source.getContext("webgl");e.canvas.setAttribute("style",["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"].join("; ")+";"),_(e.canvas)}},gt.prototype.onViewerChanged_=function(t){this.deviceInfo_.setViewer(t),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},gt.prototype.fireVRDisplayDeviceParamsChange_=function(){var t=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(t)},gt.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},gt.VRDisplay=pt,gt}()})),s=(e=o)&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,l={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function u(t){this.config=a(a({},l),t),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&r())&&(this.enable(),this.getVRDisplays().then((function(t){t&&t[0]&&t[0].fireVRDisplayConnect_&&t[0].fireVRDisplayConnect_()})))}u.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(r()){var t=new s({ADDITIONAL_VIEWERS:this.config.ADDITIONAL_VIEWERS,DEFAULT_VIEWER:this.config.DEFAULT_VIEWER,MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(t)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},u.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var t=this.native.VRFrameData,e=new this.native.VRFrameData,n=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(r){r instanceof t?n.call(this,r):(n.call(this,e),r.pose=e.pose,i(e.leftProjectionMatrix,r.leftProjectionMatrix),i(e.rightProjectionMatrix,r.rightProjectionMatrix),i(e.leftViewMatrix,r.leftViewMatrix),i(e.rightViewMatrix,r.rightViewMatrix))}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=s.VRDisplay,window.VRFrameData=s.VRFrameData},u.prototype.getVRDisplays=function(){var t=this;return this.config,this.hasNative?this.native.getVRDisplays.call(navigator).then((function(e){return e.length>0?e:t.getPolyfillDisplays()})):Promise.resolve(this.getPolyfillDisplays())},u.version="0.10.10",u.VRFrameData=s.VRFrameData,u.VRDisplay=s.VRDisplay;var c=Object.freeze({default:u}),d=c&&u||c;return"undefined"!==typeof n&&n.window&&(n.document||(n.document=n.window.document),n.navigator||(n.navigator=n.window.navigator)),d}))}).call(this,"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],47:[function(t,e,n){var r=/\n/,i="\n",a=/\s/;function o(t,e,n,r){var i=t.indexOf(e,n);return-1===i||i>r?r:i}function s(t){return a.test(t)}function l(t,e,n,r){return{start:e,end:e+Math.min(r,n-e)}}e.exports=function(t,n){return e.exports.lines(t,n).map((function(e){return t.substring(e.start,e.end)})).join("\n")},e.exports.lines=function(t,e){if(0===(e=e||{}).width&&"nowrap"!==e.mode)return[];t=t||"";var n="number"===typeof e.width?e.width:Number.MAX_VALUE,a=Math.max(0,e.start||0),u="number"===typeof e.end?e.end:t.length,c=e.mode,d=e.measure||l;return"pre"===c?function(t,e,n,i,a){for(var o=[],s=n,l=n;l<i&&l<e.length;l++){var u=e.charAt(l),c=r.test(u);if(c||l===i-1){var d=t(e,s,c?l:l+1,a);o.push(d),s=l+1}}return o}(d,t,a,u,n):function(t,e,n,r,a,l){var u=[],c=a;for("nowrap"===l&&(c=Number.MAX_VALUE);n<r&&n<e.length;){for(var d=o(e,i,n,r);n<d&&s(e.charAt(n));)n++;var h=t(e,n,d,c),p=n+(h.end-h.start),f=p+i.length;if(p<d){for(;p>n&&!s(e.charAt(p));)p--;if(p===n)f>n+i.length&&f--,p=f;else for(f=p;p>n&&s(e.charAt(p-i.length));)p--}if(p>=n){var m=t(e,n,p,c);u.push(m)}n=f}return u}(d,t,a,u,n,c)}},{}],48:[function(t,n,r){"use strict";var i=t("global/window"),a=t("is-function"),o=t("parse-headers"),s=t("xtend");function l(t,e,n){var r=t;return a(e)?(n=e,"string"===typeof t&&(r={uri:t})):r=s(e,{uri:t}),r.callback=n,r}function u(t,e,n){return c(e=l(t,e,n))}function c(t){if("undefined"===typeof t.callback)throw new Error("callback argument missing");var n=!1,r=function(e,r,i){n||(n=!0,t.callback(e,r,i))};function i(){var t=void 0;if(t=d.response?d.response:d.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var n=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!n)return t.responseXML}catch(e){}return null}(d),y)try{t=JSON.parse(t)}catch(e){}return t}function a(t){return clearTimeout(h),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,r(t,_)}function s(){if(!c){var e;clearTimeout(h),e=t.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var n=_,a=null;return 0!==e?(n={body:i(),statusCode:e,method:f,headers:{},url:p,rawRequest:d},d.getAllResponseHeaders&&(n.headers=o(d.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),r(a,n,n.body)}}var l,c,d=t.xhr||null;d||(d=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var h,p=d.url=t.uri||t.url,f=d.method=t.method||"GET",m=t.body||t.data,v=d.headers=t.headers||{},g=!!t.sync,y=!1,_={body:void 0,headers:{},statusCode:0,method:f,url:p,rawRequest:d};if("json"in t&&!1!==t.json&&(y=!0,v.accept||v.Accept||(v.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),m=JSON.stringify(!0===t.json?m:t.json))),d.onreadystatechange=function(){4===d.readyState&&setTimeout(s,0)},d.onload=s,d.onerror=a,d.onprogress=function(){},d.onabort=function(){c=!0},d.ontimeout=a,d.open(f,p,!g,t.username,t.password),g||(d.withCredentials=!!t.withCredentials),!g&&t.timeout>0&&(h=setTimeout((function(){if(!c){c=!0,d.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",a(t)}}),t.timeout)),d.setRequestHeader)for(l in v)v.hasOwnProperty(l)&&d.setRequestHeader(l,v[l]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&"function"===typeof t.beforeSend&&t.beforeSend(d),d.send(m||null),d}n.exports=u,u.XMLHttpRequest=i.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:i.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],(function(t){u["delete"===t?"del":t]=function(e,n,r){return(n=l(e,n,r)).method=t.toUpperCase(),c(n)}}))},{"global/window":15,"is-function":19,"parse-headers":30,xtend:50}],49:[function(t,e,n){e.exports="undefined"!==typeof self.DOMParser?function(t){return(new self.DOMParser).parseFromString(t,"application/xml")}:"undefined"!==typeof self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(t){var e=new self.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}:function(t){var e=document.createElement("div");return e.innerHTML=t,e}},{}],50:[function(t,e,n){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t};var r=Object.prototype.hasOwnProperty},{}],51:[function(t,e,n){e.exports={name:"aframe",version:"0.9.2",description:"A web framework for building virtual reality experiences.",homepage:"https://aframe.io/",main:"dist/aframe-master.js",scripts:{browserify:"browserify src/index.js -s 'AFRAME' -p browserify-derequire",build:"shx mkdir -p build/ && npm run browserify -- --debug -t [envify --INSPECTOR_VERSION dev] -o build/aframe.js",codecov:"codecov",dev:"npm run build && cross-env INSPECTOR_VERSION=dev node ./scripts/budo -t envify",dist:"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"npm run browserify -s -- --debug | exorcist dist/aframe-master.js.map > dist/aframe-master.js","dist:min":"npm run browserify -s -- --debug -p [minifyify --map aframe-master.min.js.map --output dist/aframe-master.min.js.map] -o dist/aframe-master.min.js",docs:"markserv --dir docs --port 9001",preghpages:"node ./scripts/preghpages.js",ghpages:"ghpages -p gh-pages/",lint:"semistandard -v | snazzy","lint:fix":"semistandard --fix",precommit:"npm run lint",prepush:"node scripts/testOnlyCheck.js",prerelease:"node scripts/release.js 0.9.1 0.9.2",start:"npm run dev","start:https":"cross-env SSL=true npm run dev",test:"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"npm test -- --browsers Firefox","test:chrome":"npm test -- --browsers Chrome","test:nobrowser":"NO_BROWSER=true npm test","test:node":"mocha --ui tdd tests/node"},repository:"aframevr/aframe",license:"MIT",files:["dist/*","docs/**/*","src/**/*","vendor/**/*"],dependencies:{"browserify-css":"^0.8.4","custom-event-polyfill":"^1.0.6",debug:"ngokevin/debug#noTimestamp","deep-assign":"^2.0.0","document-register-element":"dmarcos/document-register-element#8ccc532b7f3744be954574caf3072a5fd260ca90",envify:"^3.4.1","load-bmfont":"^1.2.3","object-assign":"^4.0.1",present:"0.0.6","promise-polyfill":"^3.1.0","style-attr":"^1.0.2","super-animejs":"^3.0.0","super-three":"^0.102.2","three-bmfont-text":"^2.1.0","webvr-polyfill":"^0.10.10"},devDependencies:{browserify:"^13.1.0","browserify-derequire":"^0.9.4","browserify-istanbul":"^2.0.0",budo:"^9.2.0",chai:"^3.5.0","chai-shallow-deep-equal":"^1.4.0",chalk:"^1.1.3",codecov:"^1.0.1","cross-env":"^5.0.1",exorcist:"^0.4.0",ghpages:"0.0.8","git-rev":"^0.2.1",glob:"^7.1.1",husky:"^0.11.7",istanbul:"^0.4.5",jsdom:"^9.11.0",karma:"1.4.1","karma-browserify":"^5.1.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^1.0.0","karma-mocha":"^1.1.1","karma-mocha-reporter":"^2.1.0","karma-sinon-chai":"1.2.4",lolex:"^1.5.1",markserv:"github:sukima/markserv#feature/fix-broken-websoketio-link",minifyify:"^7.3.3",mocha:"^3.0.2","mozilla-download":"^1.1.1","replace-in-file":"^2.5.3",semistandard:"^9.0.0",shelljs:"^0.7.7",shx:"^0.2.2",sinon:"^1.17.5","sinon-chai":"2.8.0",snazzy:"^5.0.0","too-wordy":"ngokevin/too-wordy",uglifyjs:"^2.4.10","write-good":"^0.9.1"},link:!0,browserify:{transform:["browserify-css","envify"]},semistandard:{ignore:["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},keywords:["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","web-components","webvr"],"browserify-css":{minify:!0},engines:{node:">= 4.6.0",npm:"^2.15.9"}}},{}],52:[function(t,e,n){var r=t("super-animejs"),i=t("../core/component").components,a=t("../core/component").registerComponent,o=t("../lib/three"),s=t("../utils"),l=new o.Color,u=new o.Color,c=s.entity.getComponentProperty,d=s.entity.setComponentProperty,h={},p="color",f="components",m="object3D";function v(t){t.x=o.Math.degToRad(t.x),t.y=o.Math.degToRad(t.y),t.z=o.Math.degToRad(t.z)}function g(t,e,n){var r;for(r=0;r<e.length;r++)t.addEventListener(e[r],n)}function y(t,e,n){var r;for(r=0;r<e.length;r++)t.removeEventListener(e[r],n)}function _(t,e){var n,r,i;for(r=x(e),i=t,n=0;n<r.length;n++)i=i[r[n]];if(void 0===i)throw console.log(t),new Error("[animation] property ("+e+") could not be found");return i}function b(t,e,n,r){var i,a,s,l;for(e.startsWith("object3D.rotation")&&(n=o.Math.degToRad(n)),a=x(e),l=t,i=0;i<a.length-1;i++)l=l[a[i]];s=a[a.length-1],r!==p?l[s]=n:"r"in l[s]?(l[s].r=n.r,l[s].g=n.g,l[s].b=n.b):(l[s].x=n.r,l[s].y=n.g,l[s].z=n.b)}function x(t){return t in h?h[t]:(h[t]=t.split("."),h[t])}function w(t){return t.isRawProperty||t.property.startsWith(f)||t.property.startsWith(m)}e.exports.Component=a("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(t){return!0===t||"true"===t||!1!==t&&"false"!==t&&parseInt(t,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var t=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){t.animationIsPlaying=!1,t.el.emit("animationcomplete",t.eventDetail,!1),t.id&&t.el.emit("animationcomplete__"+t.id,t.eventDetail,!1)}}},update:function(t){var e=this.config,n=this.data;this.animationIsPlaying=!1,this.data.enabled&&n.property&&(e.autoplay=!1,e.direction=n.dir,e.duration=n.dur,e.easing=n.easing,e.elasticity=n.elasticity,e.loop=n.loop,e.round=n.round,this.createAndStartAnimation())},tick:function(t,e){this.animationIsPlaying&&(this.time+=e,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var t=this.data;this.updateConfig(),this.animationIsPlaying=!1,this.animation=r(this.config),this.animation.began=!0,this.removeEventListeners(),this.addEventListeners(),!t.autoplay||t.startEvents&&t.startEvents.length||(t.delay?setTimeout(this.beginAnimation,t.delay):this.beginAnimation())},beginAnimation:function(){this.updateConfig(),this.animation.began=!0,this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){this.data.enabled&&(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=r(this.config),this.data.delay?setTimeout(this.beginAnimation,this.data.delay):this.beginAnimation())},updateConfigForRawColor:function(){var t,e,n,r=this.config,i=this.data,a=this.el;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){for(e in t=""===i.from?_(a,i.property):i.from,n=i.to,this.setColorConfig(t,n),t=this.fromColor,n=this.toColor,this.targetsArray.length=0,this.targetsArray.push(t),r.targets=this.targetsArray,n)r[e]=n[e];r.update=function(){var t={};return function(e){var n;(n=e.animatables[0].target).r===t.r&&n.g===t.g&&n.b===t.b||b(a,i.property,n,i.type)}}()}},updateConfigForDefault:function(){var t,e,n,r=this.config,i=this.data,a=this.el;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(t=""===i.from?w(i)?_(a,i.property):c(a,i.property):i.from,n=i.to,isNaN(t||n)?(t=t?t.toString():t,n=n?n.toString():n):(t=parseFloat(t),n=parseFloat(n)),(e="true"===i.to||"false"===i.to||!0===i.to||!1===i.to)&&(t="true"===i.from||!0===i.from?1:0,n="true"===i.to||!0===i.to?1:0),this.targets.aframeProperty=t,r.targets=this.targets,r.aframeProperty=n,r.update=function(){var t;return function(n){var r;(r=n.animatables[0].target.aframeProperty)!==t&&(t=r,e&&(r=r>=1),w(i)?b(a,i.property,r,i.type):d(a,i.property,r))}}())},updateConfigForVector:function(){var t,e,n,r=this.config,i=this.data,a=this.el;for(t in e=""!==i.from?s.coordinates.parse(i.from):c(a,i.property),n=s.coordinates.parse(i.to),"rotation"===i.property&&(v(e),v(n)),this.targetsArray.length=0,this.targetsArray.push(e),r.targets=this.targetsArray,n)r[t]=n[t];"position"!==i.property&&"rotation"!==i.property&&"scale"!==i.property?r.update=function(){var t={};return function(e){var n=e.animatables[0].target;n.x===t.x&&n.y===t.y&&n.z===t.z||(t.x=n.x,t.y=n.y,t.z=n.z,d(a,i.property,n))}}():r.update=function(){var t={};return function(e){var n=e.animatables[0].target;"scale"===i.property&&(n.x=Math.max(1e-4,n.x),n.y=Math.max(1e-4,n.y),n.z=Math.max(1e-4,n.z)),n.x===t.x&&n.y===t.y&&n.z===t.z||(t.x=n.x,t.y=n.y,t.z=n.z,a.object3D[i.property].set(n.x,n.y,n.z))}}()},updateConfig:function(){var t;t=function(t,e){var n,r,a,o;return a=e.split("."),r=a[0],o=a[1],(n=t.components[r]||i[r])?o&&!n.schema[o]?null:o?n.schema[o].type:n.schema.type:null}(this.el,this.data.property),w(this.data)&&this.data.type===p?this.updateConfigForRawColor():"vec2"===t||"vec3"===t||"vec4"===t?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(t){var e,n=this.data,i=this.el,a=this;return""===n.from&&!!n.property.startsWith(f)&&(e=x(n.property)[1],!i.components[e]&&(i.addEventListener("componentinitialized",(function n(o){o.detail.name===e&&(t(),a.animation=r(a.config),i.removeEventListener("componentinitialized",n))})),!0))},stopRelatedAnimations:function(){var t,e;for(e in this.el.components)t=this.el.components[e],e!==this.attrName&&"animation"===t.name&&t.animationIsPlaying&&t.data.property===this.data.property&&(t.animationIsPlaying=!1)},addEventListeners:function(){var t=this.data,e=this.el;g(e,t.startEvents,this.onStartEvent),g(e,t.pauseEvents,this.pauseAnimation),g(e,t.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var t=this.data,e=this.el;y(e,t.startEvents,this.onStartEvent),y(e,t.pauseEvents,this.pauseAnimation),y(e,t.resumeEvents,this.resumeAnimation)},setColorConfig:function(t,e){l.set(t),u.set(e),t=this.fromColor,e=this.toColor,t.r=l.r,t.g=l.g,t.b=l.b,e.r=u.r,e.g=u.g,e.b=u.b}})},{"../core/component":103,"../lib/three":151,"../utils":176,"super-animejs":35}],53:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../lib/three");e.exports.Component=r("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var t,e=this.el;t=this.camera=new i.PerspectiveCamera,e.setObject3D("camera",t)},update:function(t){var e=this.data,n=this.camera;n.aspect=e.aspect||window.innerWidth/window.innerHeight,n.far=e.far,n.fov=e.fov,n.near=e.near,n.zoom=e.zoom,n.updateProjectionMatrix(),this.updateActiveCamera(t),this.updateSpectatorCamera(t)},updateActiveCamera:function(t){var e=this.data,n=this.el,r=this.system;t&&t.active===e.active||e.spectator||(e.active&&r.activeCameraEl!==n?r.setActiveCamera(n):e.active||r.activeCameraEl!==n||r.disableActiveCamera())},updateSpectatorCamera:function(t){var e=this.data,n=this.el,r=this.system;t&&t.spectator===e.spectator||(e.spectator&&r.spectatorCameraEl!==n?r.setSpectatorCamera(n):e.spectator||r.spectatorCameraEl!==n||r.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}})},{"../core/component":103,"../lib/three":151}],54:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/"),a=i.bind,o="click",s="fusing",l="mouseenter",u="mousedown",c="mouseleave",d="mouseup",h="cursor-fusing",p="cursor-hovering",f="cursor-hovered",m={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]};e.exports.Component=r("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:i.device.isMobile()},fuseTimeout:{default:1500,min:0},mouseCursorStylesEnabled:{default:!0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity"]}},init:function(){var t=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.updateCanvasBounds=i.debounce((function(){t.canvasBounds=t.el.sceneEl.canvas.getBoundingClientRect()}),500),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=a(this.onCursorDown,this),this.onCursorUp=a(this.onCursorUp,this),this.onIntersection=a(this.onIntersection,this),this.onIntersectionCleared=a(this.onIntersectionCleared,this),this.onMouseMove=a(this.onMouseMove,this)},update:function(t){this.data.rayOrigin!==t.rayOrigin&&this.updateMouseEventListeners()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var t=this.el;t.removeState(p),t.removeState(h),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(f),this.removeEventListeners()},addEventListeners:function(){var t,e=this.data,n=this.el,r=this;function i(){t=n.sceneEl.canvas,e.downEvents.length||e.upEvents.length||(m.DOWN.forEach((function(e){t.addEventListener(e,r.onCursorDown)})),m.UP.forEach((function(e){t.addEventListener(e,r.onCursorUp)})))}(t=n.sceneEl.canvas)?i():n.sceneEl.addEventListener("render-target-loaded",i),e.downEvents.forEach((function(t){n.addEventListener(t,r.onCursorDown)})),e.upEvents.forEach((function(t){n.addEventListener(t,r.onCursorUp)})),n.addEventListener("raycaster-intersection",this.onIntersection),n.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),n.sceneEl.addEventListener("rendererresize",this.updateCanvasBounds),window.addEventListener("resize",this.updateCanvasBounds),window.addEventListener("scroll",this.updateCanvasBounds),this.updateMouseEventListeners()},removeEventListeners:function(){var t,e=this.data,n=this.el,r=this;!(t=n.sceneEl.canvas)||e.downEvents.length||e.upEvents.length||(m.DOWN.forEach((function(e){t.removeEventListener(e,r.onCursorDown)})),m.UP.forEach((function(e){t.removeEventListener(e,r.onCursorUp)}))),e.downEvents.forEach((function(t){n.removeEventListener(t,r.onCursorDown)})),e.upEvents.forEach((function(t){n.removeEventListener(t,r.onCursorUp)})),n.removeEventListener("raycaster-intersection",this.onIntersection),n.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("touchstart",this.onMouseMove),t.removeEventListener("touchmove",this.onMouseMove),n.sceneEl.removeEventListener("rendererresize",this.updateCanvasBounds),window.removeEventListener("resize",this.updateCanvasBounds),window.removeEventListener("scroll",this.updateCanvasBounds)},updateMouseEventListeners:function(){var t,e=this.el;(t=e.sceneEl.canvas).removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("touchmove",this.onMouseMove),e.setAttribute("raycaster","useWorldCoordinates",!1),"mouse"===this.data.rayOrigin&&(t.addEventListener("mousemove",this.onMouseMove,!1),t.addEventListener("touchmove",this.onMouseMove,!1),e.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},onMouseMove:function(){var t=new THREE.Vector3,e=new THREE.Vector2,n=new THREE.Vector3,r={origin:n,direction:t};return function(i){var a,o,s,l=this.canvasBounds,u=this.el.sceneEl.camera;u.parent.updateMatrixWorld(),a=(o="touchmove"===i.type||"touchstart"===i.type?i.touches.item(0):i).clientX-l.left,s=o.clientY-l.top,e.x=a/l.width*2-1,e.y=-s/l.height*2+1,n.setFromMatrixPosition(u.matrixWorld),t.set(e.x,e.y,.5).unproject(u).sub(n).normalize(),this.el.setAttribute("raycaster",r),"touchmove"===i.type&&i.preventDefault()}}(),onCursorDown:function(t){"mouse"===this.data.rayOrigin&&"touchstart"===t.type&&(this.onMouseMove(t),this.el.components.raycaster.checkIntersections(),t.preventDefault()),this.twoWayEmit(u),this.cursorDownEl=this.intersectedEl},onCursorUp:function(t){var e=this.data;this.twoWayEmit(d),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(d,this.intersectedEventDetail)),e.fuse&&"mouse"!==e.rayOrigin||!this.intersectedEl||this.cursorDownEl!==this.intersectedEl||this.twoWayEmit(o),this.cursorDownEl=null,"touchend"===t.type&&t.preventDefault()},onIntersection:function(t){var e,n,r,i,a=this.el;n=t.detail.els[0]===a?1:0,i=t.detail.intersections[n],(r=t.detail.els[n])&&this.intersectedEl!==r&&(this.intersectedEl&&(e=this.el.components.raycaster.getIntersection(this.intersectedEl))&&e.distance<=i.distance||(this.clearCurrentIntersection(!0),this.setIntersection(r,i)))},onIntersectionCleared:function(t){-1!==t.detail.clearedEls.indexOf(this.intersectedEl)&&this.clearCurrentIntersection()},setIntersection:function(t,e){var n=this.el,r=this.data,i=this;this.intersectedEl!==t&&(this.intersectedEl=t,n.addState(p),t.addState(f),this.twoWayEmit(l),this.data.mouseCursorStylesEnabled&&"mouse"===this.data.rayOrigin&&this.el.sceneEl.canvas.classList.add("a-mouse-cursor-hover"),0!==r.fuseTimeout&&r.fuse&&(n.addState(h),this.twoWayEmit(s),this.fuseTimeout=setTimeout((function(){n.removeState(h),i.twoWayEmit(o)}),r.fuseTimeout)))},clearCurrentIntersection:function(t){var e,n,r=this.el;this.intersectedEl&&(this.intersectedEl.removeState(f),r.removeState(p),r.removeState(h),this.twoWayEmit(c),this.data.mouseCursorStylesEnabled&&"mouse"===this.data.rayOrigin&&this.el.sceneEl.canvas.classList.remove("a-mouse-cursor-hover"),this.intersectedEl=null,clearTimeout(this.fuseTimeout),!0!==t&&0!==(n=this.el.components.raycaster.intersections).length&&(e=n[n[0].object.el===r?1:0])&&this.setIntersection(e.object.el,e))},twoWayEmit:function(t){var e,n=this.el,r=this.intersectedEl;e=this.el.components.raycaster.getIntersection(r),this.eventDetail.intersectedEl=r,this.eventDetail.intersection=e,n.emit(t,this.eventDetail),r&&(this.intersectedEventDetail.intersection=e,r.emit(t,this.intersectedEventDetail))}})},{"../core/component":103,"../utils/":176}],55:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),a=t("../utils/tracked-controls"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,l=a.onButtonEvent;e.exports.Component=r("daydream-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","menu","system"]},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){o(this,"Daydream Controller",{hand:this.data.hand})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{armModel:e.armModel,hand:e.hand,idPrefix:"Daydream Controller",orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/google/vr_controller_daydream.obj",mtl:"https://cdn.aframe.io/controllers/google/vr_controller_daydream.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).menu=n.getObjectByName("AppButton_AppButton_Cylinder.004"),e.system=n.getObjectByName("HomeButton_HomeButton_Cylinder.005"),e.trackpad=n.getObjectByName("TouchPad_TouchPad_Cylinder.003"),n.position.set(0,0,-.04))},onAxisMoved:function(t){s(this,this.mapping.axes,t)},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&this.el.emit(e+"changed",t.detail.state)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n=this.buttonMeshes;if(n&&n[t]){var r;switch(e){case"down":r=this.data.buttonHighlightColor;break;case"touchstart":r=this.data.buttonTouchedColor;break;default:r=this.data.buttonColor}n[t].material.color.set(r)}}})},{"../core/component":103,"../utils/bind":170,"../utils/tracked-controls":184}],56:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),a=t("../utils/tracked-controls"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,l=a.onButtonEvent;e.exports.Component=r("gearvr-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){o(this,"Gear VR",this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{armModel:e.armModel,idPrefix:"Gear VR",orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/samsung/gear_vr_controller.obj",mtl:"https://cdn.aframe.io/controllers/samsung/gear_vr_controller.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).trigger=n.children[2],e.trackpad=n.children[1])},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&this.el.emit(e+"changed",t.detail.state)},onAxisMoved:function(t){s(this,this.mapping.axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n=this.buttonMeshes;if(n&&n[t]){var r;switch(e){case"down":r=this.data.buttonHighlightColor;break;case"touchstart":r=this.data.buttonTouchedColor;break;default:r=this.data.buttonColor}n[t].material.color.set(r)}}})},{"../core/component":103,"../utils/bind":170,"../utils/tracked-controls":184}],57:[function(t,e,n){var r=t("../core/geometry").geometries,i=t("../core/geometry").geometryNames,a=t("../core/component").registerComponent,o=t("../lib/three"),s=new o.Geometry;e.exports.Component=a("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:i,schemaChange:!0},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(t){var e,n=this.data,r=this.el,i=this.system;this.geometry&&(i.unuseGeometry(t),this.geometry=null),this.geometry=i.getOrCreateGeometry(n),(e=r.getObject3D("mesh"))?e.geometry=this.geometry:((e=new o.Mesh).geometry=this.geometry,r.setObject3D("mesh",e))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=s,this.geometry=null},updateSchema:function(t){var e=this.oldData&&this.oldData.primitive,n=t.primitive,i=r[n]&&r[n].schema;if(!i)throw new Error("Unknown geometry schema `"+n+"`");e&&e===n||this.extendSchema(i)}})},{"../core/component":103,"../core/geometry":104,"../lib/three":151}],58:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../lib/three"),a=t("../utils/").debug("components:gltf-model:warn");e.exports.Component=r("gltf-model",{schema:{type:"model"},init:function(){var t=this.system.getDRACOLoader();this.model=null,this.loader=new i.GLTFLoader,t&&this.loader.setDRACOLoader(t)},update:function(){var t=this,e=this.el,n=this.data;n&&(this.remove(),this.loader.load(n,(function(n){t.model=n.scene||n.scenes[0],t.model.animations=n.animations,e.setObject3D("mesh",t.model),e.emit("model-loaded",{format:"gltf",model:t.model})}),void 0,(function(t){var r=t&&t.message?t.message:"Failed to load glTF model";a(r),e.emit("model-error",{format:"gltf",src:n})})))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},{"../core/component":103,"../lib/three":151,"../utils/":176}],59:[function(t,e,n){var r=t("../core/component").registerComponent,i={left:"https://cdn.aframe.io/controllers/hands/leftHand.glb",right:"https://cdn.aframe.io/controllers/hands/rightHand.glb"},a={open:"Open",point:"Point",pointThumb:"Point + Thumb",fist:"Fist",hold:"Hold",thumbUp:"Thumb Up"},o={};function s(t,e){var n;if(t)return"grip"===(n=o[t])?n+(e?"close":"open"):"point"===n||"thumb"===n?n+(e?"up":"down"):"pointing"===n||"pistol"===n?n+(e?"start":"end"):void 0}o[a.fist]="grip",o[a.thumbUp]="pistol",o[a.point]="pointing",o[a.thumb]="thumb",e.exports.Component=r("hand-controls",{schema:{default:"left"},init:function(){var t=this,e=this.el;this.gesture=a.open,this.pressedButtons={},this.touchedButtons={},this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){t.handleButton("grip","down")},this.onGripUp=function(){t.handleButton("grip","up")},this.onTrackpadDown=function(){t.handleButton("trackpad","down")},this.onTrackpadUp=function(){t.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){t.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){t.handleButton("trackpad","touchend")},this.onTriggerDown=function(){t.handleButton("trigger","down")},this.onTriggerUp=function(){t.handleButton("trigger","up")},this.onTriggerTouchStart=function(){t.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){t.handleButton("trigger","touchend")},this.onGripTouchStart=function(){t.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){t.handleButton("grip","touchend")},this.onThumbstickDown=function(){t.handleButton("thumbstick","down")},this.onThumbstickUp=function(){t.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){t.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){t.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){t.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){t.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){t.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){t.handleButton("surface","touchend")},e.addEventListener("controllerconnected",this.onControllerConnected),e.addEventListener("controllerdisconnected",this.onControllerDisconnected),e.object3D.visible=!1},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(t,e){var n=this.el.getObject3D("mesh");n&&n.mixer&&n.mixer.update(e/1e3)},addEventListeners:function(){var t=this.el;t.addEventListener("gripdown",this.onGripDown),t.addEventListener("gripup",this.onGripUp),t.addEventListener("trackpaddown",this.onTrackpadDown),t.addEventListener("trackpadup",this.onTrackpadUp),t.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),t.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),t.addEventListener("triggerdown",this.onTriggerDown),t.addEventListener("triggerup",this.onTriggerUp),t.addEventListener("triggertouchstart",this.onTriggerTouchStart),t.addEventListener("triggertouchend",this.onTriggerTouchEnd),t.addEventListener("griptouchstart",this.onGripTouchStart),t.addEventListener("griptouchend",this.onGripTouchEnd),t.addEventListener("thumbstickdown",this.onThumbstickDown),t.addEventListener("thumbstickup",this.onThumbstickUp),t.addEventListener("abuttontouchstart",this.onAorXTouchStart),t.addEventListener("abuttontouchend",this.onAorXTouchEnd),t.addEventListener("bbuttontouchstart",this.onBorYTouchStart),t.addEventListener("bbuttontouchend",this.onBorYTouchEnd),t.addEventListener("xbuttontouchstart",this.onAorXTouchStart),t.addEventListener("xbuttontouchend",this.onAorXTouchEnd),t.addEventListener("ybuttontouchstart",this.onBorYTouchStart),t.addEventListener("ybuttontouchend",this.onBorYTouchEnd),t.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),t.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var t=this.el;t.removeEventListener("gripdown",this.onGripDown),t.removeEventListener("gripup",this.onGripUp),t.removeEventListener("trackpaddown",this.onTrackpadDown),t.removeEventListener("trackpadup",this.onTrackpadUp),t.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),t.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),t.removeEventListener("triggerdown",this.onTriggerDown),t.removeEventListener("triggerup",this.onTriggerUp),t.removeEventListener("triggertouchstart",this.onTriggerTouchStart),t.removeEventListener("triggertouchend",this.onTriggerTouchEnd),t.removeEventListener("griptouchstart",this.onGripTouchStart),t.removeEventListener("griptouchend",this.onGripTouchEnd),t.removeEventListener("thumbstickdown",this.onThumbstickDown),t.removeEventListener("thumbstickup",this.onThumbstickUp),t.removeEventListener("abuttontouchstart",this.onAorXTouchStart),t.removeEventListener("abuttontouchend",this.onAorXTouchEnd),t.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),t.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),t.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),t.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),t.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),t.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),t.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),t.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(t){var e,n=this.el,r=this.data,a=this;e={hand:r,model:!1,orientationOffset:{x:0,y:0,z:"left"===r?90:-90}},r!==t&&this.loader.load(i[r],(function(t){var r=t.scene.children[0];r.mixer=new THREE.AnimationMixer(r),a.clips=t.animations,n.setObject3D("mesh",r),r.position.set(0,0,0),r.rotation.set(0,0,0),n.setAttribute("vive-controls",e),n.setAttribute("oculus-touch-controls",e),n.setAttribute("windows-motion-controls",e)}))},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(t,e){var n,r="down"===e,i="touchstart"===e;if(0===e.indexOf("touch")){if(i===this.touchedButtons[t])return;this.touchedButtons[t]=i}else{if(r===this.pressedButtons[t])return;this.pressedButtons[t]=r}n=this.gesture,this.gesture=this.determineGesture(),this.gesture!==n&&(this.animateGesture(this.gesture,n),this.emitGestureEvents(this.gesture,n))},determineGesture:function(){var t,e=this.pressedButtons.grip,n=this.pressedButtons.surface||this.touchedButtons.surface,r=this.pressedButtons.trackpad||this.touchedButtons.trackpad,i=this.pressedButtons.trigger||this.touchedButtons.trigger,o=this.touchedButtons.AorX||this.touchedButtons.BorY;return function(t){var e=t&&t.controller&&t.controller.id;return e&&0===e.indexOf("OpenVR ")}(this.el.components["tracked-controls"])?e||i?t=a.fist:r&&(t=a.point):e?t=n||o||r?i?a.fist:a.point:i?a.thumbUp:a.pointThumb:i&&(t=a.hold),t},getClip:function(t){var e,n;for(n=0;n<this.clips.length;n++)if((e=this.clips[n]).name===t)return e},animateGesture:function(t,e){t?this.playAnimation(t||a.open,e,!1):this.playAnimation(e,e,!0)},emitGestureEvents:function(t,e){var n,r=this.el;e!==t&&((n=s(e,!1))&&r.emit(n),(n=s(t,!0))&&r.emit(n))},playAnimation:function(t,e,n){var r,i,a,o=this.el.getObject3D("mesh");if(o){if(o.mixer.stopAllAction(),r=this.getClip(t),(a=o.mixer.clipAction(r)).clampWhenFinished=!0,a.loop=THREE.LoopRepeat,a.repetitions=0,a.timeScale=n?-1:1,a.time=n?r.duration:0,a.weight=1,!e||t===e)return o.mixer.stopAllAction(),void a.play();r=this.getClip(e),(i=o.mixer.clipAction(r)).weight=.15,i.play(),a.play(),i.crossFadeTo(a,.15,!0)}}})},{"../core/component":103}],60:[function(t,e,n){t("./animation"),t("./camera"),t("./cursor"),t("./daydream-controls"),t("./gearvr-controls"),t("./geometry"),t("./gltf-model"),t("./hand-controls"),t("./laser-controls"),t("./light"),t("./line"),t("./link"),t("./look-controls"),t("./material"),t("./obj-model"),t("./oculus-go-controls"),t("./oculus-touch-controls"),t("./position"),t("./raycaster"),t("./rotation"),t("./scale"),t("./shadow"),t("./sound"),t("./text"),t("./tracked-controls"),t("./tracked-controls-webvr"),t("./tracked-controls-webxr"),t("./visible"),t("./vive-controls"),t("./vive-focus-controls"),t("./wasd-controls"),t("./windows-motion-controls"),t("./scene/background"),t("./scene/debug"),t("./scene/embedded"),t("./scene/inspector"),t("./scene/fog"),t("./scene/keyboard-shortcuts"),t("./scene/pool"),t("./scene/screenshot"),t("./scene/stats"),t("./scene/vr-mode-ui")},{"./animation":52,"./camera":53,"./cursor":54,"./daydream-controls":55,"./gearvr-controls":56,"./geometry":57,"./gltf-model":58,"./hand-controls":59,"./laser-controls":61,"./light":62,"./line":63,"./link":64,"./look-controls":65,"./material":66,"./obj-model":67,"./oculus-go-controls":68,"./oculus-touch-controls":69,"./position":70,"./raycaster":71,"./rotation":72,"./scale":73,"./scene/background":74,"./scene/debug":75,"./scene/embedded":76,"./scene/fog":77,"./scene/inspector":78,"./scene/keyboard-shortcuts":79,"./scene/pool":80,"./scene/screenshot":81,"./scene/stats":82,"./scene/vr-mode-ui":83,"./shadow":84,"./sound":85,"./text":86,"./tracked-controls":89,"./tracked-controls-webvr":87,"./tracked-controls-webxr":88,"./visible":90,"./vive-controls":91,"./vive-focus-controls":92,"./wasd-controls":93,"./windows-motion-controls":94}],61:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/");r("laser-controls",{schema:{hand:{default:"right"},model:{default:!0},defaultModelColor:{type:"color",default:"grey"}},init:function(){var t=this.config,e=this.data,n=this.el,r=this,a=this.data.model&&!this.el.sceneEl.hasWebXR,o={hand:e.hand,model:a};function s(e){var a=t[e.detail.name];if(a){var o=i.extend({showLine:!0},a.raycaster||{});e.detail.rayOrigin&&(o.origin=e.detail.rayOrigin.origin,o.direction=e.detail.rayOrigin.direction,o.showLine=!0),e.detail.rayOrigin||!r.modelReady?n.setAttribute("raycaster",o):n.setAttribute("raycaster","showLine",!0),n.setAttribute("cursor",i.extend({fuse:!1},a.cursor))}}n.setAttribute("daydream-controls",o),n.setAttribute("gearvr-controls",o),n.setAttribute("oculus-go-controls",o),n.setAttribute("oculus-touch-controls",o),n.setAttribute("vive-controls",o),n.setAttribute("vive-focus-controls",o),n.setAttribute("windows-motion-controls",o),this.data.model&&this.el.sceneEl.hasWebXR&&this.initDefaultModel(),n.addEventListener("controllerconnected",s),n.addEventListener("controllerdisconnected",(function(){n.setAttribute("raycaster","showLine",!1)})),n.addEventListener("controllermodelready",(function(t){s(t),r.modelReady=!0}))},config:{"daydream-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"gearvr-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-go-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-focus-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}},initDefaultModel:function(){var t=this.modelEl=document.createElement("a-entity");t.setAttribute("geometry",{primitive:"sphere",radius:.03}),t.setAttribute("material",{color:this.data.color}),this.el.appendChild(t)}})},{"../core/component":103,"../utils/":176}],62:[function(t,e,n){var r=t("../utils/bind"),i=t("../utils").diff,a=t("../utils/debug"),o=t("../core/component").registerComponent,s=t("../lib/three"),l=s.Math.degToRad,u=a("components:light:warn");e.exports.Component=o("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color"},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot"],schemaChange:!0},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}},shadowRadius:{default:1,if:{castShadow:!0}}},init:function(){var t=this.el;this.light=null,this.defaultTarget=null,this.rendererSystem=this.el.sceneEl.systems.renderer,this.system.registerLight(t)},update:function(t){var e=this.data,n=i(e,t),a=this.light,o=this.rendererSystem,s=this;if(!a||"type"in n)this.setLight(this.data),this.updateShadow();else{var u=!1;Object.keys(n).forEach((function(t){var n=e[t];switch(t){case"color":a.color.set(n),o.applyColorCorrection(a.color);break;case"groundColor":a.groundColor.set(n),o.applyColorCorrection(a.groundColor);break;case"angle":a.angle=l(n);break;case"target":null===n?"spot"!==e.type&&"directional"!==e.type||(a.target=s.defaultTarget):n.hasLoaded?s.onSetTarget(n,a):n.addEventListener("loaded",r(s.onSetTarget,s,n,a));break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":case"shadowRadius":u||(s.updateShadow(),u=!0);break;default:a[t]=n}}))}},setLight:function(t){var e=this.el,n=this.getLight(t);n&&(this.light&&e.removeObject3D("light"),this.light=n,this.light.el=e,e.setObject3D("light",this.light),"spot"!==t.type&&"directional"!==t.type&&"hemisphere"!==t.type||e.getObject3D("light").translateY(-1),"spot"===t.type&&(e.setObject3D("light-target",this.defaultTarget),e.getObject3D("light-target").position.set(0,0,-1)))},updateShadow:function(){var t=this.el,e=this.data,n=this.light;n.castShadow=e.castShadow;var r=t.getObject3D("cameraHelper");if(e.shadowCameraVisible&&!r?t.setObject3D("cameraHelper",new s.CameraHelper(n.shadow.camera)):!e.shadowCameraVisible&&r&&t.removeObject3D("cameraHelper"),!e.castShadow)return n;n.shadow.bias=e.shadowBias,n.shadow.radius=e.shadowRadius,n.shadow.mapSize.height=e.shadowMapHeight,n.shadow.mapSize.width=e.shadowMapWidth,n.shadow.camera.near=e.shadowCameraNear,n.shadow.camera.far=e.shadowCameraFar,n.shadow.camera instanceof s.OrthographicCamera?(n.shadow.camera.top=e.shadowCameraTop,n.shadow.camera.right=e.shadowCameraRight,n.shadow.camera.bottom=e.shadowCameraBottom,n.shadow.camera.left=e.shadowCameraLeft):n.shadow.camera.fov=e.shadowCameraFov,n.shadow.camera.updateProjectionMatrix(),r&&r.update()},getLight:function(t){var e=t.angle,n=new s.Color(t.color);this.rendererSystem.applyColorCorrection(n),n=n.getHex();var i=t.decay,a=t.distance,o=new s.Color(t.groundColor);this.rendererSystem.applyColorCorrection(o),o=o.getHex();var c=t.intensity,d=t.type,h=t.target,p=null;switch(d.toLowerCase()){case"ambient":return new s.AmbientLight(n,c);case"directional":return p=new s.DirectionalLight(n,c),this.defaultTarget=p.target,h&&(h.hasLoaded?this.onSetTarget(h,p):h.addEventListener("loaded",r(this.onSetTarget,this,h,p))),p;case"hemisphere":return new s.HemisphereLight(n,o,c);case"point":return new s.PointLight(n,c,a,i);case"spot":return p=new s.SpotLight(n,c,a,l(e),t.penumbra,i),this.defaultTarget=p.target,h&&(h.hasLoaded?this.onSetTarget(h,p):h.addEventListener("loaded",r(this.onSetTarget,this,h,p))),p;default:u("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",d)}},onSetTarget:function(t,e){e.target=t.object3D},remove:function(){var t=this.el;t.removeObject3D("light"),t.getObject3D("cameraHelper")&&t.removeObject3D("cameraHelper")}})},{"../core/component":103,"../lib/three":151,"../utils":176,"../utils/bind":170,"../utils/debug":172}],63:[function(t,e,n){var r=t("../core/component").registerComponent;function i(t,e){return!(!t||!e)&&t.x===e.x&&t.y===e.y&&t.z===e.z}e.exports.Component=r("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var t,e,n=this.data;this.rendererSystem=this.el.sceneEl.systems.renderer,e=this.material=new THREE.LineBasicMaterial({color:n.color,opacity:n.opacity,transparent:n.opacity<1,visible:n.visible}),(t=this.geometry=new THREE.BufferGeometry).addAttribute("position",new THREE.BufferAttribute(new Float32Array(6),3)),this.rendererSystem.applyColorCorrection(e.color),this.line=new THREE.Line(t,e),this.el.setObject3D(this.attrName,this.line)},update:function(t){var e=this.data,n=this.geometry,r=!1,a=this.material,o=n.attributes.position.array;i(e.start,t.start)||(o[0]=e.start.x,o[1]=e.start.y,o[2]=e.start.z,r=!0),i(e.end,t.end)||(o[3]=e.end.x,o[4]=e.end.y,o[5]=e.end.z,r=!0),r&&(n.attributes.position.needsUpdate=!0,n.computeBoundingSphere()),a.color.setStyle(e.color),this.rendererSystem.applyColorCorrection(a.color),a.opacity=e.opacity,a.transparent=e.opacity<1,a.visible=e.visible},remove:function(){this.el.removeObject3D("line",this.line)}})},{"../core/component":103}],64:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../core/shader").registerShader,a=t("../lib/three");e.exports.Component=r("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!1}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new a.Quaternion,this.hiddenEls=[]},update:function(t){var e,n,r=this.data,i=this.el;r.visualAspectEnabled&&(this.initVisualAspect(),e=r.highlighted?r.highlightedColor:r.backgroundColor,n=r.highlighted?r.highlightedColor:r.borderColor,i.setAttribute("material","backgroundColor",e),i.setAttribute("material","strokeColor",n),r.on!==t.on&&this.updateEventListener(),void 0!==t.peekMode&&r.peekMode!==t.peekMode&&this.updatePeekMode(),r.image&&t.image!==r.image&&i.setAttribute("material","pano","string"===typeof r.image?r.image:r.image.src))},updatePeekMode:function(){var t=this.el,e=this.sphereEl;this.data.peekMode?(this.hideAll(),t.getObject3D("mesh").visible=!1,e.setAttribute("visible",!0)):(this.showAll(),t.getObject3D("mesh").visible=!0,e.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var t=this.el;t.isPlaying&&(this.removeEventListener(),t.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var t=this.data.on;t&&this.el.removeEventListener(t,this.navigate)},initVisualAspect:function(){var t,e,n,r=this.el;this.data.visualAspectEnabled&&!this.visualAspectInitialized&&(n=this.textEl=this.textEl||document.createElement("a-entity"),e=this.sphereEl=this.sphereEl||document.createElement("a-entity"),t=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),r.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),r.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double"}),n.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),n.setAttribute("position","0 1.5 0"),r.appendChild(n),t.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),t.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),t.setAttribute("rotation","0 180 0"),t.setAttribute("position","0 0 0"),t.setAttribute("visible",!1),r.appendChild(t),e.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),e.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),e.setAttribute("visible",!1),r.appendChild(e),this.visualAspectInitialized=!0)},navigate:function(){window.location=this.data.href},tick:function(){var t=new a.Vector3,e=new a.Vector3,n=new a.Quaternion,r=new a.Vector3;return function(){var i,a,o=this.el,s=o.object3D,l=o.sceneEl.camera,u=this.textEl;if(this.data.visualAspectEnabled)if(s.updateMatrixWorld(),l.parent.updateMatrixWorld(),l.updateMatrixWorld(),s.matrix.decompose(e,n,r),e.setFromMatrixPosition(s.matrixWorld),t.setFromMatrixPosition(l.matrixWorld),(a=e.distanceTo(t))>20)this.previousQuaternion||(this.quaternionClone.copy(n),this.previousQuaternion=this.quaternionClone),s.lookAt(t);else{if(i=this.calculateCameraPortalOrientation(),a<.5){if(!0===this.semiSphereEl.getAttribute("visible"))return;u.setAttribute("text","width",1.5),i<=0?(u.setAttribute("position","0 0 0.75"),u.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(u.setAttribute("position","0 0 -0.75"),u.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),o.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=i}else i<=0?u.setAttribute("rotation","0 180 0"):u.setAttribute("rotation","0 0 0"),u.setAttribute("text","width",5),u.setAttribute("position","0 1.5 0"),o.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(s.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}}(),hideAll:function(){var t=this.el,e=this.hiddenEls,n=this;e.length>0||t.sceneEl.object3D.traverse((function(r){r&&r.el&&r.el.hasAttribute("link-controls")||r.el&&r!==t.sceneEl.object3D&&r.el!==t&&r.el!==n.sphereEl&&r.el!==t.sceneEl.cameraEl&&!1!==r.el.getAttribute("visible")&&r.el!==n.textEl&&r.el!==n.semiSphereEl&&(r.el.setAttribute("visible",!1),e.push(r.el))}))},showAll:function(){this.hiddenEls.forEach((function(t){t.setAttribute("visible",!0)})),this.hiddenEls=[]},calculateCameraPortalOrientation:function(){var t=new a.Matrix4,e=new a.Vector3,n=new a.Vector3(0,0,1),r=new a.Vector3(0,0,0);return function(){var i=this.el,a=i.sceneEl.camera;return e.set(0,0,0),n.set(0,0,1),r.set(0,0,0),i.object3D.matrixWorld.extractRotation(t),n.applyMatrix4(t),i.object3D.updateMatrixWorld(),i.object3D.localToWorld(r),a.parent.parent.updateMatrixWorld(),a.parent.updateMatrixWorld(),a.updateMatrixWorld(),a.localToWorld(e),e.sub(r).normalize(),n.normalize(),Math.sign(n.dot(e))}}(),remove:function(){this.removeEventListener()}}),i("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = saturate(direction.y * 0.5  + 0.5);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / 15.0), 2.0), 0.0, 1.0));","}","}"].join("\n")})},{"../core/component":103,"../core/shader":113,"../lib/three":151}],65:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../lib/three"),a=t("../utils/").bind,o=t("../utils").device.PolyfillControls,s=Math.PI/2;e.exports.Component=r("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},hmdEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},reverseTouchDrag:{default:!1},touchEnabled:{default:!0}},init:function(){this.previousHMDPosition=new i.Vector3,this.hmdQuaternion=new i.Quaternion,this.hmdEuler=new i.Euler,this.position=new i.Vector3,this.savedRotation=new i.Vector3,this.savedPosition=new i.Vector3,this.polyfillObject=new i.Object3D,this.polyfillControls=new o(this.polyfillObject),this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.el.object3D.matrixAutoUpdate=!1,this.el.object3D.updateMatrix(),this.savedPose={position:new i.Vector3,rotation:new i.Euler},this.el.sceneEl.is("vr-mode")&&this.onEnterVR()},update:function(t){var e=this.data;e.enabled!==t.enabled&&this.updateGrabCursor(e.enabled),!t||e.hmdEnabled||t.hmdEnabled||(this.pitchObject.rotation.set(0,0,0),this.yawObject.rotation.set(0,0,0)),t&&!e.pointerLockEnabled!==t.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&this.exitPointerLock())},tick:function(t){this.data.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},remove:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},bindMethods:function(){this.onMouseDown=a(this.onMouseDown,this),this.onMouseMove=a(this.onMouseMove,this),this.onMouseUp=a(this.onMouseUp,this),this.onTouchStart=a(this.onTouchStart,this),this.onTouchMove=a(this.onTouchMove,this),this.onTouchEnd=a(this.onTouchEnd,this),this.onEnterVR=a(this.onEnterVR,this),this.onExitVR=a(this.onExitVR,this),this.onPointerLockChange=a(this.onPointerLockChange,this),this.onPointerLockError=a(this.onPointerLockError,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new i.Object3D,this.yawObject=new i.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var t=this.el.sceneEl,e=t.canvas;e?(e.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),e.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),t.addEventListener("enter-vr",this.onEnterVR),t.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))):t.addEventListener("render-target-loaded",a(this.addEventListeners,this))},removeEventListeners:function(){var t=this.el.sceneEl,e=t&&t.canvas;e&&(e.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),t.removeEventListener("enter-vr",this.onEnterVR),t.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:function(){var t=new i.Matrix4;return function(){var e,n=this.hmdEuler,r=this.el.object3D,i=this.pitchObject,a=this.yawObject,o=this.el.sceneEl;o.is("vr-mode")&&o.hasWebXR?(e=o.renderer.vr.getCameraPose())&&(t.elements=e.poseModelMatrix,t.decompose(r.position,r.rotation,r.scale)):r.updateMatrix(),o.is("vr-mode")&&o.checkHeadsetConnected()||(this.polyfillControls.update(),n.setFromQuaternion(this.polyfillObject.quaternion,"YXZ"),r.rotation.x=n.x+i.rotation.x,r.rotation.y=n.y+a.rotation.y)}}(),onMouseMove:function(t){var e,n,r,i=this.pitchObject,a=this.previousMouseEvent,o=this.yawObject;this.data.enabled&&(this.mouseDown||this.pointerLocked)&&(this.pointerLocked?(n=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0):(n=t.screenX-a.screenX,r=t.screenY-a.screenY),this.previousMouseEvent=t,e=this.data.reverseMouseDrag?1:-1,o.rotation.y+=.002*n*e,i.rotation.x+=.002*r*e,i.rotation.x=Math.max(-s,Math.min(s,i.rotation.x)))},onMouseDown:function(t){if(this.data.enabled&&0===t.button){var e=this.el.sceneEl,n=e&&e.canvas;this.mouseDown=!0,this.previousMouseEvent=t,this.showGrabbingCursor(),this.data.pointerLockEnabled&&!this.pointerLocked&&(n.requestPointerLock?n.requestPointerLock():n.mozRequestPointerLock&&n.mozRequestPointerLock())}},showGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor="grabbing"},hideGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor=""},onMouseUp:function(){this.mouseDown=!1,this.hideGrabbingCursor()},onTouchStart:function(t){1===t.touches.length&&this.data.touchEnabled&&(this.touchStart={x:t.touches[0].pageX,y:t.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(t){var e,n,r=this.el.sceneEl.canvas,i=this.yawObject;this.touchStarted&&this.data.touchEnabled&&(n=2*Math.PI*(t.touches[0].pageX-this.touchStart.x)/r.clientWidth,e=this.data.reverseTouchDrag?1:-1,i.rotation.y-=.5*n*e,this.touchStart={x:t.touches[0].pageX,y:t.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.saveCameraPose(),this.el.object3D.position.set(0,0,0),this.el.object3D.updateMatrix())},onExitVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0))},onPointerLockChange:function(){this.pointerLocked=!(!document.pointerLockElement&&!document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},exitPointerLock:function(){document.exitPointerLock(),this.pointerLocked=!1},updateGrabCursor:function(t){var e=this.el.sceneEl;function n(){e.canvas.classList.add("a-grab-cursor")}function r(){e.canvas.classList.remove("a-grab-cursor")}e.canvas?t?n():r():t?e.addEventListener("render-target-loaded",n):e.addEventListener("render-target-loaded",r)},saveCameraPose:function(){var t=this.el;this.savedPose.position.copy(t.object3D.position),this.savedPose.rotation.copy(t.object3D.rotation),this.hasSavedPose=!0},restoreCameraPose:function(){var t=this.el,e=this.savedPose;this.hasSavedPose&&(t.object3D.position.copy(e.position),t.object3D.rotation.copy(e.rotation),this.hasSavedPose=!1)}})},{"../core/component":103,"../lib/three":151,"../utils":176,"../utils/":176}],66:[function(t,e,n){var r=t("../utils/"),i=t("../core/component"),a=t("../lib/three"),o=t("../core/shader"),s=r.debug("components:material:error"),l=i.registerComponent,u=o.shaders,c=o.shaderNames;function d(t,e){t.dispose(),e.unregisterMaterial(t)}e.exports.Component=l("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:c,schemaChange:!0},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColors:{type:"string",default:"none",oneOf:["face","vertex"]},visible:{default:!0},blending:{default:"normal",oneOf:["none","normal","additive","subtractive","multiply"]}},init:function(){this.material=null},update:function(t){var e=this.data;this.shader&&e.shader===t.shader||this.updateShader(e.shader),this.shader.update(this.data),this.updateMaterial(t)},updateSchema:function(t){var e,n,r,i;n=t&&t.shader,e=this.oldData&&this.oldData.shader,(r=u[i=n||e]&&u[i].schema)||s("Unknown shader schema "+i),e&&n===e||(this.extendSchema(r),this.updateBehavior())},updateBehavior:function(){var t,e,n=this.el.sceneEl,r=this.schema,i=this;function a(t,n){var r;for(r in e)e[r]=t;i.shader.update(e)}for(t in this.tick=void 0,e={},r)"time"===r[t].type&&(this.tick=a,e[t]=!0);n&&(this.tick?n.addBehavior(this):n.removeBehavior(this))},updateShader:function(t){var e,n=this.data,r=u[t]&&u[t].Shader;if(!r)throw new Error("Unknown shader "+t);(e=this.shader=new r).el=this.el,e.init(n),this.setMaterial(e.material),this.updateSchema(n)},updateMaterial:function(t){var e,n=this.data,r=this.material;for(e in r.alphaTest=n.alphaTest,r.depthTest=!1!==n.depthTest,r.depthWrite=!1!==n.depthWrite,r.opacity=n.opacity,r.flatShading=n.flatShading,r.side=function(t){switch(t){case"back":return a.BackSide;case"double":return a.DoubleSide;default:return a.FrontSide}}(n.side),r.transparent=!1!==n.transparent||n.opacity<1,r.vertexColors=function(t){switch(t){case"face":return a.FaceColors;case"vertex":return a.VertexColors;default:return a.NoColors}}(n.vertexColors),r.visible=n.visible,r.blending=function(t){switch(t){case"none":return a.NoBlending;case"additive":return a.AdditiveBlending;case"subtractive":return a.SubtractiveBlending;case"multiply":return a.MultiplyBlending;default:return a.NormalBlending}}(n.blending),t)break;!e||t.alphaTest===n.alphaTest&&t.side===n.side&&t.vertexColors===n.vertexColors||(r.needsUpdate=!0)},remove:function(){var t=new a.MeshBasicMaterial,e=this.material,n=this.el.getObject3D("mesh");n&&(n.material=t),d(e,this.system)},setMaterial:function(t){var e,n=this.el,r=this.system;this.material&&d(this.material,r),this.material=t,r.registerMaterial(t),(e=n.getObject3D("mesh"))?e.material=t:n.addEventListener("object3dset",(function e(r){"mesh"===r.detail.type&&r.target===n&&(n.getObject3D("mesh").material=t,n.removeEventListener("object3dset",e))}))}})},{"../core/component":103,"../core/shader":113,"../lib/three":151,"../utils/":176}],67:[function(t,e,n){var r=t("../utils/debug"),i=t("../core/component").registerComponent,a=t("../lib/three"),o=r("components:obj-model:warn");e.exports.Component=i("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){var t=this;this.model=null,this.objLoader=new a.OBJLoader,this.mtlLoader=new a.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin="",this.el.addEventListener("componentinitialized",(function(e){t.model&&"material"===e.detail.name&&t.applyMaterial()}))},update:function(){var t=this.data;t.obj&&(this.resetMesh(),this.loadObj(t.obj,t.mtl))},remove:function(){this.model&&this.resetMesh()},resetMesh:function(){this.el.removeObject3D("mesh")},loadObj:function(t,e){var n=this,r=this.el,i=this.mtlLoader,a=this.objLoader,s=this.el.sceneEl.systems.renderer,l=e.substr(0,e.lastIndexOf("/")+1);if(e)return r.hasAttribute("material")&&o("Material component properties are ignored when a .MTL is provided"),i.setResourcePath(l),void i.load(e,(function(e){e.preload(),a.setMaterials(e),a.load(t,(function(t){n.model=t,n.model.traverse((function(t){if(t.isMesh){var e=t.material;e.color&&s.applyColorCorrection(e.color),e.map&&s.applyColorCorrection(e.map),e.emissive&&s.applyColorCorrection(e.emissive),e.emissiveMap&&s.applyColorCorrection(e.emissiveMap)}})),r.setObject3D("mesh",t),r.emit("model-loaded",{format:"obj",model:t})}))}));a.load(t,(function(t){n.model=t,n.applyMaterial(),r.setObject3D("mesh",t),r.emit("model-loaded",{format:"obj",model:t})}))},applyMaterial:function(){var t=this.el.components.material;t&&this.model.traverse((function(e){e instanceof a.Mesh&&(e.material=t.material)}))}})},{"../core/component":103,"../lib/three":151,"../utils/debug":172}],68:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),a=t("../utils/tracked-controls"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,l=a.onButtonEvent;e.exports.Component=r("oculus-go-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#FFFFFF"},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){o(this,"Oculus Go",this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{armModel:e.armModel,idPrefix:"Oculus Go",orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model","https://cdn.aframe.io/controllers/oculus/go/oculus-go-controller.gltf")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).trigger=n.getObjectByName("oculus_go_button_trigger"),e.trackpad=n.getObjectByName("oculus_go_touchpad"))},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&this.el.emit(e+"changed",t.detail.state)},onAxisMoved:function(t){s(this,this.mapping.axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n=this.buttonMeshes;if(n&&n[t]){var r,i;switch(e){case"down":r=this.data.buttonHighlightColor;break;case"touchstart":r=this.data.buttonTouchedColor;break;default:r=this.data.buttonColor}(i=n[t]).material.color.set(r),this.rendererSystem.applyColorCorrection(i.material.color)}}})},{"../core/component":103,"../utils/bind":170,"../utils/tracked-controls":184}],69:[function(t,e,n){var r=t("../utils/bind"),i=t("../core/component").registerComponent,a=t("../lib/three"),o=t("../utils/tracked-controls"),s=o.checkControllerPresentAndSetup,l=o.emitIfAxesChanged,u=o.onButtonEvent,c={left:"https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-left.gltf",right:"https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-right.gltf"},d=new a.Vector3(0,0,-.053),h={left:{origin:{x:.008,y:-.004,z:0},direction:{x:0,y:-.8,z:-1}},right:{origin:{x:-.008,y:-.004,z:0},direction:{x:0,y:-.8,z:-1}}};e.exports.Component=i("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},orientationOffset:{type:"vec3",default:{x:43,y:0,z:0}}},mapping:{left:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","abutton","bbutton","surface"]}},bindMethods:function(){this.onModelLoaded=r(this.onModelLoaded,this),this.onControllersUpdate=r(this.onControllersUpdate,this),this.checkIfControllerPresent=r(this.checkIfControllerPresent,this),this.onAxisMoved=r(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=r(this.onButtonChanged,this),this.onButtonDown=function(e){u(e.detail.id,"down",t,t.data.hand)},this.onButtonUp=function(e){u(e.detail.id,"up",t,t.data.hand)},this.onButtonTouchStart=function(e){u(e.detail.id,"touchstart",t,t.data.hand)},this.onButtonTouchEnd=function(e){u(e.detail.id,"touchend",t,t.data.hand)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("axismove",this.onAxisMoved),t.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("axismove",this.onAxisMoved),t.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){s(this,"Oculus Touch",{hand:this.data.hand})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},loadModel:function(){var t=this.data;t.model&&this.el.setAttribute("gltf-model","url("+c[t.hand]+")")},injectTrackedControls:function(){var t=this.data;this.el.setAttribute("tracked-controls",{id:"right"===t.hand?"Oculus Touch (Right)":"Oculus Touch (Left)",controller:0,hand:t.hand,orientationOffset:t.orientationOffset}),this.loadModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(t){var e,n=this.mapping[this.data.hand].buttons[t.detail.id],r=this.buttonMeshes;n&&("trigger"!==n&&"grip"!==n||(e=t.detail.state.value),r&&("trigger"===n&&r.trigger&&(r.trigger.rotation.x=this.originalXRotationTrigger-e*(Math.PI/26)),"grip"===n&&r.grip&&(r.grip.position.x=this.originalXPositionGrip+("left"===this.data.hand?-1:1)*e*.004)),this.el.emit(n+"changed",t.detail.state))},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).grip=n.getObjectByName("buttonHand"),this.originalXPositionGrip=e.grip.position.x,e.thumbstick=n.getObjectByName("stick"),e.trigger=n.getObjectByName("buttonTrigger"),this.originalXRotationTrigger=e.trigger.rotation.x,e.xbutton=n.getObjectByName("buttonX"),e.abutton=n.getObjectByName("buttonA"),e.ybutton=n.getObjectByName("buttonY"),e.bbutton=n.getObjectByName("buttonB"),n.position.copy(d),this.el.emit("controllermodelready",{name:"oculus-touch-controls",model:this.data.model,rayOrigin:h[this.data.hand]}))},onAxisMoved:function(t){l(this,this.mapping[this.data.hand].axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n,r="up"===e||"touchend"===e?this.data.buttonColor:"touchstart"===e?this.data.buttonTouchColor:this.data.buttonHighlightColor,i=this.buttonMeshes;this.data.model&&i&&i[t]&&((n=i[t]).material.color.set(r),this.rendererSystem.applyColorCorrection(n.material.color))}})},{"../core/component":103,"../lib/three":151,"../utils/bind":170,"../utils/tracked-controls":184}],70:[function(t,e,n){var r=t("../core/component").registerComponent;e.exports.Component=r("position",{schema:{type:"vec3"},update:function(){var t=this.el.object3D,e=this.data;t.position.set(e.x,e.y,e.z)},remove:function(){this.el.object3D.position.set(0,0,0)}})},{"../core/component":103}],71:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../lib/three"),a=t("../utils/").debug("components:raycaster:warn"),o=/^[\w\s-.,[\]#]*$/,s={childList:!0,attributes:!0,subtree:!0},l="raycaster-intersected",u="raycaster-intersection",c="raycaster-intersected-cleared",d="raycaster-intersection-cleared";function h(t,e){var n;for(t.length=e.length,n=0;n<e.length;n++)t[n]=e[n]}e.exports.Component=r("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},showLine:{default:!1},useWorldCoordinates:{default:!1}},multiple:!0,init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new i.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new i.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.updateLine=this.updateLine.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new i.Vector3,this.otherLineEndVec3=new i.Vector3,this.lineData={end:this.lineEndVec3},this.getIntersection=this.getIntersection.bind(this),this.intersectedDetail={el:this.el,getIntersection:this.getIntersection},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(t){var e=this.data,n=this.el,r=this.raycaster;r.far=e.far,r.near=e.near,!e.showLine||e.far===t.far&&e.origin===t.origin&&e.direction===t.direction&&t.showLine||(this.unitLineEndVec3.copy(e.origin).add(e.direction).normalize(),this.drawLine()),!e.showLine&&t.showLine&&n.removeAttribute("line"),e.objects===t.objects||o.test(e.objects)||a('[raycaster] Selector "'+e.objects+'" may not update automatically with DOM changes.'),e.objects||a('[raycaster] For performance, please define raycaster.objects when using raycaster or cursor components to whitelist which entities to intersect with. e.g., raycaster="objects: [data-raycastable]".'),e.autoRefresh!==t.autoRefresh&&n.isPlaying&&(e.autoRefresh?this.addEventListeners():this.removeEventListeners()),t.enabled&&!e.enabled&&this.clearAllIntersections(),this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line"),this.clearAllIntersections()},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,s),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var t,e=this.data;t=e.objects?this.el.sceneEl.querySelectorAll(e.objects):this.el.sceneEl.querySelectorAll("*"),this.objects=this.flattenObject3DMaps(t),this.dirty=!1},tick:function(t){var e=this.data,n=this.prevCheckTime;e.enabled&&(n&&t-n<e.interval||(this.prevCheckTime=t,this.checkIntersections()))},checkIntersections:function(){var t,e,n=this.clearedIntersectedEls,r=this.el,i=this.data,a=this.intersectedEls,o=this.intersections,s=this.newIntersectedEls,p=this.newIntersections,f=this.prevIntersectedEls,m=this.rawIntersections;for(this.dirty&&this.refreshObjects(),h(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),m.length=0,this.raycaster.intersectObjects(this.objects,!0,m),o.length=0,a.length=0,t=0;t<m.length;t++)e=m[t],i.showLine&&e.object===r.getObject3D("line")||e.object.el&&(o.push(e),a.push(e.object.el));for(p.length=0,s.length=0,t=0;t<o.length;t++)-1===f.indexOf(o[t].object.el)&&(p.push(o[t]),s.push(o[t].object.el));for(n.length=0,t=0;t<f.length;t++)-1===a.indexOf(f[t])&&(f[t].emit(c,this.intersectedClearedDetail),n.push(f[t]));for(n.length&&r.emit(d,this.intersectionClearedDetail),t=0;t<s.length;t++)s[t].emit(l,this.intersectedDetail);p.length&&(this.intersectionDetail.els=s,this.intersectionDetail.intersections=p,r.emit(u,this.intersectionDetail)),setTimeout(this.updateLine)},updateLine:function(){var t,e=this.el,n=this.intersections;this.data.showLine&&(n.length&&(t=n[0].object.el===e&&n[1]?n[1].distance:n[0].distance),this.drawLine(t))},getIntersection:function(t){var e,n;for(e=0;e<this.intersections.length;e++)if((n=this.intersections[e]).object.el===t)return n;return null},updateOriginDirection:function(){var t=new i.Vector3,e=new i.Vector3;return function(){var n=this.el,r=this.data;r.useWorldCoordinates?this.raycaster.set(r.origin,r.direction):(n.object3D.getWorldPosition(e),0===r.origin.x&&0===r.origin.y&&0===r.origin.z||(e=n.object3D.localToWorld(e.copy(r.origin))),t.copy(r.direction).transformDirection(n.object3D.matrixWorld).normalize(),this.raycaster.set(e,t))}}(),drawLine:function(t){var e,n=this.data,r=this.el;e=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3,void 0===t&&(t=n.far===1/0?1e3:n.far),this.lineData.start=n.origin,this.lineData.end=e.copy(this.unitLineEndVec3).multiplyScalar(t),r.setAttribute("line",this.lineData)},flattenObject3DMaps:function(t){var e,n,r=this.objects;for(r.length=0,n=0;n<t.length;n++)if(t[n].isEntity&&t[n].object3D)for(e in t[n].object3DMap)r.push(t[n].getObject3D(e));return r},clearAllIntersections:function(){var t;for(t=0;t<this.intersectedEls.length;t++)this.intersectedEls[t].emit(c,this.intersectedClearedDetail);h(this.clearedIntersectedEls,this.intersectedEls),this.intersectedEls.length=0,this.intersections.length=0,this.el.emit(d,this.intersectionClearedDetail)}})},{"../core/component":103,"../lib/three":151,"../utils/":176}],72:[function(t,e,n){var r=t("../lib/three").Math.degToRad,i=t("../core/component").registerComponent;e.exports.Component=i("rotation",{schema:{type:"vec3"},update:function(){var t=this.data,e=this.el.object3D;e.rotation.set(r(t.x),r(t.y),r(t.z)),e.rotation.order="YXZ"},remove:function(){this.el.object3D.rotation.set(0,0,0)}})},{"../core/component":103,"../lib/three":151}],73:[function(t,e,n){var r=t("../core/component").registerComponent;e.exports.Component=r("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var t=this.data,e=this.el.object3D,n=0===t.x?1e-5:t.x,r=0===t.y?1e-5:t.y,i=0===t.z?1e-5:t.z;e.scale.set(n,r,i)},remove:function(){this.el.object3D.scale.set(1,1,1)}})},{"../core/component":103}],74:[function(t,e,n){var r=t("../../core/component").registerComponent;e.exports.Component=r("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},update:function(){var t=this.data,e=this.el.object3D;t.transparent?e.background=null:e.background=new THREE.Color(t.color)}})},{"../../core/component":103}],75:[function(t,e,n){var r=t("../../core/component").registerComponent;e.exports.Component=r("debug",{schema:{default:!0}})},{"../../core/component":103}],76:[function(t,e,n){var r=t("../../core/component").registerComponent;e.exports.Component=r("embedded",{dependencies:["vr-mode-ui"],schema:{default:!0},update:function(){var t=this.el,e=t.querySelector(".a-enter-vr");!0===this.data?(e&&e.classList.add("embedded"),t.removeFullScreenStyles()):(e&&e.classList.remove("embedded"),t.addFullScreenStyles())}})},{"../../core/component":103}],77:[function(t,e,n){var r=t("../../core/component").registerComponent,i=t("../../lib/three"),a=t("../../utils/debug")("components:fog:warn");e.exports.Component=r("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},update:function(){var t=this.data,e=this.el,n=this.el.object3D.fog;if(e.isScene)return n&&t.type===n.name?void Object.keys(this.schema).forEach((function(e){var r=t[e];"color"===e&&(r=new i.Color(r)),n[e]=r})):(e.object3D.fog=function(t){var e;return(e="exponential"===t.type?new i.FogExp2(t.color,t.density):new i.Fog(t.color,t.near,t.far)).name=t.type,e}(t),void e.systems.material.updateMaterials());a("Fog component can only be applied to <a-scene>")},remove:function(){var t=this.el.object3D.fog;t&&(t.far=0,t.near=.1)}})},{"../../core/component":103,"../../lib/three":151,"../../utils/debug":172}],78:[function(t,e,n){(function(n){var r=t("../../constants").AFRAME_INJECTED,i=t("../../../package"),a=t("../../core/component").registerComponent,o=t("../../utils/"),s="https://unpkg.com/aframe-inspector@"+function(t){var e=t.split(".");return e[2]="x",e.join(".")}(i.version)+"/dist/aframe-inspector.min.js",l="dev"===n.env.INSPECTOR_VERSION?"https://aframe.io/aframe-inspector/dist/aframe-inspector.js":s;e.exports.Component=a("inspector",{schema:{url:{default:l}},init:function(){this.firstPlay=!0,this.onKeydown=this.onKeydown.bind(this),this.onMessage=this.onMessage.bind(this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},play:function(){var t;this.firstPlay&&"false"!==(t=o.getUrlParameter("inspector"))&&t&&(this.openInspector(),this.firstPlay=!1)},initOverlay:function(){this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML='Loading Inspector<span class="dots"><span>.</span><span>.</span><span>.</span></span>'},remove:function(){this.removeEventListeners()},onKeydown:function(t){73===t.keyCode&&t.ctrlKey&&t.altKey&&this.openInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){document.body.removeChild(this.loadingMessageEl)},onMessage:function(t){"INJECT_AFRAME_INSPECTOR"===t.data&&this.openInspector()},openInspector:function(t){var e,n=this;AFRAME.INSPECTOR||AFRAME.inspectorInjected?AFRAME.INSPECTOR.open(t):(this.showLoader(),(e=document.createElement("script")).src=this.data.url,e.setAttribute("data-name","aframe-inspector"),e.setAttribute(r,""),e.onload=function(){AFRAME.INSPECTOR.open(t),n.hideLoader(),n.removeEventListeners()},e.onerror=function(){n.loadingMessageEl.innerHTML="Error loading Inspector"},document.head.appendChild(e),AFRAME.inspectorInjected=!0)},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})}).call(this,t("_process"))},{"../../../package":51,"../../constants":95,"../../core/component":103,"../../utils/":176,_process:32}],79:[function(t,e,n){var r=t("../../core/component").registerComponent,i=t("../../utils/").shouldCaptureKeyEvent;e.exports.Component=r("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},init:function(){this.onKeyup=this.onKeyup.bind(this)},update:function(t){var e=this.data;this.enterVREnabled=e.enterVR},play:function(){window.addEventListener("keyup",this.onKeyup,!1)},pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(t){var e=this.el;i(t)&&(this.enterVREnabled&&70===t.keyCode&&e.enterVR(),this.enterVREnabled&&27===t.keyCode&&e.exitVR())}})},{"../../core/component":103,"../../utils/":176}],80:[function(t,e,n){var r=t("../../utils/debug"),i=t("../../core/component").registerComponent,a=r("components:pool:warn");e.exports.Component=i("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},multiple:!0,initPool:function(){var t;for(this.availableEls=[],this.usedEls=[],this.data.mixin||a("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||a("Container "+this.data.container+" not found.")),this.container=this.container||this.el,t=0;t<this.data.size;++t)this.createEntity()},update:function(t){var e=this.data;t.mixin===e.mixin&&t.size===e.size||this.initPool()},createEntity:function(){var t;(t=document.createElement("a-entity")).play=this.wrapPlay(t.play),t.setAttribute("mixin",this.data.mixin),t.object3D.visible=!1,t.pause(),this.container.appendChild(t),this.availableEls.push(t)},wrapPlay:function(t){var e=this.usedEls;return function(){-1!==e.indexOf(this)&&t.call(this)}},requestEntity:function(){var t;if(0===this.availableEls.length){if(!1===this.data.dynamic)return void a("Requested entity from empty pool: "+this.attrName);a("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.attrName),this.createEntity()}return t=this.availableEls.shift(),this.usedEls.push(t),t.object3D.visible=!0,t},returnEntity:function(t){var e=this.usedEls.indexOf(t);if(-1!==e)return this.usedEls.splice(e,1),this.availableEls.push(t),t.object3D.visible=!1,t.pause(),t;a("The returned entity was not previously pooled from "+this.attrName)}})},{"../../core/component":103,"../../utils/debug":172}],81:[function(t,e,n){var r=t("../../core/component").registerComponent,i=t("../../lib/three"),a=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),o=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join("\n");e.exports.Component=r("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},init:function(){var t=this.el,e=this;function n(){var n=t.renderer.getContext();n&&(e.cubeMapSize=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),e.material=new i.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:a,fragmentShader:o,side:i.DoubleSide}),e.quad=new i.Mesh(new i.PlaneBufferGeometry(1,1),e.material),e.quad.visible=!1,e.camera=new i.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),e.canvas=document.createElement("canvas"),e.ctx=e.canvas.getContext("2d"),t.object3D.add(e.quad),e.onKeyDown=e.onKeyDown.bind(e))}t.renderer?n():t.addEventListener("render-target-loaded",n)},getRenderTarget:function(t,e){return new i.WebGLRenderTarget(t,e,{minFilter:i.LinearFilter,magFilter:i.LinearFilter,wrapS:i.ClampToEdgeWrapping,wrapT:i.ClampToEdgeWrapping,format:i.RGBAFormat,type:i.UnsignedByteType})},resize:function(t,e){this.quad.scale.set(t,e,1),this.camera.left=-1*t/2,this.camera.right=t/2,this.camera.top=e/2,this.camera.bottom=-1*e/2,this.camera.updateProjectionMatrix(),this.canvas.width=t,this.canvas.height=e},play:function(){window.addEventListener("keydown",this.onKeyDown)},onKeyDown:function(t){var e=83===t.keyCode&&t.ctrlKey&&t.altKey;if(this.data&&e){var n=t.shiftKey?"equirectangular":"perspective";this.capture(n)}},setCapture:function(t){var e,n,r,a=this.el;return"perspective"===t?(this.quad.visible=!1,n=this.data.camera&&this.data.camera.components.camera.camera||a.camera,e={width:this.data.width,height:this.data.height}):(n=this.camera,r=new i.CubeCamera(a.camera.near,a.camera.far,Math.min(this.cubeMapSize,2048)),a.camera.getWorldPosition(r.position),a.camera.getWorldQuaternion(r.quaternion),r.update(a.renderer,a.object3D),this.quad.material.uniforms.map.value=r.renderTarget.texture,e={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:n,size:e,projection:t}},capture:function(t){var e,n=this.el.renderer.vr.enabled,r=this.el.renderer;r.vr.enabled=!1,e=this.setCapture(t),this.renderCapture(e.camera,e.size,e.projection),this.saveCapture(),r.vr.enabled=n},getCanvas:function(t){var e=this.setCapture(t);return this.renderCapture(e.camera,e.size,e.projection),this.canvas},renderCapture:function(t,e,n){var r,i,a,o=this.el.renderer.autoClear,s=this.el,l=s.renderer;i=this.getRenderTarget(e.width,e.height),a=new Uint8Array(4*e.width*e.height),this.resize(e.width,e.height),l.autoClear=!0,l.render(s.object3D,t,i,!0),l.autoClear=o,l.readRenderTargetPixels(i,0,0,e.width,e.height,a),"perspective"===n&&(a=this.flipPixelsVertically(a,e.width,e.height)),r=new ImageData(new Uint8ClampedArray(a),e.width,e.height),this.quad.visible=!1,this.ctx.putImageData(r,0,0)},flipPixelsVertically:function(t,e,n){for(var r=t.slice(0),i=0;i<e;++i)for(var a=0;a<n;++a)r[4*i+a*e*4]=t[4*i+(n-a)*e*4],r[4*i+1+a*e*4]=t[4*i+1+(n-a)*e*4],r[4*i+2+a*e*4]=t[4*i+2+(n-a)*e*4],r[4*i+3+a*e*4]=t[4*i+3+(n-a)*e*4];return r},saveCapture:function(){this.canvas.toBlob((function(t){var e="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",n=document.createElement("a"),r=URL.createObjectURL(t);n.href=r,n.setAttribute("download",e),n.innerHTML="downloading...",n.style.display="none",document.body.appendChild(n),setTimeout((function(){n.click(),document.body.removeChild(n)}),1)}),"image/png")}})},{"../../core/component":103,"../../lib/three":151}],82:[function(t,e,n){var r=t("../../core/component").registerComponent,i=t("../../../vendor/rStats"),a=t("../../utils");t("../../../vendor/rStats.extras"),t("../../lib/rStatsAframe");var o=window.aframeStats,s=a.bind,l=window.threeStats;e.exports.Component=r("stats",{schema:{default:!0},init:function(){var t=this.el;"false"!==a.getUrlParameter("stats")&&(this.stats=function(t){var e=new l(t.renderer),n=new o(t),r=t.isMobile?[]:[e,n];return new i({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:r})}(t),this.statsEl=document.querySelector(".rs-base"),this.hideBound=s(this.hide,this),this.showBound=s(this.show,this),t.addEventListener("enter-vr",this.hideBound),t.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var t=this.stats;t&&(t("rAF").tick(),t("FPS").frame(),t().update())},hide:function(){this.statsEl.classList.add("a-hidden")},show:function(){this.statsEl.classList.remove("a-hidden")}})},{"../../../vendor/rStats":186,"../../../vendor/rStats.extras":185,"../../core/component":103,"../../lib/rStatsAframe":150,"../../utils":176}],83:[function(t,e,n){var r=t("../../core/component").registerComponent,i=t("../../constants/"),a=t("../../utils/"),o=a.bind,s="a-enter-vr",l="a-enter-vr-button",u="a-hidden",c="a-orientation-modal";e.exports.Component=r("vr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0},enterVRButton:{default:""}},init:function(){var t=this,e=this.el;"false"!==a.getUrlParameter("ui")&&(this.insideLoader=!1,this.enterVREl=null,this.orientationModalEl=null,this.bindMethods(),e.addEventListener("enter-vr",this.updateEnterVRInterface),e.addEventListener("exit-vr",this.updateEnterVRInterface),window.addEventListener("message",(function(e){"loaderReady"===e.data.type&&(t.insideLoader=!0,t.remove())})),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=o(this.onEnterVRButtonClick,this),this.onModalClick=o(this.onModalClick,this),this.toggleOrientationModalIfNeeded=o(this.toggleOrientationModalIfNeeded,this),this.updateEnterVRInterface=o(this.updateEnterVRInterface,this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},update:function(){var t=this.data,e=this.el;if(!t.enabled||this.insideLoader||"false"===a.getUrlParameter("ui"))return this.remove();this.enterVREl||this.orientationModalEl||(t.enterVRButton?(this.enterVREl=document.querySelector(t.enterVRButton),this.enterVREl.addEventListener("click",this.onEnterVRButtonClick)):(this.enterVREl=function(t){var e,n;return(n=document.createElement("div")).classList.add(s),n.setAttribute(i.AFRAME_INJECTED,""),(e=document.createElement("button")).className=l,e.setAttribute("title","Enter VR mode with a headset or fullscreen mode on a desktop. Visit https://webvr.rocks or https://webvr.info for more information."),e.setAttribute(i.AFRAME_INJECTED,""),n.appendChild(e),e.addEventListener("click",(function(e){t(),e.stopPropagation()})),n}(this.onEnterVRButtonClick),e.appendChild(this.enterVREl)),this.orientationModalEl=function(t){var e=document.createElement("div");e.className=c,e.classList.add(u),e.setAttribute(i.AFRAME_INJECTED,"");var n=document.createElement("button");return n.setAttribute(i.AFRAME_INJECTED,""),n.innerHTML="Exit VR",n.addEventListener("click",t),e.appendChild(n),e}(this.onModalClick),e.appendChild(this.orientationModalEl),this.updateEnterVRInterface())},remove:function(){[this.enterVREl,this.orientationModalEl].forEach((function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}))},updateEnterVRInterface:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var t=this.el;this.enterVREl&&(t.is("vr-mode")?this.enterVREl.classList.add(u):this.enterVREl.classList.remove(u))},toggleOrientationModalIfNeeded:function(){var t=this.el,e=this.orientationModalEl;e&&t.isMobile&&(!a.device.isLandscape()&&t.is("vr-mode")?e.classList.remove(u):e.classList.add(u))}})},{"../../constants/":95,"../../core/component":103,"../../utils/":176}],84:[function(t,e,n){var r=t("../core/component"),i=t("../lib/three"),a=t("../utils/bind"),o=r.registerComponent;e.exports.Component=o("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=a(this.update,this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:function(){var t=this.data;this.updateDescendants(t.cast,t.receive)},remove:function(){this.el.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(t,e){var n=this.el.sceneEl;this.el.object3D.traverse((function(r){if(r instanceof i.Mesh&&(r.castShadow=t,r.receiveShadow=e,n.hasLoaded&&r.material))for(var a=Array.isArray(r.material)?r.material:[r.material],o=0;o<a.length;o++)a[o].needsUpdate=!0}))}})},{"../core/component":103,"../lib/three":151,"../utils/bind":170}],85:[function(t,n,r){var i=t("../core/component").registerComponent,a=t("../utils/debug"),o=t("../lib/three"),s=a("components:sound:warn");n.exports.Component=i("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){var t=this;this.listener=null,this.audioLoader=new o.AudioLoader,this.pool=new o.Group,this.loaded=!1,this.mustPlay=!1,this.playSoundBound=function(){t.playSound()}},update:function(t){var e,n,r=this.data,i=r.src!==t.src;if(i){if(!r.src)return;this.setupSound()}for(e=0;e<this.pool.children.length;e++)n=this.pool.children[e],r.positional&&(n.setDistanceModel(r.distanceModel),n.setMaxDistance(r.maxDistance),n.setRefDistance(r.refDistance),n.setRolloffFactor(r.rolloffFactor)),n.setLoop(r.loop),n.setVolume(r.volume),n.isPaused=!1;if(r.on!==t.on&&this.updateEventListener(t.on),i){var a=this;this.loaded=!1,this.audioLoader.load(r.src,(function(t){for(e=0;e<a.pool.children.length;e++)(n=a.pool.children[e]).setBuffer(t);a.loaded=!0,o.Cache.remove(r.src),(a.data.autoplay||a.mustPlay)&&a.playSound(),a.el.emit("sound-loaded",a.evtDetail,!1)}))}},pause:function(){this.stopSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){var t;this.removeEventListener(),this.el.getObject3D(this.attrName)&&this.el.removeObject3D(this.attrName);try{for(t=0;t<this.pool.children.length;t++)this.pool.children[t].disconnect()}catch(e){s("Audio source not properly disconnected")}},updateEventListener:function(t){var e=this.el;t&&e.removeEventListener(t,this.playSoundBound),e.addEventListener(this.data.on,this.playSoundBound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSoundBound)},setupSound:function(){var t,e,n=this.el,r=n.sceneEl,i=this;this.pool.children.length>0&&(this.stopSound(),n.removeObject3D("sound"));var a=this.listener=r.audioListener||new o.AudioListener;for(r.audioListener=a,r.camera&&r.camera.add(a),r.addEventListener("camera-set-active",(function(t){t.detail.cameraEl.getObject3D("camera").add(a)})),this.pool=new o.Group,t=0;t<this.data.poolSize;t++)e=this.data.positional?new o.PositionalAudio(a):new o.Audio(a),this.pool.add(e);for(n.setObject3D(this.attrName,this.pool),t=0;t<this.pool.children.length;t++)(e=this.pool.children[t]).onEnded=function(){this.isPlaying=!1,i.el.emit("sound-ended",i.evtDetail,!1)}},pauseSound:function(){var t,e;for(this.isPlaying=!1,t=0;t<this.pool.children.length;t++)(e=this.pool.children[t]).source&&e.source.buffer&&e.isPlaying&&!e.isPaused&&(e.isPaused=!0,e.pause())},playSound:function(t){var e,n,r;if(!this.loaded)return s("Sound not loaded yet. It will be played once it finished loading"),void(this.mustPlay=!0);for(e=!1,this.isPlaying=!0,n=0;n<this.pool.children.length;n++)(r=this.pool.children[n]).isPlaying||!r.buffer||e||(t&&t(r),r.play(),r.isPaused=!1,e=!0);e?this.mustPlay=!1:s("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el)},stopSound:function(){var t,e;for(this.isPlaying=!1,t=0;t<this.pool.children.length;t++){if(!(e=this.pool.children[t]).source||!e.source.buffer)return;e.stop()}}})},{"../core/component":103,"../lib/three":151,"../utils/debug":172}],86:[function(t,e,n){var r=t("three-bmfont-text"),i=t("load-bmfont"),a=t("../core/component").registerComponent,o=t("../core/shader"),s=t("../lib/three"),l=t("../utils/"),u=l.debug("components:text:error"),c=o.shaders,d=l.debug("components:text:warn"),h="https://cdn.aframe.io/fonts/",p={aileronsemibold:h+"Aileron-Semibold.fnt",dejavu:h+"DejaVu-sdf.fnt",exo2bold:h+"Exo2Bold.fnt",exo2semibold:h+"Exo2SemiBold.fnt",kelsonsans:h+"KelsonSans.fnt",monoid:h+"Monoid.fnt",mozillavr:h+"mozillavr.fnt",roboto:h+"Roboto-msdf.json",sourcecodepro:h+"SourceCodePro.fnt"},f=["roboto"];e.exports.FONTS=p;var m=new function(){var t=this.cache={};this.get=function(e,n){return e in t?t[e]:(t[e]=n(),t[e])}},v={},g={},y=/^\w+:/;function _(t,e,n){return t||(.5+e)*n}e.exports.Component=a("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:"roboto"},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:c},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=r(),this.createOrUpdateMaterial(),this.mesh=new s.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh)},update:function(t){var e=this.data,n=this.currentFont;g[e.font]?this.texture=g[e.font]:(this.texture=g[e.font]=new s.Texture,this.texture.anisotropy=16),this.createOrUpdateMaterial(),t.font===e.font?n&&(this.updateGeometry(this.geometry,n),this.updateLayout()):this.updateFont()},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var t,e,n,r=this.data,i=this.material,a=this.shaderData;if(n=r.shader,-1!==f.indexOf(r.font)||r.font.indexOf("-msdf.")>=0?n="msdf":r.font in p&&-1===f.indexOf(r.font)&&(n="sdf"),t=(this.shaderObject&&this.shaderObject.name)!==n,a.alphaTest=r.alphaTest,a.color=r.color,a.map=this.texture,a.opacity=r.opacity,a.side=function(t){switch(t){case"back":return s.FrontSide;case"double":return s.DoubleSide;default:return s.BackSide}}(r.side),a.transparent=r.transparent,a.negate=r.negate,!t)return this.shaderObject.update(a),i.transparent=a.transparent,void(i.side=a.side);e=function(t,e,n){var r,i;return(i=new c[e].Shader).el=t,i.init(n),i.update(n),(r=i.material).transparent=n.transparent,{material:r,shader:i}}(this.el,n,a),this.material=e.material,this.shaderObject=e.shader,this.material.side=a.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var t,e=this.data,n=this.el,r=this.geometry,a=this;e.font||d("No font specified. Using the default font."),this.mesh.visible=!1,t=this.lookupFont(e.font||"roboto")||e.font,m.get(t,(function(){return n=t,r=e.yOffset,new Promise((function(t,e){i(n,(function(i,a){if(i)return u("Error loading font",n),void e(i);n.indexOf("/Roboto-msdf.json")>=0&&(r=30),r&&a.chars.map((function(t){t.yoffset+=r})),t(a)}))}));var n,r})).then((function(i){var o;if(1!==i.pages.length)throw new Error("Currently only single-page bitmap fonts are supported.");v[t]||(i.widthFactor=v[i]=function(t){var e=0,n=0,r=0;return t.chars.map((function(t){e+=t.xadvance,t.id>=48&&t.id<=57&&(r++,n+=t.xadvance)})),r?n/r:e/t.chars.length}(i)),a.updateGeometry(r,i),a.currentFont=i,a.updateLayout(),o=a.getFontImageSrc(),m.get(o,(function(){return t=o,new Promise((function(e,n){(new s.ImageLoader).load(t,(function(t){e(t)}),void 0,(function(){u("Error loading font image",t),n(null)}))}));var t})).then((function(t){var r=a.texture;r.image=t,r.needsUpdate=!0,g[e.font]=r,a.texture=r,a.mesh.visible=!0,n.emit("textfontset",{font:e.font,fontObj:i})})).catch((function(t){u(t.message),u(t.stack)}))})).catch((function(t){u(t.message),u(t.stack)}))},getFontImageSrc:function(){if(this.data.fontImage)return this.data.fontImage;var t=this.lookupFont(this.data.font||"roboto")||this.data.font,e=this.currentFont.pages[0];return e.match(y)&&0!==e.indexOf("http")?t.replace(/(\.fnt)|(\.json)/,".png"):s.LoaderUtils.extractUrlBase(t)+e},updateLayout:function(){var t,e,n,r,i,a,o,s,l,u=this.el,c=this.data,d=this.geometry,h=this.mesh;if(d.layout){if(n=u.getAttribute("geometry"),r=(a=(o=c.width||n&&n.width||1)/_(c.wrapPixels,c.wrapCount,this.currentFont.widthFactor))*((i=d.layout).height+i.descender),n&&"plane"===n.primitive&&(n.width||u.setAttribute("geometry","width",o),n.height||u.setAttribute("geometry","height",r)),"left"===(t="align"===c.anchor?c.align:c.anchor))s=0;else if("right"===t)s=-1*i.width;else{if("center"!==t)throw new TypeError("Invalid text.anchor property value",t);s=-1*i.width/2}if("bottom"===(e=c.baseline))l=0;else if("top"===e)l=-1*i.height+i.ascender;else{if("center"!==e)throw new TypeError("Invalid text.baseline property value",e);l=-1*i.height/2}h.position.x=s*a+c.xOffset,h.position.y=l*a,h.position.z=c.zOffset,h.scale.set(a,-1*a,a)}},lookupFont:function(t){return p[t]},updateGeometry:function(){var t={},e={},n=/\\n/g,r=/\\t/g;return function(i,a){var o=this.data;e.font=a,e.lineHeight=o.lineHeight&&isFinite(o.lineHeight)?o.lineHeight:a.common.lineHeight,e.text=o.value.toString().replace(n,"\n").replace(r,"\t"),e.width=_(o.wrapPixels,o.wrapCount,a.widthFactor),i.update(l.extend(t,o,e))}}()})},{"../core/component":103,"../core/shader":113,"../lib/three":151,"../utils/":176,"load-bmfont":23,"three-bmfont-text":41}],87:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/tracked-controls"),a=t("../constants").DEFAULT_CAMERA_HEIGHT,o=t("../lib/three"),s=t("../constants").DEFAULT_HANDEDNESS,l=.175,u=-.3,c=-.03,d=0,h=0,p=-.175,f={touches:[]},m="axismove",v="buttonchanged",g="buttondown",y="buttonup",_="touchstart",b="touchend";e.exports.Component=r("tracked-controls-webvr",{schema:{autoHide:{default:!0},controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!0},headElement:{type:"selector"}},init:function(){this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.changedAxes=[],this.targetControllerNumber=this.data.controller,this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.deltaControllerPosition=new o.Vector3,this.controllerQuaternion=new o.Quaternion,this.controllerEuler=new o.Euler,this.updateGamepad(),this.buttonEventDetails={}},tick:function(t,e){var n=this.el.getObject3D("mesh");n&&n.update&&n.update(e/1e3),this.updateGamepad(),this.updatePose(),this.updateButtons()},defaultUserHeight:function(){return a},getHeadElement:function(){return this.data.headElement||this.el.sceneEl.camera.el},updateGamepad:function(){var t=this.data,e=i.findMatchingControllerWebVR(this.system.controllers,t.id,t.idPrefix,t.hand,t.controller);this.controller=e,this.el.components["tracked-controls"].controller=e,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},applyArmModel:function(t){var e,n,r,i,a=this.controller,o=this.controllerEuler,f=this.controllerQuaternion,m=this.deltaControllerPosition;n=this.getHeadElement().object3D,i=this.defaultUserHeight(),r=a.pose,e=(a?a.hand:void 0)||s,t.copy(n.position),m.set(l*("left"===e?-1:"right"===e?1:0),u,c),m.multiplyScalar(i),m.applyAxisAngle(n.up,n.rotation.y),t.add(m),m.set(d,h,p),m.multiplyScalar(i),r.orientation?f.fromArray(r.orientation):f.copy(n.quaternion),o.setFromQuaternion(f),o.set(o.x,o.y,0),m.applyEuler(o),t.add(m)},updatePose:function(){var t,e,n=this.controller,r=this.data,i=this.el.object3D,a=this.system.vrDisplay;n&&((t=n.pose).position?i.position.fromArray(t.position):r.armModel&&this.applyArmModel(i.position),t.orientation&&i.quaternion.fromArray(t.orientation),a&&t.position&&(e=this.el.sceneEl.renderer.vr.getStandingMatrix(),i.matrix.compose(i.position,i.quaternion,i.scale),i.matrix.multiplyMatrices(e,i.matrix),i.matrix.decompose(i.position,i.quaternion,i.scale)),i.rotateX(this.data.orientationOffset.x*o.Math.DEG2RAD),i.rotateY(this.data.orientationOffset.y*o.Math.DEG2RAD),i.rotateZ(this.data.orientationOffset.z*o.Math.DEG2RAD))},updateButtons:function(){var t,e,n=this.controller;if(n){for(e=0;e<n.buttons.length;++e)this.buttonStates[e]||(this.buttonStates[e]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[e]||(this.buttonEventDetails[e]={id:e,state:this.buttonStates[e]}),t=n.buttons[e],this.handleButton(e,t);this.handleAxes()}},handleButton:function(t,e){return!!(this.handlePress(t,e)|this.handleTouch(t,e)|this.handleValue(t,e))&&(this.el.emit(v,this.buttonEventDetails[t],!1),!0)},handleAxes:function(){var t,e=!1,n=this.controller.axes,r=this.axis,i=this.changedAxes;for(this.changedAxes.length=0,t=0;t<n.length;++t)i.push(r[t]!==n[t]),i[t]&&(e=!0);if(!e)return!1;for(this.axis.length=0,t=0;t<n.length;t++)this.axis.push(n[t]);return this.el.emit(m,this.axisMoveEventDetail,!1),!0},handlePress:function(t,e){var n,r=this.buttonStates[t];return e.pressed!==r.pressed&&(n=e.pressed?g:y,this.el.emit(n,this.buttonEventDetails[t],!1),r.pressed=e.pressed,!0)},handleTouch:function(t,e){var n,r=this.buttonStates[t];return e.touched!==r.touched&&(n=e.touched?_:b,this.el.emit(n,this.buttonEventDetails[t],!1,f),r.touched=e.touched,!0)},handleValue:function(t,e){var n=this.buttonStates[t];return e.value!==n.value&&(n.value=e.value,!0)}})},{"../constants":95,"../core/component":103,"../lib/three":151,"../utils/tracked-controls":184}],88:[function(t,e,n){var r=t("../utils/tracked-controls"),i=t("../core/component").registerComponent;e.exports.Component=i("tracked-controls-webxr",{schema:{hand:{type:"string",default:""}},init:function(){this.addSessionEventListeners=this.addSessionEventListeners.bind(this),this.updateController=this.updateController.bind(this),this.emitButtonUpEvent=this.emitButtonUpEvent.bind(this),this.emitButtonDownEvent=this.emitButtonDownEvent.bind(this),this.buttonEventDetails={id:"trigger",state:{pressed:!1}}},play:function(){var t=this.el.sceneEl;this.updateController(),this.addSessionEventListeners(),t.addEventListener("enter-vr",this.addSessionEventListeners),t.addEventListener("controllersupdated",this.updateController)},pause:function(){var t=this.el.sceneEl;this.removeSessionEventListeners(),t.removeEventListener("enter-vr",this.addSessionEventListeners),t.removeEventListener("controllersupdated",this.updateController)},addSessionEventListeners:function(){var t=this.el.sceneEl;t.xrSession&&(t.xrSession.addEventListener("selectstart",this.emitButtonDownEvent),t.xrSession.addEventListener("selectend",this.emitButtonUpEvent))},removeSessionEventListeners:function(){var t=this.el.sceneEl;t.xrSession&&(t.xrSession.addEventListener("selectstart",this.emitButtonDownEvent),t.xrSession.addEventListener("selectend",this.emitButtonUpEvent))},emitButtonDownEvent:function(t){this.controller&&t.inputSource.handedness===this.data.hand&&(this.buttonEventDetails.state.pressed=!0,this.el.emit("buttondown",this.buttonEventDetails),this.el.emit("buttonchanged",this.buttonEventDetails),this.el.emit("triggerdown"))},emitButtonUpEvent:function(t){this.controller&&t.inputSource.handedness===this.data.hand&&(this.buttonEventDetails.state.pressed=!1,this.el.emit("buttonup",this.buttonEventDetails),this.el.emit("buttonchanged",this.buttonEventDetails),this.el.emit("triggerup"))},updateController:function(){this.controller=r.findMatchingControllerWebXR(this.system.controllers,this.data.hand),this.el.components["tracked-controls"].controller=this.controller,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},tick:function(){var t,e=this.el.sceneEl,n=this.el.object3D;this.controller&&e.frame&&(t=e.frame.getInputPose(this.controller,e.frameOfReference))&&(n.matrix.elements=t.targetRay.transformMatrix,n.matrix.decompose(n.position,n.rotation,n.scale))}})},{"../core/component":103,"../utils/tracked-controls":184}],89:[function(t,e,n){var r=t("../core/component").registerComponent;e.exports.Component=r("tracked-controls",{schema:{autoHide:{default:!0},controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!0},headElement:{type:"selector"}},update:function(){var t=this.data,e=this.el;e.sceneEl.hasWebXR?e.setAttribute("tracked-controls-webxr",t):e.setAttribute("tracked-controls-webvr",t)}})},{"../core/component":103}],90:[function(t,e,n){var r=t("../core/component").registerComponent;e.exports.Component=r("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}})},{"../core/component":103}],91:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),a=t("../utils/tracked-controls"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,l=a.onButtonEvent;e.exports.Component=r("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger","grip","menu","system"]},init:function(){var t=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var t=this.data,e="right"===t.hand?0:"left"===t.hand?1:2;o(this,"OpenVR ",{index:e})},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{idPrefix:"OpenVR ",controller:"right"===e.hand?1:"left"===e.hand?0:2,orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/vive/vr_controller_vive.obj",mtl:"https://cdn.aframe.io/controllers/vive/vr_controller_vive.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(t){var e,n=this.mapping.buttons[t.detail.id],r=this.buttonMeshes;n&&("trigger"===n&&(e=t.detail.state.value,r&&r.trigger&&(r.trigger.rotation.x=-e*(Math.PI/12))),this.el.emit(n+"changed",t.detail.state))},onModelLoaded:function(t){var e,n=t.detail.model,r=this;this.data.model&&((e=this.buttonMeshes={}).grip={left:n.getObjectByName("leftgrip"),right:n.getObjectByName("rightgrip")},e.menu=n.getObjectByName("menubutton"),e.system=n.getObjectByName("systembutton"),e.trackpad=n.getObjectByName("touchpad"),e.trigger=n.getObjectByName("trigger"),Object.keys(e).forEach((function(t){r.setButtonColor(t,r.data.buttonColor)})),n.position.set(0,-.015,.04))},onAxisMoved:function(t){s(this,this.mapping.axes,t)},updateModel:function(t,e){var n;this.data.model&&(-1!==e.indexOf("touch")||(n="up"===e?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(t,n)))},setButtonColor:function(t,e){var n=this.buttonMeshes,r=this.rendererSystem;if(n){if("grip"===t)return n.grip.left.material.color.set(e),n.grip.right.material.color.set(e),r.applyColorCorrection(n.grip.left.material.color),void r.applyColorCorrection(n.grip.right.material.color);n[t].material.color.set(e),r.applyColorCorrection(n[t].material.color)}}})},{"../core/component":103,"../utils/bind":170,"../utils/tracked-controls":184}],92:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),a=t("../utils/tracked-controls"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,l=a.onButtonEvent;e.exports.Component=r("vive-focus-controls",{schema:{hand:{default:""},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trigger","trackpad"]},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){o(this,"HTC Vive Focus",this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{armModel:e.armModel,idPrefix:"HTC Vive Focus",orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model","https://cdn.aframe.io/controllers/vive/focus-controller/focus-controller.gltf")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).trigger=n.getObjectByName("BumperKey"),e.triggerPressed=n.getObjectByName("BumperKey_Press"),e.triggerPressed&&(e.triggerPressed.visible=!1),e.trackpad=n.getObjectByName("TouchPad"),e.trackpadPressed=n.getObjectByName("TouchPad_Press"),e.trackpadPressed&&(e.trackpadPressed.visible=!1))},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&this.el.emit(e+"changed",t.detail.state)},onAxisMoved:function(t){s(this,this.mapping.axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n=this.buttonMeshes,r=t+"Pressed";if(n&&n[t]&&n[r]){var i;switch(e){case"down":i=this.data.buttonHighlightColor;break;case"touchstart":i=this.data.buttonTouchedColor}i&&n[r].material.color.set(i),n[r].visible=!!i,n[t].visible=!i}}})},{"../core/component":103,"../utils/bind":170,"../utils/tracked-controls":184}],93:[function(t,e,n){var r=t("../constants").keyboardevent.KEYCODE_TO_CODE,i=t("../core/component").registerComponent,a=t("../lib/three"),o=t("../utils/"),s=o.bind,l=o.shouldCaptureKeyEvent,u=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];e.exports.Component=i("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.easing=1.1,this.velocity=new a.Vector3,this.onBlur=s(this.onBlur,this),this.onFocus=s(this.onFocus,this),this.onKeyDown=s(this.onKeyDown,this),this.onKeyUp=s(this.onKeyUp,this),this.onVisibilityChange=s(this.onVisibilityChange,this),this.attachVisibilityEventListeners()},tick:function(t,e){var n=this.data,r=this.el,i=this.velocity;(i[n.adAxis]||i[n.wsAxis]||!function(t){var e;for(e in t)return!1;return!0}(this.keys))&&(e/=1e3,this.updateVelocity(e),(i[n.adAxis]||i[n.wsAxis])&&r.object3D.position.add(this.getMovementVector(e)))},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(t){var e,n,r,i,a,o=this.data,s=this.keys,l=this.velocity;if(n=o.adAxis,i=o.wsAxis,t>.2)return l[n]=0,void(l[i]=0);var u=Math.pow(1/this.easing,60*t);0!==l[n]&&(l[n]-=l[n]*u),0!==l[i]&&(l[i]-=l[i]*u),Math.abs(l[n])<1e-5&&(l[n]=0),Math.abs(l[i])<1e-5&&(l[i]=0),o.enabled&&(e=o.acceleration,o.adEnabled&&(r=o.adInverted?-1:1,(s.KeyA||s.ArrowLeft)&&(l[n]-=r*e*t),(s.KeyD||s.ArrowRight)&&(l[n]+=r*e*t)),o.wsEnabled&&(a=o.wsInverted?-1:1,(s.KeyW||s.ArrowUp)&&(l[i]-=a*e*t),(s.KeyS||s.ArrowDown)&&(l[i]+=a*e*t)))},getMovementVector:function(){var t=new a.Vector3(0,0,0),e=new a.Euler(0,0,0,"YXZ");return function(n){var r,i=this.el.getAttribute("rotation"),o=this.velocity;return t.copy(o),t.multiplyScalar(n),i?(r=this.data.fly?i.x:0,e.set(a.Math.degToRad(r),a.Math.degToRad(i.y),0),t.applyEuler(e),t):t}}(),attachVisibilityEventListeners:function(){window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(t){var e;l(t)&&(e=t.code||r[t.keyCode],-1!==u.indexOf(e)&&(this.keys[e]=!0))},onKeyUp:function(t){var e;e=t.code||r[t.keyCode],delete this.keys[e]}})},{"../constants":95,"../core/component":103,"../lib/three":151,"../utils/":176}],94:[function(t,e,n){var r=t("../core/component").registerComponent,i=t("../utils/bind"),a=t("../utils/tracked-controls"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,l=a.onButtonEvent,u=t("../utils/"),c=u.debug("components:windows-motion-controls:debug"),d=u.debug("components:windows-motion-controls:warn"),h=t("../constants").DEFAULT_HANDEDNESS,p={left:"left.glb",right:"right.glb",default:"universal.glb"},f=/([0-9a-zA-Z]+-[0-9a-zA-Z]+)$/;e.exports.Component=r("windows-motion-controls",{schema:{hand:{default:h},pair:{default:0},model:{default:!0},hideDisconnected:{default:!0}},mapping:{axes:{thumbstick:[0,1],trackpad:[2,3]},buttons:["thumbstick","trigger","grip","menu","trackpad"],axisMeshNames:["THUMBSTICK_X","THUMBSTICK_Y","TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",grip:"GRASP",thumbstick:"THUMBSTICK_PRESS",trackpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},bindMethods:function(){this.onModelError=i(this.onModelError,this),this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var t=this,e=this.el;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.onControllerConnected=function(){t.setModelVisibility(!0)},this.onControllerDisconnected=function(){t.setModelVisibility(!1)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new THREE.Vector3,direction:new THREE.Vector3(0,0,-1),createdFromMesh:!1},e.addEventListener("controllerconnected",this.onControllerConnected),e.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("axismove",this.onAxisMoved),t.addEventListener("model-error",this.onModelError),t.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("axismove",this.onAxisMoved),t.removeEventListener("model-error",this.onModelError),t.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){o(this,"Spatial Controller (Spatial Interaction Source) ",{hand:this.data.hand,index:this.data.pair})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){if(this.data.model&&!this.rayOrigin.createdFromMesh){var t=this.createControllerModelUrl();this.loadModel(t)}else this.modelReady()},createControllerModelUrl:function(t){var e=this.el.components["tracked-controls"],n=e?e.controller:null,r="default",i=this.data.hand;if(n&&(i=n.hand,!t)){var a=n.id.match(f);r=a&&a[0]||r}return"https://cdn.aframe.io/controllers/microsoft/"+r+"/"+(p[i]||p.default)},injectTrackedControls:function(){var t=this.data;this.el.setAttribute("tracked-controls",{idPrefix:"Spatial Controller (Spatial Interaction Source) ",controller:t.pair,hand:t.hand,armModel:!1}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function(t){var e=this.createControllerModelUrl(!0);t.detail.src!==e?(d("Failed to load controller model for device, attempting to load default."),this.loadModel(e)):d("Failed to load default controller model.")},loadModel:function(t){this.el.setAttribute("gltf-model","url("+t+")")},onModelLoaded:function(t){var e,n,r,i,a=this.controllerModel=t.detail.model,o=this.loadedMeshInfo;if(c("Processing model"),o.buttonMeshes={},o.axisMeshes={},a){for(e=0;e<this.mapping.buttons.length;e++)(n=this.mapping.buttonMeshNames[this.mapping.buttons[e]])?(r=a.getObjectByName(n))?(i={index:e,value:s(r,"VALUE"),pressed:s(r,"PRESSED"),unpressed:s(r,"UNPRESSED")}).value&&i.pressed&&i.unpressed?o.buttonMeshes[this.mapping.buttons[e]]=i:d("Missing button submesh under mesh with name: "+n+"(VALUE: "+!!i.value+", PRESSED: "+!!i.pressed+", UNPRESSED:"+!!i.unpressed+")"):d("Missing button mesh with name: "+n):c("Skipping unknown button at index: "+e+" with mapped name: "+this.mapping.buttons[e]);for(e=0;e<this.mapping.axisMeshNames.length;e++)(n=this.mapping.axisMeshNames[e])?(r=a.getObjectByName(n))?(i={index:e,value:s(r,"VALUE"),min:s(r,"MIN"),max:s(r,"MAX")}).value&&i.min&&i.max?o.axisMeshes[e]=i:d("Missing axis submesh under mesh with name: "+n+"(VALUE: "+!!i.value+", MIN: "+!!i.min+", MAX:"+!!i.max+")"):d("Missing axis mesh with name: "+n):c("Skipping unknown axis at index: "+e);this.calculateRayOriginFromMesh(a),this.setModelVisibility()}function s(t,e){for(var n=0,r=t.children.length;n<r;n++){var i=t.children[n];if(i&&i.name===e)return i}}c("Model load complete.")},calculateRayOriginFromMesh:function(){var t=new THREE.Quaternion;return function(e){var n;if(this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,n=e.getObjectByName(this.mapping.pointingPoseMeshName)){var r=e.parent;r&&(e.parent=null,e.updateMatrixWorld(!0),e.parent=r),n.getWorldPosition(this.rayOrigin.origin),n.getWorldQuaternion(t),this.rayOrigin.direction.applyQuaternion(t),r&&e.updateMatrixWorld(!0)}else c("Mesh does not contain pointing origin data, defaulting to none.");this.modelReady()}}(),lerpAxisTransform:function(){var t=new THREE.Quaternion;return function(e,n){var r=this.loadedMeshInfo.axisMeshes[e];if(r){var i=r.min,a=r.max,o=r.value,s=.5*n+.5;o.setRotationFromQuaternion(t.copy(i.quaternion).slerp(a.quaternion,s)),o.position.lerpVectors(i.position,a.position,s)}}}(),lerpButtonTransform:function(){var t=new THREE.Quaternion;return function(e,n){var r=this.loadedMeshInfo.buttonMeshes[e];if(r){var i=r.unpressed,a=r.pressed,o=r.value;o.setRotationFromQuaternion(t.copy(i.quaternion).slerp(a.quaternion,n)),o.position.lerpVectors(i.position,a.position,n)}}}(),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(e,t.detail.state.value),this.el.emit(e+"changed",t.detail.state))},onAxisMoved:function(t){var e=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var n=0;n<e;n++)this.lerpAxisTransform(n,t.detail.axis[n]||0);s(this,this.mapping.axes,t)},setModelVisibility:function(t){var e=this.el.getObject3D("mesh");t=void 0!==t?t:this.modelVisible,this.modelVisible=t,e&&(e.visible=t)}})},{"../constants":95,"../core/component":103,"../utils/":176,"../utils/bind":170,"../utils/tracked-controls":184}],95:[function(t,e,n){e.exports={AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,DEFAULT_HANDEDNESS:"right",keyboardevent:t("./keyboardevent")}},{"./keyboardevent":96}],96:[function(t,e,n){e.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},{}],97:[function(t,e,n){var r=t("./a-node"),i=t("../utils/bind"),a=t("../utils/debug"),o=t("./a-register-element").registerElement,s=t("../lib/three"),l=new s.FileLoader,u=a("core:a-assets:warn");function c(t){if(t.hasAttribute("autoplay")||"auto"===t.getAttribute("preload"))return new Promise((function(e,n){if(4===t.readyState)return e();if(t.error)return n();function r(){for(var n=0,r=0;r<t.buffered.length;r++)n+=t.buffered.end(r)-t.buffered.start(r);n>=t.duration&&("VIDEO"===t.tagName&&(s.Cache.files[t.getAttribute("src")]=t),e())}t.addEventListener("loadeddata",r,!1),t.addEventListener("progress",r,!1),t.addEventListener("error",n,!1)}))}function d(t){var e=function(t){var e;if(t.hasAttribute("crossorigin"))return t;if(null!==(e=t.getAttribute("src"))){if(-1===e.indexOf("://"))return t;if(function(t){var e=t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0];return e.substring(0,e.indexOf(":"))}(e)===window.location.host)return t}return u('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',e),t.crossOrigin="anonymous",t.cloneNode(!0)}(t);return e.tagName&&"video"===e.tagName.toLowerCase()&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline","")),e!==t&&(t.parentNode.appendChild(e),t.parentNode.removeChild(t)),e}function h(t){var e=t.lastIndexOf(".");if(e>=0){var n=t.slice(e,t.length);if(".gltf"===n||".glb"===n)return"arraybuffer"}return"text"}e.exports=o("a-assets",{prototype:Object.create(r.prototype,{createdCallback:{value:function(){this.isAssets=!0,this.fileLoader=l,this.timeout=null}},attachedCallback:{value:function(){var t,e,n,r,a,o,l=this,h=[];if(!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(a=this.querySelectorAll("img"),t=0;t<a.length;t++)r=d(a[t]),h.push(new Promise((function(e,n){s.Cache.files[a[t].getAttribute("src")]=r,r.onload=e,r.onerror=n})));for(n=this.querySelectorAll("audio, video"),t=0;t<n.length;t++)(e=d(n[t])).src||e.srcObject||u("Audio/video asset has neither `src` nor `srcObject` attributes."),h.push(c(e));Promise.all(h).then(i(this.load,this)),o=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout((function(){l.hasLoaded||(u("Asset loading timed out in ",o,"ms"),l.emit("timeout"),l.load())}),o)}},detachedCallback:{value:function(){this.timeout&&clearTimeout(this.timeout)}},load:{value:function(){r.prototype.load.call(this,null,(function(t){return t.isAssetItem&&t.hasAttribute("src")}))}}})}),o("a-asset-item",{prototype:Object.create(r.prototype,{createdCallback:{value:function(){this.data=null,this.isAssetItem=!0}},attachedCallback:{value:function(){var t=this,e=this.getAttribute("src");l.setResponseType(this.getAttribute("response-type")||h(e)),l.load(e,(function(e){t.data=e,setTimeout((function(){r.prototype.load.call(t)}))}),(function(e){t.emit("progress",{loadedBytes:e.loaded,totalBytes:e.total,xhr:e})}),(function(e){t.emit("error",{xhr:e})}))}}})}),e.exports.inferResponseType=h},{"../lib/three":151,"../utils/bind":170,"../utils/debug":172,"./a-node":101,"./a-register-element":102}],98:[function(t,e,n){var r=t("../utils/debug"),i=t("./a-register-element").registerElement,a=r("core:cubemap:warn");e.exports=i("a-cubemap",{prototype:Object.create(window.HTMLElement.prototype,{attachedCallback:{value:function(){this.srcs=this.validate()},writable:window.debug},validate:{value:function(){var t,e=this.querySelectorAll("[src]"),n=[];if(6===e.length){for(t=0;t<e.length;t++)n.push(e[t].getAttribute("src"));return n}a("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")},writable:window.debug}})})},{"../utils/debug":172,"./a-register-element":102}],99:[function(t,e,n){var r,i=t("./a-node"),a=t("./component").components,o=t("./a-register-element").registerElement,s=t("../lib/three"),l=t("../utils/"),u=l.debug("core:a-entity:debug"),c=l.debug("core:a-entity:warn"),d="__",h=["position","rotation","scale","visible"],p={once:!0},f=Object.create(i.prototype,{createdCallback:{value:function(){this.components={},this.initializingComponents={},this.componentsToUpdate={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new s.Group,this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.rotationObj={},this.states=[]}},attributeChangedCallback:{value:function(t,e,n){var r=this.components[t];r&&r.justInitialized&&""===n?delete r.justInitialized:(r||null!==n)&&this.setEntityAttribute(t,e,n)}},attachedCallback:{value:function(){var t,e=this.sceneEl,n=this;this.addToParent(),this.isScene||(e?!(t=e.querySelector("a-assets"))||t.hasLoaded?this.load():t.addEventListener("loaded",(function(){n.load()})):this.load())}},detachedCallback:{value:function(){var t;if(this.parentEl){for(t in this.components)this.removeComponent(t,!1);this.isScene||(this.removeFromParent(),i.prototype.detachedCallback.call(this),this.object3D.el=null)}}},getObject3D:{value:function(t){return this.object3DMap[t]}},setObject3D:{value:function(t,e){var n,r=this;if(!(e instanceof s.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");(n=this.getObject3D(t))&&this.object3D.remove(n),e.el=this,e.children.length&&e.traverse((function(t){t.el=r})),this.object3D.add(e),this.object3DMap[t]=e,this.emit("object3dset",{object:e,type:t})}},removeObject3D:{value:function(t){var e=this.getObject3D(t);e?(this.object3D.remove(e),delete this.object3DMap[t],this.emit("object3dremove",{type:t})):c("Tried to remove `Object3D` of type:",t,"which was not defined.")}},getOrCreateObject3D:{value:function(t,e){var n=this.getObject3D(t);return!n&&e&&(n=new e,this.setObject3D(t,n)),c("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),n}},add:{value:function(t){if(!t.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(t.object3D),this.emit("child-attached",{el:t})}},addToParent:{value:function(){var t=this.parentEl=this.parentNode;t&&t.add&&!this.attachedToParent&&(t.add(this),this.attachedToParent=!0)}},removeFromParent:{value:function(){var t=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=null,t.emit("child-detached",{el:this})}},load:{value:function(){var t=this;!this.hasLoaded&&this.parentEl&&i.prototype.load.call(this,(function(){t.parentEl&&(t.updateComponents(),(t.isScene||t.parentEl.isPlaying)&&t.play())}))},writable:window.debug},remove:{value:function(t){t?this.object3D.remove(t.object3D):this.parentNode.removeChild(this)}},getChildEntities:{value:function(){for(var t=this.children,e=[],n=0;n<t.length;n++){var i=t[n];i instanceof r&&e.push(i)}return e}},initComponent:{value:function(t,e,n){var r,i,o,s;if(s=(o=l.split(t,d))[0],i=o.length>2?o.slice(1).join("__"):o[1],a[s]&&(m(this,t)||void 0!==e||n)&&!(t in this.components)){if(this.initComponentDependencies(s),i&&!a[s].multiple)throw new Error("Trying to initialize multiple components of type `"+s+"`. There can only be one component of this type per entity.");r=new a[s].Component(this,e,i),this.isPlaying&&r.play(),this.hasAttribute(t)||(r.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,t,"")),u("Component initialized: %s",t)}},writable:window.debug},initComponentDependencies:{value:function(t){var e,n;if(a[t]&&(e=a[t].dependencies))for(n=0;n<e.length;n++)this.initComponent(e[n],window.HTMLElement.prototype.getAttribute.call(this,e[n])||void 0,!0)}},removeComponent:{value:function(t,e){var n;(n=this.components[t])&&(n.initialized?(n.pause(),n.remove(),e&&(n.destroy(),delete this.components[t]),this.emit("componentremoved",n.evtDetail,!1)):this.addEventListener("componentinitialized",(function n(r){r.detail.name===t&&(this.removeComponent(t,e),this.removeEventListener("componentinitialized",n))})))},writable:window.debug},updateComponents:{value:function(){var t,e,n,r,i,a,o=this.componentsToUpdate;if(this.hasLoaded){for(n=0;n<this.mixinEls.length;n++)for(r in this.mixinEls[n].componentCache)v(r)&&(o[r]=!0);if(this.getExtraComponents)for(r in e=this.getExtraComponents())v(r)&&(o[r]=!0);for(n=0;n<this.attributes.length;++n)r=this.attributes[n].name,-1===h.indexOf(r)&&v(r)&&(o[r]=!0);for(n=0;n<h.length;n++)r=h[n],this.hasAttribute(r)&&this.updateComponent(r,this.getDOMAttribute(r));for(r in o)i=this.getDOMAttribute(r),a=e&&e[r],t=a?a.constructor===Object?l.extend(a,l.styleParser.parse(i||{})):i||a:i,this.updateComponent(r,t),delete o[r]}},writable:window.debug},updateComponent:{value:function(t,e,n){var r=this.components[t];if(r)return null!==e||m(this,t)?void r.updateProperties(e,n):void this.removeComponent(t,!0);this.initComponent(t,e,!1)}},removeAttribute:{value:function(t,e){var n=this.components[t];n&&void 0===e&&this.removeComponent(t,!0),n&&void 0!==e?n.resetProperty(e):("mixin"===t&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,t))}},play:{value:function(){var t,e,n;if(!this.isPlaying&&this.hasLoaded){for(n in this.isPlaying=!0,this.components)this.components[n].play();for(t=this.getChildEntities(),e=0;e<t.length;e++)t[e].play();this.emit("play")}},writable:!0},pause:{value:function(){var t,e,n;if(this.isPlaying){for(n in this.isPlaying=!1,this.components)this.components[n].pause();for(t=this.getChildEntities(),e=0;e<t.length;e++)t[e].pause();this.emit("pause")}},writable:!0},setEntityAttribute:{value:function(t,e,n){if(a[t]||this.components[t])this.updateComponent(t,n);else if("mixin"===t){if(n===this.computedMixinStr)return;this.mixinUpdate(n,e)}}},mixinUpdate:{value:function(){var t=[];return function(e,n){var r,i,a,o,s=this;if(this.hasLoaded){for(n=n||this.getAttribute("mixin"),a=this.updateMixins(e,n),t.length=0,o=0;o<this.mixinEls.length;o++)for(r in this.mixinEls[o].componentCache)-1===t.indexOf(r)&&(this.components[r]?this.components[r].handleMixinUpdate():this.initComponent(r,null),t.push(r));for(o=0;o<a.oldMixinIds.length;o++)if(i=document.getElementById(a.oldMixinIds[o]))for(r in i.componentCache)-1===t.indexOf(r)&&this.components[r]&&(this.getDOMAttribute(r)?this.components[r].handleMixinUpdate():this.removeComponent(r,!0))}else this.addEventListener("loaded",(function(){s.mixinUpdate(e,n)}),p)}}()},setAttribute:{value:function(){var t={};return function(e,n,r){var o,s,u,c,h;if(u=(c=e.indexOf(d))>0?e.substring(0,c):e,!a[u])return"mixin"===e&&this.mixinUpdate(n),void i.prototype.setAttribute.call(this,e,n);if(!this.components[e]&&this.hasAttribute(e)&&this.updateComponent(e,window.HTMLElement.prototype.getAttribute.call(this,e)),"undefined"!==typeof r&&"string"===typeof n&&n.length>0&&"string"===typeof l.styleParser.parse(n)){for(h in t)delete t[h];(o=t)[n]=r,s=!1}else o=n,s=!0===r;this.updateComponent(e,o,s),this.sceneEl&&this.sceneEl.getAttribute("debug")&&this.components[e].flushToDOM()}}(),writable:window.debug},flushToDOM:{value:function(t){var e,n,r,i=this.components,a=this.children;for(r in i)i[r].flushToDOM();if(t)for(n=0;n<a.length;++n)(e=a[n]).flushToDOM&&e.flushToDOM(t)}},getAttribute:{value:function(t){var e;return"position"===t?this.object3D.position:"rotation"===t?function(t){var e=s.Math.radToDeg,n=t.object3D.rotation,r=t.rotationObj;return r.x=e(n.x),r.y=e(n.y),r.z=e(n.z),r}(this):"scale"===t?this.object3D.scale:"visible"===t?this.object3D.visible:(e=this.components[t])?e.data:window.HTMLElement.prototype.getAttribute.call(this,t)},writable:window.debug},getDOMAttribute:{value:function(t){var e=this.components[t];return e?e.attrValue:window.HTMLElement.prototype.getAttribute.call(this,t)},writable:window.debug},addState:{value:function(t){this.is(t)||(this.states.push(t),this.emit("stateadded",t))}},removeState:{value:function(t){var e=this.states.indexOf(t);-1!==e&&(this.states.splice(e,1),this.emit("stateremoved",t))}},is:{value:function(t){return-1!==this.states.indexOf(t)}},inspect:{value:function(){this.sceneEl.components.inspector.openInspector(this)}},destroy:{value:function(){var t;if(this.parentNode)c("Entity can only be destroyed if detached from scenegraph.");else for(t in this.components)this.components[t].destroy()}}});function m(t,e){return!(!t.components[e]||!t.components[e].attrValue)||function(t,e){var n,r=!1;for(n=0;n<e.length&&!(r=e[n].hasAttribute(t));++n);return r}(e,t.mixinEls)}function v(t){return-1!==t.indexOf(d)&&(t=l.split(t,d)[0]),!!a[t]}r=o("a-entity",{prototype:f}),e.exports=r},{"../lib/three":151,"../utils/":176,"./a-node":101,"./a-register-element":102,"./component":103}],100:[function(t,e,n){var r=t("./a-node"),i=t("./a-register-element").registerElement,a=t("./component").components,o=t("../utils");e.exports=i("a-mixin",{prototype:Object.create(r.prototype,{createdCallback:{value:function(){this.componentCache={},this.id=this.getAttribute("id"),this.isMixin=!0}},attributeChangedCallback:{value:function(t,e,n){this.cacheAttribute(t,n),this.updateEntities()}},attachedCallback:{value:function(){this.sceneEl=this.closestScene(),this.cacheAttributes(),this.updateEntities(),this.load()}},setAttribute:{value:function(t,e){window.HTMLElement.prototype.setAttribute.call(this,t,e),this.cacheAttribute(t,e)}},cacheAttribute:{value:function(t,e){var n,r;r=o.split(t,"__")[0],(n=a[r])&&(void 0===e&&(e=window.HTMLElement.prototype.getAttribute.call(this,t)),this.componentCache[t]=n.parseAttrValueForCache(e))}},getAttribute:{value:function(t){return this.componentCache[t]||window.HTMLElement.prototype.getAttribute.call(this,t)}},cacheAttributes:{value:function(){var t,e,n=this.attributes;for(e=0;e<n.length;e++)t=n[e].name,this.cacheAttribute(t)}},updateEntities:{value:function(){var t,e,n;if(this.sceneEl)for(e=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),n=0;n<e.length;n++)(t=e[n]).hasLoaded&&!t.isMixin&&t.mixinUpdate(this.id)}}})})},{"../utils":176,"./a-node":101,"./a-register-element":102,"./component":103}],101:[function(t,e,n){var r=t("./a-register-element").registerElement,i=t("./a-register-element").isNode,a=t("../utils/"),o=a.debug("core:a-node:warn"),s=a.debug("core:a-node:error");e.exports=r("a-node",{prototype:Object.create(window.HTMLElement.prototype,{createdCallback:{value:function(){this.computedMixinStr="",this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[]},writable:window.debug},attachedCallback:{value:function(){var t;this.sceneEl=this.closestScene(),this.sceneEl||o("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(t=this.getAttribute("mixin"))&&this.updateMixins(t)},writable:window.debug},attributeChangedCallback:{value:function(t,e,n){n!==this.computedMixinStr&&("mixin"!==t||this.isMixin||this.updateMixins(n,e))}},closestScene:{value:function(){for(var t=this;t&&!t.isScene;)t=t.parentElement;return t}},closest:{value:function(t){for(var e=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,n=this;n&&!e.call(n,t);)n=n.parentElement;return n}},detachedCallback:{value:function(){this.hasLoaded=!1}},load:{value:function(t,e){var n,r=this;this.hasLoaded||(e=e||i,n=this.getChildren().filter(e).map((function(t){return new Promise((function(e){if(t.hasLoaded)return e();t.addEventListener("loaded",e)}))})),Promise.all(n).then((function(){r.hasLoaded=!0,t&&t(),r.emit("loaded",void 0,!1)})).catch((function(t){s("Failure loading node: ",t)})))},writable:!0},getChildren:{value:function(){return Array.prototype.slice.call(this.children,0)}},updateMixins:{value:function(){var t=[],e=[],n={};return function(r,i){var o,s,l;for(t.length=0,e.length=0,s=r?a.split(r.trim(),/\s+/):t,l=i?a.split(i.trim(),/\s+/):e,n.newMixinIds=s,n.oldMixinIds=l,o=0;o<l.length;o++)-1===s.indexOf(l[o])&&this.unregisterMixin(l[o]);for(this.computedMixinStr="",this.mixinEls.length=0,o=0;o<s.length;o++)this.registerMixin(document.getElementById(s[o]));return this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr)),n}}()},registerMixin:{value:function(t){var e,n,r;if(t){if(r=t.getAttribute("mixin"))for(e=a.split(r.trim(),/\s+/),n=0;n<e.length;n++)this.registerMixin(document.getElementById(e[n]));this.computedMixinStr=this.computedMixinStr+" "+t.id,this.mixinEls.push(t)}}},setAttribute:{value:function(t,e){"mixin"===t&&this.updateMixins(e),window.HTMLElement.prototype.setAttribute.call(this,t,e)}},unregisterMixin:{value:function(t){var e,n=this.mixinEls;for(e=0;e<n.length;++e)if(t===n[e].id){n.splice(e,1);break}}},emit:{value:function(){var t={};return function(e,n,r,i){void 0===r&&(r=!0),t.bubbles=!!r,t.detail=n,i&&(t=a.extend({},i,t)),this.dispatchEvent(new CustomEvent(e,t))}}(),writable:window.debug}})})},{"../utils/":176,"./a-register-element":102}],102:[function(t,e,n){var r,i;t("document-register-element");var a=e.exports.knownTags={};function o(t,e,n,r){e.forEach((function(e){!function(t,e,n,r){var i=n[e],a=r[e];i&&a&&i!==a&&(t[e]={value:function(){return a.apply(this,arguments),i.apply(this,arguments)},writable:window.debug})}(t,e,n,r)}))}function s(t,e){Object.getOwnPropertyNames(t).forEach((function(n){var r;e[n]||(r=Object.getOwnPropertyDescriptor(t,n),e[n]={value:t[n],writable:r.writable})}))}e.exports.isNode=function(t){return t.tagName.toLowerCase()in a||t.isNode},e.exports.registerElement=function(t,e){var n=Object.getPrototypeOf(e.prototype),l=e,u=r&&n===r.prototype,c=i&&n===i.prototype;return(u||c)&&function(t){a[t.toLowerCase()]=!0}(t),u&&(l=function(t){var e={};return o(e,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],t,r.prototype),s(t,e),e}(e.prototype),l={prototype:Object.create(n,l)}),c&&(l=function(t){var e={};return o(e,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],t,r.prototype),o(e,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],t,i.prototype),s(t,e),e}(e.prototype),l={prototype:Object.create(n,l)}),Object.getOwnPropertyNames(l.prototype).forEach((function(t){var e=l.prototype[t];"function"===typeof e&&(e.displayName=t)})),document.registerElement(t,l)},e.exports.wrapMethods=o,r=t("./a-node"),i=t("./a-entity")},{"./a-entity":99,"./a-node":101,"document-register-element":11}],103:[function(t,e,n){var r=t("./schema"),i=t("./scene/scenes"),a=t("./system"),o=t("../utils/"),s=e.exports.components={},l=r.parseProperties,u=r.parseProperty,c=r.process,d=r.isSingleProperty,h=r.stringifyProperties,p=r.stringifyProperty,f=o.styleParser,m=o.debug("core:component:warn"),v=document.currentScript,g=new RegExp("[A-Z]+"),y={},_=e.exports.Component=function(t,e,n){var r=this;this.el=t,this.id=n,this.attrName=this.name+(n?"__"+n:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,this.isSingleProperty=d(this.schema),this.isSinglePropertyObject=this.isSingleProperty&&A(u(void 0,this.schema))&&!(this.schema.default instanceof window.HTMLElement),this.isObjectBased=!this.isSingleProperty||this.isSinglePropertyObject,this.el.components[this.attrName]=this,this.objectPool=y[this.name],function(t,e){var n;for(n in e)e[n]=e[n].bind(t)}(this,this.events),this.attrValue=void 0,this.isObjectBased?(this.nextData=this.objectPool.use(),o.objectPool.removeUnusedKeys(this.nextData,this.schema),this.oldData=this.objectPool.use(),o.objectPool.removeUnusedKeys(this.oldData,this.schema),this.previousOldData=this.objectPool.use(),o.objectPool.removeUnusedKeys(this.previousOldData,this.schema),this.parsingAttrValue=this.objectPool.use(),o.objectPool.removeUnusedKeys(this.parsingAttrValue,this.schema)):(this.nextData=void 0,this.oldData=void 0,this.previousOldData=void 0,this.parsingAttrValue=void 0),this.throttledEmitComponentChanged=o.throttle((function(){t.emit("componentchanged",r.evtDetail,!1)}),200),this.updateProperties(e)};if(_.prototype={schema:{},init:function(){},events:{},update:function(t){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(t,e){var n=this.schema;return this.isSingleProperty?u(t,n):l(f.parse(t),n,!0,this.name,e)},stringify:function(t){var e=this.schema;return"string"===typeof t?t:this.isSingleProperty?p(t,e):(t=h(t,e),f.stringify(t))},updateCachedAttrValue:function(t,e){var n,r,i;if(void 0!==t){if(null===t)return this.isObjectBased&&this.attrValue&&this.objectPool.recycle(this.attrValue),void(this.attrValue=void 0);if(t instanceof Object&&!(t instanceof window.HTMLElement)?(r=this.objectPool.use(),n=o.extend(r,t)):n=this.parseAttrValueForCache(t),this.isObjectBased&&!e&&this.attrValue)for(i in this.attrValue)void 0===n[i]&&(n[i]=this.attrValue[i]);this.isObjectBased&&!this.attrValue&&(this.attrValue=this.objectPool.use()),o.objectPool.clearObject(this.attrValue),this.attrValue=w(this.attrValue,n,this.isObjectBased),o.objectPool.clearObject(r)}},parseAttrValueForCache:function(t){var e;return"string"!==typeof t?t:(this.isSingleProperty?"string"===typeof(e=this.schema.parse(t))&&(e=t):(o.objectPool.clearObject(this.parsingAttrValue),e=f.parse(t,this.parsingAttrValue)),e)},flushToDOM:function(t){var e=t?this.data:this.attrValue;null!==e&&void 0!==e&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(e))},updateProperties:function(t,e){this.el.hasLoaded?(null!==t&&(t=this.parseAttrValueForCache(t)),this.updateCachedAttrValue(t,e),this.initialized?(this.updateComponent(t,e),this.callUpdateHandler()):this.initComponent()):this.updateCachedAttrValue(t)},initComponent:function(){var t,e=this.el;this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!1,!0)),this.data=this.buildData(this.attrValue),e.initializingComponents[this.name]||(e.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete e.initializingComponents[this.name],this.oldData=w(this.oldData,this.data,this.isObjectBased),t=this.isObjectBased?this.objectPool.use():void 0,this.update(t),this.isObjectBased&&this.objectPool.recycle(t),e.isPlaying&&this.play(),e.emit("componentinitialized",this.evtDetail,!1))},updateComponent:function(t,e){var n,r;if(e)return this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),void(this.data=this.buildData(this.attrValue,!0,!1));if(this.isSingleProperty)return this.isObjectBased&&u(t,this.schema),void(this.data=t);if(l(t,this.schema,!0,this.name),this.schemaChangeKeys.length)for(n in t)if(this.schema[n].schemaChange){r=!0;break}if(r)return this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),void(this.data=this.buildData(this.attrValue,!0,!1));for(n in t)void 0!==t[n]&&(this.data[n]=t[n])},callUpdateHandler:function(){var t;this.previousOldData instanceof Object&&o.objectPool.clearObject(this.previousOldData),this.isObjectBased?x(this.previousOldData,this.oldData):this.previousOldData=this.oldData,t=!o.deepEqual(this.oldData,this.data),(this.isPositionRotationScale||t)&&(this.oldData instanceof Object&&o.objectPool.clearObject(this.oldData),this.oldData=w(this.oldData,this.data,this.isObjectBased),this.update(this.previousOldData),this.throttledEmitComponentChanged())},handleMixinUpdate:function(){this.data=this.buildData(this.attrValue),this.callUpdateHandler()},resetProperty:function(t){if(this.isObjectBased){if(!(t in this.attrValue))return;delete this.attrValue[t],this.data[t]=this.schema[t].default}else this.attrValue=this.schema.default,this.data=this.schema.default;this.updateProperties(this.attrValue)},extendSchema:function(t){var e;e=o.extend({},s[this.name].schema),o.extend(e,t),this.schema=c(e),this.el.emit("schemachanged",this.evtDetail)},buildData:function(t,e,n){var r,i,a,s,c,d,h,p=this.nextData,f=this.schema,m=this.el.mixinEls;if(r=t&&t.constructor===Array?t.length:void 0!==t&&null!==t,this.isObjectBased&&o.objectPool.clearObject(p),this.isSingleProperty)i=this.isObjectBased?x(p,f.default):E(f.default)?o.clone(f.default):f.default;else for(s in i=(h=!e&&this.attrValue)instanceof Object?x(p,h):p,f)a=f[s].default,void 0===i[s]&&(i[s]=E(a)?o.clone(a):a);for(d=0;d<m.length;d++)(c=m[d].getAttribute(this.attrName))&&(i=w(i,c,this.isObjectBased));if(r){if(this.isSingleProperty)return A(t)?(x(this.parsingAttrValue,t),u(this.parsingAttrValue,f)):u(t,f);i=w(i,t,this.isObjectBased)}else if(this.isSingleProperty)return u(i,f);return l(i,f,void 0,this.name,n)},eventsAttach:function(){var t;for(t in this.eventsDetach(),this.events)this.el.addEventListener(t,this.events[t])},eventsDetach:function(){var t;for(t in this.events)this.el.removeEventListener(t,this.events[t])},destroy:function(){this.objectPool.recycle(this.attrValue),this.objectPool.recycle(this.oldData),this.objectPool.recycle(this.parsingAttrValue),this.attrValue=this.oldData=this.parsingAttrValue=void 0}},window.debug)var b=e.exports.registrationOrderWarnings={};function x(t,e){var n,r;for(r in e)void 0!==e[r]&&(n=e[r],t[r]=E(n)?o.clone(n):n);return t}function w(t,e,n){var r;if(n&&e.constructor===Object){for(r in e)void 0!==e[r]&&(e[r]&&e[r].constructor===Object?t[r]=o.clone(e[r]):t[r]=e[r]);return t}return e}function M(t){return t.tick||t.tock}function A(t){return t&&t.constructor===Object&&!(t instanceof window.HTMLElement)}function E(t){return t&&(t.constructor===Object||t.constructor===Array)&&!(t instanceof window.HTMLElement)}e.exports.registerComponent=function(t,e){var n,r,l,u,h,p,f={};if(document.currentScript&&document.currentScript!==v&&i.forEach((function(e){e.hasLoaded||document.currentScript.compareDocumentPosition(e)!==Node.DOCUMENT_POSITION_FOLLOWING&&(m("The component `"+t+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(b[t]=!0))})),!0===g.test(t)&&m("The component name `"+t+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+t.toLowerCase()+"`"),-1!==t.indexOf("__"))throw new Error("The component name `"+t+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(e).forEach((function(t){f[t]={value:e[t],writable:!0}})),s[t])throw new Error("The component `"+t+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");if(((n=function(t,e,n){_.call(this,t,e,n)}).prototype=Object.create(_.prototype,f)).name=t,n.prototype.isPositionRotationScale="position"===t||"rotation"===t||"scale"===t,n.prototype.constructor=n,n.prototype.system=a&&a.systems[t],n.prototype.play=(h=n.prototype.play,function(){var t=this.el.sceneEl,e=this.el.isPlaying&&!this.isPlaying;this.initialized&&e&&(h.call(this),this.isPlaying=!0,this.eventsAttach(),M(this)&&t.addBehavior(this))}),n.prototype.pause=(p=n.prototype.pause,function(){var t=this.el.sceneEl;this.isPlaying&&(p.call(this),this.isPlaying=!1,this.eventsDetach(),M(this)&&t.removeBehavior(this))}),l=o.extend(c(n.prototype.schema,n.prototype.name)),!(u=d(n.prototype.schema)))for(r in n.prototype.schemaChangeKeys=[],l)l[r].schemaChange&&n.prototype.schemaChangeKeys.push(r);return y[t]=o.objectPool.createPool(),s[t]={Component:n,dependencies:n.prototype.dependencies,isSingleProp:u,multiple:n.prototype.multiple,name:t,parse:n.prototype.parse,parseAttrValueForCache:n.prototype.parseAttrValueForCache,schema:l,stringify:n.prototype.stringify,type:n.prototype.type},n}},{"../utils/":176,"./scene/scenes":110,"./schema":112,"./system":114}],104:[function(t,e,n){var r=t("./schema").process,i=e.exports.geometries={},a=e.exports.geometryNames=[],o=t("../lib/three"),s=e.exports.Geometry=function(){};s.prototype={schema:{},init:function(t){return this.geometry=new o.Geometry,this.geometry},update:function(t){}},e.exports.registerGeometry=function(t,e){var n,o={};if(Object.keys(e).forEach((function(t){o[t]={value:e[t],writable:!0}})),i[t])throw new Error("The geometry `"+t+"` has been already registered");return((n=function(){s.call(this)}).prototype=Object.create(s.prototype,o)).name=t,n.prototype.constructor=n,i[t]={Geometry:n,schema:r(n.prototype.schema)},a.push(t),n}},{"../lib/three":151,"./schema":112}],105:[function(t,e,n){var r=t("../utils/coordinates"),i=t("debug"),a=i("core:propertyTypes:warn"),o=i("core:propertyTypes:warn"),s=e.exports.propertyTypes={},l=/[,> .[\]:]/,u=/\url\((.+)\)/;function c(t,e,n,r){"type"in s?a("Property type "+t+" is already registered."):s[t]={default:e,parse:n||h,stringify:r||p}}function d(t){var e,n;return"string"!==typeof t?t:(n=t.match(u))?n[1]:"#"===t.charAt(0)?(e=document.getElementById(t.substring(1)))?"CANVAS"===e.tagName||"VIDEO"===e.tagName||"IMG"===e.tagName?e:e.getAttribute("src"):void o('"'+t+'" asset not found.'):t}function h(t){return t}function p(t){return null===t?"null":t.toString()}function f(t){return parseInt(t,10)}function m(t){return r.parse(t,this.default)}function v(t,e){if(null===t)return!0;if("object"!==typeof t)return!1;if(Object.keys(t).length!==e)return!1;var n=t.x,r=t.y,i=t.z,a=t.w;return"number"===typeof n&&"number"===typeof r&&!(e>2&&"number"!==typeof i)&&!(e>3&&"number"!==typeof a)}c("audio","",d),c("array",[],(function(t){return Array.isArray(t)?t:t&&"string"===typeof t?t.split(",").map((function(t){return t.trim()})):[]}),(function(t){return t.join(", ")})),c("asset","",d),c("boolean",!1,(function(t){return"false"!==t&&!1!==t})),c("color","#FFF",h,p),c("int",0,f),c("number",0,(function(t){return parseFloat(t,10)})),c("map","",d),c("model","",d),c("selector",null,(function(t){return t?"string"!==typeof t?t:"#"!==t[0]||l.test(t)?document.querySelector(t):document.getElementById(t.substring(1)):null}),(function(t){return t.getAttribute?"#"+t.getAttribute("id"):p(t)})),c("selectorAll",null,(function(t){return t?"string"!==typeof t?t:Array.prototype.slice.call(document.querySelectorAll(t),0):null}),(function(t){return t instanceof Array?t.map((function(t){return"#"+t.getAttribute("id")})).join(", "):p(t)})),c("src","",(function(t){return o("`src` property type is deprecated. Use `asset` instead."),d(t)})),c("string","",h,p),c("time",0,f),c("vec2",{x:0,y:0},m,r.stringify),c("vec3",{x:0,y:0,z:0},m,r.stringify),c("vec4",{x:0,y:0,z:0,w:1},m,r.stringify),e.exports.registerPropertyType=c,e.exports.isValidDefaultValue=function(t,e){return("audio"!==t||"string"===typeof e)&&!("array"===t&&!Array.isArray(e))&&("asset"!==t||"string"===typeof e)&&("boolean"!==t||"boolean"===typeof e)&&("color"!==t||"string"===typeof e)&&("int"!==t||"number"===typeof e)&&("number"!==t||"number"===typeof e)&&("map"!==t||"string"===typeof e)&&("model"!==t||"string"===typeof e)&&("selector"!==t||"string"===typeof e||null===e)&&("selectorAll"!==t||"string"===typeof e||null===e)&&("src"!==t||"string"===typeof e)&&("string"!==t||"string"===typeof e)&&("time"!==t||"number"===typeof e)&&("vec2"===t?v(e,2):"vec3"===t?v(e,3):"vec4"!==t||v(e,4))},e.exports.isValidDefaultCoordinate=v},{"../utils/coordinates":171,debug:8}],106:[function(t,e,n){var r=t("./metaTags").inject,i=t("./wakelock"),a=t("./loadingScreen"),o=t("../a-register-element"),s=t("./scenes"),l=t("../system").systems,u=t("../../lib/three"),c=t("../../utils/"),d=t("../a-entity"),h=t("../a-node"),p=t("./postMessage"),f=c.bind,m=c.device.isIOS(),v=c.device.isMobile(),g=c.device.isWebXRAvailable,y=o.registerElement,_=c.debug("core:a-scene:warn");function b(t,e,n,r){return e?{height:t.parentElement.offsetHeight,width:t.parentElement.offsetWidth}:function(t,e){var n,r,i=window.devicePixelRatio;return r={height:document.body.offsetHeight,width:document.body.offsetWidth},!t||e||-1===t.width&&-1===t.height?r:r.width*i<t.width&&r.height*i<t.height?r:(n=r.width/r.height,r.width*i>t.width&&-1!==t.width&&(r.width=Math.round(t.width/i),r.height=Math.round(t.width/n/i)),r.height*i>t.height&&-1!==t.height&&(r.height=Math.round(t.height/i),r.width=Math.round(t.height*n/i)),r)}(n,r)}function x(t){var e;function n(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||t.exitVR(),document.activeElement.blur(),document.body.focus()}(e=document.createElement("canvas")).classList.add("a-canvas"),e.dataset.aframeCanvas=!0,t.appendChild(e),document.addEventListener("fullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),e.addEventListener("touchmove",(function(t){t.preventDefault()})),t.canvas=e,t.emit("render-target-loaded",{target:e}),setTimeout(f(t.resize,t),0)}e.exports.AScene=y("a-scene",{prototype:Object.create(d.prototype,{createdCallback:{value:function(){this.clock=new u.Clock,this.isIOS=m,this.isMobile=v,this.hasWebXR=g,this.isScene=!0,this.object3D=new u.Scene;var t=this;this.object3D.onAfterRender=function(e,n,r){t.isPlaying&&t.tock(t.time,t.delta,r)},this.render=f(this.render,this),this.systems={},this.systemNames=[],this.time=this.delta=0,this.behaviors={tick:[],tock:[]},this.hasLoaded=!1,this.isPlaying=!1,this.originalHTML=this.innerHTML,this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("vr-mode-ui","")}},addFullScreenStyles:{value:function(){document.documentElement.classList.add("a-fullscreen")}},removeFullScreenStyles:{value:function(){document.documentElement.classList.remove("a-fullscreen")}},attachedCallback:{value:function(){var t=this;x(this),this.setupRenderer(),this.resize(),this.addFullScreenStyles(),p(this),r(this),i(this),this.onVRPresentChangeBound=f(this.onVRPresentChange,this),window.addEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),this.enterVRBound=function(){t.enterVR()},this.exitVRBound=function(){t.exitVR()},this.exitVRTrueBound=function(){t.exitVR(!0)},this.pointerRestrictedBound=function(){t.pointerRestricted()},this.pointerUnrestrictedBound=function(){t.pointerUnrestricted()},g||(window.addEventListener("vrdisplaydeactivate",this.exitVRBound),window.addEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.addEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.addEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)),this.addEventListener("cameraready",(function(){t.attachedCallbackPostCamera()})),this.initSystems()}},attachedCallbackPostCamera:{value:function(){var t,e=this;t=f(this.resize,this),window.addEventListener("load",t),window.addEventListener("resize",(function(){e.isIOS?setTimeout(t,100):t()})),this.play(),s.push(this)},writable:window.debug},initSystems:{value:function(){var t;for(t in this.initSystem("camera"),l)"camera"!==t&&this.initSystem(t)}},initSystem:{value:function(t){this.systems[t]||(this.systems[t]=new l[t](this),this.systemNames.push(t))}},detachedCallback:{value:function(){var t=s.indexOf(this);s.splice(t,1),window.removeEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),window.removeEventListener("vrdisplayactivate",this.enterVRBound),window.removeEventListener("vrdisplaydeactivate",this.exitVRBound),window.removeEventListener("vrdisplayconnect",this.enterVRBound),window.removeEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.removeEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.removeEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)}},addBehavior:{value:function(t){var e,n,r=this.behaviors;for(n in r)t[n]&&-1===(e=this.behaviors[n]).indexOf(t)&&e.push(t)}},getPointerLockElement:{value:function(){return document.pointerLockElement},writable:window.debug},checkHeadsetConnected:{value:c.device.checkHeadsetConnected,writable:window.debug},enterVR:{value:function(){var t,e=this,n=e.renderer.vr;if(this.is("vr-mode"))return Promise.resolve("Already in VR.");if(this.checkHeadsetConnected()||this.isMobile){if(t=c.device.getVRDisplay(),n.enabled=!0,n.setDevice(t),!this.hasWebXR){if(t.isPresenting&&!window.hasNativeWebVRImplementation)return a(),Promise.resolve();var r=this.getAttribute("renderer"),i={highRefreshRate:r.highRefreshRate,foveationLevel:r.foveationLevel};return t.requestPresent([{source:this.canvas,attributes:i}]).then(a,(function(t){throw t&&t.message?new Error("Failed to enter VR mode (`requestPresent`): "+t.message):new Error("Failed to enter VR mode (`requestPresent`).")}))}return this.xrSession&&this.xrSession.removeEventListener("end",this.exitVRBound),t.requestSession({immersive:!0,exclusive:!0}).then((function(t){e.xrSession=t,n.setSession(t),t.addEventListener("end",e.exitVRBound),t.requestFrameOfReference("stage").then((function(t){e.frameOfReference=t})),a()})),Promise.resolve()}return a(),Promise.resolve();function a(){var t;e.addState("vr-mode"),e.emit("enter-vr",{target:e}),e.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),e.addFullScreenStyles(),e.isMobile||e.checkHeadsetConnected()||((t=e.canvas).requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen).apply(t,[{navigationUI:"hide"}]),e.renderer.setAnimationLoop(e.render),e.resize()}},writable:!0},exitVR:{value:function(){var t,e=this,n=this.renderer.vr;if(!this.is("vr-mode"))return Promise.resolve("Not in VR.");if(this.checkHeadsetConnected()||this.isMobile){if(n.enabled=!1,t=c.device.getVRDisplay(),this.hasWebXR)this.xrSession.removeEventListener("end",this.exitVRBound),this.xrSession.end(),n.setSession(null);else if(t.isPresenting)return t.exitPresent().then(r,(function(t){throw t&&t.message?new Error("Failed to exit VR mode (`exitPresent`): "+t.message):new Error("Failed to exit VR mode (`exitPresent`).")}))}else(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen());return r(),Promise.resolve();function r(){e.removeState("vr-mode"),e.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),e.hasAttribute("embedded")&&e.removeFullScreenStyles(),e.resize(),e.isIOS&&c.forceCanvasResizeSafariMobile(e.canvas),e.emit("exit-vr",{target:e})}},writable:!0},pointerRestricted:{value:function(){if(this.canvas){var t=this.getPointerLockElement();t&&t!==this.canvas&&document.exitPointerLock&&document.exitPointerLock(),this.canvas.requestPointerLock&&this.canvas.requestPointerLock()}}},pointerUnrestricted:{value:function(){var t=this.getPointerLockElement();t&&t===this.canvas&&document.exitPointerLock&&document.exitPointerLock()}},onVRPresentChange:{value:function(t){(t.display||t.detail.display).isPresenting?this.enterVR():this.exitVR()}},getAttribute:{value:function(t){var e=this.systems[t];return e?e.data:d.prototype.getAttribute.call(this,t)}},getComputedAttribute:{value:function(t){_("`getComputedAttribute` is deprecated. Use `getAttribute` instead."),this.getAttribute(t)}},getDOMAttribute:{value:function(t){var e=this.systems[t];return e?e.data:d.prototype.getDOMAttribute.call(this,t)}},setAttribute:{value:function(t,e,n){var r=this.systems[t];if(r)return h.prototype.setAttribute.call(this,t,e),void r.updateProperties(e);d.prototype.setAttribute.call(this,t,e,n)}},removeBehavior:{value:function(t){var e,n,r,i=this.behaviors;for(n in i)t[n]&&-1!==(r=(e=this.behaviors[n]).indexOf(t))&&e.splice(r,1)}},resize:{value:function(){var t,e,n,r=this.camera,i=this.canvas;n=this.renderer.vr.getDevice(),t=this.renderer.vr.enabled&&n&&n.isPresenting,!r||!i||this.is("vr-mode")&&(this.isMobile||t)||(e=b(i,this.getAttribute("embedded")&&!this.is("vr-mode"),this.maxCanvasSize,this.is("vr-mode")),r.aspect=e.width/e.height,r.updateProjectionMatrix(),this.renderer.setSize(e.width,e.height,!1),this.emit("rendererresize",null,!1))},writable:!0},setupRenderer:{value:function(){var t,e,n,r,i=this;r={alpha:!0,antialias:!v,canvas:this.canvas,logarithmicDepthBuffer:!1},this.maxCanvasSize={height:1920,width:1920},this.hasAttribute("renderer")&&(n=this.getAttribute("renderer"),(e=c.styleParser.parse(n)).precision&&(r.precision=e.precision+"p"),e.antialias&&"auto"!==e.antialias&&(r.antialias="true"===e.antialias),e.logarithmicDepthBuffer&&"auto"!==e.logarithmicDepthBuffer&&(r.logarithmicDepthBuffer="true"===e.logarithmicDepthBuffer),e.alpha&&(r.alpha="true"===e.alpha),this.maxCanvasSize={width:e.maxCanvasWidth?parseInt(e.maxCanvasWidth):this.maxCanvasSize.width,height:e.maxCanvasHeight?parseInt(e.maxCanvasHeight):this.maxCanvasSize.height}),(t=this.renderer=new u.WebGLRenderer(r)).setPixelRatio(window.devicePixelRatio),t.sortObjects=!1,this.camera&&t.vr.setPoseTarget(this.camera.el.object3D),this.addEventListener("camera-set-active",(function(){t.vr.setPoseTarget(i.camera.el.object3D)})),a.setup(this,b)},writable:window.debug},play:{value:function(){var t=this,e=this;this.renderStarted?d.prototype.play.call(this):(this.addEventListener("loaded",(function(){var t,n=this.renderer,r=this.renderer.vr;d.prototype.play.call(this),e.renderStarted||(e.resize(),e.renderer&&(window.performance&&window.performance.mark("render-started"),a.remove(),(t=c.device.getVRDisplay())&&t.isPresenting&&(r.setDevice(t),r.enabled=!0,e.enterVR()),n.setAnimationLoop(this.render),e.renderStarted=!0,e.emit("renderstart")))})),setTimeout((function(){d.prototype.load.call(t)})))}},updateComponent:{value:function(t){t in l||d.prototype.updateComponent.apply(this,arguments)}},tick:{value:function(t,e){var n,r=this.systems;for(n=0;n<this.behaviors.tick.length;n++)this.behaviors.tick[n].el.isPlaying&&this.behaviors.tick[n].tick(t,e);for(n=0;n<this.systemNames.length;n++)r[this.systemNames[n]].tick&&r[this.systemNames[n]].tick(t,e)}},tock:{value:function(t,e,n){var r,i=this.systems;for(r=0;r<this.behaviors.tock.length;r++)this.behaviors.tock[r].el.isPlaying&&this.behaviors.tock[r].tock(t,e,n);for(r=0;r<this.systemNames.length;r++)i[this.systemNames[r]].tock&&i[this.systemNames[r]].tock(t,e,n)}},render:{value:function(t,e){var n=this.renderer;this.frame=e,this.delta=1e3*this.clock.getDelta(),this.time=1e3*this.clock.elapsedTime,this.isPlaying&&this.tick(this.time,this.delta),n.render(this.object3D,this.camera)},writable:!0}})}),e.exports.setupCanvas=x},{"../../lib/three":151,"../../utils/":176,"../a-entity":99,"../a-node":101,"../a-register-element":102,"../system":114,"./loadingScreen":107,"./metaTags":108,"./postMessage":109,"./scenes":110,"./wakelock":111}],107:[function(t,e,n){var r,i,a,o=t("../../utils/").styleParser,s="a-loader-title";function l(t){var e=a(r.canvas,!1,r.maxCanvasSize,r.is("vr-mode"));t.aspect=e.width/e.height,t.updateProjectionMatrix(),r.renderer.setSize(e.width,e.height,!1)}e.exports.setup=function(t,e){a=e;var n,u,c,d,h,p,f,m,v,g,y=(r=t).hasAttribute("loading-screen")?o.parse(r.getAttribute("loading-screen")):void 0,_=y&&y.dotsColor||"white",b=y&&y.backgroundColor||"#24CAFF";(void 0===y||!0===y.enabled||void 0===y.enabled)&&(n=new THREE.Scene,u=new THREE.SphereGeometry(.2,36,18,0,2*Math.PI,0,Math.PI),c=new THREE.MeshBasicMaterial({color:_}),d=new THREE.Mesh(u,c),h=d.clone(),p=d.clone(),f=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,5e-4,1e4),m=new THREE.Clock,v=0,g=function(){r.renderer.render(n,f),v=m.getElapsedTime()%4,d.visible=v>=1,h.visible=v>=2,p.visible=v>=3},n.background=new THREE.Color(b),n.add(f),d.position.set(-1,0,-15),h.position.set(0,0,-15),p.position.set(1,0,-15),f.add(d),f.add(h),f.add(p),(i=document.createElement("div")).className=s,i.innerHTML=document.title,i.style.display="none",r.appendChild(i),setTimeout((function(){r.hasLoaded||(l(f),i.style.display="block",window.addEventListener("resize",(function(){l(f)})),r.renderer.setAnimationLoop(g))}),200))},e.exports.remove=function(){window.removeEventListener("resize",l),i&&(i.style.display="none")}},{"../../utils/":176}],108:[function(t,e,n){var r,i=t("../../constants/"),a=t("../../utils").extend,o=e.exports.MOBILE_HEAD_TAGS=[l({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover"}),l({name:"mobile-web-app-capable",content:"yes"}),l({name:"theme-color",content:"black"})],s=[l({name:"apple-mobile-web-app-capable",content:"yes"}),l({name:"apple-mobile-web-app-status-bar-style",content:"black"}),(r={rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"},{tagName:"link",attributes:r,exists:function(){return document.querySelector('link[rel="'+r.rel+'"]')}})];function l(t){return{tagName:"meta",attributes:t,exists:function(){return document.querySelector('meta[name="'+t.name+'"]')}}}e.exports.inject=function(t){var e,n=document.head,r=n.querySelector("script"),l=[];return o.forEach(u),t.isIOS&&s.forEach(u),l;function u(t){t&&!t.exists()&&(e=function(t){if(t&&t.tagName){var e=document.createElement(t.tagName);return e.setAttribute(i.AFRAME_INJECTED,""),a(e,t.attributes)}}(t))&&(r?r.parentNode.insertBefore(e,r):n.appendChild(e),l.push(e))}}},{"../../constants/":95,"../../utils":176}],109:[function(t,e,n){var r=t("../../utils/bind"),i=t("../../utils/").isIframed;function a(t){if(t.data)switch(t.data.type){case"vr":switch(t.data.data){case"enter":this.enterVR();break;case"exit":this.exitVR()}}}e.exports=function(t){i()&&window.addEventListener("message",r(a,t))}},{"../../utils/":176,"../../utils/bind":170}],110:[function(t,e,n){e.exports=[]},{}],111:[function(t,e,n){var r=t("../../../vendor/wakelock/wakelock");e.exports=function(t){if(t.isMobile){var e=t.wakelock=new r;t.addEventListener("enter-vr",(function(){e.request()})),t.addEventListener("exit-vr",(function(){e.release()}))}}},{"../../../vendor/wakelock/wakelock":189}],112:[function(t,e,n){var r=t("../utils/"),i=t("./propertyTypes"),a=r.debug,o=i.isValidDefaultValue,s=i.propertyTypes,l=a("core:schema:warn");function u(t){return"type"in t?"string"===typeof t.type:"default"in t}function c(t,e){var n,r,i=t.default,a=t.type;return t.type?"bool"===t.type?a="boolean":"float"===t.type&&(a="number"):a=void 0===i||"boolean"!==typeof i&&"number"!==typeof i?Array.isArray(i)?"array":"string":typeof i,(r=s[a])||l("Unknown property type for component `"+e+"`: "+a),n=!!t.parse,t.parse=t.parse||r.parse,t.stringify=t.stringify||r.stringify,t.type=a,"default"in t?n||o(a,i)||l("Default value `"+i+"` does not match type `"+a+"` in component `"+e+"`"):t.default=r.default,t}function d(t,e){return void 0!==t&&null!==t&&""!==t||(t=e.default,Array.isArray(t)&&(t=t.slice())),e.parse(t,e.default)}function h(t,e){return"object"!==typeof t?t:e&&null!==t?e.stringify(t):JSON.stringify(t)}e.exports.isSingleProperty=u,e.exports.process=function(t,e){var n;if(u(t))return c(t,e);for(n in t)t[n]=c(t[n],e);return t},e.exports.processPropertyDefinition=c,e.exports.parseProperties=function(){var t=[];return function(e,n,r,i,a){var o,s,u,c;for(s in t.length=0,r?e:n)r&&void 0===e[s]||t.push(s);if(null===e||"object"!==typeof e)return e;for(s in e)void 0===e[s]||n[s]||a||l("Unknown property `"+s+"` for component/system `"+i+"`.");for(o=0;o<t.length;o++){if(u=n[s=t[o]],c=e[s],!n[s])return;e[s]=d(c,u)}return e}}(),e.exports.parseProperty=d,e.exports.stringifyProperties=function(t,e){var n,r,i,a,o={};for(n in t)r=e[n],"object"===typeof(a=i=t[n])&&(a=h(i,r),r||l("Unknown component property: "+n)),o[n]=a;return o},e.exports.stringifyProperty=h},{"../utils/":176,"./propertyTypes":105}],113:[function(t,e,n){var r=t("./schema").process,i=e.exports.shaders={},a=e.exports.shaderNames=[],o=t("../lib/three"),s=t("../utils"),l={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},u=e.exports.Shader=function(){};u.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(t){return this.attributes=this.initVariables(t,"attribute"),this.uniforms=this.initVariables(t,"uniform"),this.material=new(this.raw?o.RawShaderMaterial:o.ShaderMaterial)({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(t,e){var n,r,i=this.schema,a={};for(n in i)i[n].is===e&&(r=l[i[n].type],a[n]={type:r,value:void 0});return a},update:function(t){this.updateVariables(t,"attribute"),this.updateVariables(t,"uniform")},updateVariables:function(t,e){var n,r,i,a=this.schema;for(n in i="uniform"===e?this.uniforms:this.attributes,t)if(a[n]&&a[n].is===e)if("map"!==a[n].type)i[n].value=this.parseValue(a[n].type,t[n]),i[n].needsUpdate=!0;else{if(!i[n]||i[n].value===t[n])continue;r="_texture_"+n,this.setMapOnTextureLoad(i,n,r),s.material.updateMapMaterialFromData(r,n,this,t)}},parseValue:function(t,e){var n;switch(t){case"vec2":return new o.Vector2(e.x,e.y);case"vec3":return new o.Vector3(e.x,e.y,e.z);case"vec4":return new o.Vector4(e.x,e.y,e.z,e.w);case"color":return n=new o.Color(e),new o.Vector3(n.r,n.g,n.b);case"map":return o.ImageUtils.loadTexture(e);default:return e}},setMapOnTextureLoad:function(t,e,n){var r=this;this.el.addEventListener("materialtextureloaded",(function(){t[e].value=r.material[n],t[e].needsUpdate=!0}))}},e.exports.registerShader=function(t,e){var n,o={};if(Object.keys(e).forEach((function(t){o[t]={value:e[t],writable:!0}})),i[t])throw new Error("The shader "+t+" has been already registered");return((n=function(){u.call(this)}).prototype=Object.create(u.prototype,o)).name=t,n.prototype.constructor=n,i[t]={Shader:n,schema:r(n.prototype.schema)},a.push(t),n}},{"../lib/three":151,"../utils":176,"./schema":112}],114:[function(t,e,n){var r=t("./component"),i=t("./schema"),a=t("../utils/"),o=i.parseProperties,s=i.parseProperty,l=i.process,u=i.isSingleProperty,c=a.styleParser,d=e.exports.systems={},h=e.exports.System=function(t){var e=r&&r.components[this.name];this.el=t,this.sceneEl=t,e&&(e.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};h.prototype={schema:{},init:function(){},update:function(t){},updateProperties:function(t){var e=this.data;Object.keys(i).length&&(this.buildData(t),this.update(e))},buildData:function(t){var e=this.schema;Object.keys(e).length&&(t=t||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),u(e)?this.data=s(t,e):this.data=o(c.parse(t)||{},e))},tick:void 0,tock:void 0,play:function(){},pause:function(){}},e.exports.registerSystem=function(t,e){var n,r,i={},o=a.findAllScenes(document);if(Object.keys(e).forEach((function(t){i[t]={value:e[t],writable:!0}})),d[t])throw new Error("The system `"+t+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");for(((r=function(t){h.call(this,t)}).prototype=Object.create(h.prototype,i)).name=t,r.prototype.constructor=r,r.prototype.schema=a.extend(l(r.prototype.schema)),d[t]=r,n=0;n<o.length;n++)o[n].initSystem(t)}},{"../utils/":176,"./component":103,"./schema":112}],115:[function(t,e,n){t("./pivot")},{"./pivot":116}],116:[function(t,e,n){var r=t("../../core/component").registerComponent,i=t("../../lib/three"),a=new i.Vector3,o=new i.Vector3;r("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var t=this.data,e=this.el,n=e.object3D.parent,r=e.object3D,s=new i.Group;a.copy(r.position),o.copy(r.rotation),n.remove(r),s.add(r),n.add(s),e.object3D=s,r.position.set(-1*t.x,-1*t.y,-1*t.z),s.position.set(t.x+a.x,t.y+a.y,t.z+a.z),s.rotation.copy(r.rotation),r.rotation.set(0,0,0)}})},{"../../core/component":103,"../../lib/three":151}],117:[function(t,e,n){var r=t("../../core/component").components,i=t("../../core/shader").shaders,a=t("../../utils/"),o={};function s(t){var e=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();"fog"===t&&(e="material-fog"),"visible"===t&&(e="material-visible"),o[e]="material."+t}Object.keys(r.material.schema).forEach(s),Object.keys(i.standard.schema).forEach(s),e.exports=function(){return{defaultComponents:{material:{}},mappings:a.extend({},o)}}},{"../../core/component":103,"../../core/shader":113,"../../utils/":176}],118:[function(t,e,n){t("./primitives/a-camera"),t("./primitives/a-cursor"),t("./primitives/a-curvedimage"),t("./primitives/a-gltf-model"),t("./primitives/a-image"),t("./primitives/a-light"),t("./primitives/a-link"),t("./primitives/a-obj-model"),t("./primitives/a-sky"),t("./primitives/a-sound"),t("./primitives/a-text"),t("./primitives/a-video"),t("./primitives/a-videosphere"),t("./primitives/meshPrimitives")},{"./primitives/a-camera":120,"./primitives/a-cursor":121,"./primitives/a-curvedimage":122,"./primitives/a-gltf-model":123,"./primitives/a-image":124,"./primitives/a-light":125,"./primitives/a-link":126,"./primitives/a-obj-model":127,"./primitives/a-sky":128,"./primitives/a-sound":129,"./primitives/a-text":130,"./primitives/a-video":131,"./primitives/a-videosphere":132,"./primitives/meshPrimitives":133}],119:[function(t,e,n){var r=t("../../core/a-entity"),i=t("../../core/component").components,a=t("../../core/a-register-element").registerElement,o=t("../../utils/"),s=o.debug,l=o.entity.setComponentProperty,u=s("extras:primitives:debug"),c=s("extras:primitives:warn"),d=e.exports.primitives={};e.exports.registerPrimitive=function(t,e){t=t.toLowerCase(),u("Registering <%s>",t),e.defaultAttributes&&c("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var n=a(t,{prototype:Object.create(r.prototype,{defaultComponentsFromPrimitive:{value:e.defaultComponents||e.defaultAttributes||{}},deprecated:{value:e.deprecated||null},deprecatedMappings:{value:e.deprecatedMappings||{}},mappings:{value:e.mappings||{}},createdCallback:{value:function(){e.deprecated&&console.warn(e.deprecated),this.resolveMappingCollisions()}},resolveMappingCollisions:{value:function(){var t=this.mappings,e=this;Object.keys(t).forEach((function(n){var r;n!==n.toLowerCase()&&c("Mapping keys should be specified in lower case. The mapping key "+n+" may not be recognized"),i[n]&&(r=t[n].replace(".","-"),t[r]=t[n],delete t[n],console.warn("The primitive "+e.tagName.toLowerCase()+" has a mapping collision. The attribute "+n+" has the same name as a registered component and has been renamed to "+r))}))}},getExtraComponents:{value:function(){var t,e,n,r,i,a,s=this;for(e=o.clone(this.defaultComponentsFromPrimitive),(i=this.getAttribute("mixin"))&&(i=i.trim().split(" ")).forEach((function(t){var n=s.sceneEl.querySelector("#"+t).componentCache;Object.keys(n).forEach((function(t){var r,i;e[t]=(r=e[t],i=n[t],l(r)?u(i):l(i)?u(r):c(r)&&c(i)?o.extendDeep(r,i):u(i))}))})),n=0;n<this.attributes.length;n++)t=this.attributes[n],(r=this.mappings[t.name])&&((a=o.entity.getComponentPropertyPath(r)).constructor===Array?(e[a[0]]=e[a[0]]||{},e[a[0]][a[1]]=t.value.trim()):e[a]=t.value.trim());return e;function l(t){return"undefined"===typeof t}function u(t){return c(t)?o.extendDeep({},t):t}function c(t){return null!==t&&t.constructor===Object}}},attributeChangedCallback:{value:function(t,e,n){var r=this.mappings[t];t in this.deprecatedMappings&&console.warn(this.deprecatedMappings[t]),t&&r&&l(this,r,n)}}})});return d[t]=n,n},e.exports.definePrimitive=function(t,n,r){r=r||{},Object.keys(n).map((function(t){!function(t,e){var n=i[t].schema;Object.keys(n).map((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();void 0!==e[r]&&(r=t+"-"+n),e[r]=t+"."+n}))}(t,r)})),e.exports.registerPrimitive(t,o.extendDeep({},null,{defaultComponents:n,mappings:r}))}},{"../../core/a-entity":99,"../../core/a-register-element":102,"../../core/component":103,"../../utils/":176}],120:[function(t,e,n){(0,t("../primitives").registerPrimitive)("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{x:0,y:1.6,z:0}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}})},{"../primitives":119}],121:[function(t,e,n){var r=t("../getMeshMixin");(0,t("../primitives").registerPrimitive)("a-cursor",t("../../../utils/").extendDeep({},r(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}}))},{"../../../utils/":176,"../getMeshMixin":117,"../primitives":119}],122:[function(t,e,n){var r=t("../getMeshMixin");(0,t("../primitives").registerPrimitive)("a-curvedimage",t("../../../utils/").extendDeep({},r(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},{"../../../utils/":176,"../getMeshMixin":117,"../primitives":119}],123:[function(t,e,n){(0,t("../primitives").registerPrimitive)("a-gltf-model",{mappings:{src:"gltf-model"}})},{"../primitives":119}],124:[function(t,e,n){var r=t("../getMeshMixin");(0,t("../primitives").registerPrimitive)("a-image",t("../../../utils/").extendDeep({},r(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":176,"../getMeshMixin":117,"../primitives":119}],125:[function(t,e,n){(0,t("../primitives").registerPrimitive)("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target"}})},{"../primitives":119}],126:[function(t,e,n){(0,t("../primitives").registerPrimitive)("a-link",{defaultComponents:{link:{visualAspectEnabled:!0}},mappings:{href:"link.href",image:"link.image",title:"link.title"}})},{"../primitives":119}],127:[function(t,e,n){var r=t("../getMeshMixin")();(0,t("../primitives").registerPrimitive)("a-obj-model",t("../../../utils/").extendDeep({},r,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},{"../../../utils/":176,"../getMeshMixin":117,"../primitives":119}],128:[function(t,e,n){var r=t("../getMeshMixin"),i=t("../primitives").registerPrimitive,a=t("../../../utils/"),o=t("./meshPrimitives");i("a-sky",a.extendDeep({},r(),{defaultComponents:{geometry:{primitive:"sphere",radius:5e3,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:a.extendDeep({},o["a-sphere"].prototype.mappings)}))},{"../../../utils/":176,"../getMeshMixin":117,"../primitives":119,"./meshPrimitives":133}],129:[function(t,e,n){(0,t("../primitives").registerPrimitive)("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},{"../primitives":119}],130:[function(t,e,n){(0,t("../primitives").definePrimitive)("a-text",{text:{anchor:"align",width:5}})},{"../primitives":119}],131:[function(t,e,n){var r=t("../getMeshMixin");(0,t("../primitives").registerPrimitive)("a-video",t("../../../utils/").extendDeep({},r(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":176,"../getMeshMixin":117,"../primitives":119}],132:[function(t,e,n){var r=t("../getMeshMixin");(0,t("../primitives").registerPrimitive)("a-videosphere",t("../../../utils/").extendDeep({},r(),{defaultComponents:{geometry:{primitive:"sphere",radius:5e3,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},{"../../../utils/":176,"../getMeshMixin":117,"../primitives":119}],133:[function(t,e,n){var r=t("../getMeshMixin"),i=t("../../../core/geometry").geometries,a=t("../../../core/geometry").geometryNames,o=t("../primitives").registerPrimitive,s=t("../../../utils/"),l=e.exports={};function u(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}a.forEach((function(t){var e=i[t],n=u(t),a={};Object.keys(e.schema).forEach((function(t){a[u(t)]="geometry."+t}));var c="a-"+n,d=o(c,s.extendDeep({},r(),{defaultComponents:{geometry:{primitive:t}},mappings:a}));l[c]=d}))},{"../../../core/geometry":104,"../../../utils/":176,"../getMeshMixin":117,"../primitives":119}],134:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three");r("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(t){this.geometry=new i.BoxGeometry(t.width,t.height,t.depth,t.segmentsWidth,t.segmentsHeight,t.segmentsDepth)}})},{"../core/geometry":104,"../lib/three":151}],135:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three"),a=i.Math.degToRad;r("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(t){this.geometry=new i.CircleGeometry(t.radius,t.segments,a(t.thetaStart),a(t.thetaLength))}})},{"../core/geometry":104,"../lib/three":151}],136:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three"),a=i.Math.degToRad;r("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(t){this.geometry=new i.CylinderGeometry(t.radiusTop,t.radiusBottom,t.height,t.segmentsRadial,t.segmentsHeight,t.openEnded,a(t.thetaStart),a(t.thetaLength))}})},{"../core/geometry":104,"../lib/three":151}],137:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three"),a=i.Math.degToRad;r("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(t){this.geometry=new i.CylinderGeometry(t.radius,t.radius,t.height,t.segmentsRadial,t.segmentsHeight,t.openEnded,a(t.thetaStart),a(t.thetaLength))}})},{"../core/geometry":104,"../lib/three":151}],138:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three");r("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(t){this.geometry=new i.DodecahedronGeometry(t.radius,t.detail)}})},{"../core/geometry":104,"../lib/three":151}],139:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three");r("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(t){this.geometry=new i.IcosahedronGeometry(t.radius,t.detail)}})},{"../core/geometry":104,"../lib/three":151}],140:[function(t,e,n){t("./box.js"),t("./circle.js"),t("./cone.js"),t("./cylinder.js"),t("./dodecahedron.js"),t("./icosahedron.js"),t("./octahedron.js"),t("./plane.js"),t("./ring.js"),t("./sphere.js"),t("./tetrahedron.js"),t("./torus.js"),t("./torusKnot.js"),t("./triangle.js")},{"./box.js":134,"./circle.js":135,"./cone.js":136,"./cylinder.js":137,"./dodecahedron.js":138,"./icosahedron.js":139,"./octahedron.js":141,"./plane.js":142,"./ring.js":143,"./sphere.js":144,"./tetrahedron.js":145,"./torus.js":146,"./torusKnot.js":147,"./triangle.js":148}],141:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three");r("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(t){this.geometry=new i.OctahedronGeometry(t.radius,t.detail)}})},{"../core/geometry":104,"../lib/three":151}],142:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three");r("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(t){this.geometry=new i.PlaneGeometry(t.width,t.height,t.segmentsWidth,t.segmentsHeight)}})},{"../core/geometry":104,"../lib/three":151}],143:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three"),a=i.Math.degToRad;r("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(t){this.geometry=new i.RingGeometry(t.radiusInner,t.radiusOuter,t.segmentsTheta,t.segmentsPhi,a(t.thetaStart),a(t.thetaLength))}})},{"../core/geometry":104,"../lib/three":151}],144:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three"),a=i.Math.degToRad;r("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(t){this.geometry=new i.SphereGeometry(t.radius,t.segmentsWidth,t.segmentsHeight,a(t.phiStart),a(t.phiLength),a(t.thetaStart),a(t.thetaLength))}})},{"../core/geometry":104,"../lib/three":151}],145:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three");r("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(t){this.geometry=new i.TetrahedronGeometry(t.radius,t.detail)}})},{"../core/geometry":104,"../lib/three":151}],146:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three"),a=i.Math.degToRad;r("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(t){this.geometry=new i.TorusGeometry(t.radius,2*t.radiusTubular,t.segmentsRadial,t.segmentsTubular,a(t.arc))}})},{"../core/geometry":104,"../lib/three":151}],147:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three");r("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(t){this.geometry=new i.TorusKnotGeometry(t.radius,2*t.radiusTubular,t.segmentsTubular,t.segmentsRadial,t.p,t.q)}})},{"../core/geometry":104,"../lib/three":151}],148:[function(t,e,n){var r=t("../core/geometry").registerGeometry,i=t("../lib/three"),a=new i.Quaternion,o=new i.Vector3(0,0,1),s=new i.Vector2,l=new i.Vector2,u=new i.Vector2;r("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(t){var e,n,r,c,d,h;(r=new i.Triangle).a.set(t.vertexA.x,t.vertexA.y,t.vertexA.z),r.b.set(t.vertexB.x,t.vertexB.y,t.vertexB.z),r.c.set(t.vertexC.x,t.vertexC.y,t.vertexC.z),n=r.getNormal(new i.Vector3),a.setFromUnitVectors(n,o),c=r.a.clone().applyQuaternion(a),d=r.b.clone().applyQuaternion(a),h=r.c.clone().applyQuaternion(a),s.set(Math.min(c.x,d.x,h.x),Math.min(c.y,d.y,h.y)),l.set(Math.max(c.x,d.x,h.x),Math.max(c.y,d.y,h.y)),u.set(0,0).subVectors(l,s),c=(new i.Vector2).subVectors(c,s).divide(u),d=(new i.Vector2).subVectors(d,s).divide(u),h=(new i.Vector2).subVectors(h,s).divide(u),(e=this.geometry=new i.Geometry).vertices.push(r.a),e.vertices.push(r.b),e.vertices.push(r.c),e.faces.push(new i.Face3(0,1,2,n)),e.faceVertexUvs[0]=[[c,d,h]]}})},{"../core/geometry":104,"../lib/three":151}],149:[function(t,e,n){if(window.Promise=window.Promise||t("promise-polyfill"),window.hasNativeWebVRImplementation=!!window.navigator.getVRDisplays||!!window.navigator.getVRDevices,window.hasNativeWebXRImplementation=void 0!==navigator.xr,!window.hasNativeWebXRImplementation&&!window.hasNativeWebVRImplementation){var r=t("./utils/isIOSOlderThan10")(window.navigator.userAgent)?1/window.devicePixelRatio:1,i=t("webvr-polyfill"),a={BUFFER_SCALE:r,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0};window.webvrpolyfill=new i(a)}var o=t("./utils/"),s=o.debug;o.isIE11&&(t("custom-event-polyfill"),t("../vendor/starts-with-polyfill"));var l=s("A-Frame:error"),u=s("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&u("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),"file:"===window.location.protocol&&l("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/0.5.0/introduction/getting-started.html#using-a-local-server."),t("present"),o.device.isBrowserEnvironment&&(t("./style/aframe.css"),t("./style/rStats.css"));var c=t("./core/scene/a-scene").AScene,d=t("./core/component").components,h=t("./core/component").registerComponent,p=t("./core/geometry").registerGeometry,f=t("./extras/primitives/primitives").registerPrimitive,m=t("./core/shader").registerShader,v=t("./core/system").registerSystem,g=t("./core/shader").shaders,y=t("./core/system").systems,_=window.THREE=t("./lib/three"),b=t("../package");t("./components/index"),t("./geometries/index"),t("./shaders/index"),t("./systems/index");var x=t("./core/a-node"),w=t("./core/a-entity");t("./core/a-assets"),t("./core/a-cubemap"),t("./core/a-mixin"),t("./extras/components/"),t("./extras/primitives/"),console.log("A-Frame Version: 0.9.2 (Date 2019-05-06, Commit #f57a1fa)"),console.log("three Version (https://github.com/supermedium/three.js):",b.dependencies["super-three"]),console.log("WebVR Polyfill Version:",b.dependencies["webvr-polyfill"]),e.exports=window.AFRAME={AComponent:t("./core/component").Component,AEntity:w,ANode:x,ANIME:t("super-animejs"),AScene:c,components:d,coreComponents:Object.keys(d),geometries:t("./core/geometry").geometries,registerComponent:h,registerElement:t("./core/a-register-element").registerElement,registerGeometry:p,registerPrimitive:f,registerShader:m,registerSystem:v,primitives:{getMeshMixin:t("./extras/primitives/getMeshMixin"),primitives:t("./extras/primitives/primitives").primitives},scenes:t("./core/scene/scenes"),schema:t("./core/schema"),shaders:g,systems:y,THREE:_,utils:o,version:b.version}},{"../package":51,"../vendor/starts-with-polyfill":187,"./components/index":60,"./core/a-assets":97,"./core/a-cubemap":98,"./core/a-entity":99,"./core/a-mixin":100,"./core/a-node":101,"./core/a-register-element":102,"./core/component":103,"./core/geometry":104,"./core/scene/a-scene":106,"./core/scene/scenes":110,"./core/schema":112,"./core/shader":113,"./core/system":114,"./extras/components/":115,"./extras/primitives/":118,"./extras/primitives/getMeshMixin":117,"./extras/primitives/primitives":119,"./geometries/index":140,"./lib/three":151,"./shaders/index":153,"./style/aframe.css":158,"./style/rStats.css":159,"./systems/index":163,"./utils/":176,"./utils/isIOSOlderThan10":178,"custom-event-polyfill":7,present:31,"promise-polyfill":33,"super-animejs":35,"webvr-polyfill":46}],150:[function(t,e,n){window.aframeStats=function(t){var e=null,n=t;return{update:function(){e("te").set(function(){var t=n.querySelectorAll("*");return Array.prototype.slice.call(t).filter((function(t){return t.isEntity})),t.length}()),window.performance.getEntriesByName&&e("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))},start:function(){},end:function(){},attach:function(t){e=t},values:{te:{caption:"Entities"},lt:{caption:"Load Time"}},groups:[{caption:"A-Frame",values:["te","lt"]}],fractions:[]}},"object"===typeof e&&(e.exports={aframeStats:window.aframeStats})},{}],151:[function(t,e,r){(function(n){var r=n.THREE=t("super-three");r.TextureLoader&&(r.TextureLoader.prototype.crossOrigin="anonymous"),r.ImageLoader&&(r.ImageLoader.prototype.crossOrigin="anonymous"),r.Cache&&(r.Cache.enabled=!0),t("super-three/examples/js/loaders/DRACOLoader"),t("super-three/examples/js/loaders/GLTFLoader"),t("super-three/examples/js/loaders/OBJLoader"),t("super-three/examples/js/loaders/MTLLoader"),r.DRACOLoader.prototype.crossOrigin="anonymous",r.GLTFLoader.prototype.crossOrigin="anonymous",r.MTLLoader.prototype.crossOrigin="anonymous",r.OBJLoader.prototype.crossOrigin="anonymous",e.exports=r}).call(this,"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"super-three":36,"super-three/examples/js/loaders/DRACOLoader":37,"super-three/examples/js/loaders/GLTFLoader":38,"super-three/examples/js/loaders/MTLLoader":39,"super-three/examples/js/loaders/OBJLoader":40}],152:[function(t,e,n){var r=t("../core/shader").registerShader,i=t("../lib/three"),a=t("../utils/");function o(t,e){return e.color.set(t.color),e.fog=t.fog,e.wireframe=t.wireframe,e.wireframeLinewidth=t.wireframeLinewidth,e}e.exports.Shader=r("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(t){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new i.Color},this.textureSrc=null,o(t,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.material=new i.MeshBasicMaterial(this.materialData),a.material.updateMap(this,t)},update:function(t){this.updateMaterial(t),a.material.updateMap(this,t)},updateMaterial:function(t){var e;for(e in o(t,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.materialData)this.material[e]=this.materialData[e]}})},{"../core/shader":113,"../lib/three":151,"../utils/":176}],153:[function(t,e,n){t("./flat"),t("./standard"),t("./sdf"),t("./msdf"),t("./ios10hls")},{"./flat":152,"./ios10hls":154,"./msdf":155,"./sdf":156,"./standard":157}],154:[function(t,e,n){var r=t("../core/shader").registerShader;e.exports.Shader=r("ios10hls",{schema:{src:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:["varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["uniform sampler2D src;","uniform float opacity;","varying vec2 vUV;","void main() {","  vec2 offset = vec2(0, 0);","  vec2 repeat = vec2(1, 1);","  vec4 color = texture2D(src, vec2(vUV.x / repeat.x + offset.x, (1.0 - vUV.y) / repeat.y + offset.y)).bgra;","  gl_FragColor = vec4(color.rgb, opacity);","}"].join("\n")})},{"../core/shader":113}],155:[function(t,e,n){var r=t("../core/shader").registerShader;e.exports.Shader=r("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sample = texture2D(map, vUV).rgb;","  if (negate) { sample = 1.0 - sample; }","  float sigDist = median(sample.r, sample.g, sample.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","}"].join("\n")})},{"../core/shader":113}],156:[function(t,e,n){var r=t("../core/shader").registerShader;e.exports.Shader=r("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","#ifdef GL_OES_standard_derivatives","  float contour(float width, float value) {","    return smoothstep(0.5 - value, 0.5 + value, width);","  }","#else","  float aastep(float value, float afwidth) {","    return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","  }","#endif","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","void main() {","  #ifdef GL_OES_standard_derivatives","    vec2 uv = vUV;","    vec4 texColor = texture2D(map, uv);","    float dist = texColor.a;","    float width = fwidth(dist);","    float alpha = contour(dist, width);","    float dscale = 0.353505;","    vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","    float isBigEnough = max(abs(duv.x), abs(duv.y));","    if (isBigEnough > BIG_ENOUGH) {","      float ratio = BIG_ENOUGH / isBigEnough;","      alpha = ratio * alpha + (1.0 - ratio) * dist;","    }","    if (isBigEnough <= BIG_ENOUGH) {","      vec4 box = vec4 (uv - duv, uv + duv);","      alpha = (alpha + 0.5 * (","        contour(texture2D(map, box.xy).a, width)","        + contour(texture2D(map, box.zw).a, width)","        + contour(texture2D(map, box.xw).a, width)","        + contour(texture2D(map, box.zy).a, width)","      )) / 3.0;","    }","    if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  #else","    vec4 texColor = texture2D(map, vUV);","    float value = texColor.a;","    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","    float alpha = aastep(value, afwidth);","    float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","    if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","    alpha = alpha * ratio + (1.0 - ratio) * value;","    if (ratio < 1.0 && alpha <= DISCARD_ALPHA) { discard; return; }","  #endif","  gl_FragColor = vec4(color, opacity * alpha);","}"].join("\n")})},{"../core/shader":113}],157:[function(t,e,n){var r=t("../core/shader").registerShader,i=t("../lib/three"),a=t("../utils/"),o=new i.CubeTextureLoader,s={};function l(t,e){return e.color.set(t.color),e.emissive.set(t.emissive),e.emissiveIntensity=t.emissiveIntensity,e.fog=t.fog,e.metalness=t.metalness,e.roughness=t.roughness,e.wireframe=t.wireframe,e.wireframeLinewidth=t.wireframeLinewidth,t.normalMap&&(e.normalScale=t.normalScale),t.ambientOcclusionMap&&(e.aoMapIntensity=t.ambientOcclusionMapIntensity),t.displacementMap&&(e.displacementScale=t.displacementScale,e.displacementBias=t.displacementBias),e}e.exports.Shader=r("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(t){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new i.Color,emissive:new i.Color},l(t,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive),this.material=new i.MeshStandardMaterial(this.materialData),a.material.updateMap(this,t),t.normalMap&&a.material.updateDistortionMap("normal",this,t),t.displacementMap&&a.material.updateDistortionMap("displacement",this,t),t.ambientOcclusionMap&&a.material.updateDistortionMap("ambientOcclusion",this,t),t.metalnessMap&&a.material.updateDistortionMap("metalness",this,t),t.roughnessMap&&a.material.updateDistortionMap("roughness",this,t),this.updateEnvMap(t)},update:function(t){this.updateMaterial(t),a.material.updateMap(this,t),t.normalMap&&a.material.updateDistortionMap("normal",this,t),t.displacementMap&&a.material.updateDistortionMap("displacement",this,t),t.ambientOcclusionMap&&a.material.updateDistortionMap("ambientOcclusion",this,t),t.metalnessMap&&a.material.updateDistortionMap("metalness",this,t),t.roughnessMap&&a.material.updateDistortionMap("roughness",this,t),this.updateEnvMap(t)},updateMaterial:function(t){var e,n=this.material;for(e in l(t,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive),this.materialData)n[e]=this.materialData[e]},updateEnvMap:function(t){var e=this,n=this.material,r=t.envMap,l=t.sphericalEnvMap;if(!r&&!l||this.isLoadingEnvMap)return n.envMap=null,void(n.needsUpdate=!0);this.isLoadingEnvMap=!0,l?this.el.sceneEl.systems.material.loadTexture(l,{src:l},(function(t){e.isLoadingEnvMap=!1,t.mapping=i.SphericalReflectionMapping,n.envMap=t,a.material.handleTextureEvents(e.el,t),n.needsUpdate=!0})):s[r]?s[r].then((function(t){e.isLoadingEnvMap=!1,n.envMap=t,a.material.handleTextureEvents(e.el,t),n.needsUpdate=!0})):s[r]=new Promise((function(t){a.srcLoader.validateCubemapSrc(r,(function(r){o.load(r,(function(r){e.isLoadingEnvMap=!1,n.envMap=r,a.material.handleTextureEvents(e.el,r),t(r)}))}))}))}})},{"../core/shader":113,"../lib/three":151,"../utils/":176}],158:[function(t,e,n){var r="html.a-fullscreen{bottom:0;left:0;position:fixed;right:0;top:0}html.a-fullscreen body{height:100%;margin:0;overflow:hidden;padding:0;width:100%}html.a-fullscreen .a-canvas{width:100%!important;height:100%!important;top:0!important;left:0!important;right:0!important;bottom:0!important;position:fixed!important}html:not(.a-fullscreen) .a-enter-vr{right:5px;bottom:5px}:-webkit-full-screen{background-color:transparent}.a-hidden{display:none!important}.a-canvas{height:100%;left:0;position:absolute;top:0;width:100%}.a-canvas.a-grab-cursor:hover{cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}canvas.a-canvas.a-mouse-cursor-hover:hover{cursor:pointer}.a-inspector-loader{background-color:#ed3160;position:fixed;left:3px;top:3px;padding:6px 10px;color:#fff;text-decoration:none;font-size:12px;font-family:Roboto,sans-serif;text-align:center;z-index:99999;width:204px}@keyframes dots-1{from{opacity:0}25%{opacity:1}}@keyframes dots-2{from{opacity:0}50%{opacity:1}}@keyframes dots-3{from{opacity:0}75%{opacity:1}}@-webkit-keyframes dots-1{from{opacity:0}25%{opacity:1}}@-webkit-keyframes dots-2{from{opacity:0}50%{opacity:1}}@-webkit-keyframes dots-3{from{opacity:0}75%{opacity:1}}.a-inspector-loader .dots span{animation:dots-1 2s infinite steps(1);-webkit-animation:dots-1 2s infinite steps(1)}.a-inspector-loader .dots span:first-child+span{animation-name:dots-2;-webkit-animation-name:dots-2}.a-inspector-loader .dots span:first-child+span+span{animation-name:dots-3;-webkit-animation-name:dots-3}a-scene{display:block;position:relative;height:100%;width:100%}a-assets,a-scene audio,a-scene img,a-scene video{display:none}.a-enter-vr-modal,.a-orientation-modal{font-family:Consolas,Andale Mono,Courier New,monospace}.a-enter-vr-modal a{border-bottom:1px solid #fff;padding:2px 0;text-decoration:none;transition:.1s color ease-in}.a-enter-vr-modal a:hover{background-color:#fff;color:#111;padding:2px 4px;position:relative;left:-4px}.a-enter-vr{font-family:sans-serif,monospace;font-size:13px;width:100%;font-weight:200;line-height:16px;position:absolute;right:20px;bottom:20px}.a-enter-vr-button,.a-enter-vr-modal,.a-enter-vr-modal a{color:#fff}.a-enter-vr-button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20245.82%20141.73%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3A%23fff%3Bfill-rule%3Aevenodd%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3Emask%3C%2Ftitle%3E%3Cpath%20class%3D%22a%22%20d%3D%22M175.56%2C111.37c-22.52%2C0-40.77-18.84-40.77-42.07S153%2C27.24%2C175.56%2C27.24s40.77%2C18.84%2C40.77%2C42.07S198.08%2C111.37%2C175.56%2C111.37ZM26.84%2C69.31c0-23.23%2C18.25-42.07%2C40.77-42.07s40.77%2C18.84%2C40.77%2C42.07-18.26%2C42.07-40.77%2C42.07S26.84%2C92.54%2C26.84%2C69.31ZM27.27%2C0C11.54%2C0%2C0%2C12.34%2C0%2C28.58V110.9c0%2C16.24%2C11.54%2C30.83%2C27.27%2C30.83H99.57c2.17%2C0%2C4.19-1.83%2C5.4-3.7L116.47%2C118a8%2C8%2C0%2C0%2C1%2C12.52-.18l11.51%2C20.34c1.2%2C1.86%2C3.22%2C3.61%2C5.39%2C3.61h72.29c15.74%2C0%2C27.63-14.6%2C27.63-30.83V28.58C245.82%2C12.34%2C233.93%2C0%2C218.19%2C0H27.27Z%22%2F%3E%3C%2Fsvg%3E) 50% 50%/70% 70% no-repeat rgba(0,0,0,.35);border:0;bottom:0;cursor:pointer;min-width:50px;min-height:30px;padding-right:5%;padding-top:4%;position:absolute;right:0;transition:background-color .05s ease;-webkit-transition:background-color .05s ease;z-index:9999}.a-enter-vr-button:active,.a-enter-vr-button:hover{background-color:#666}[data-a-enter-vr-no-webvr] .a-enter-vr-button{border-color:#666;opacity:.65}[data-a-enter-vr-no-webvr] .a-enter-vr-button:active,[data-a-enter-vr-no-webvr] .a-enter-vr-button:hover{background-color:rgba(0,0,0,.35);cursor:not-allowed}.a-enter-vr-modal{background-color:#666;border-radius:0;display:none;min-height:32px;margin-right:70px;padding:9px;width:280px;right:2%;position:absolute}.a-enter-vr-modal:after{border-bottom:10px solid transparent;border-left:10px solid #666;border-top:10px solid transparent;display:inline-block;content:'';position:absolute;right:-5px;top:5px;width:0;height:0}.a-enter-vr-modal a,.a-enter-vr-modal p{display:inline}.a-enter-vr-modal p{margin:0}.a-enter-vr-modal p:after{content:' '}[data-a-enter-vr-no-headset].a-enter-vr:hover .a-enter-vr-modal,[data-a-enter-vr-no-webvr].a-enter-vr:hover .a-enter-vr-modal{display:block}.a-orientation-modal{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center/50% 50% no-repeat rgba(244,244,244,1);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-orientation-modal:after{color:#666;content:\"Insert phone into Cardboard holder.\";display:block;position:absolute;text-align:center;top:70%;transform:translateY(-70%);width:100%}.a-orientation-modal button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;border:none;height:50px;text-indent:-9999px;width:50px}.a-loader-title{background-color:rgba(0,0,0,.6);font-family:sans-serif,monospace;text-align:center;font-size:20px;height:50px;font-weight:300;line-height:50px;position:absolute;right:0;left:0;top:0;color:#fff}";t("browserify-css").createStyle(r,{href:"src/style/aframe.css"}),e.exports=r},{"browserify-css":4}],159:[function(t,e,n){var r=".rs-base{background-color:#333;color:#fafafa;border-radius:0;font:10px monospace;left:5px;line-height:1em;opacity:.85;overflow:hidden;padding:10px;position:fixed;top:5px;width:300px;z-index:10000}.rs-base div.hidden{display:none}.rs-base h1{color:#fff;cursor:pointer;font-size:1.4em;font-weight:300;margin:0 0 5px;padding:0}.rs-group{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;margin-bottom:5px}.rs-group:last-child{margin-bottom:0}.rs-counter-base{align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;height:10px;-webkit-justify-content:space-between;justify-content:space-between;margin:2px 0}.rs-counter-base.alarm{color:#b70000;text-shadow:0 0 0 #b70000,0 0 1px #fff,0 0 1px #fff,0 0 2px #fff,0 0 2px #fff,0 0 3px #fff,0 0 3px #fff,0 0 4px #fff,0 0 4px #fff}.rs-counter-id{font-weight:300;-webkit-box-ordinal-group:0;-webkit-order:0;order:0;width:54px}.rs-counter-value{font-weight:300;-webkit-box-ordinal-group:1;-webkit-order:1;order:1;text-align:right;width:35px}.rs-canvas{-webkit-box-ordinal-group:2;-webkit-order:2;order:2}@media (min-width:480px){.rs-base{left:20px;top:20px}}";t("browserify-css").createStyle(r,{href:"src/style/rStats.css"}),e.exports=r},{"browserify-css":4}],160:[function(t,e,n){var r=t("../constants/"),i=t("../core/system").registerSystem,a="data-aframe-default-camera";e.exports.System=i("camera",{init:function(){this.activeCameraEl=null,this.render=this.render.bind(this),this.unwrapRender=this.unwrapRender.bind(this),this.wrapRender=this.wrapRender.bind(this),this.initialCameraFound=!1,this.numUserCameras=0,this.numUserCamerasChecked=0,this.setupInitialCamera()},setupInitialCamera:function(){var t,e,n=this.sceneEl,r=this;if(!n.camera||n.camera.el.getAttribute("camera").spectator)if((t=n.querySelectorAll("a-camera, [camera]")).length)for(this.numUserCameras=t.length,e=0;e<t.length;e++)t[e].addEventListener("object3dset",(function(t){"camera"===t.detail.type&&r.checkUserCamera(this)})),t[e].isNode?t[e].load():t[e].addEventListener("nodeready",(function(){this.load()}));else this.createDefaultCamera();else n.emit("cameraready",{cameraEl:n.camera.el})},checkUserCamera:function(t){var e,n=this.el.sceneEl;this.numUserCamerasChecked++,this.initialCameraFound||((e=t.getAttribute("camera")).active&&!e.spectator?(this.initialCameraFound=!0,n.camera=t.getObject3D("camera"),n.emit("cameraready",{cameraEl:t})):this.numUserCamerasChecked===this.numUserCameras&&this.createDefaultCamera())},createDefaultCamera:function(){var t,e=this.sceneEl;(t=document.createElement("a-entity")).setAttribute("camera",{active:!0}),t.setAttribute("position",{x:0,y:r.DEFAULT_CAMERA_HEIGHT,z:0}),t.setAttribute("wasd-controls",""),t.setAttribute("look-controls",""),t.setAttribute(r.AFRAME_INJECTED,""),t.addEventListener("object3dset",(function(n){"camera"===n.detail.type&&(e.camera=n.detail.object,e.emit("cameraready",{cameraEl:t}))})),e.appendChild(t)},disableActiveCamera:function(){var t;(t=this.sceneEl.querySelectorAll("[camera]"))[t.length-1].setAttribute("camera","active",!0)},setActiveCamera:function(t){var e,n,r,i,o=this.activeCameraEl,s=this.sceneEl;if((i=t.getObject3D("camera"))&&t!==this.activeCameraEl){var l=s.querySelector("["+a+"]");for(t!==(l&&l.querySelector("[camera]"))&&function(t){var e;t.camera&&(e=t.querySelector("["+a+"]"))&&t.removeChild(e)}(s),this.activeCameraEl=t,this.activeCameraEl.play(),s.camera=i,o&&o.setAttribute("camera","active",!1),n=s.querySelectorAll("[camera]"),r=0;r<n.length;r++)(e=n[r]).isEntity&&t!==e&&(e.setAttribute("camera","active",!1),e.pause());s.emit("camera-set-active",{cameraEl:t})}},setSpectatorCamera:function(t){var e,n=this.spectatorCameraEl,r=this.sceneEl;t.getObject3D("camera")&&t!==this.spectatorCameraEl&&(n&&n.setAttribute("camera","spectator",!1),e=this.spectatorCameraEl=t,r.addEventListener("enter-vr",this.wrapRender),r.addEventListener("exit-vr",this.unwrapRender),e.setAttribute("camera","active",!1),e.play(),r.emit("camera-set-spectator",{cameraEl:t}))},disableSpectatorCamera:function(){this.spectatorCameraEl=void 0},wrapRender:function(){this.spectatorCameraEl&&(this.originalRender=this.sceneEl.renderer.render,this.sceneEl.renderer.render=this.render)},unwrapRender:function(){this.originalRender&&(this.sceneEl.renderer.render=this.originalRender,this.originalRender=void 0)},render:function(t,e){var n,r,i=this.sceneEl;n=i.renderer.vr.enabled,this.originalRender.call(i.renderer,t,e),this.spectatorCameraEl&&!i.isMobile&&n&&(r=this.spectatorCameraEl.components.camera.camera,i.renderer.vr.enabled=!1,this.originalRender.call(i.renderer,t,r),i.renderer.vr.enabled=n)}})},{"../constants/":95,"../core/system":114}],161:[function(t,e,n){var r=t("../core/geometry").geometries,i=t("../core/system").registerSystem,a=t("../lib/three");function o(t){var e=t.primitive,n=r[e]&&r[e].Geometry,i=new n;if(!n)throw new Error("Unknown geometry `"+e+"`");return i.init(t),function(t,e){var n;return e?((n=(new a.BufferGeometry).fromGeometry(t)).metadata={type:t.type,parameters:t.parameters||{}},t.dispose(),n):t}(i.geometry,t.buffer)}e.exports.System=i("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(t){var e,n,r=this.cache;return t.skipCache?o(t):(e=r[n=this.hash(t)],function(t,e){t[e]=void 0===t[e]?1:t[e]+1}(this.cacheCount,n),e||(e=o(t),r[n]=e,e))},unuseGeometry:function(t){var e,n=this.cache,r=this.cacheCount;t.skipCache||n[e=this.hash(t)]&&(function(t,e){t[e]--}(r,e),r[e]>0||(n[e].dispose(),delete n[e],delete r[e]))},hash:function(t){return JSON.stringify(t)}})},{"../core/geometry":104,"../core/system":114,"../lib/three":151}],162:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../lib/three");e.exports.System=r("gltf-model",{schema:{dracoDecoderPath:{default:""}},init:function(){var t=this.data.dracoDecoderPath;i.DRACOLoader.setDecoderPath(t),this.dracoLoader=t?new i.DRACOLoader:null},update:function(){var t;this.dracoLoader||(t=this.data.dracoDecoderPath,i.DRACOLoader.setDecoderPath(t),this.dracoLoader=t?new i.DRACOLoader:null)},getDRACOLoader:function(){return this.dracoLoader}})},{"../core/system":114,"../lib/three":151}],163:[function(t,e,n){t("./camera"),t("./geometry"),t("./gltf-model"),t("./light"),t("./material"),t("./renderer"),t("./shadow"),t("./tracked-controls-webvr"),t("./tracked-controls-webxr")},{"./camera":160,"./geometry":161,"./gltf-model":162,"./light":164,"./material":165,"./renderer":166,"./shadow":167,"./tracked-controls-webvr":168,"./tracked-controls-webxr":169}],164:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../utils/bind"),a=t("../constants/");e.exports.System=r("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",i(this.setupDefaultLights,this))},registerLight:function(t){t.hasAttribute("data-aframe-default-light")||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var t,e=this.sceneEl;if(this.defaultLights){t=document.querySelectorAll("[data-aframe-default-light]");for(var n=0;n<t.length;n++)e.removeChild(t[n]);this.defaultLights=!1}},setupDefaultLights:function(){var t,e,n=this.sceneEl;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||((t=document.createElement("a-entity")).setAttribute("light",{color:"#BBB",type:"ambient"}),t.setAttribute("data-aframe-default-light",""),t.setAttribute(a.AFRAME_INJECTED,""),n.appendChild(t),(e=document.createElement("a-entity")).setAttribute("light",{color:"#FFF",intensity:.6,castShadow:!0}),e.setAttribute("position",{x:-.5,y:1,z:1}),e.setAttribute("data-aframe-default-light",""),e.setAttribute(a.AFRAME_INJECTED,""),n.appendChild(e),this.defaultLights=!0)}})},{"../constants/":95,"../core/system":114,"../utils/bind":170}],165:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../lib/three"),a=t("../utils/"),o=t("../utils/material").isHLS,s=a.bind,l=a.debug,u=l("components:texture:error"),c=new i.TextureLoader,d=l("components:texture:warn");function h(t,e){var n=e.offset||{x:0,y:0},r=e.repeat||{x:1,y:1};!!e.npot&&(t.wrapS=i.ClampToEdgeWrapping,t.wrapT=i.ClampToEdgeWrapping,t.magFilter=i.LinearFilter,t.minFilter=i.LinearFilter),1===r.x&&1===r.y||(t.wrapS=i.RepeatWrapping,t.wrapT=i.RepeatWrapping,t.repeat.set(r.x,r.y)),0===n.x&&0===n.y||t.offset.set(n.x,n.y)}c.setCrossOrigin("anonymous"),e.exports.System=r("material",{init:function(){this.materials={},this.textureCounts={},this.textureCache={},this.sceneEl.addEventListener("materialtextureloaded",s(this.onMaterialTextureLoaded,this))},clearTextureCache:function(){this.textureCache={}},loadTexture:function(t,e,n){var r=this;if("CANVAS"!==t.tagName){if("VIDEO"===t.tagName)return t.src||t.srcObject||t.childElementCount||d("Video element was defined with neither `source` elements nor `src` / `srcObject` attributes."),void this.loadVideo(t,e,n);a.srcLoader.validateSrc(t,(function(t){r.loadImage(t,e,n)}),(function(t){r.loadVideo(t,e,n)}))}else this.loadCanvas(t,e,n)},loadImage:function(t,e,n){var r=this.hash(e),a=this.textureCache;a[r]?a[r].then(n):(a[r]=function(t,e){return new Promise((function(n,r){function a(t){h(t,e),t.needsUpdate=!0,n(t)}"string"===typeof t?c.load(t,a,(function(){}),(function(t){u("`$s` could not be fetched (Error code: %s; Response: %s)",t.status,t.statusText)})):a(new i.Texture(t))}))}(t,e),a[r].then(n))},loadCanvas:function(t,e,n){var r;h(r=new i.CanvasTexture(t),e),n(r)},loadVideo:function(t,e,n){var r,a,s,l,u=this.textureCache;function c(t){t.texture.needsUpdate=!0,n(t.texture,t.videoEl)}if("string"!==typeof t){if(s=t,u[r=this.hashVideo(e,s)])return void u[r].then(c);!function(t){t.autoplay=t.hasAttribute("autoplay")&&"false"!==t.getAttribute("autoplay"),t.controls=t.hasAttribute("controls")&&"false"!==t.getAttribute("controls"),"false"===t.getAttribute("loop")&&t.removeAttribute("loop"),"false"===t.getAttribute("preload")&&(t.preload="none"),t.crossOrigin=t.crossOrigin||"anonymous",t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline","")}(s)}s=s||function(t,e,n){var r=document.createElement("video");return r.width=e,r.height=n,r.setAttribute("playsinline",""),r.setAttribute("webkit-playsinline",""),r.autoplay=!0,r.loop=!0,r.crossOrigin="anonymous",r.addEventListener("error",(function(){d("`$s` is not a valid video",t)}),!0),r.src=t,r}(t,e.width,e.height),u[r=this.hashVideo(e,s)]?u[r].then(c):((a=new i.VideoTexture(s)).minFilter=i.LinearFilter,h(a,e),this.sceneEl.isIOS&&o(s.src||s.getAttribute("src"),s.type||s.getAttribute("type"))&&(a.format=i.RGBAFormat,a.needsCorrectionBGRA=!0,a.flipY=!1,a.needsCorrectionFlipY=!0),l={texture:a,videoEl:s},u[r]=Promise.resolve(l),c(l))},hash:function(t){return t.src.tagName&&((t=a.extendDeep({},t)).src=t.src.src),JSON.stringify(t)},hashVideo:function(t,e){return function(t,e){var n,r,i,a=e.getAttribute("id");if(a)return a;for(r="",i=t||{},n=0;n<e.attributes.length;n++)i[e.attributes[n].name]=e.attributes[n].value;return Object.keys(i).sort().forEach((function(t){r+=t+":"+i[t]+";"})),r}(t,e)},registerMaterial:function(t){this.materials[t.uuid]=t},unregisterMaterial:function(t){delete this.materials[t.uuid];var e=this.textureCounts;Object.keys(t).filter((function(e){return t[e]&&t[e].isTexture})).forEach((function(n){e[t[n].uuid]--,e[t[n].uuid]<=0&&t[n].dispose()}))},updateMaterials:function(t){var e=this.materials;Object.keys(e).forEach((function(t){e[t].needsUpdate=!0}))},onMaterialTextureLoaded:function(t){this.textureCounts[t.detail.texture.uuid]||(this.textureCounts[t.detail.texture.uuid]=0),this.textureCounts[t.detail.texture.uuid]++}})},{"../core/system":114,"../lib/three":151,"../utils/":176,"../utils/material":179}],166:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../utils/"),a=t("../lib/three"),o=(0,i.debug)("components:renderer:warn");e.exports.System=r("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},highRefreshRate:{default:!1},logarithmicDepthBuffer:{default:"auto",oneOf:["true","false","auto"]},maxCanvasWidth:{default:1920},maxCanvasHeight:{default:1920},physicallyCorrectLights:{default:!1},precision:{default:"high",oneOf:["high","medium","low"]},sortObjects:{default:!1},colorManagement:{default:!1},gammaOutput:{default:!1},alpha:{default:!0},foveationLevel:{default:0}},init:function(){var t=this.data,e=this.el,n=e.renderer;n.sortObjects=t.sortObjects,n.physicallyCorrectLights=t.physicallyCorrectLights,(t.colorManagement||t.gammaOutput)&&(n.gammaOutput=!0,n.gammaFactor=2.2,t.gammaOutput&&o('Property `gammaOutput` is deprecated. Use `renderer="colorManagement: true;"` instead.')),e.hasAttribute("antialias")&&o('Component `antialias` is deprecated. Use `renderer="antialias: true"` instead.'),e.hasAttribute("logarithmicDepthBuffer")&&o('Component `logarithmicDepthBuffer` is deprecated. Use `renderer="logarithmicDepthBuffer: true"` instead.')},applyColorCorrection:function(t){this.data.colorManagement&&t&&(t.isColor?t.convertSRGBToLinear():t.isTexture&&(t.encoding=a.sRGBEncoding))}})},{"../core/system":114,"../lib/three":151,"../utils/":176}],167:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../lib/three"),a={basic:i.BasicShadowMap,pcf:i.PCFShadowMap,pcfsoft:i.PCFSoftShadowMap};e.exports.System=r("shadow",{schema:{enabled:{default:!0},autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var t=this.sceneEl,e=this.data;this.shadowMapEnabled=!1,t.renderer&&(t.renderer.shadowMap.type=a[e.type],t.renderer.shadowMap.autoUpdate=e.autoUpdate,this.setShadowMapEnabled(this.shadowMapEnabled))},update:function(t){t.enabled!==this.data.enabled&&this.setShadowMapEnabled(this.data.enabled)},setShadowMapEnabled:function(t){var e=this.sceneEl.renderer;this.shadowMapEnabled=this.data.enabled&&t,e&&(e.shadowMap.enabled=this.shadowMapEnabled)}})},{"../core/system":114,"../lib/three":151}],168:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../utils");e.exports.System=r("tracked-controls-webvr",{init:function(){var t=this;this.controllers=[],this.isChrome=-1!==navigator.userAgent.indexOf("Chrome"),this.updateControllerList(),this.throttledUpdateControllerList=i.throttle(this.updateControllerList,500,this),navigator.getVRDisplays&&this.sceneEl.addEventListener("enter-vr",(function(){navigator.getVRDisplays().then((function(e){e.length&&(t.vrDisplay=e[0])}))}))},tick:function(){this.isChrome?this.updateControllerList():this.throttledUpdateControllerList()},updateControllerList:function(){var t,e,n,r,i=this.controllers;if(e=navigator.getGamepads&&navigator.getGamepads()){for(r=i.length,i.length=0,n=0;n<e.length;++n)(t=e[n])&&t.pose&&i.push(t);i.length!==r&&this.el.emit("controllersupdated",void 0,!1)}}})},{"../core/system":114,"../utils":176}],169:[function(t,e,n){var r=t("../core/system").registerSystem,i=t("../utils");e.exports.System=r("tracked-controls-webxr",{init:function(){this.controllers=[],this.throttledUpdateControllerList=i.throttle(this.updateControllerList,500,this)},tick:function(){this.throttledUpdateControllerList()},updateControllerList:function(){var t=this.controllers.length;this.el.xrSession&&(this.controllers=this.el.xrSession.getInputSources(),t!==this.controllers.length&&this.el.emit("controllersupdated",void 0,!1))}})},{"../core/system":114,"../utils":176}],170:[function(t,e,n){e.exports=function(t,e){return n=Array.prototype.slice.call(arguments,2),function(){var r=n.concat(Array.prototype.slice.call(arguments,0));return t.apply(e,r)};var n}},{}],171:[function(t,e,n){var r=t("./debug"),i=t("object-assign"),a=r("utils:coordinates:warn"),o=["x","y","z","w"],s=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/;e.exports.regex=s;var l="object",u=/\s+/g;function c(t){return s.test(t)}function d(t){return null!==t&&void 0!==t&&t.constructor===String?parseFloat(t,10):t}e.exports.parse=function(t,e){var n,r,a,s,c,h,p,f,m;if(t&&t instanceof Object)return h=void 0===t.x?e&&e.x:t.x,p=void 0===t.y?e&&e.y:t.y,f=void 0===t.z?e&&e.z:t.z,m=void 0===t.w?e&&e.w:t.w,void 0!==h&&null!==h&&(t.x=d(h)),void 0!==p&&null!==p&&(t.y=d(p)),void 0!==f&&null!==f&&(t.z=d(f)),void 0!==m&&null!==m&&(t.w=d(m)),t;if(null===t||void 0===t)return typeof e===l?i({},e):e;for(n=t.trim().split(u),c={},s=0;s<o.length;s++)if(a=o[s],n[s])c[a]=parseFloat(n[s],10);else{if(void 0===(r=e&&e[a]))continue;c[a]=d(r)}return c},e.exports.stringify=function(t){var e;return typeof t!==l?t:(e=t.x+" "+t.y,null!=t.z&&(e+=" "+t.z),null!=t.w&&(e+=" "+t.w),e)},e.exports.isCoordinates=c,e.exports.isCoordinate=function(t){return a("`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`"),c(t)},e.exports.toVector3=function(t){return new THREE.Vector3(t.x,t.y,t.z)}},{"./debug":172,"object-assign":25}],172:[function(t,n,r){(function(r){var i=t("debug"),a=t("object-assign"),o={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}},s=function(t){var e=i(t);return e.color=function(t){var e=function(t){var e=t.split(":");return e[e.length-1]}(t);return o.colors&&o.colors[e]||null}(t),e};a(s,i);var l=function(){try{return window.localStorage}catch(e){}}();l&&(parseInt(l.logs,10)||"true"===l.logs)?s.enable("*"):s.enable("*:error,*:info,*:warn"),r.browser&&(window.logs=s),n.exports=s}).call(this,t("_process"))},{_process:32,debug:8,"object-assign":25}],173:[function(t,e,n){(function(n){var r,i=t("debug")("device:error");function a(){return r}window.addEventListener("vrdisplayactivate",(function(t){var e;navigator.xr||(e=document.createElement("canvas"),(r=t.display).requestPresent([{source:e}]).then((function(){}),(function(){})))})),navigator.xr?navigator.xr.requestDevice().then((function(t){t&&t.supportsSession({immersive:!0,exclusive:!0}).then((function(){var e=document.querySelector("a-scene");r=t,e&&e.emit("displayconnected",{vrDisplay:r})}))})).catch((function(t){i("WebXR Request Device: "+t.message)})):navigator.getVRDisplays&&navigator.getVRDisplays().then((function(t){var e=document.querySelector("a-scene");r=t.length&&t[0],e&&e.emit("displayconnected",{vrDisplay:r})})),e.exports.isWebXRAvailable=void 0!==navigator.xr,e.exports.getVRDisplay=a,e.exports.checkHeadsetConnected=function(){return!!a()};var o=function(){var t,e=!1;return t=window.navigator.userAgent||window.navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),(l()||s()||c())&&(e=!0),u()&&(e=!1),function(){return e}}();function s(t){var e=t||window.navigator.userAgent;return/ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(e)}function l(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}function u(){return/(OculusBrowser)|(SamsungBrowser)|(Mobile VR)/i.test(window.navigator.userAgent)}function c(){return/R7 Build/.test(window.navigator.userAgent)}e.exports.isMobile=o,e.exports.isTablet=s,e.exports.isIOS=l,e.exports.isMobileVR=u,e.exports.isR7=c,e.exports.isLandscape=function(){var t=window.orientation;return c()&&(t+=90),90===t||-90===t},e.exports.isBrowserEnvironment=!(n&&!n.browser),e.exports.isNodeEnvironment=!e.exports.isBrowserEnvironment,e.exports.PolyfillControls=function(t){var e,n=window.webvrpolyfill&&window.webvrpolyfill.getPolyfillDisplays()[0];window.VRFrameData&&(e=new window.VRFrameData),this.update=function(){var r;n&&(n.getFrameData(e),null!==(r=e.pose).orientation&&t.quaternion.fromArray(r.orientation),null!==r.position?t.position.fromArray(r.position):t.position.set(0,0,0))}}}).call(this,t("_process"))},{_process:32,debug:8}],174:[function(t,e,n){var r={};function i(t,e){return r[e=e||"."]||(r[e]={}),-1!==t.indexOf(e)?r[e][t]=t.split(e):r[e][t]=t,r[e][t]}e.exports.getComponentPropertyPath=i,e.exports.propertyPathCache=r,e.exports.getComponentProperty=function(t,e,n){var r;return n=n||".",-1!==e.indexOf(n)?(r=i(e,n)).constructor===String?t.getAttribute(r):t.getAttribute(r[0])[r[1]]:t.getAttribute(e)},e.exports.setComponentProperty=function(t,e,n,r){var a;r=r||".",-1===e.indexOf(r)?t.setAttribute(e,n):(a=i(e,r)).constructor===String?t.setAttribute(a,n):t.setAttribute(a[0],a[1],n)}},{}],175:[function(t,e,n){e.exports=function(t){var e=t.style.width,n=t.style.height;t.style.width=parseInt(e,10)+1+"px",t.style.height=parseInt(n,10)+1+"px",setTimeout((function(){t.style.width=e,t.style.height=n}),200)}},{}],176:[function(t,e,n){var r=t("./debug"),i=t("deep-assign"),a=t("./device"),o=t("object-assign"),s=t("./object-pool"),l=r("utils:warn");e.exports.bind=t("./bind"),e.exports.coordinates=t("./coordinates"),e.exports.debug=r,e.exports.device=a,e.exports.entity=t("./entity"),e.exports.forceCanvasResizeSafariMobile=t("./forceCanvasResizeSafariMobile"),e.exports.isIE11=t("./is-ie11"),e.exports.material=t("./material"),e.exports.objectPool=s,e.exports.split=t("./split").split,e.exports.styleParser=t("./styleParser"),e.exports.trackedControls=t("./tracked-controls"),e.exports.checkHeadsetConnected=function(){return l("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),a.checkHeadsetConnected(arguments)},e.exports.isGearVR=e.exports.device.isGearVR=function(){l("`utils.isGearVR` has been deprecated, use `utils.device.isMobileVR`")},e.exports.isIOS=function(){return l("`utils.isIOS` has moved to `utils.device.isIOS`"),a.isIOS(arguments)},e.exports.isOculusGo=e.exports.device.isOculusGo=function(){l("`utils.isOculusGo` has been deprecated, use `utils.device.isMobileVR`")},e.exports.isMobile=function(){return l("`utils.isMobile has moved to `utils.device.isMobile`"),a.isMobile(arguments)},e.exports.throttle=function(t,n,r){var i;return r&&(t=e.exports.bind(t,r)),function(){var e=Date.now(),r="undefined"===typeof i?n:e-i;("undefined"===typeof i||r>=n)&&(i=e,t.apply(null,arguments))}},e.exports.throttleTick=function(t,n,r){var i;return r&&(t=e.exports.bind(t,r)),function(e,r){var a="undefined"===typeof i?r:e-i;("undefined"===typeof i||a>=n)&&(i=e,t(e,a))}},e.exports.debounce=function(t,e,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,n||t.apply(i,a)},s=n&&!r;clearTimeout(r),r=setTimeout(o,e),s&&t.apply(i,a)}},e.exports.extend=o,e.exports.extendDeep=i,e.exports.clone=function(t){return JSON.parse(JSON.stringify(t))};var u=function(){var t=s.createPool((function(){return[]}));return function(e,n){var r,i,a,o,s,l;if(void 0===e||void 0===n||null===e||null===n||!(e&&n&&e.constructor===Object&&n.constructor===Object||e.constructor===Array&&n.constructor===Array))return e===n;for(r in i=t.use(),a=t.use(),i.length=0,a.length=0,e)i.push(r);for(r in n)a.push(r);if(i.length!==a.length)return t.recycle(i),t.recycle(a),!1;for(o=0;o<i.length;++o)if(s=e[i[o]],l=n[i[o]],"object"===typeof s||"object"===typeof l||Array.isArray(s)&&Array.isArray(l)){if(s===l)continue;if(!u(s,l))return t.recycle(i),t.recycle(a),!1}else if(s!==l)return t.recycle(i),t.recycle(a),!1;return t.recycle(i),t.recycle(a),!0}}();e.exports.deepEqual=u,e.exports.diff=function(){var t=[];return function(e,n,r){var i,a,o,s,l,c,d;for(l in s=r||{},t.length=0,e)t.push(l);if(!n)return s;for(o in n)-1===t.indexOf(o)&&t.push(o);for(c=0;c<t.length;c++)i=e[l=t[c]],a=n[l],((d=i&&a&&i.constructor===Object&&a.constructor===Object)&&!u(i,a)||!d&&i!==a)&&(s[l]=a);return s}}(),e.exports.shouldCaptureKeyEvent=function(t){return!t.metaKey&&document.activeElement===document.body},e.exports.splitString=function(t,e){"undefined"===typeof e&&(e=" ");var n=new RegExp(e,"g");return(t=(t||"").replace(n,e)).split(e)},e.exports.getElData=function(t,e){e=e||{};var n={};return Object.keys(e).forEach((function(e){t.hasAttribute(e)&&(n[e]=t.getAttribute(e))})),n},e.exports.getUrlParameter=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},e.exports.isIframed=function(){return window.top!==window.self},e.exports.findAllScenes=function(t){for(var e=[],n=t.getElementsByTagName("*"),r=0,i=n.length;r<i;r++)n[r].isScene&&e.push(n[r]);return e},e.exports.srcLoader=t("./src-loader")},{"./bind":170,"./coordinates":171,"./debug":172,"./device":173,"./entity":174,"./forceCanvasResizeSafariMobile":175,"./is-ie11":177,"./material":179,"./object-pool":180,"./split":181,"./src-loader":182,"./styleParser":183,"./tracked-controls":184,"deep-assign":10,"object-assign":25}],177:[function(t,e,n){e.exports=11===function(){var t=-1,e=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName?null!=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)):"Netscape"===navigator.appName&&null!=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)),t}()},{}],178:[function(t,e,n){e.exports=function(t){return/(iphone|ipod|ipad).*os.(7_|8_|9_)/i.test(t)}},{}],179:[function(t,e,n){var r=t("../lib/three"),i=["application/x-mpegurl","application/vnd.apple.mpegurl"],a=new Set(["emissiveMap","envMap","map","specularMap"]);function o(t,e){e&&(t.emit("materialtextureloaded",{src:e.image,texture:e}),e.image&&"VIDEO"===e.image.tagName&&(e.image.addEventListener("loadeddata",(function(){t.components&&t.components.material&&(e.needsCorrectionBGRA&&e.needsCorrectionFlipY&&-1!==["standard","flat"].indexOf(t.components.material.data.shader)&&t.setAttribute("material","shader","ios10hls"),t.emit("materialvideoloadeddata",{src:e.image,texture:e}))})),e.image.addEventListener("ended",(function(){t.emit("materialvideoended",{src:e.image,texture:e})}))))}e.exports.updateMapMaterialFromData=function(t,e,n,i){var s=n.el,l=n.material,u=s.sceneEl.systems.renderer,c=i[e];if(n.materialSrcs||(n.materialSrcs={}),!c)return delete n.materialSrcs[t],void d(null);function d(e){l[t]=e,e&&a.has(t)&&u.applyColorCorrection(e),l.needsUpdate=!0,o(s,e)}c!==n.materialSrcs[t]&&(n.materialSrcs[t]=c,c instanceof r.Texture?d(c):s.sceneEl.systems.material.loadTexture(c,{src:c,repeat:i.repeat,offset:i.offset,npot:i.npot},(function(e){n.materialSrcs[t]===c&&d(e)})))},e.exports.updateMap=function(t,n){return e.exports.updateMapMaterialFromData("map","src",t,n)},e.exports.updateDistortionMap=function(t,e,n){var r=t;"ambientOcclusion"===t&&(r="ao");var i=e.el,s=e.material,l=i.sceneEl.systems.renderer,u=n[t+"Map"],c={};if(c.src=u,c.offset=n[t+"TextureOffset"],c.repeat=n[t+"TextureRepeat"],c.wrap=n[t+"TextureWrap"],u){if(u===e[t+"TextureSrc"])return;return e[t+"TextureSrc"]=u,void i.sceneEl.systems.material.loadTexture(u,c,d)}function d(t){var e=r+"Map";s[e]=t,t&&a.has(e)&&l.applyColorCorrection(t),s.needsUpdate=!0,o(i,t)}s.map&&d(null)},e.exports.handleTextureEvents=o,e.exports.isHLS=function(t,e){return!(!e||!i.includes(e.toLowerCase()))||!!(t&&t.toLowerCase().indexOf(".m3u8")>0)}},{"../lib/three":151}],180:[function(t,e,n){var r=Object.freeze(Object.create(null));function i(){return{}}function a(t){var e;if(t&&t.constructor===Object)for(e in t)t[e]=void 0}e.exports.createPool=function(t){var e=[],n=null;function o(r){var i,a;if((r=void 0===r?e.length:r)>0&&null==n&&(n=0),r>0)for(i=e.length,e.length+=Number(r),a=i;a<e.length;a++)e[a]=t();return e.length}return t=t||i,{grow:o,pool:e,recycle:function(t){t instanceof Object&&(null!==n&&-1!==n?e[--n]=t:e[e.length]=t)},size:function(){return e.length},use:function(){var t;return null!==n&&n!==e.length||o(e.length||5),t=e[n],e[n++]=r,a(t),t}}},e.exports.clearObject=a,e.exports.removeUnusedKeys=function(t,e){var n;if(t&&t.constructor===Object)for(n in t)n in e||delete t[n]}},{}],181:[function(t,e,n){e.exports.split=function(){var t={};return function(e,n){return n in t||(t[n]={}),e in t[n]?t[n][e]:(t[n][e]=e.split(n),t[n][e])}}()},{}],182:[function(t,n,r){var i=t("./debug")("utils:src-loader:warn");function a(t,e,n){!function(t,e){var n;t.tagName?e("IMG"===t.tagName):((n=new XMLHttpRequest).open("HEAD",t),n.addEventListener("load",(function(r){var i;n.status>=200&&n.status<300?null==(i=n.getResponseHeader("Content-Type"))?s(t,e):i.startsWith("image")?e(!0):e(!1):s(t,e),n.abort()})),n.send())}(t,(function(r){r?e(t):n(t)}))}function o(t){var e=t.match(/\url\((.+)\)/);if(e)return e[1]}function s(t,e){var n=new Image;n.addEventListener("load",(function(){e(!0)})),n.addEventListener("error",(function(){e(!1)})),n.src=t}n.exports={parseUrl:o,validateSrc:a,validateCubemapSrc:function(t,n){var r,s,l,u="",c=[];for(s=0;s<5;s++)u+="(url\\((?:[^\\)]+)\\),\\s*)";function d(t){c.push(t),6===c.length&&n(c)}if(u+="(url\\((?:[^\\)]+)\\)\\s*)",l=t.match(new RegExp(u)))for(s=1;s<7;s++)a(o(l[s]),d);else if(r=function(t){try{var n=document.querySelector(t);return n||i('No element was found matching the selector: "%s"',t),n}catch(e){return void i('"%s" is not a valid selector',t)}}(t))return"A-CUBEMAP"===r.tagName&&r.srcs?n(r.srcs):void i('Selector "%s" does not point to <a-cubemap>',t)}}},{"./debug":172}],183:[function(t,e,n){var r=/-([a-z])/g;function i(t){return t.replace(r,s)}function a(t){var e,n;for(n in t)n!==(e=i(n))&&(t[e]=t[n],delete t[n]);return t}e.exports.parse=function(t,e){var n;return"string"!==typeof t?t:(n=function(t,e){var n,r,i,a,s,l;for(e=e||{},n=o(t),r=0;r<n.length;r++)(i=n[r])&&(a=i.indexOf(":"),s=i.substr(0,a).trim(),l=i.substr(a+1).trim(),e[s]=l);return e}(t,e))[""]?t:a(n)},e.exports.stringify=function(t){return"string"===typeof t?t:function(t){var e,n=0,r=0,i="";for(e in t)n++;for(e in t)i+=e+": "+t[e],r<n-1&&(i+="; "),r++;return i}(t)},e.exports.toCamelCase=i,e.exports.transformKeysToCamelCase=a;var o=function(){var t=[],e=/url\([^)]+$/;return function(n){var r,i="",a=0;for(t.length=0;a<n.length;)-1===(r=n.indexOf(";",a))&&(r=n.length),i+=n.substring(a,r),e.test(i)?(i+=";",a=r+1):(t.push(i.trim()),i="",a=r+1);return t}}();function s(t){return t[1].toUpperCase()}},{}],184:[function(t,e,n){var r=t("../constants").DEFAULT_HANDEDNESS,i=["x","y","z","w"],a=2;function o(t,e,n){var r,i,a=t.el.sceneEl,o=n.index||0;return!!e&&!!(i=a&&a.systems["tracked-controls-webvr"])&&!!(r=i.controllers).length&&!!l(r,null,e,n.hand,o)}function s(t,e,n){var r,i=t.el.sceneEl,a=i&&i.systems["tracked-controls-webxr"];return!!a&&!(!(r=a.controllers)||!r.length)&&u(r,n.hand)}function l(t,e,n,i,o){var s,l,u=0,c=o||0;for(l=0;l<t.length;l++)if(s=t[l],(!n||s.id.startsWith(n))&&(n||s.id===e)&&(!i||!s.hand||i===s.hand)){if(i&&!s.hand&&(c=a*o+(i===r?0:1)),u===c)return s;++u}}function u(t,e){var n,r;for(n=0;n<t.length;n++)if(r=t[n].handedness,!e||""===r&&"right"===e||t[n].handedness===e)return t[n]}e.exports.checkControllerPresentAndSetup=function(t,e,n){var r,i=t.el,a=i.sceneEl.hasWebXR;if(r=!!(a?s:o)(t,e,n),!t.controllerPresent||t.controllerEventsActive||a||t.addEventListeners(),r===t.controllerPresent)return r;t.controllerPresent=r,r?(t.injectTrackedControls(),a||t.addEventListeners(),i.emit("controllerconnected",{name:t.name,component:t})):(t.removeEventListeners(),i.emit("controllerdisconnected",{name:t.name,component:t}))},e.exports.isControllerPresentWebVR=o,e.exports.isControllerPresentWebXR=s,e.exports.findMatchingControllerWebVR=l,e.exports.findMatchingControllerWebXR=u,e.exports.emitIfAxesChanged=function(t,e,n){var r,a,o,s,l;for(a in e){for(r=e[a],o=!1,l=0;l<r.length;l++)n.detail.changed[r[l]]&&(o=!0);if(o){for(s={},l=0;l<r.length;l++)s[i[l]]=n.detail.axis[r[l]];t.el.emit(a+"moved",s)}}},e.exports.onButtonEvent=function(t,e,n,r){var i=(r?n.mapping[r]:n.mapping).buttons[t];n.el.emit(i+e),n.updateModel&&n.updateModel(i,e)}},{"../constants":95}],185:[function(t,e,n){window.glStats=function(){var t=null,e=0,n=0,r=0,i=0,a=0,o=0,s=0;function l(t,e){return function(){e.apply(this,arguments),t.apply(this,arguments)}}return WebGLRenderingContext.prototype.drawArrays=l(WebGLRenderingContext.prototype.drawArrays,(function(){e++,arguments[0]==this.POINTS?o+=arguments[2]:a+=arguments[2]})),WebGLRenderingContext.prototype.drawElements=l(WebGLRenderingContext.prototype.drawElements,(function(){n++,i+=arguments[1]/3,a+=arguments[1]})),WebGLRenderingContext.prototype.useProgram=l(WebGLRenderingContext.prototype.useProgram,(function(){r++})),WebGLRenderingContext.prototype.bindTexture=l(WebGLRenderingContext.prototype.bindTexture,(function(){s++})),{update:function(){t("allcalls").set(e+n),t("drawElements").set(n),t("drawArrays").set(e),t("bindTexture").set(s),t("useProgram").set(r),t("glfaces").set(i),t("glvertices").set(a),t("glpoints").set(o)},start:function(){e=0,n=0,r=0,i=0,a=0,o=0,s=0},end:function(){},attach:function(e){t=e},values:{allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},groups:[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],fractions:[{base:"allcalls",steps:["drawelements","drawarrays"]}]}},window.threeStats=function(t){var e=null;return{update:function(){e("renderer.info.memory.geometries").set(t.info.memory.geometries),e("renderer.info.programs").set(t.info.programs.length),e("renderer.info.memory.textures").set(t.info.memory.textures),e("renderer.info.render.calls").set(t.info.render.calls),e("renderer.info.render.triangles").set(t.info.render.triangles),e("renderer.info.render.points").set(t.info.render.points)},start:function(){},end:function(){},attach:function(t){e=t},values:{"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.triangles":{caption:"Triangles",over:1e3},"renderer.info.render.points":{caption:"Points"}},groups:[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.triangles","renderer.info.render.points"]}],fractions:[]}},window.BrowserStats=function(){var t=null,e=0,n=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var r=Math.log(1024);function i(t){var e=Math.floor(Math.log(t)/r);return Math.round(100*t/Math.pow(1024,e))/100}return{update:function(){e=i(performance.memory.usedJSHeapSize),n=i(performance.memory.totalJSHeapSize),t("memory").set(e),t("total").set(n)},start:function(){e=0},end:function(){},attach:function(e){t=e},values:{memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},groups:[{caption:"Browser",values:["memory","total"]}],fractions:[{base:"total",steps:["memory"]}]}},"object"===typeof e&&(e.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats})},{}],186:[function(t,e,n){"use strict";!function(){"performance"in window==0&&(window.performance={});var t=window.performance;if("now"in t==0){var e=Date.now();t.timing&&t.timing.navigationStart&&(e=t.timing.navigationStart),t.now=function(){return Date.now()-e}}t.mark||(t.mark=function(){}),t.measure||(t.measure=function(){})}(),window.rStats=function(t){function e(t,e){for(var n=Object.keys(t),r=0,i=n.length;r<i;r++)e(n[r])}var n=t||{},r=n.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],i=(n.CSSPath?n.CSSPath:"")+"rStats.css";(n.css||["https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",i]).forEach((function(t){!function(t){var e=document.createElement("link");e.href=t,e.rel="stylesheet",e.type="text/css",document.getElementsByTagName("head")[0].appendChild(e)}(t)})),n.values||(n.values={});var a,o,s=10,l=200,u={};function c(t,e,n){var r=n||{},i=document.createElement("canvas"),a=i.getContext("2d"),o=0,u=0,c=r.color?r.color:"#666666",d=document.createElement("canvas"),h=d.getContext("2d");d.width=1,d.height=2*s,h.fillStyle="#444444",h.fillRect(0,0,1,2*s),h.fillStyle=c,h.fillRect(0,s,1,s),h.fillStyle="#ffffff",h.globalAlpha=.5,h.fillRect(0,s,1,1),h.globalAlpha=1;var p=document.createElement("canvas"),f=p.getContext("2d");return p.width=1,p.height=2*s,f.fillStyle="#444444",f.fillRect(0,0,1,2*s),f.fillStyle="#b70000",f.fillRect(0,s,1,s),f.globalAlpha=.5,f.fillStyle="#ffffff",f.fillRect(0,s,1,1),f.globalAlpha=1,i.width=l,i.height=s,i.style.width=i.width+"px",i.style.height=i.height+"px",i.className="rs-canvas",t.appendChild(i),a.fillStyle="#444444",a.fillRect(0,0,i.width,i.height),{draw:function(t,e){(u+=.1*(t-u))>(o*=.99)&&(o=u),a.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height),e?a.drawImage(p,i.width-1,i.height-u*i.height/o-s):a.drawImage(d,i.width-1,i.height-u*i.height/o-s)}}}function d(t,n){var i=document.createElement("canvas"),a=i.getContext("2d");return i.width=l,i.height=s*n,i.style.width=i.width+"px",i.style.height=i.height+"px",i.className="rs-canvas",t.appendChild(i),a.fillStyle="#444444",a.fillRect(0,0,i.width,i.height),{draw:function(t){a.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height);var n=0;e(t,(function(e){var o=t[e]*i.height;a.fillStyle=r[e],a.fillRect(i.width-1,n,1,o),n+=o}))}}}function h(t,e){var r,i=t,a=0,s=0,l=0,u=0,d=performance.now(),h=0,p=document.createElement("div"),f=document.createElement("span"),m=document.createElement("div"),v=document.createTextNode(""),g=n?n.values[i.toLowerCase()]:null,y=new c(p,i,g),_=!1;function b(t){if(g&&g.average){u+=t,h++;var e=performance.now();e-d>=(g.avgMs||1e3)&&(l=u/h,u=0,d=e,h=0)}}function x(){r=performance.now(),n.userTimingAPI&&performance.mark(i+"-start"),_=!0}function w(){a=performance.now()-r,n.userTimingAPI&&(performance.mark(i+"-end"),_&&performance.measure(i,i+"-start",i+"-end")),b(a)}return f.className="rs-counter-id",f.textContent=g&&g.caption?g.caption:i,m.className="rs-counter-value",m.appendChild(v),p.appendChild(f),p.appendChild(m),e?e.div.appendChild(p):o.appendChild(p),r=performance.now(),{set:function(t){b(a=t)},start:x,tick:function(){w(),x()},end:w,frame:function(){var t=performance.now(),e=t-r;s++,e>1e3&&(a=g&&!1===g.interpolate?s:1e3*s/e,s=0,r=t,b(a))},value:function(){return a},draw:function(){var t=g&&g.average?l:a;v.nodeValue=Math.round(100*t)/100;var e=g&&(g.below&&a<g.below||g.over&&a>g.over);y.draw(a,e),p.className=e?"rs-counter-base alarm":"rs-counter-base"}}}function p(t){var r=t.toLowerCase();if(void 0===r&&(r="default"),u[r])return u[r];var i=null;n&&n.groups&&e(n.groups,(function(t){var e=n.groups[parseInt(t,10)];i||-1===e.values.indexOf(r.toLowerCase())||(i=e)}));var a=new h(r,i);return u[r]=a,a}function f(){e(n.plugins,(function(t){n.plugins[t].update()})),e(u,(function(t){u[t].draw()})),n&&n.fractions&&e(n.fractions,(function(t){var r=n.fractions[parseInt(t,10)],i=[],a=u[r.base.toLowerCase()];a&&(a=a.value(),e(n.fractions[t].steps,(function(e){var r=n.fractions[t].steps[parseInt(e,10)].toLowerCase(),o=u[r];o&&i.push(o.value()/a)}))),r.graph.draw(i)}))}return function(){if(n.plugins){n.values||(n.values={}),n.groups||(n.groups=[]),n.fractions||(n.fractions=[]);for(var t=0;t<n.plugins.length;t++)n.plugins[t].attach(p),e(n.plugins[t].values,(function(e){n.values[e]=n.plugins[t].values[e]})),n.groups=n.groups.concat(n.plugins[t].groups),n.fractions=n.fractions.concat(n.plugins[t].fractions)}else n.plugins={};(a=document.createElement("div")).className="rs-base",(o=document.createElement("div")).className="rs-container",o.style.height="auto",a.appendChild(o),document.body.appendChild(a),n&&(n.groups&&e(n.groups,(function(t){var e=n.groups[parseInt(t,10)],r=document.createElement("div");r.className="rs-group",e.div=r;var i=document.createElement("h1");i.textContent=e.caption,i.addEventListener("click",function(t){this.classList.toggle("hidden"),t.preventDefault()}.bind(r)),o.appendChild(i),o.appendChild(r)})),n.fractions&&e(n.fractions,(function(t){var i=n.fractions[parseInt(t,10)],a=document.createElement("div");a.className="rs-fraction";var l=document.createElement("div");l.className="rs-legend";var u=0;e(n.fractions[t].steps,(function(e){var i=document.createElement("p");i.textContent=n.fractions[t].steps[e],i.style.color=r[u],l.appendChild(i),u++})),a.appendChild(l),a.style.height=u*s+"px",i.div=a;var c=new d(a,u);i.graph=c,o.appendChild(a)})))}(),function(t){return t?p(t):{element:a,update:f}}},"object"===typeof e&&(e.exports=window.rStats)},{}],187:[function(t,e,n){String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t})},{}],188:[function(t,n,r){var i={base64:function(t,e){return"data:"+t+";base64,"+e},isMobile:function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},isIOS:function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},isIFrame:function(){try{return window.self!==window.top}catch(e){return!0}},appendQueryParameter:function(t,e,n){var r=t.indexOf("?")<0?"?":"&";return t+=r+e+"="+n},getQueryParameter:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},isLandscapeMode:function(){return 90==window.orientation||-90==window.orientation}};n.exports=i},{}],189:[function(t,e,n){var r=t("./util.js");function i(){var t=document.createElement("video");t.addEventListener("ended",(function(){t.play()})),this.request=function(){t.paused&&(t.src=r.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),t.play())},this.release=function(){t.pause(),t.src=""}}function a(){var t=null;this.request=function(){t||(t=setInterval((function(){window.location.href="/",setTimeout(window.stop,0)}),15e3))},this.release=function(){t&&(clearInterval(t),t=null)}}e.exports=function(){var t=navigator.userAgent||navigator.vendor||window.opera;return t.match(/iPhone/i)||t.match(/iPod/i)?a:i}()},{"./util.js":188}]},{},[149])(149)}).call(this,r(1),r(14).setImmediate)},function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(15),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,a={},o=!1,s=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){c(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&c(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){c(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(c,0,t)},l.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return a[i]=o,r(i),i++},l.clearImmediate=u}function u(t){delete a[t]}function c(t){if(o)setTimeout(c,0,t);else{var e=a[t];if(e){o=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{u(t),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(1),n(16))},function(t,n){var r,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,c=[],d=!1,h=-1;function p(){d&&u&&(d=!1,u.length?c=u.concat(c):h=-1,c.length&&f())}function f(){if(!d){var t=l(p);d=!0;for(var n=c.length;n;){for(u=c,c=[];++h<n;)u&&u[h].run();h=-1,n=c.length}u=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function v(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||d||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},i=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}};var a=i(r),o=a.right,s=a.left,l=o,u=function(t,e){null==e&&(e=c);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return a};function c(t,e){return[t,e]}var d=function(t,e,n){var r,i,a,o,s=t.length,l=e.length,u=new Array(s*l);for(null==n&&(n=c),r=a=0;r<s;++r)for(o=t[r],i=0;i<l;++i,++a)u[a]=n(o,e[i]);return u},h=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},p=function(t){return null===t?NaN:+t},f=function(t,e){var n,r,i=t.length,a=0,o=-1,s=0,l=0;if(null==e)for(;++o<i;)isNaN(n=p(t[o]))||(l+=(r=n-s)*(n-(s+=r/++a)));else for(;++o<i;)isNaN(n=p(e(t[o],o,t)))||(l+=(r=n-s)*(n-(s+=r/++a)));if(a>1)return l/(a-1)},m=function(t,e){var n=f(t,e);return n?Math.sqrt(n):n},v=function(t,e){var n,r,i,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<a;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},g=Array.prototype,y=g.slice,_=g.map,b=function(t){return function(){return t}},x=function(t){return t},w=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a},M=Math.sqrt(50),A=Math.sqrt(10),E=Math.sqrt(2),T=function(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=S(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return r&&a.reverse(),a};function S(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=M?10:a>=A?5:a>=E?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=M?10:a>=A?5:a>=E?2:1)}function L(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=M?i*=10:a>=A?i*=5:a>=E&&(i*=2),e<t?-i:i}var k=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},C=function(){var t=x,e=v,n=k;function r(r){var i,a,o=r.length,s=new Array(o);for(i=0;i<o;++i)s[i]=t(r[i],i,r);var u=e(s),c=u[0],d=u[1],h=n(s,c,d);Array.isArray(h)||(h=L(c,d,h),h=w(Math.ceil(c/h)*h,d,h));for(var p=h.length;h[0]<=c;)h.shift(),--p;for(;h[p-1]>d;)h.pop(),--p;var f,m=new Array(p+1);for(i=0;i<=p;++i)(f=m[i]=[]).x0=i>0?h[i-1]:c,f.x1=i<p?h[i]:d;for(i=0;i<o;++i)c<=(a=s[i])&&a<=d&&m[l(h,a,0,p)].push(r[i]);return m}return r.value=function(e){return arguments.length?(t="function"===typeof e?e:b(e),r):t},r.domain=function(t){return arguments.length?(e="function"===typeof t?t:b([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:Array.isArray(t)?b(y.call(t)):b(t),r):n},r},D=function(t,e,n){if(null==n&&(n=p),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(i-a)}},P=function(t,e,n){return t=_.call(t,p).sort(r),Math.ceil((n-e)/(2*(D(t,.75)-D(t,.25))*Math.pow(t.length,-1/3)))},R=function(t,e,n){return Math.ceil((n-e)/(3.5*m(t)*Math.pow(t.length,-1/3)))},O=function(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&n>r&&(r=n);return r},I=function(t,e){var n,r=t.length,i=r,a=-1,o=0;if(null==e)for(;++a<r;)isNaN(n=p(t[a]))?--i:o+=n;else for(;++a<r;)isNaN(n=p(e(t[a],a,t)))?--i:o+=n;if(i)return o/i},N=function(t,e){var n,i=t.length,a=-1,o=[];if(null==e)for(;++a<i;)isNaN(n=p(t[a]))||o.push(n);else for(;++a<i;)isNaN(n=p(e(t[a],a,t)))||o.push(n);return D(o.sort(r),.5)},z=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--o]=r[e];return n},B=function(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&r>n&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&r>n&&(r=n);return r},F=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},j=function(t,e){if(n=t.length){var n,i,a=0,o=0,s=t[o];for(null==e&&(e=r);++a<n;)(e(i=t[a],s)<0||0!==e(s,s))&&(s=i,o=a);return 0===e(s,s)?o:void 0}},H=function(t,e,n){for(var r,i,a=(null==n?t.length:n)-(e=null==e?0:+e);a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},Y=function(t,e){var n,r=t.length,i=-1,a=0;if(null==e)for(;++i<r;)(n=+t[i])&&(a+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(a+=n);return a},U=function(t){if(!(i=t.length))return[];for(var e=-1,n=B(t,G),r=new Array(n);++e<n;)for(var i,a=-1,o=r[e]=new Array(i);++a<i;)o[a]=t[a][e];return r};function G(t){return t.length}var V=function(){return U(arguments)},W=Array.prototype.slice,q=function(t){return t},X=1,J=2,Z=3,Q=4,K=1e-6;function $(t){return"translate("+(t+.5)+",0)"}function tt(t){return"translate(0,"+(t+.5)+")"}function et(t){return function(e){return+t(e)}}function nt(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function rt(){return!this.__axis}function it(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,l=t===X||t===Q?-1:1,u=t===Q||t===J?"x":"y",c=t===X||t===Z?$:tt;function d(d){var h=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):q:i,f=Math.max(a,0)+s,m=e.range(),v=+m[0]+.5,g=+m[m.length-1]+.5,y=(e.bandwidth?nt:et)(e.copy()),_=d.selection?d.selection():d,b=_.selectAll(".domain").data([null]),x=_.selectAll(".tick").data(h,e).order(),w=x.exit(),M=x.enter().append("g").attr("class","tick"),A=x.select("line"),E=x.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(M),A=A.merge(M.append("line").attr("stroke","currentColor").attr(u+"2",l*a)),E=E.merge(M.append("text").attr("fill","currentColor").attr(u,l*f).attr("dy",t===X?"0em":t===Z?"0.71em":"0.32em")),d!==_&&(b=b.transition(d),x=x.transition(d),A=A.transition(d),E=E.transition(d),w=w.transition(d).attr("opacity",K).attr("transform",(function(t){return isFinite(t=y(t))?c(t):this.getAttribute("transform")})),M.attr("opacity",K).attr("transform",(function(t){var e=this.parentNode.__axis;return c(e&&isFinite(e=e(t))?e:y(t))}))),w.remove(),b.attr("d",t===Q||t==J?o?"M"+l*o+","+v+"H0.5V"+g+"H"+l*o:"M0.5,"+v+"V"+g:o?"M"+v+","+l*o+"V0.5H"+g+"V"+l*o:"M"+v+",0.5H"+g),x.attr("opacity",1).attr("transform",(function(t){return c(y(t))})),A.attr(u+"2",l*a),E.attr(u,l*f).text(p),_.filter(rt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===J?"start":t===Q?"end":"middle"),_.each((function(){this.__axis=y}))}return d.scale=function(t){return arguments.length?(e=t,d):e},d.ticks=function(){return n=W.call(arguments),d},d.tickArguments=function(t){return arguments.length?(n=null==t?[]:W.call(t),d):n.slice()},d.tickValues=function(t){return arguments.length?(r=null==t?null:W.call(t),d):r&&r.slice()},d.tickFormat=function(t){return arguments.length?(i=t,d):i},d.tickSize=function(t){return arguments.length?(a=o=+t,d):a},d.tickSizeInner=function(t){return arguments.length?(a=+t,d):a},d.tickSizeOuter=function(t){return arguments.length?(o=+t,d):o},d.tickPadding=function(t){return arguments.length?(s=+t,d):s},d}function at(t){return it(X,t)}function ot(t){return it(J,t)}function st(t){return it(Z,t)}function lt(t){return it(Q,t)}var ut={value:function(){}};function ct(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new dt(r)}function dt(t){this._=t}function ht(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function pt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ft(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ut,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}dt.prototype=ct.prototype={constructor:dt,on:function(t,e){var n,r=this._,i=ht(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=i[a]).type)r[n]=ft(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ft(r[n],t.name,null);return this}for(;++a<o;)if((n=(t=i[a]).type)&&(n=pt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new dt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var mt=ct,vt="http://www.w3.org/1999/xhtml",gt={svg:"http://www.w3.org/2000/svg",xhtml:vt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),gt.hasOwnProperty(e)?{space:gt[e],local:t}:t};function _t(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===vt&&e.documentElement.namespaceURI===vt?e.createElement(t):e.createElementNS(n,t)}}function bt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var xt=function(t){var e=yt(t);return(e.local?bt:_t)(e)};function wt(){}var Mt=function(t){return null==t?wt:function(){return this.querySelector(t)}};function At(){return[]}var Et=function(t){return null==t?At:function(){return this.querySelectorAll(t)}},Tt=function(t){return function(){return this.matches(t)}},St=function(t){return new Array(t.length)};function Lt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Lt.prototype={constructor:Lt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var kt="$";function Ct(t,e,n,r,i,a){for(var o,s=0,l=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Lt(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function Dt(t,e,n,r,i,a,o){var s,l,u,c={},d=e.length,h=a.length,p=new Array(d);for(s=0;s<d;++s)(l=e[s])&&(p[s]=u=kt+o.call(l,l.__data__,s,e),u in c?i[s]=l:c[u]=l);for(s=0;s<h;++s)(l=c[u=kt+o.call(t,a[s],s,a)])?(r[s]=l,l.__data__=a[s],c[u]=null):n[s]=new Lt(t,a[s]);for(s=0;s<d;++s)(l=e[s])&&c[p[s]]===l&&(i[s]=l)}function Pt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Rt(t){return function(){this.removeAttribute(t)}}function Ot(t){return function(){this.removeAttributeNS(t.space,t.local)}}function It(t,e){return function(){this.setAttribute(t,e)}}function Nt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function zt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Bt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Ft=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function jt(t){return function(){this.style.removeProperty(t)}}function Ht(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Yt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ut(t,e){return t.style.getPropertyValue(e)||Ft(t).getComputedStyle(t,null).getPropertyValue(e)}function Gt(t){return function(){delete this[t]}}function Vt(t,e){return function(){this[t]=e}}function Wt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function qt(t){return t.trim().split(/^|\s+/)}function Xt(t){return t.classList||new Jt(t)}function Jt(t){this._node=t,this._names=qt(t.getAttribute("class")||"")}function Zt(t,e){for(var n=Xt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Qt(t,e){for(var n=Xt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Kt(t){return function(){Zt(this,t)}}function $t(t){return function(){Qt(this,t)}}function te(t,e){return function(){(e.apply(this,arguments)?Zt:Qt)(this,t)}}Jt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ee(){this.textContent=""}function ne(t){return function(){this.textContent=t}}function re(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function ie(){this.innerHTML=""}function ae(t){return function(){this.innerHTML=t}}function oe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function se(){this.nextSibling&&this.parentNode.appendChild(this)}function le(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ue(){return null}function ce(){var t=this.parentNode;t&&t.removeChild(this)}function de(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function he(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var pe={},fe=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(pe={mouseenter:"mouseover",mouseleave:"mouseout"}));function me(t,e,n){return t=ve(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ve(t,e,n){return function(r){var i=fe;fe=r;try{t.call(this,this.__data__,e,n)}finally{fe=i}}}function ge(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ye(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function _e(t,e,n){var r=pe.hasOwnProperty(t.type)?me:ve;return function(i,a,o){var s,l=this.__on,u=r(e,a,o);if(l)for(var c=0,d=l.length;c<d;++c)if((s=l[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=e);this.addEventListener(t.type,u,n),s={type:t.type,name:t.name,value:e,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function be(t,e,n,r){var i=fe;t.sourceEvent=fe,fe=t;try{return e.apply(n,r)}finally{fe=i}}function xe(t,e,n){var r=Ft(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function we(t,e){return function(){return xe(this,t,e)}}function Me(t,e){return function(){return xe(this,t,e.apply(this,arguments))}}var Ae=[null];function Ee(t,e){this._groups=t,this._parents=e}function Te(){return new Ee([[document.documentElement]],Ae)}Ee.prototype=Te.prototype={constructor:Ee,select:function(t){"function"!==typeof t&&(t=Mt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],l=s.length,u=r[i]=new Array(l),c=0;c<l;++c)(a=s[c])&&(o=t.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),u[c]=o);return new Ee(r,this._parents)},selectAll:function(t){"function"!==typeof t&&(t=Et(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],l=s.length,u=0;u<l;++u)(o=s[u])&&(r.push(t.call(o,o.__data__,u,s)),i.push(o));return new Ee(r,i)},filter:function(t){"function"!==typeof t&&(t=Tt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&l.push(a);return new Ee(r,this._parents)},data:function(t,e){if(!t)return f=new Array(this.size()),c=-1,this.each((function(t){f[++c]=t})),f;var n,r=e?Dt:Ct,i=this._parents,a=this._groups;"function"!==typeof t&&(n=t,t=function(){return n});for(var o=a.length,s=new Array(o),l=new Array(o),u=new Array(o),c=0;c<o;++c){var d=i[c],h=a[c],p=h.length,f=t.call(d,d&&d.__data__,c,i),m=f.length,v=l[c]=new Array(m),g=s[c]=new Array(m);r(d,h,v,g,u[c]=new Array(p),f,e);for(var y,_,b=0,x=0;b<m;++b)if(y=v[b]){for(b>=x&&(x=b+1);!(_=g[x])&&++x<m;);y._next=_||null}}return(s=new Ee(s,i))._enter=l,s._exit=u,s},enter:function(){return new Ee(this._enter||this._groups.map(St),this._parents)},exit:function(){return new Ee(this._exit||this._groups.map(St),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,u=e[s],c=n[s],d=u.length,h=o[s]=new Array(d),p=0;p<d;++p)(l=u[p]||c[p])&&(h[p]=l);for(;s<r;++s)o[s]=e[s];return new Ee(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Pt);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],l=s.length,u=i[a]=new Array(l),c=0;c<l;++c)(o=s[c])&&(u[c]=o);u.sort(e)}return new Ee(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=yt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Ot:Rt:"function"===typeof e?n.local?Bt:zt:n.local?Nt:It)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?jt:"function"===typeof e?Yt:Ht)(t,e,null==n?"":n)):Ut(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Gt:"function"===typeof e?Wt:Vt)(t,e)):this.node()[t]},classed:function(t,e){var n=qt(t+"");if(arguments.length<2){for(var r=Xt(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?te:e?Kt:$t)(n,e))},text:function(t){return arguments.length?this.each(null==t?ee:("function"===typeof t?re:ne)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ie:("function"===typeof t?oe:ae)(t)):this.node().innerHTML},raise:function(){return this.each(se)},lower:function(){return this.each(le)},append:function(t){var e="function"===typeof t?t:xt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:xt(t),r=null==e?ue:"function"===typeof e?e:Mt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ce)},clone:function(t){return this.select(t?he:de)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=ge(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?_e:ye,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<o;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"===typeof e?Me:we)(t,e))}};var Se=Te,Le=function(t){return"string"===typeof t?new Ee([[document.querySelector(t)]],[document.documentElement]):new Ee([[t]],Ae)},ke=function(t){return Le(xt(t).call(document.documentElement))},Ce=0;function De(){return new Pe}function Pe(){this._="@"+(++Ce).toString(36)}Pe.prototype=De.prototype={constructor:Pe,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Re=function(){for(var t,e=fe;t=e.sourceEvent;)e=t;return e},Oe=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},Ie=function(t){var e=Re();return e.changedTouches&&(e=e.changedTouches[0]),Oe(t,e)},Ne=function(t){return"string"===typeof t?new Ee([document.querySelectorAll(t)],[document.documentElement]):new Ee([null==t?[]:t],Ae)},ze=function(t,e,n){arguments.length<3&&(n=e,e=Re().changedTouches);for(var r,i=0,a=e?e.length:0;i<a;++i)if((r=e[i]).identifier===n)return Oe(t,r);return null},Be=function(t,e){null==e&&(e=Re().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=Oe(t,e[n]);return i};function Fe(){fe.stopImmediatePropagation()}var je=function(){fe.preventDefault(),fe.stopImmediatePropagation()},He=function(t){var e=t.document.documentElement,n=Le(t).on("dragstart.drag",je,!0);"onselectstart"in e?n.on("selectstart.drag",je,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function Ye(t,e){var n=t.document.documentElement,r=Le(t).on("dragstart.drag",null);e&&(r.on("click.drag",je,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ue=function(t){return function(){return t}};function Ge(t,e,n,r,i,a,o,s,l,u){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=s,this.dy=l,this._=u}function Ve(){return!fe.ctrlKey&&!fe.button}function We(){return this.parentNode}function qe(t){return null==t?{x:fe.x,y:fe.y}:t}function Xe(){return navigator.maxTouchPoints||"ontouchstart"in this}Ge.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Je=function(){var t,e,n,r,i=Ve,a=We,o=qe,s=Xe,l={},u=mt("start","drag","end"),c=0,d=0;function h(t){t.on("mousedown.drag",p).filter(s).on("touchstart.drag",v).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!r&&i.apply(this,arguments)){var o=_("mouse",a.apply(this,arguments),Ie,this,arguments);o&&(Le(fe.view).on("mousemove.drag",f,!0).on("mouseup.drag",m,!0),He(fe.view),Fe(),n=!1,t=fe.clientX,e=fe.clientY,o("start"))}}function f(){if(je(),!n){var r=fe.clientX-t,i=fe.clientY-e;n=r*r+i*i>d}l.mouse("drag")}function m(){Le(fe.view).on("mousemove.drag mouseup.drag",null),Ye(fe.view,n),je(),l.mouse("end")}function v(){if(i.apply(this,arguments)){var t,e,n=fe.changedTouches,r=a.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=_(n[t].identifier,r,ze,this,arguments))&&(Fe(),e("start"))}}function g(){var t,e,n=fe.changedTouches,r=n.length;for(t=0;t<r;++t)(e=l[n[t].identifier])&&(je(),e("drag"))}function y(){var t,e,n=fe.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=l[n[t].identifier])&&(Fe(),e("end"))}function _(t,e,n,r,i){var a,s,d,p=n(e,t),f=u.copy();if(be(new Ge(h,"beforestart",a,t,c,p[0],p[1],0,0,f),(function(){return null!=(fe.subject=a=o.apply(r,i))&&(s=a.x-p[0]||0,d=a.y-p[1]||0,!0)})))return function o(u){var m,v=p;switch(u){case"start":l[t]=o,m=c++;break;case"end":delete l[t],--c;case"drag":p=n(e,t),m=c}be(new Ge(h,u,a,t,m,p[0]+s,p[1]+d,p[0]-v[0],p[1]-v[1],f),f.apply,f,[u,r,i])}}return h.filter=function(t){return arguments.length?(i="function"===typeof t?t:Ue(!!t),h):i},h.container=function(t){return arguments.length?(a="function"===typeof t?t:Ue(t),h):a},h.subject=function(t){return arguments.length?(o="function"===typeof t?t:Ue(t),h):o},h.touchable=function(t){return arguments.length?(s="function"===typeof t?t:Ue(!!t),h):s},h.on=function(){var t=u.on.apply(u,arguments);return t===u?h:t},h.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,h):Math.sqrt(d)},h},Ze=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Qe(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ke(){}var $e="\\s*([+-]?\\d+)\\s*",tn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",en="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nn=/^#([0-9a-f]{3,8})$/,rn=new RegExp("^rgb\\("+[$e,$e,$e]+"\\)$"),an=new RegExp("^rgb\\("+[en,en,en]+"\\)$"),on=new RegExp("^rgba\\("+[$e,$e,$e,tn]+"\\)$"),sn=new RegExp("^rgba\\("+[en,en,en,tn]+"\\)$"),ln=new RegExp("^hsl\\("+[tn,en,en]+"\\)$"),un=new RegExp("^hsla\\("+[tn,en,en,tn]+"\\)$"),cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function dn(){return this.rgb().formatHex()}function hn(){return this.rgb().formatRgb()}function pn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?fn(e):3===n?new yn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new yn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new yn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=rn.exec(t))?new yn(e[1],e[2],e[3],1):(e=an.exec(t))?new yn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=on.exec(t))?mn(e[1],e[2],e[3],e[4]):(e=sn.exec(t))?mn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ln.exec(t))?wn(e[1],e[2]/100,e[3]/100,1):(e=un.exec(t))?wn(e[1],e[2]/100,e[3]/100,e[4]):cn.hasOwnProperty(t)?fn(cn[t]):"transparent"===t?new yn(NaN,NaN,NaN,0):null}function fn(t){return new yn(t>>16&255,t>>8&255,255&t,1)}function mn(t,e,n,r){return r<=0&&(t=e=n=NaN),new yn(t,e,n,r)}function vn(t){return t instanceof Ke||(t=pn(t)),t?new yn((t=t.rgb()).r,t.g,t.b,t.opacity):new yn}function gn(t,e,n,r){return 1===arguments.length?vn(t):new yn(t,e,n,null==r?1:r)}function yn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function _n(){return"#"+xn(this.r)+xn(this.g)+xn(this.b)}function bn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function xn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function wn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new En(t,e,n,r)}function Mn(t){if(t instanceof En)return new En(t.h,t.s,t.l,t.opacity);if(t instanceof Ke||(t=pn(t)),!t)return new En;if(t instanceof En)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new En(o,s,l,t.opacity)}function An(t,e,n,r){return 1===arguments.length?Mn(t):new En(t,e,n,null==r?1:r)}function En(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Tn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Sn(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}Ze(Ke,pn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:dn,formatHex:dn,formatHsl:function(){return Mn(this).formatHsl()},formatRgb:hn,toString:hn}),Ze(yn,gn,Qe(Ke,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_n,formatHex:_n,formatRgb:bn,toString:bn})),Ze(En,An,Qe(Ke,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new En(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new En(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new yn(Tn(t>=240?t-240:t+120,i,r),Tn(t,i,r),Tn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ln=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return Sn((n-r/e)*e,o,i,a,s)}},kn=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return Sn((n-r/e)*e,i,a,o,s)}},Cn=function(t){return function(){return t}};function Dn(t,e){return function(n){return t+n*e}}function Pn(t,e){var n=e-t;return n?Dn(t,n>180||n<-180?n-360*Math.round(n/360):n):Cn(isNaN(t)?e:t)}function Rn(t){return 1===(t=+t)?On:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Cn(isNaN(e)?n:e)}}function On(t,e){var n=e-t;return n?Dn(t,n):Cn(isNaN(t)?e:t)}var In=function t(e){var n=Rn(e);function r(t,e){var r=n((t=gn(t)).r,(e=gn(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=On(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function Nn(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=gn(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}var zn=Nn(Ln),Bn=Nn(kn),Fn=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Zn(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}},jn=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}},Hn=function(t,e){return e-=t=+t,function(n){return t+e*n}},Yn=function(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=Zn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Un=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gn=new RegExp(Un.source,"g");var Vn,Wn,qn,Xn,Jn=function(t,e){var n,r,i,a=Un.lastIndex=Gn.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=Un.exec(t))&&(r=Gn.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Hn(n,r)})),a=Gn.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})},Zn=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?Cn(e):("number"===r?Hn:"string"===r?(n=pn(e))?(e=n,In):Jn:e instanceof pn?In:e instanceof Date?jn:Array.isArray(e)?Fn:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?Yn:Hn)(t,e)},Qn=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},Kn=function(t,e){var n=Pn(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},$n=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},tr=180/Math.PI,er={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},nr=function(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*tr,skewX:Math.atan(l)*tr,scaleX:o,scaleY:s}};function rr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],l=[];return a=t(a),o=t(o),function(t,r,i,a,o,s){if(t!==i||r!==a){var l=o.push("translate(",null,e,null,n);s.push({i:l-4,x:Hn(t,i)},{i:l-2,x:Hn(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Hn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,s,l),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Hn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,s,l),function(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Hn(t,n)},{i:s-2,x:Hn(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var ir=rr((function(t){return"none"===t?er:(Vn||(Vn=document.createElement("DIV"),Wn=document.documentElement,qn=document.defaultView),Vn.style.transform=t,t=qn.getComputedStyle(Wn.appendChild(Vn),null).getPropertyValue("transform"),Wn.removeChild(Vn),t=t.slice(7,-1).split(","),nr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),ar=rr((function(t){return null==t?er:(Xn||(Xn=document.createElementNS("http://www.w3.org/2000/svg","g")),Xn.setAttribute("transform",t),(t=Xn.transform.baseVal.consolidate())?(t=t.matrix,nr(t.a,t.b,t.c,t.d,t.e,t.f)):er)}),", ",")",")"),or=Math.SQRT2;function sr(t){return((t=Math.exp(t))+1/t)/2}var lr=function(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],l=e[1],u=e[2],c=s-i,d=l-a,h=c*c+d*d;if(h<1e-12)r=Math.log(u/o)/or,n=function(t){return[i+t*c,a+t*d,o*Math.exp(or*t*r)]};else{var p=Math.sqrt(h),f=(u*u-o*o+4*h)/(2*o*2*p),m=(u*u-o*o-4*h)/(2*u*2*p),v=Math.log(Math.sqrt(f*f+1)-f),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-v)/or,n=function(t){var e,n=t*r,s=sr(v),l=o/(2*p)*(s*(e=or*n+v,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+l*c,a+l*d,o*s/sr(or*n+v)]}}return n.duration=1e3*r,n};function ur(t){return function(e,n){var r=t((e=An(e)).h,(n=An(n)).h),i=On(e.s,n.s),a=On(e.l,n.l),o=On(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=a(t),e.opacity=o(t),e+""}}}var cr=ur(Pn),dr=ur(On),hr=Math.PI/180,pr=180/Math.PI,fr=.96422,mr=1,vr=.82521,gr=4/29,yr=6/29,_r=3*yr*yr,br=yr*yr*yr;function xr(t){if(t instanceof Ar)return new Ar(t.l,t.a,t.b,t.opacity);if(t instanceof Pr)return Rr(t);t instanceof yn||(t=vn(t));var e,n,r=Lr(t.r),i=Lr(t.g),a=Lr(t.b),o=Er((.2225045*r+.7168786*i+.0606169*a)/mr);return r===i&&i===a?e=n=o:(e=Er((.4360747*r+.3850649*i+.1430804*a)/fr),n=Er((.0139322*r+.0971045*i+.7141733*a)/vr)),new Ar(116*o-16,500*(e-o),200*(o-n),t.opacity)}function wr(t,e){return new Ar(t,0,0,null==e?1:e)}function Mr(t,e,n,r){return 1===arguments.length?xr(t):new Ar(t,e,n,null==r?1:r)}function Ar(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Er(t){return t>br?Math.pow(t,1/3):t/_r+gr}function Tr(t){return t>yr?t*t*t:_r*(t-gr)}function Sr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Lr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kr(t){if(t instanceof Pr)return new Pr(t.h,t.c,t.l,t.opacity);if(t instanceof Ar||(t=xr(t)),0===t.a&&0===t.b)return new Pr(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*pr;return new Pr(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Cr(t,e,n,r){return 1===arguments.length?kr(t):new Pr(n,e,t,null==r?1:r)}function Dr(t,e,n,r){return 1===arguments.length?kr(t):new Pr(t,e,n,null==r?1:r)}function Pr(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Rr(t){if(isNaN(t.h))return new Ar(t.l,0,0,t.opacity);var e=t.h*hr;return new Ar(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function Or(t,e){var n=On((t=Mr(t)).l,(e=Mr(e)).l),r=On(t.a,e.a),i=On(t.b,e.b),a=On(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=a(e),t+""}}function Ir(t){return function(e,n){var r=t((e=Dr(e)).h,(n=Dr(n)).h),i=On(e.c,n.c),a=On(e.l,n.l),o=On(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=a(t),e.opacity=o(t),e+""}}}Ze(Ar,Mr,Qe(Ke,{brighter:function(t){return new Ar(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ar(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new yn(Sr(3.1338561*(e=fr*Tr(e))-1.6168667*(t=mr*Tr(t))-.4906146*(n=vr*Tr(n))),Sr(-.9787684*e+1.9161415*t+.033454*n),Sr(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Ze(Pr,Dr,Qe(Ke,{brighter:function(t){return new Pr(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Pr(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Rr(this).rgb()}}));var Nr=Ir(Pn),zr=Ir(On),Br=-.29227,Fr=-.90649,jr=1.97294,Hr=jr*Fr,Yr=1.78277*jr,Ur=1.78277*Br- -.14861*Fr;function Gr(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Vr)return new Vr(t.h,t.s,t.l,t.opacity);t instanceof yn||(t=vn(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ur*r+Hr*e-Yr*n)/(Ur+Hr-Yr),a=r-i,o=(jr*(n-i)-Br*a)/Fr,s=Math.sqrt(o*o+a*a)/(jr*i*(1-i)),l=s?Math.atan2(o,a)*pr-120:NaN;return new Vr(l<0?l+360:l,s,i,t.opacity)}(t):new Vr(t,e,n,null==r?1:r)}function Vr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Wr(t){return function e(n){function r(e,r){var i=t((e=Gr(e)).h,(r=Gr(r)).h),a=On(e.s,r.s),o=On(e.l,r.l),s=On(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}Ze(Vr,Gr,Qe(Ke,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Vr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Vr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*hr,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new yn(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(Br*r+Fr*i)),255*(e+n*(jr*r)),this.opacity)}}));var qr=Wr(Pn),Xr=Wr(On);function Jr(t,e){for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[e](t-e)}}var Zr,Qr,Kr=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},$r=0,ti=0,ei=0,ni=1e3,ri=0,ii=0,ai=0,oi="object"===typeof performance&&performance.now?performance:Date,si="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function li(){return ii||(si(ui),ii=oi.now()+ai)}function ui(){ii=0}function ci(){this._call=this._time=this._next=null}function di(t,e,n){var r=new ci;return r.restart(t,e,n),r}function hi(){li(),++$r;for(var t,e=Zr;e;)(t=ii-e._time)>=0&&e._call.call(null,t),e=e._next;--$r}function pi(){ii=(ri=oi.now())+ai,$r=ti=0;try{hi()}finally{$r=0,function(){var t,e,n=Zr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Zr=e);Qr=t,mi(r)}(),ii=0}}function fi(){var t=oi.now(),e=t-ri;e>ni&&(ai-=e,ri=t)}function mi(t){$r||(ti&&(ti=clearTimeout(ti)),t-ii>24?(t<1/0&&(ti=setTimeout(pi,t-oi.now()-ai)),ei&&(ei=clearInterval(ei))):(ei||(ri=oi.now(),ei=setInterval(fi,ni)),$r=1,si(pi)))}ci.prototype=di.prototype={constructor:ci,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?li():+n)+(null==e?0:+e),this._next||Qr===this||(Qr?Qr._next=this:Zr=this,Qr=this),this._call=t,this._time=n,mi()},stop:function(){this._call&&(this._call=null,this._time=1/0,mi())}};var vi=function(t,e,n){var r=new ci;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},gi=function(t,e,n){var r=new ci,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?li():+n,r.restart((function a(o){o+=i,r.restart(a,i+=e,n),t(o)}),e,n),r)},yi=mt("start","end","cancel","interrupt"),_i=[],bi=0,xi=1,wi=2,Mi=3,Ai=4,Ei=5,Ti=6,Si=function(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(l){var u,c,d,h;if(n.state!==xi)return s();for(u in i)if((h=i[u]).name===n.name){if(h.state===Mi)return vi(a);h.state===Ai?(h.state=Ti,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[u]):+u<e&&(h.state=Ti,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[u])}if(vi((function(){n.state===Mi&&(n.state=Ai,n.timer.restart(o,n.delay,n.time),o(l))})),n.state=wi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===wi){for(n.state=Mi,r=new Array(d=n.tween.length),u=0,c=-1;u<d;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=Ei,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);n.state===Ei&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=Ti,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=di((function(t){n.state=xi,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:yi,tween:_i,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:bi})};function Li(t,e){var n=Ci(t,e);if(n.state>bi)throw new Error("too late; already scheduled");return n}function ki(t,e){var n=Ci(t,e);if(n.state>Mi)throw new Error("too late; already running");return n}function Ci(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var Di=function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>wi&&n.state<Ei,n.state=Ti,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}};function Pi(t,e){var n,r;return function(){var i=ki(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function Ri(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=ki(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function Oi(t,e,n){var r=t._id;return t.each((function(){var t=ki(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Ci(t,r).value[e]}}var Ii=function(t,e){var n;return("number"===typeof e?Hn:e instanceof pn?In:(n=pn(e))?(e=n,In):Jn)(t,e)};function Ni(t){return function(){this.removeAttribute(t)}}function zi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bi(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function Fi(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function ji(t,e,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,l));this.removeAttribute(t)}}function Hi(t,e,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,l));this.removeAttributeNS(t.space,t.local)}}function Yi(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,i)),n}return i._value=e,i}function Ui(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,i)),n}return i._value=e,i}function Gi(t,e){return function(){Li(this,t).delay=+e.apply(this,arguments)}}function Vi(t,e){return e=+e,function(){Li(this,t).delay=e}}function Wi(t,e){return function(){ki(this,t).duration=+e.apply(this,arguments)}}function qi(t,e){return e=+e,function(){ki(this,t).duration=e}}function Xi(t,e){if("function"!==typeof e)throw new Error;return function(){ki(this,t).ease=e}}function Ji(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Li:ki;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}var Zi=Se.prototype.constructor;function Qi(t){return function(){this.style.removeProperty(t)}}function Ki(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,e,n){return function(r){this.style.setProperty(t,e(r),n)}}(t,a,n)),r}return a._value=e,a}var $i=0;function ta(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ea(t){return Se().transition(t)}function na(){return++$i}var ra=Se.prototype;function ia(t){return+t}function aa(t){return t*t}function oa(t){return t*(2-t)}function sa(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function la(t){return t*t*t}function ua(t){return--t*t*t+1}function ca(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}ta.prototype=ea.prototype={constructor:ta,select:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Mt(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,l,u=r[o],c=u.length,d=a[o]=new Array(c),h=0;h<c;++h)(s=u[h])&&(l=t.call(s,s.__data__,h,u))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,Si(d[h],e,n,h,d,Ci(s,n)));return new ta(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Et(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l,u=r[s],c=u.length,d=0;d<c;++d)if(l=u[d]){for(var h,p=t.call(l,l.__data__,d,u),f=Ci(l,n),m=0,v=p.length;m<v;++m)(h=p[m])&&Si(h,e,n,m,p,f);a.push(p),o.push(l)}return new ta(a,o,e,n)},filter:function(t){"function"!==typeof t&&(t=Tt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&l.push(a);return new ta(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,u=e[s],c=n[s],d=u.length,h=o[s]=new Array(d),p=0;p<d;++p)(l=u[p]||c[p])&&(h[p]=l);for(;s<r;++s)o[s]=e[s];return new ta(o,this._parents,this._name,this._id)},selection:function(){return new Zi(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=na(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,u=0;u<l;++u)if(o=s[u]){var c=Ci(o,e);Si(o,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ta(r,this._parents,t,n)},call:ra.call,nodes:ra.nodes,node:ra.node,size:ra.size,empty:ra.empty,each:ra.each,on:function(t,e){var n=this._id;return arguments.length<2?Ci(this.node(),n).on.on(t):this.each(Ji(n,t,e))},attr:function(t,e){var n=yt(t),r="transform"===n?ar:Ii;return this.attrTween(t,"function"===typeof e?(n.local?Hi:ji)(n,r,Oi(this,"attr."+t,e)):null==e?(n.local?zi:Ni)(n):(n.local?Fi:Bi)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=yt(t);return this.tween(n,(r.local?Yi:Ui)(r,e))},style:function(t,e,n){var r="transform"===(t+="")?ir:Ii;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=Ut(this,t),o=(this.style.removeProperty(t),Ut(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,Qi(t)):"function"===typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=Ut(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=Ut(this,t)),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}(t,r,Oi(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var l=ki(this,t),u=l.on,c=null==l.value[o]?a||(a=Qi(e)):void 0;u===n&&i===c||(r=(n=u).copy()).on(s,i=c),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=Ut(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,Ki(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Oi(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Ci(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?Pi:Ri)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Gi:Vi)(e,t)):Ci(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Wi:qi)(e,t)):Ci(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Xi(e,t)):Ci(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},l={value:function(){0===--i&&a()}};n.each((function(){var n=ki(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e}))}))}};var da=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),ha=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),pa=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),fa=Math.PI,ma=fa/2;function va(t){return 1-Math.cos(t*ma)}function ga(t){return Math.sin(t*ma)}function ya(t){return(1-Math.cos(fa*t))/2}function _a(t){return Math.pow(2,10*t-10)}function ba(t){return 1-Math.pow(2,-10*t)}function xa(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function wa(t){return 1-Math.sqrt(1-t*t)}function Ma(t){return Math.sqrt(1- --t*t)}function Aa(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Ea=4/11,Ta=6/11,Sa=8/11,La=.75,ka=9/11,Ca=10/11,Da=.9375,Pa=21/22,Ra=63/64,Oa=1/Ea/Ea;function Ia(t){return 1-Na(1-t)}function Na(t){return(t=+t)<Ea?Oa*t*t:t<Sa?Oa*(t-=Ta)*t+La:t<Ca?Oa*(t-=ka)*t+Da:Oa*(t-=Pa)*t+Ra}function za(t){return((t*=2)<=1?1-Na(1-t):Na(t-1)+1)/2}var Ba=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Fa=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),ja=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Ha=2*Math.PI,Ya=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ha);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Ha)},i.period=function(n){return t(e,n)},i}(1,.3),Ua=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ha);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Ha)},i.period=function(n){return t(e,n)},i}(1,.3),Ga=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ha);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Ha)},i.period=function(n){return t(e,n)},i}(1,.3),Va={time:null,delay:0,duration:250,ease:ca};function Wa(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Va.time=li(),Va;return n}Se.prototype.interrupt=function(t){return this.each((function(){Di(this,t)}))},Se.prototype.transition=function(t){var e,n;t instanceof ta?(e=t._id,t=t._name):(e=na(),(n=Va).time=li(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,u=0;u<l;++u)(o=s[u])&&Si(o,t,e,u,s,n||Wa(o,e));return new ta(r,this._parents,t,e)};var qa=[null],Xa=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>xi&&n.name===e)return new ta([[t]],qa,e,+r);return null},Ja=function(t){return function(){return t}},Za=function(t,e,n){this.target=t,this.type=e,this.selection=n};function Qa(){fe.stopImmediatePropagation()}var Ka=function(){fe.preventDefault(),fe.stopImmediatePropagation()},$a={name:"drag"},to={name:"space"},eo={name:"handle"},no={name:"center"};function ro(t){return[+t[0],+t[1]]}function io(t){return[ro(t[0]),ro(t[1])]}var ao={name:"x",handles:["w","e"].map(fo),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},oo={name:"y",handles:["n","s"].map(fo),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},so={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(fo),input:function(t){return null==t?null:io(t)},output:function(t){return t}},lo={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},uo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},co={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ho={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},po={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function fo(t){return{type:t}}function mo(){return!fe.ctrlKey&&!fe.button}function vo(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function go(){return navigator.maxTouchPoints||"ontouchstart"in this}function yo(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function _o(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function bo(){return Mo(ao)}function xo(){return Mo(oo)}var wo=function(){return Mo(so)};function Mo(t){var e,n=vo,r=mo,i=go,a=!0,o=mt(l,"start","brush","end"),s=6;function l(e){var n=e.property("__brush",m).selectAll(".overlay").data([fo("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",lo.overlay).merge(n).each((function(){var t=yo(this).extent;Le(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([fo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",lo.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return lo[t.type]})),e.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",f).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(){var t=Le(this),e=yo(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,e,n){return!n&&t.__brush.emitter||new d(t,e)}function d(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function h(){if((!e||fe.touches)&&r.apply(this,arguments)){var n,i,o,s,l,d,h,p,f,m,v,g,y=this,_=fe.target.__data__.type,b="selection"===(a&&fe.metaKey?_="overlay":_)?$a:a&&fe.altKey?no:eo,x=t===oo?null:ho[_],w=t===ao?null:po[_],M=yo(y),A=M.extent,E=M.selection,T=A[0][0],S=A[0][1],L=A[1][0],k=A[1][1],C=0,D=0,P=x&&w&&a&&fe.shiftKey,R=fe.touches?(g=fe.changedTouches[0].identifier,function(t){return ze(t,fe.touches,g)}):Ie,O=R(y),I=O,N=c(y,arguments,!0).beforestart();"overlay"===_?(E&&(f=!0),M.selection=E=[[n=t===oo?T:O[0],o=t===ao?S:O[1]],[l=t===oo?L:n,h=t===ao?k:o]]):(n=E[0][0],o=E[0][1],l=E[1][0],h=E[1][1]),i=n,s=o,d=l,p=h;var z=Le(y).attr("pointer-events","none"),B=z.selectAll(".overlay").attr("cursor",lo[_]);if(fe.touches)N.moved=j,N.ended=Y;else{var F=Le(fe.view).on("mousemove.brush",j,!0).on("mouseup.brush",Y,!0);a&&F.on("keydown.brush",(function(){switch(fe.keyCode){case 16:P=x&&w;break;case 18:b===eo&&(x&&(l=d-C*x,n=i+C*x),w&&(h=p-D*w,o=s+D*w),b=no,H());break;case 32:b!==eo&&b!==no||(x<0?l=d-C:x>0&&(n=i-C),w<0?h=p-D:w>0&&(o=s-D),b=to,B.attr("cursor",lo.selection),H());break;default:return}Ka()}),!0).on("keyup.brush",(function(){switch(fe.keyCode){case 16:P&&(m=v=P=!1,H());break;case 18:b===no&&(x<0?l=d:x>0&&(n=i),w<0?h=p:w>0&&(o=s),b=eo,H());break;case 32:b===to&&(fe.altKey?(x&&(l=d-C*x,n=i+C*x),w&&(h=p-D*w,o=s+D*w),b=no):(x<0?l=d:x>0&&(n=i),w<0?h=p:w>0&&(o=s),b=eo),B.attr("cursor",lo[_]),H());break;default:return}Ka()}),!0),He(fe.view)}Qa(),Di(y),u.call(y),N.start()}function j(){var t=R(y);!P||m||v||(Math.abs(t[0]-I[0])>Math.abs(t[1]-I[1])?v=!0:m=!0),I=t,f=!0,Ka(),H()}function H(){var t;switch(C=I[0]-O[0],D=I[1]-O[1],b){case to:case $a:x&&(C=Math.max(T-n,Math.min(L-l,C)),i=n+C,d=l+C),w&&(D=Math.max(S-o,Math.min(k-h,D)),s=o+D,p=h+D);break;case eo:x<0?(C=Math.max(T-n,Math.min(L-n,C)),i=n+C,d=l):x>0&&(C=Math.max(T-l,Math.min(L-l,C)),i=n,d=l+C),w<0?(D=Math.max(S-o,Math.min(k-o,D)),s=o+D,p=h):w>0&&(D=Math.max(S-h,Math.min(k-h,D)),s=o,p=h+D);break;case no:x&&(i=Math.max(T,Math.min(L,n-C*x)),d=Math.max(T,Math.min(L,l+C*x))),w&&(s=Math.max(S,Math.min(k,o-D*w)),p=Math.max(S,Math.min(k,h+D*w)))}d<i&&(x*=-1,t=n,n=l,l=t,t=i,i=d,d=t,_ in uo&&B.attr("cursor",lo[_=uo[_]])),p<s&&(w*=-1,t=o,o=h,h=t,t=s,s=p,p=t,_ in co&&B.attr("cursor",lo[_=co[_]])),M.selection&&(E=M.selection),m&&(i=E[0][0],d=E[1][0]),v&&(s=E[0][1],p=E[1][1]),E[0][0]===i&&E[0][1]===s&&E[1][0]===d&&E[1][1]===p||(M.selection=[[i,s],[d,p]],u.call(y),N.brush())}function Y(){if(Qa(),fe.touches){if(fe.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else Ye(fe.view,f),F.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);z.attr("pointer-events","all"),B.attr("cursor",lo.overlay),M.selection&&(E=M.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(E)&&(M.selection=null,u.call(y)),N.end()}}function p(){c(this,arguments).moved()}function f(){c(this,arguments).ended()}function m(){var e=this.__brush||{selection:null};return e.extent=io(n.apply(this,arguments)),e.dim=t,e}return l.move=function(e,n){e.selection?e.on("start.brush",(function(){c(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){c(this,arguments).end()})).tween("brush",(function(){var e=this,r=e.__brush,i=c(e,arguments),a=r.selection,o=t.input("function"===typeof n?n.apply(this,arguments):n,r.extent),s=Zn(a,o);function l(t){r.selection=1===t&&null===o?null:s(t),u.call(e),i.brush()}return null!==a&&null!==o?l:l(1)})):e.each((function(){var e=this,r=arguments,i=e.__brush,a=t.input("function"===typeof n?n.apply(e,r):n,i.extent),o=c(e,r).beforestart();Di(e),i.selection=null===a?null:a,u.call(e),o.start().brush().end()}))},l.clear=function(t){l.move(t,null)},d.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){be(new Za(l,e,t.output(this.state.selection)),o.apply,o,[e,this.that,this.args])}},l.extent=function(t){return arguments.length?(n="function"===typeof t?t:Ja(io(t)),l):n},l.filter=function(t){return arguments.length?(r="function"===typeof t?t:Ja(!!t),l):r},l.handleSize=function(t){return arguments.length?(s=+t,l):s},l.keyModifiers=function(t){return arguments.length?(a=!!t,l):a},l.on=function(){var t=o.on.apply(o,arguments);return t===o?l:t},l}var Ao=Math.cos,Eo=Math.sin,To=Math.PI,So=To/2,Lo=2*To,ko=Math.max;function Co(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}var Do=function(){var t=0,e=null,n=null,r=null;function i(i){var a,o,s,l,u,c,d=i.length,h=[],p=w(d),f=[],m=[],v=m.groups=new Array(d),g=new Array(d*d);for(a=0,u=-1;++u<d;){for(o=0,c=-1;++c<d;)o+=i[u][c];h.push(o),f.push(w(d)),a+=o}for(e&&p.sort((function(t,n){return e(h[t],h[n])})),n&&f.forEach((function(t,e){t.sort((function(t,r){return n(i[e][t],i[e][r])}))})),l=(a=ko(0,Lo-t*d)/a)?t:Lo/d,o=0,u=-1;++u<d;){for(s=o,c=-1;++c<d;){var y=p[u],_=f[y][c],b=i[y][_],x=o,M=o+=b*a;g[_*d+y]={index:y,subindex:_,startAngle:x,endAngle:M,value:b}}v[y]={index:y,startAngle:s,endAngle:o,value:h[y]},o+=l}for(u=-1;++u<d;)for(c=u-1;++c<d;){var A=g[c*d+u],E=g[u*d+c];(A.value||E.value)&&m.push(A.value<E.value?{source:E,target:A}:{source:A,target:E})}return r?m.sort(r):m}return i.padAngle=function(e){return arguments.length?(t=ko(0,e),i):t},i.sortGroups=function(t){return arguments.length?(e=t,i):e},i.sortSubgroups=function(t){return arguments.length?(n=t,i):n},i.sortChords=function(t){return arguments.length?(null==t?r=null:(r=Co(t))._=t,i):r&&r._},i},Po=Array.prototype.slice,Ro=function(t){return function(){return t}},Oo=Math.PI,Io=2*Oo,No=Io-1e-6;function zo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Bo(){return new zo}zo.prototype=Bo.prototype={constructor:zo,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,l=r-e,u=a-t,c=o-e,d=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>1e-6)if(Math.abs(c*s-l*u)>1e-6&&i){var h=n-a,p=r-o,f=s*s+l*l,m=h*h+p*p,v=Math.sqrt(f),g=Math.sqrt(d),y=i*Math.tan((Oo-Math.acos((f+d-m)/(2*v*g)))/2),_=y/g,b=y/v;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*u)+","+(e+_*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>u*p)+","+(this._x1=t+b*s)+","+(this._y1=e+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,a){t=+t,e=+e,a=!!a;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+o,u=e+s,c=1^a,d=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(d<0&&(d=d%Io+Io),d>No?this._+="A"+n+","+n+",0,1,"+c+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):d>1e-6&&(this._+="A"+n+","+n+",0,"+ +(d>=Oo)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Fo=Bo;function jo(t){return t.source}function Ho(t){return t.target}function Yo(t){return t.radius}function Uo(t){return t.startAngle}function Go(t){return t.endAngle}var Vo=function(){var t=jo,e=Ho,n=Yo,r=Uo,i=Go,a=null;function o(){var o,s=Po.call(arguments),l=t.apply(this,s),u=e.apply(this,s),c=+n.apply(this,(s[0]=l,s)),d=r.apply(this,s)-So,h=i.apply(this,s)-So,p=c*Ao(d),f=c*Eo(d),m=+n.apply(this,(s[0]=u,s)),v=r.apply(this,s)-So,g=i.apply(this,s)-So;if(a||(a=o=Fo()),a.moveTo(p,f),a.arc(0,0,c,d,h),d===v&&h===g||(a.quadraticCurveTo(0,0,m*Ao(v),m*Eo(v)),a.arc(0,0,m,v,g)),a.quadraticCurveTo(0,0,p,f),a.closePath(),o)return a=null,o+""||null}return o.radius=function(t){return arguments.length?(n="function"===typeof t?t:Ro(+t),o):n},o.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:Ro(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:Ro(+t),o):i},o.source=function(e){return arguments.length?(t=e,o):t},o.target=function(t){return arguments.length?(e=t,o):e},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o};function Wo(){}function qo(t,e){var n=new Wo;if(t instanceof Wo)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}Wo.prototype=qo.prototype={constructor:Wo,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Xo=qo,Jo=function(){var t,e,n,r=[],i=[];function a(n,i,o,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var l,u,c,d=-1,h=n.length,p=r[i++],f=Xo(),m=o();++d<h;)(c=f.get(l=p(u=n[d])+""))?c.push(u):f.set(l,[u]);return f.each((function(t,e){s(m,e,a(t,i,o,s))})),m}return n={object:function(t){return a(t,0,Zo,Qo)},map:function(t){return a(t,0,Ko,$o)},entries:function(t){return function t(n,a){if(++a>r.length)return n;var o,s=i[a-1];return null!=e&&a>=r.length?o=n.entries():(o=[],n.each((function(e,n){o.push({key:n,values:t(e,a)})}))),null!=s?o.sort((function(t,e){return s(t.key,e.key)})):o}(a(t,0,Ko,$o),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function Zo(){return{}}function Qo(t,e,n){t[e]=n}function Ko(){return Xo()}function $o(t,e,n){t.set(e,n)}function ts(){}var es=Xo.prototype;function ns(t,e){var n=new ts;if(t instanceof ts)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}ts.prototype=ns.prototype={constructor:ts,has:es.has,add:function(t){return this["$"+(t+="")]=t,this},remove:es.remove,clear:es.clear,values:es.keys,size:es.size,empty:es.empty,each:es.each};var rs=ns,is=function(t){var e=[];for(var n in t)e.push(n);return e},as=function(t){var e=[];for(var n in t)e.push(t[n]);return e},os=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ss=Array.prototype.slice,ls=function(t,e){return t-e},us=function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r},cs=function(t){return function(){return t}},ds=function(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=hs(t,e[r]))return n;return 0};function hs(t,e){for(var n=e[0],r=e[1],i=-1,a=0,o=t.length,s=o-1;a<o;s=a++){var l=t[a],u=l[0],c=l[1],d=t[s],h=d[0],p=d[1];if(ps(l,d,e))return 0;c>r!==p>r&&n<(h-u)*(r-c)/(p-c)+u&&(i=-i)}return i}function ps(t,e,n){var r,i,a,o;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],a=n[r],o=e[r],i<=a&&a<=o||o<=a&&a<=i)}var fs=function(){},ms=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],vs=function(){var t=1,e=1,n=k,r=s;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(ls);else{var r=v(t),i=r[0],o=r[1];e=L(i,o,e),e=w(Math.floor(i/e)*e,Math.floor(o/e)*e,e)}return e.map((function(e){return a(t,e)}))}function a(n,i){var a=[],s=[];return function(n,r,i){var a,s,l,u,c,d,h=new Array,p=new Array;a=s=-1,u=n[0]>=r,ms[u<<1].forEach(f);for(;++a<t-1;)l=u,u=n[a+1]>=r,ms[l|u<<1].forEach(f);ms[u<<0].forEach(f);for(;++s<e-1;){for(a=-1,u=n[s*t+t]>=r,c=n[s*t]>=r,ms[u<<1|c<<2].forEach(f);++a<t-1;)l=u,u=n[s*t+t+a+1]>=r,d=c,c=n[s*t+a+1]>=r,ms[l|u<<1|c<<2|d<<3].forEach(f);ms[u|c<<3].forEach(f)}a=-1,c=n[s*t]>=r,ms[c<<2].forEach(f);for(;++a<t-1;)d=c,c=n[s*t+a+1]>=r,ms[c<<2|d<<3].forEach(f);function f(t){var e,n,r=[t[0][0]+a,t[0][1]+s],l=[t[1][0]+a,t[1][1]+s],u=o(r),c=o(l);(e=p[u])?(n=h[c])?(delete p[e.end],delete h[n.start],e===n?(e.ring.push(l),i(e.ring)):h[e.start]=p[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete p[e.end],e.ring.push(l),p[e.end=c]=e):(e=h[c])?(n=p[u])?(delete h[e.start],delete p[n.end],e===n?(e.ring.push(l),i(e.ring)):h[n.start]=p[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(r),h[e.start=u]=e):h[u]=p[c]={start:u,end:c,ring:[r,l]}}ms[c<<3].forEach(f)}(n,i,(function(t){r(t,n,i),us(t)>0?a.push([t]):s.push(t)})),s.forEach((function(t){for(var e,n=0,r=a.length;n<r;++n)if(-1!==ds((e=a[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:a}}function o(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,r,i){n.forEach((function(n){var a,o=n[0],s=n[1],l=0|o,u=0|s,c=r[u*t+l];o>0&&o<t&&l===o&&(a=r[u*t+l-1],n[0]=o+(i-a)/(c-a)-.5),s>0&&s<e&&u===s&&(a=r[(u-1)*t+l],n[1]=s+(i-a)/(c-a)-.5)}))}return i.contour=a,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.ceil(n[0]),a=Math.ceil(n[1]);if(!(r>0)||!(a>0))throw new Error("invalid size");return t=r,e=a,i},i.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:Array.isArray(t)?cs(ss.call(t)):cs(t),i):n},i.smooth=function(t){return arguments.length?(r=t?s:fs,i):r===s},i};function gs(t,e,n){for(var r=t.width,i=t.height,a=1+(n<<1),o=0;o<i;++o)for(var s=0,l=0;s<r+n;++s)s<r&&(l+=t.data[s+o*r]),s>=n&&(s>=a&&(l-=t.data[s-a+o*r]),e.data[s-n+o*r]=l/Math.min(s+1,r-1+a-s,a))}function ys(t,e,n){for(var r=t.width,i=t.height,a=1+(n<<1),o=0;o<r;++o)for(var s=0,l=0;s<i+n;++s)s<i&&(l+=t.data[o+s*r]),s>=n&&(s>=a&&(l-=t.data[o+(s-a)*r]),e.data[o+(s-n)*r]=l/Math.min(s+1,i-1+a-s,a))}function _s(t){return t[0]}function bs(t){return t[1]}function xs(){return 1}var ws=function(){var t=_s,e=bs,n=xs,r=960,i=500,a=20,o=2,s=3*a,l=r+2*s>>o,u=i+2*s>>o,c=cs(20);function d(r){var i=new Float32Array(l*u),d=new Float32Array(l*u);r.forEach((function(r,a,c){var d=+t(r,a,c)+s>>o,h=+e(r,a,c)+s>>o,p=+n(r,a,c);d>=0&&d<l&&h>=0&&h<u&&(i[d+h*l]+=p)})),gs({width:l,height:u,data:i},{width:l,height:u,data:d},a>>o),ys({width:l,height:u,data:d},{width:l,height:u,data:i},a>>o),gs({width:l,height:u,data:i},{width:l,height:u,data:d},a>>o),ys({width:l,height:u,data:d},{width:l,height:u,data:i},a>>o),gs({width:l,height:u,data:i},{width:l,height:u,data:d},a>>o),ys({width:l,height:u,data:d},{width:l,height:u,data:i},a>>o);var p=c(i);if(!Array.isArray(p)){var f=O(i);p=L(0,f,p),(p=w(0,Math.floor(f/p)*p,p)).shift()}return vs().thresholds(p).size([l,u])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*o),t.coordinates.forEach(p),t}function p(t){t.forEach(f)}function f(t){t.forEach(m)}function m(t){t[0]=t[0]*Math.pow(2,o)-s,t[1]=t[1]*Math.pow(2,o)-s}function v(){return l=r+2*(s=3*a)>>o,u=i+2*s>>o,d}return d.x=function(e){return arguments.length?(t="function"===typeof e?e:cs(+e),d):t},d.y=function(t){return arguments.length?(e="function"===typeof t?t:cs(+t),d):e},d.weight=function(t){return arguments.length?(n="function"===typeof t?t:cs(+t),d):n},d.size=function(t){if(!arguments.length)return[r,i];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0)&&!(e>=0))throw new Error("invalid size");return r=e,i=n,v()},d.cellSize=function(t){if(!arguments.length)return 1<<o;if(!((t=+t)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(t)/Math.LN2),v()},d.thresholds=function(t){return arguments.length?(c="function"===typeof t?t:Array.isArray(t)?cs(ss.call(t)):cs(t),d):c},d.bandwidth=function(t){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*t*t+1)-1)/2),v()},d},Ms={},As={},Es=34,Ts=10,Ss=13;function Ls(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}")}function ks(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function Cs(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Ds(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+Cs(-e,6):e>9999?"+"+Cs(e,6):Cs(e,4))+"-"+Cs(t.getUTCMonth()+1,2)+"-"+Cs(t.getUTCDate(),2)+(a?"T"+Cs(n,2)+":"+Cs(r,2)+":"+Cs(i,2)+"."+Cs(a,3)+"Z":i?"T"+Cs(n,2)+":"+Cs(r,2)+":"+Cs(i,2)+"Z":r||n?"T"+Cs(n,2)+":"+Cs(r,2)+"Z":"")}var Ps=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],a=t.length,o=0,s=0,l=a<=0,u=!1;function c(){if(l)return As;if(u)return u=!1,Ms;var e,r,i=o;if(t.charCodeAt(i)===Es){for(;o++<a&&t.charCodeAt(o)!==Es||t.charCodeAt(++o)===Es;);return(e=o)>=a?l=!0:(r=t.charCodeAt(o++))===Ts?u=!0:r===Ss&&(u=!0,t.charCodeAt(o)===Ts&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<a;){if((r=t.charCodeAt(e=o++))===Ts)u=!0;else if(r===Ss)u=!0,t.charCodeAt(o)===Ts&&++o;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,a)}for(t.charCodeAt(a-1)===Ts&&--a,t.charCodeAt(a-1)===Ss&&--a;(r=c())!==As;){for(var d=[];r!==Ms&&r!==As;)d.push(r),r=c();e&&null==(d=e(d,s++))||i.push(d)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function a(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?Ds(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,a=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Ls(t);return function(r,i){return e(n(r),i,t)}}(t,e):Ls(t)}));return a.columns=i||[],a},parseRows:r,format:function(e,n){return null==n&&(n=ks(e)),[n.map(o).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=ks(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(a).join("\n")}}},Rs=Ps(","),Os=Rs.parse,Is=Rs.parseRows,Ns=Rs.format,zs=Rs.formatBody,Bs=Rs.formatRows,Fs=Ps("\t"),js=Fs.parse,Hs=Fs.parseRows,Ys=Fs.format,Us=Fs.formatBody,Gs=Fs.formatRows;function Vs(t){for(var e in t){var n,r=t[e].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(r))continue;r=new Date(r)}else r=n;else r=null;t[e]=r}return t}function Ws(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var qs=function(t,e){return fetch(t,e).then(Ws)};function Xs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var Js=function(t,e){return fetch(t,e).then(Xs)};function Zs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Qs=function(t,e){return fetch(t,e).then(Zs)};function Ks(t){return function(e,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=void 0),Qs(e,n).then((function(e){return t(e,r)}))}}function $s(t,e,n,r){3===arguments.length&&"function"===typeof n&&(r=n,n=void 0);var i=Ps(t);return Qs(e,n).then((function(t){return i.parse(t,r)}))}var tl=Ks(Os),el=Ks(js),nl=function(t,e){return new Promise((function(n,r){var i=new Image;for(var a in e)i[a]=e[a];i.onerror=r,i.onload=function(){n(i)},i.src=t}))};function rl(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var il=function(t,e){return fetch(t,e).then(rl)};function al(t){return function(e,n){return Qs(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}var ol=al("application/xml"),sl=al("text/html"),ll=al("image/svg+xml"),ul=function(t,e){var n;function r(){var r,i,a=n.length,o=0,s=0;for(r=0;r<a;++r)o+=(i=n[r]).x,s+=i.y;for(o=o/a-t,s=s/a-e,r=0;r<a;++r)(i=n[r]).x-=o,i.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r},cl=function(t){return function(){return t}},dl=function(){return 1e-6*(Math.random()-.5)};function hl(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a,o,s,l,u,c,d,h,p=t._root,f={data:r},m=t._x0,v=t._y0,g=t._x1,y=t._y1;if(!p)return t._root=f,t;for(;p.length;)if((u=e>=(a=(m+g)/2))?m=a:g=a,(c=n>=(o=(v+y)/2))?v=o:y=o,i=p,!(p=p[d=c<<1|u]))return i[d]=f,t;if(s=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===s&&n===l)return f.next=p,i?i[d]=f:t._root=f,t;do{i=i?i[d]=new Array(4):t._root=new Array(4),(u=e>=(a=(m+g)/2))?m=a:g=a,(c=n>=(o=(v+y)/2))?v=o:y=o}while((d=c<<1|u)===(h=(l>=o)<<1|s>=a));return i[h]=p,i[d]=f,t}var pl=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function fl(t){return t[0]}function ml(t){return t[1]}function vl(t,e,n){var r=new gl(null==e?fl:e,null==n?ml:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function gl(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function yl(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var _l=vl.prototype=gl.prototype;function bl(t){return t.x+t.vx}function xl(t){return t.y+t.vy}_l.copy=function(){var t,e,n=new gl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=yl(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=yl(e));return n},_l.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return hl(this.cover(e,n),e,n,t)},_l.addAll=function(t){var e,n,r,i,a=t.length,o=new Array(a),s=new Array(a),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(o[n]=r,s[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>d&&(d=i));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<a;++n)hl(this,o[n],s[n],t[n]);return this},_l.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o,s,l=i-n,u=this._root;n>t||t>=i||r>e||e>=a;)switch(s=(e<r)<<1|t<n,(o=new Array(4))[s]=u,u=o,l*=2,s){case 0:i=n+l,a=r+l;break;case 1:n=i-l,a=r+l;break;case 2:i=n+l,r=a-l;break;case 3:n=i-l,r=a-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},_l.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},_l.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},_l.find=function(t,e,n){var r,i,a,o,s,l,u,c=this._x0,d=this._y0,h=this._x1,p=this._y1,f=[],m=this._root;for(m&&f.push(new pl(m,c,d,h,p)),null==n?n=1/0:(c=t-n,d=e-n,h=t+n,p=e+n,n*=n);l=f.pop();)if(!(!(m=l.node)||(i=l.x0)>h||(a=l.y0)>p||(o=l.x1)<c||(s=l.y1)<d))if(m.length){var v=(i+o)/2,g=(a+s)/2;f.push(new pl(m[3],v,g,o,s),new pl(m[2],i,g,v,s),new pl(m[1],v,a,o,g),new pl(m[0],i,a,v,g)),(u=(e>=g)<<1|t>=v)&&(l=f[f.length-1],f[f.length-1]=f[f.length-1-u],f[f.length-1-u]=l)}else{var y=t-+this._x.call(null,m.data),_=e-+this._y.call(null,m.data),b=y*y+_*_;if(b<n){var x=Math.sqrt(n=b);c=t-x,d=e-x,h=t+x,p=e+x,r=m.data}}return r},_l.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,a,o,s,l,u,c,d,h,p=this._root,f=this._x0,m=this._y0,v=this._x1,g=this._y1;if(!p)return this;if(p.length)for(;;){if((u=a>=(s=(f+v)/2))?f=s:v=s,(c=o>=(l=(m+g)/2))?m=l:g=l,e=p,!(p=p[d=c<<1|u]))return this;if(!p.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(n=e,h=d)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[d]=i:delete e[d],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[h]=p:this._root=p),this):(this._root=i,this)},_l.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},_l.root=function(){return this._root},_l.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},_l.visit=function(t){var e,n,r,i,a,o,s=[],l=this._root;for(l&&s.push(new pl(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,a=e.x1,o=e.y1)&&l.length){var u=(r+a)/2,c=(i+o)/2;(n=l[3])&&s.push(new pl(n,u,c,a,o)),(n=l[2])&&s.push(new pl(n,r,c,u,o)),(n=l[1])&&s.push(new pl(n,u,i,a,c)),(n=l[0])&&s.push(new pl(n,r,i,u,c))}return this},_l.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new pl(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var a,o=e.x0,s=e.y0,l=e.x1,u=e.y1,c=(o+l)/2,d=(s+u)/2;(a=i[0])&&n.push(new pl(a,o,s,c,d)),(a=i[1])&&n.push(new pl(a,c,s,l,d)),(a=i[2])&&n.push(new pl(a,o,d,c,u)),(a=i[3])&&n.push(new pl(a,c,d,l,u))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},_l.x=function(t){return arguments.length?(this._x=t,this):this._x},_l.y=function(t){return arguments.length?(this._y=t,this):this._y};var wl=function(t){var e,n,r=1,i=1;function a(){for(var t,a,s,l,u,c,d,h=e.length,p=0;p<i;++p)for(a=vl(e,bl,xl).visitAfter(o),t=0;t<h;++t)s=e[t],c=n[s.index],d=c*c,l=s.x+s.vx,u=s.y+s.vy,a.visit(f);function f(t,e,n,i,a){var o=t.data,h=t.r,p=c+h;if(!o)return e>l+p||i<l-p||n>u+p||a<u-p;if(o.index>s.index){var f=l-o.x-o.vx,m=u-o.y-o.vy,v=f*f+m*m;v<p*p&&(0===f&&(v+=(f=dl())*f),0===m&&(v+=(m=dl())*m),v=(p-(v=Math.sqrt(v)))/v*r,s.vx+=(f*=v)*(p=(h*=h)/(d+h)),s.vy+=(m*=v)*p,o.vx-=f*(p=1-p),o.vy-=m*p)}}}function o(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,i,a=e.length;for(n=new Array(a),r=0;r<a;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!==typeof t&&(t=cl(null==t?1:+t)),a.initialize=function(t){e=t,s()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(r=+t,a):r},a.radius=function(e){return arguments.length?(t="function"===typeof e?e:cl(+e),s(),a):t},a};function Ml(t){return t.index}function Al(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var El=function(t){var e,n,r,i,a,o=Ml,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},l=cl(30),u=1;function c(r){for(var i=0,o=t.length;i<u;++i)for(var s,l,c,d,h,p,f,m=0;m<o;++m)l=(s=t[m]).source,d=(c=s.target).x+c.vx-l.x-l.vx||dl(),h=c.y+c.vy-l.y-l.vy||dl(),d*=p=((p=Math.sqrt(d*d+h*h))-n[m])/p*r*e[m],h*=p,c.vx-=d*(f=a[m]),c.vy-=h*f,l.vx+=d*(f=1-f),l.vy+=h*f}function d(){if(r){var s,l,u=r.length,c=t.length,d=Xo(r,o);for(s=0,i=new Array(u);s<c;++s)(l=t[s]).index=s,"object"!==typeof l.source&&(l.source=Al(d,l.source)),"object"!==typeof l.target&&(l.target=Al(d,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,a=new Array(c);s<c;++s)l=t[s],a[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);e=new Array(c),h(),n=new Array(c),p()}}function h(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),c.initialize=function(t){r=t,d()},c.links=function(e){return arguments.length?(t=e,d(),c):t},c.id=function(t){return arguments.length?(o=t,c):o},c.iterations=function(t){return arguments.length?(u=+t,c):u},c.strength=function(t){return arguments.length?(s="function"===typeof t?t:cl(+t),h(),c):s},c.distance=function(t){return arguments.length?(l="function"===typeof t?t:cl(+t),p(),c):l},c};function Tl(t){return t.x}function Sl(t){return t.y}var Ll=10,kl=Math.PI*(3-Math.sqrt(5)),Cl=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=Xo(),l=di(c),u=mt("tick","end");function c(){d(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function d(r){var l,u,c=t.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(a-n)*i,s.each((function(t){t(n)})),l=0;l<c;++l)null==(u=t[l]).fx?u.x+=u.vx*=o:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=o:(u.y=u.fy,u.vy=0);return e}function h(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=Ll*Math.sqrt(n),a=n*kl;e.x=i*Math.cos(a),e.y=i*Math.sin(a)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),h(),e={tick:d,restart:function(){return l.restart(c),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,h(),s.each(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,a,o,s,l,u=0,c=t.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)(o=(i=e-(s=t[u]).x)*i+(a=n-s.y)*a)<r&&(l=s,r=o);return l},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}},Dl=function(){var t,e,n,r,i=cl(-30),a=1,o=1/0,s=.81;function l(r){var i,a=t.length,o=vl(t,Tl,Sl).visitAfter(c);for(n=r,i=0;i<a;++i)e=t[i],o.visit(d)}function u(){if(t){var e,n,a=t.length;for(r=new Array(a),e=0;e<a;++e)n=t[e],r[n.index]=+i(n,e,t)}}function c(t){var e,n,i,a,o,s=0,l=0;if(t.length){for(i=a=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,i+=n*e.x,a+=n*e.y);t.x=i/l,t.y=a/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function d(t,i,l,u){if(!t.value)return!0;var c=t.x-e.x,d=t.y-e.y,h=u-i,p=c*c+d*d;if(h*h/s<p)return p<o&&(0===c&&(p+=(c=dl())*c),0===d&&(p+=(d=dl())*d),p<a&&(p=Math.sqrt(a*p)),e.vx+=c*t.value*n/p,e.vy+=d*t.value*n/p),!0;if(!(t.length||p>=o)){(t.data!==e||t.next)&&(0===c&&(p+=(c=dl())*c),0===d&&(p+=(d=dl())*d),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(h=r[t.data.index]*n/p,e.vx+=c*h,e.vy+=d*h)}while(t=t.next)}}return l.initialize=function(e){t=e,u()},l.strength=function(t){return arguments.length?(i="function"===typeof t?t:cl(+t),u(),l):i},l.distanceMin=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.distanceMax=function(t){return arguments.length?(o=t*t,l):Math.sqrt(o)},l.theta=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l},Pl=function(t,e,n){var r,i,a,o=cl(.1);function s(t){for(var o=0,s=r.length;o<s;++o){var l=r[o],u=l.x-e||1e-6,c=l.y-n||1e-6,d=Math.sqrt(u*u+c*c),h=(a[o]-d)*i[o]*t/d;l.vx+=u*h,l.vy+=c*h}}function l(){if(r){var e,n=r.length;for(i=new Array(n),a=new Array(n),e=0;e<n;++e)a[e]=+t(r[e],e,r),i[e]=isNaN(a[e])?0:+o(r[e],e,r)}}return"function"!==typeof t&&(t=cl(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,l()},s.strength=function(t){return arguments.length?(o="function"===typeof t?t:cl(+t),l(),s):o},s.radius=function(e){return arguments.length?(t="function"===typeof e?e:cl(+e),l(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s},Rl=function(t){var e,n,r,i=cl(.1);function a(t){for(var i,a=0,o=e.length;a<o;++a)(i=e[a]).vx+=(r[a]-i.x)*n[a]*t}function o(){if(e){var a,o=e.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+t(e[a],a,e))?0:+i(e[a],a,e)}}return"function"!==typeof t&&(t=cl(null==t?0:+t)),a.initialize=function(t){e=t,o()},a.strength=function(t){return arguments.length?(i="function"===typeof t?t:cl(+t),o(),a):i},a.x=function(e){return arguments.length?(t="function"===typeof e?e:cl(+e),o(),a):t},a},Ol=function(t){var e,n,r,i=cl(.1);function a(t){for(var i,a=0,o=e.length;a<o;++a)(i=e[a]).vy+=(r[a]-i.y)*n[a]*t}function o(){if(e){var a,o=e.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+t(e[a],a,e))?0:+i(e[a],a,e)}}return"function"!==typeof t&&(t=cl(null==t?0:+t)),a.initialize=function(t){e=t,o()},a.strength=function(t){return arguments.length?(i="function"===typeof t?t:cl(+t),o(),a):i},a.y=function(e){return arguments.length?(t="function"===typeof e?e:cl(+e),o(),a):t},a},Il=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},Nl=function(t){return(t=Il(Math.abs(t)))?t[1]:NaN},zl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bl(t){if(!(e=zl.exec(t)))throw new Error("invalid format: "+t);var e;return new Fl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Fl(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Bl.prototype=Fl.prototype,Fl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var jl,Hl,Yl,Ul,Gl=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t},Vl=function(t,e){var n=Il(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Wl={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Vl(100*t,e)},r:Vl,s:function(t,e){var n=Il(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(jl=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Il(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},ql=function(t){return t},Xl=Array.prototype.map,Jl=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Zl=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?ql:(e=Xl.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?ql:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Xl.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=Bl(t)).fill,n=t.align,d=t.sign,h=t.symbol,p=t.zero,f=t.width,m=t.comma,v=t.precision,g=t.trim,y=t.type;"n"===y?(m=!0,y="g"):Wl[y]||(void 0===v&&(v=12),g=!0,y="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var _="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?a:/[%p]/.test(y)?l:"",x=Wl[y],w=/[defgprs%]/.test(y);function M(t){var i,a,l,h=_,M=b;if("c"===y)M=x(t)+M,t="";else{var A=(t=+t)<0;if(t=isNaN(t)?c:x(Math.abs(t),v),g&&(t=Gl(t)),A&&0===+t&&(A=!1),h=(A?"("===d?d:u:"-"===d||"("===d?"":d)+h,M=("s"===y?Jl[8+jl/3]:"")+M+(A&&"("===d?")":""),w)for(i=-1,a=t.length;++i<a;)if(48>(l=t.charCodeAt(i))||l>57){M=(46===l?o+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}m&&!p&&(t=r(t,1/0));var E=h.length+t.length+M.length,T=E<f?new Array(f-E+1).join(e):"";switch(m&&p&&(t=r(T+t,T.length?f-M.length:1/0),T=""),n){case"<":t=h+t+M+T;break;case"=":t=h+T+t+M;break;case"^":t=T.slice(0,E=T.length>>1)+h+t+M+T.slice(E);break;default:t=T+h+t+M}return s(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:d,formatPrefix:function(t,e){var n=d(((t=Bl(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Nl(e)/3))),i=Math.pow(10,-r),a=Jl[8+r/3];return function(t){return n(i*t)+a}}}};function Ql(t){return Hl=Zl(t),Yl=Hl.format,Ul=Hl.formatPrefix,Hl}Ql({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Kl=function(t){return Math.max(0,-Nl(Math.abs(t)))},$l=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Nl(e)/3)))-Nl(Math.abs(t)))},tu=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nl(e)-Nl(t))+1},eu=function(){return new nu};function nu(){this.reset()}nu.prototype={constructor:nu,reset:function(){this.s=this.t=0},add:function(t){iu(ru,t,this.t),iu(this,ru.s,this.s),this.s?this.t+=ru.t:this.s=ru.t},valueOf:function(){return this.s}};var ru=new nu;function iu(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var au=1e-6,ou=1e-12,su=Math.PI,lu=su/2,uu=su/4,cu=2*su,du=180/su,hu=su/180,pu=Math.abs,fu=Math.atan,mu=Math.atan2,vu=Math.cos,gu=Math.ceil,yu=Math.exp,_u=(Math.floor,Math.log),bu=Math.pow,xu=Math.sin,wu=Math.sign||function(t){return t>0?1:t<0?-1:0},Mu=Math.sqrt,Au=Math.tan;function Eu(t){return t>1?0:t<-1?su:Math.acos(t)}function Tu(t){return t>1?lu:t<-1?-lu:Math.asin(t)}function Su(t){return(t=xu(t/2))*t}function Lu(){}function ku(t,e){t&&Du.hasOwnProperty(t.type)&&Du[t.type](t,e)}var Cu={Feature:function(t,e){ku(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ku(n[r].geometry,e)}},Du={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Pu(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Pu(n[r],e,0)},Polygon:function(t,e){Ru(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ru(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ku(n[r],e)}};function Pu(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Ru(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Pu(t[n],e,1);e.polygonEnd()}var Ou,Iu,Nu,zu,Bu,Fu=function(t,e){t&&Cu.hasOwnProperty(t.type)?Cu[t.type](t,e):ku(t,e)},ju=eu(),Hu=eu(),Yu={point:Lu,lineStart:Lu,lineEnd:Lu,polygonStart:function(){ju.reset(),Yu.lineStart=Uu,Yu.lineEnd=Gu},polygonEnd:function(){var t=+ju;Hu.add(t<0?cu+t:t),this.lineStart=this.lineEnd=this.point=Lu},sphere:function(){Hu.add(cu)}};function Uu(){Yu.point=Vu}function Gu(){Wu(Ou,Iu)}function Vu(t,e){Yu.point=Wu,Ou=t,Iu=e,Nu=t*=hu,zu=vu(e=(e*=hu)/2+uu),Bu=xu(e)}function Wu(t,e){var n=(t*=hu)-Nu,r=n>=0?1:-1,i=r*n,a=vu(e=(e*=hu)/2+uu),o=xu(e),s=Bu*o,l=zu*a+s*vu(i),u=s*r*xu(i);ju.add(mu(u,l)),Nu=t,zu=a,Bu=o}var qu=function(t){return Hu.reset(),Fu(t,Yu),2*Hu};function Xu(t){return[mu(t[1],t[0]),Tu(t[2])]}function Ju(t){var e=t[0],n=t[1],r=vu(n);return[r*vu(e),r*xu(e),xu(n)]}function Zu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Qu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ku(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function $u(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function tc(t){var e=Mu(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ec,nc,rc,ic,ac,oc,sc,lc,uc,cc,dc=eu(),hc={point:pc,lineStart:mc,lineEnd:vc,polygonStart:function(){hc.point=gc,hc.lineStart=yc,hc.lineEnd=_c,dc.reset(),Yu.polygonStart()},polygonEnd:function(){Yu.polygonEnd(),hc.point=pc,hc.lineStart=mc,hc.lineEnd=vc,ju<0?(ec=-(rc=180),nc=-(ic=90)):dc>au?ic=90:dc<-au&&(nc=-90),cc[0]=ec,cc[1]=rc},sphere:function(){ec=-(rc=180),nc=-(ic=90)}};function pc(t,e){uc.push(cc=[ec=t,rc=t]),e<nc&&(nc=e),e>ic&&(ic=e)}function fc(t,e){var n=Ju([t*hu,e*hu]);if(lc){var r=Qu(lc,n),i=Qu([r[1],-r[0],0],r);tc(i),i=Xu(i);var a,o=t-ac,s=o>0?1:-1,l=i[0]*du*s,u=pu(o)>180;u^(s*ac<l&&l<s*t)?(a=i[1]*du)>ic&&(ic=a):u^(s*ac<(l=(l+360)%360-180)&&l<s*t)?(a=-i[1]*du)<nc&&(nc=a):(e<nc&&(nc=e),e>ic&&(ic=e)),u?t<ac?bc(ec,t)>bc(ec,rc)&&(rc=t):bc(t,rc)>bc(ec,rc)&&(ec=t):rc>=ec?(t<ec&&(ec=t),t>rc&&(rc=t)):t>ac?bc(ec,t)>bc(ec,rc)&&(rc=t):bc(t,rc)>bc(ec,rc)&&(ec=t)}else uc.push(cc=[ec=t,rc=t]);e<nc&&(nc=e),e>ic&&(ic=e),lc=n,ac=t}function mc(){hc.point=fc}function vc(){cc[0]=ec,cc[1]=rc,hc.point=pc,lc=null}function gc(t,e){if(lc){var n=t-ac;dc.add(pu(n)>180?n+(n>0?360:-360):n)}else oc=t,sc=e;Yu.point(t,e),fc(t,e)}function yc(){Yu.lineStart()}function _c(){gc(oc,sc),Yu.lineEnd(),pu(dc)>au&&(ec=-(rc=180)),cc[0]=ec,cc[1]=rc,lc=null}function bc(t,e){return(e-=t)<0?e+360:e}function xc(t,e){return t[0]-e[0]}function wc(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Mc,Ac,Ec,Tc,Sc,Lc,kc,Cc,Dc,Pc,Rc,Oc,Ic,Nc,zc,Bc,Fc=function(t){var e,n,r,i,a,o,s;if(ic=rc=-(ec=nc=1/0),uc=[],Fu(t,hc),n=uc.length){for(uc.sort(xc),e=1,a=[r=uc[0]];e<n;++e)wc(r,(i=uc[e])[0])||wc(r,i[1])?(bc(r[0],i[1])>bc(r[0],r[1])&&(r[1]=i[1]),bc(i[0],r[1])>bc(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,e=0,r=a[n=a.length-1];e<=n;r=i,++e)i=a[e],(s=bc(r[1],i[0]))>o&&(o=s,ec=i[0],rc=r[1])}return uc=cc=null,ec===1/0||nc===1/0?[[NaN,NaN],[NaN,NaN]]:[[ec,nc],[rc,ic]]},jc={sphere:Lu,point:Hc,lineStart:Uc,lineEnd:Wc,polygonStart:function(){jc.lineStart=qc,jc.lineEnd=Xc},polygonEnd:function(){jc.lineStart=Uc,jc.lineEnd=Wc}};function Hc(t,e){t*=hu;var n=vu(e*=hu);Yc(n*vu(t),n*xu(t),xu(e))}function Yc(t,e,n){Ec+=(t-Ec)/++Mc,Tc+=(e-Tc)/Mc,Sc+=(n-Sc)/Mc}function Uc(){jc.point=Gc}function Gc(t,e){t*=hu;var n=vu(e*=hu);Nc=n*vu(t),zc=n*xu(t),Bc=xu(e),jc.point=Vc,Yc(Nc,zc,Bc)}function Vc(t,e){t*=hu;var n=vu(e*=hu),r=n*vu(t),i=n*xu(t),a=xu(e),o=mu(Mu((o=zc*a-Bc*i)*o+(o=Bc*r-Nc*a)*o+(o=Nc*i-zc*r)*o),Nc*r+zc*i+Bc*a);Ac+=o,Lc+=o*(Nc+(Nc=r)),kc+=o*(zc+(zc=i)),Cc+=o*(Bc+(Bc=a)),Yc(Nc,zc,Bc)}function Wc(){jc.point=Hc}function qc(){jc.point=Jc}function Xc(){Zc(Oc,Ic),jc.point=Hc}function Jc(t,e){Oc=t,Ic=e,t*=hu,e*=hu,jc.point=Zc;var n=vu(e);Nc=n*vu(t),zc=n*xu(t),Bc=xu(e),Yc(Nc,zc,Bc)}function Zc(t,e){t*=hu;var n=vu(e*=hu),r=n*vu(t),i=n*xu(t),a=xu(e),o=zc*a-Bc*i,s=Bc*r-Nc*a,l=Nc*i-zc*r,u=Mu(o*o+s*s+l*l),c=Tu(u),d=u&&-c/u;Dc+=d*o,Pc+=d*s,Rc+=d*l,Ac+=c,Lc+=c*(Nc+(Nc=r)),kc+=c*(zc+(zc=i)),Cc+=c*(Bc+(Bc=a)),Yc(Nc,zc,Bc)}var Qc=function(t){Mc=Ac=Ec=Tc=Sc=Lc=kc=Cc=Dc=Pc=Rc=0,Fu(t,jc);var e=Dc,n=Pc,r=Rc,i=e*e+n*n+r*r;return i<ou&&(e=Lc,n=kc,r=Cc,Ac<au&&(e=Ec,n=Tc,r=Sc),(i=e*e+n*n+r*r)<ou)?[NaN,NaN]:[mu(n,e)*du,Tu(r/Mu(i))*du]},Kc=function(t){return function(){return t}},$c=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};function td(t,e){return[pu(t)>su?t+Math.round(-t/cu)*cu:t,e]}function ed(t,e,n){return(t%=cu)?e||n?$c(rd(t),id(e,n)):rd(t):e||n?id(e,n):td}function nd(t){return function(e,n){return[(e+=t)>su?e-cu:e<-su?e+cu:e,n]}}function rd(t){var e=nd(t);return e.invert=nd(-t),e}function id(t,e){var n=vu(t),r=xu(t),i=vu(e),a=xu(e);function o(t,e){var o=vu(e),s=vu(t)*o,l=xu(t)*o,u=xu(e),c=u*n+s*r;return[mu(l*i-c*a,s*n-u*r),Tu(c*i+l*a)]}return o.invert=function(t,e){var o=vu(e),s=vu(t)*o,l=xu(t)*o,u=xu(e),c=u*i-l*a;return[mu(l*i+u*a,s*n+c*r),Tu(c*n-s*r)]},o}td.invert=td;var ad=function(t){function e(e){return(e=t(e[0]*hu,e[1]*hu))[0]*=du,e[1]*=du,e}return t=ed(t[0]*hu,t[1]*hu,t.length>2?t[2]*hu:0),e.invert=function(e){return(e=t.invert(e[0]*hu,e[1]*hu))[0]*=du,e[1]*=du,e},e};function od(t,e,n,r,i,a){if(n){var o=vu(e),s=xu(e),l=r*n;null==i?(i=e+r*cu,a=e-l/2):(i=sd(o,i),a=sd(o,a),(r>0?i<a:i>a)&&(i+=r*cu));for(var u,c=i;r>0?c>a:c<a;c-=l)u=Xu([o,-s*vu(c),-s*xu(c)]),t.point(u[0],u[1])}}function sd(t,e){(e=Ju(e))[0]-=t,tc(e);var n=Eu(-e[1]);return((-e[2]<0?-n:n)+cu-au)%cu}var ld=function(){var t,e,n=Kc([0,0]),r=Kc(90),i=Kc(6),a={point:function(n,r){t.push(n=e(n,r)),n[0]*=du,n[1]*=du}};function o(){var o=n.apply(this,arguments),s=r.apply(this,arguments)*hu,l=i.apply(this,arguments)*hu;return t=[],e=ed(-o[0]*hu,-o[1]*hu,0).invert,od(a,s,l,1),o={type:"Polygon",coordinates:[t]},t=e=null,o}return o.center=function(t){return arguments.length?(n="function"===typeof t?t:Kc([+t[0],+t[1]]),o):n},o.radius=function(t){return arguments.length?(r="function"===typeof t?t:Kc(+t),o):r},o.precision=function(t){return arguments.length?(i="function"===typeof t?t:Kc(+t),o):i},o},ud=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Lu,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},cd=function(t,e){return pu(t[0]-e[0])<au&&pu(t[1]-e[1])<au};function dd(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var hd=function(t,e,n,r,i){var a,o,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if(cd(r,o)){for(i.lineStart(),a=0;a<e;++a)i.point((r=t[a])[0],r[1]);i.lineEnd()}else s.push(n=new dd(r,t,null,!0)),l.push(n.o=new dd(r,null,n,!1)),s.push(n=new dd(o,t,null,!1)),l.push(n.o=new dd(o,null,n,!0))}})),s.length){for(l.sort(e),pd(s),pd(l),a=0,o=l.length;a<o;++a)l[a].e=n=!n;for(var u,c,d=s[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,o=u.length;a<o;++a)i.point((c=u[a])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,a=u.length-1;a>=0;--a)i.point((c=u[a])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}u=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}};function pd(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var fd=eu();function md(t){return pu(t[0])<=su?t[0]:wu(t[0])*((pu(t[0])+su)%cu-su)}var vd=function(t,e){var n=md(e),r=e[1],i=xu(r),a=[xu(n),-vu(n),0],o=0,s=0;fd.reset(),1===i?r=lu+au:-1===i&&(r=-lu-au);for(var l=0,u=t.length;l<u;++l)if(d=(c=t[l]).length)for(var c,d,h=c[d-1],p=md(h),f=h[1]/2+uu,m=xu(f),v=vu(f),g=0;g<d;++g,p=_,m=x,v=w,h=y){var y=c[g],_=md(y),b=y[1]/2+uu,x=xu(b),w=vu(b),M=_-p,A=M>=0?1:-1,E=A*M,T=E>su,S=m*x;if(fd.add(mu(S*A*xu(E),v*w+S*vu(E))),o+=T?M+A*cu:M,T^p>=n^_>=n){var L=Qu(Ju(h),Ju(y));tc(L);var k=Qu(a,L);tc(k);var C=(T^M>=0?-1:1)*Tu(k[2]);(r>C||r===C&&(L[0]||L[1]))&&(s+=T^M>=0?1:-1)}}return(o<-au||o<au&&fd<-au)^1&s},gd=function(t,e,n,r){return function(i){var a,o,s,l=e(i),u=ud(),c=e(u),d=!1,h={point:p,lineStart:m,lineEnd:v,polygonStart:function(){h.point=g,h.lineStart=y,h.lineEnd=_,o=[],a=[]},polygonEnd:function(){h.point=p,h.lineStart=m,h.lineEnd=v,o=z(o);var t=vd(a,r);o.length?(d||(i.polygonStart(),d=!0),hd(o,_d,t,n,i)):t&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(e,n){t(e,n)&&i.point(e,n)}function f(t,e){l.point(t,e)}function m(){h.point=f,l.lineStart()}function v(){h.point=p,l.lineEnd()}function g(t,e){s.push([t,e]),c.point(t,e)}function y(){c.lineStart(),s=[]}function _(){g(s[0][0],s[0][1]),c.lineEnd();var t,e,n,r,l=c.clean(),h=u.result(),p=h.length;if(s.pop(),a.push(s),s=null,p)if(1&l){if((e=(n=h[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else p>1&&2&l&&h.push(h.pop().concat(h.shift())),o.push(h.filter(yd))}return h}};function yd(t){return t.length>1}function _d(t,e){return((t=t.x)[0]<0?t[1]-lu-au:lu-t[1])-((e=e.x)[0]<0?e[1]-lu-au:lu-e[1])}var bd=gd((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?su:-su,l=pu(a-n);pu(l-su)<au?(t.point(n,r=(r+o)/2>0?lu:-lu),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&l>=su&&(pu(n-i)<au&&(n-=i*au),pu(a-s)<au&&(a-=s*au),r=function(t,e,n,r){var i,a,o=xu(t-n);return pu(o)>au?fu((xu(e)*(a=vu(r))*xu(n)-xu(r)*(i=vu(e))*xu(t))/(i*a*o)):(e+r)/2}(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*lu,r.point(-su,i),r.point(0,i),r.point(su,i),r.point(su,0),r.point(su,-i),r.point(0,-i),r.point(-su,-i),r.point(-su,0),r.point(-su,i);else if(pu(t[0]-e[0])>au){var a=t[0]<e[0]?su:-su;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}),[-su,-lu]);var xd=function(t){var e=vu(t),n=6*hu,r=e>0,i=pu(e)>au;function a(t,n){return vu(t)*vu(n)>e}function o(t,n,r){var i=[1,0,0],a=Qu(Ju(t),Ju(n)),o=Zu(a,a),s=a[0],l=o-s*s;if(!l)return!r&&t;var u=e*o/l,c=-e*s/l,d=Qu(i,a),h=$u(i,u);Ku(h,$u(a,c));var p=d,f=Zu(h,p),m=Zu(p,p),v=f*f-m*(Zu(h,h)-1);if(!(v<0)){var g=Mu(v),y=$u(p,(-f-g)/m);if(Ku(y,h),y=Xu(y),!r)return y;var _,b=t[0],x=n[0],w=t[1],M=n[1];x<b&&(_=b,b=x,x=_);var A=x-b,E=pu(A-su)<au;if(!E&&M<w&&(_=w,w=M,M=_),E||A<au?E?w+M>0^y[1]<(pu(y[0]-b)<au?w:M):w<=y[1]&&y[1]<=M:A>su^(b<=y[0]&&y[0]<=x)){var T=$u(p,(-f+g)/m);return Ku(T,h),[y,Xu(T)]}}}function s(e,n){var i=r?t:su-t,a=0;return e<-i?a|=1:e>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return gd(a,(function(t){var e,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,h){var p,f=[d,h],m=a(d,h),v=r?m?0:s(d,h):m?s(d+(d<0?su:-su),h):0;if(!e&&(u=l=m)&&t.lineStart(),m!==l&&(!(p=o(e,f))||cd(e,p)||cd(f,p))&&(f[0]+=au,f[1]+=au,m=a(f[0],f[1])),m!==l)c=0,m?(t.lineStart(),p=o(f,e),t.point(p[0],p[1])):(p=o(e,f),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(i&&e&&r^m){var g;v&n||!(g=o(f,e,!0))||(c=0,r?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!m||e&&cd(e,f)||t.point(f[0],f[1]),e=f,l=m,n=v},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}}),(function(e,r,i,a){od(a,t,n,i,e,r)}),r?[0,-t]:[-su,t-su])},wd=function(t,e,n,r,i,a){var o,s=t[0],l=t[1],u=0,c=1,d=e[0]-s,h=e[1]-l;if(o=n-s,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<c&&(c=o)}else if(d>0){if(o>c)return;o>u&&(u=o)}if(o=i-s,d||!(o<0)){if(o/=d,d<0){if(o>c)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<c&&(c=o)}if(o=r-l,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<c&&(c=o)}else if(h>0){if(o>c)return;o>u&&(u=o)}if(o=a-l,h||!(o<0)){if(o/=h,h<0){if(o>c)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<c&&(c=o)}return u>0&&(t[0]=s+u*d,t[1]=l+u*h),c<1&&(e[0]=s+c*d,e[1]=l+c*h),!0}}}}},Md=1e9,Ad=-Md;function Ed(t,e,n,r){function i(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function a(i,a,s,u){var c=0,d=0;if(null==i||(c=o(i,s))!==(d=o(a,s))||l(i,a)<0^s>0)do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==d);else u.point(a[0],a[1])}function o(r,i){return pu(r[0]-t)<au?i>0?0:3:pu(r[0]-n)<au?i>0?2:1:pu(r[1]-e)<au?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){var l,u,c,d,h,p,f,m,v,g,y,_=o,b=ud(),x={point:w,lineStart:function(){x.point=M,u&&u.push(c=[]);g=!0,v=!1,f=m=NaN},lineEnd:function(){l&&(M(d,h),p&&v&&b.rejoin(),l.push(b.result()));x.point=w,v&&_.lineEnd()},polygonStart:function(){_=b,l=[],u=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=u.length;n<i;++n)for(var a,o,s=u[n],l=1,c=s.length,d=s[0],h=d[0],p=d[1];l<c;++l)a=h,o=p,d=s[l],h=d[0],p=d[1],o<=r?p>r&&(h-a)*(r-o)>(p-o)*(t-a)&&++e:p<=r&&(h-a)*(r-o)<(p-o)*(t-a)&&--e;return e}(),n=y&&e,i=(l=z(l)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&hd(l,s,e,a,o),o.polygonEnd());_=o,l=u=c=null}};function w(t,e){i(t,e)&&_.point(t,e)}function M(a,o){var s=i(a,o);if(u&&c.push([a,o]),g)d=a,h=o,p=s,g=!1,s&&(_.lineStart(),_.point(a,o));else if(s&&v)_.point(a,o);else{var l=[f=Math.max(Ad,Math.min(Md,f)),m=Math.max(Ad,Math.min(Md,m))],b=[a=Math.max(Ad,Math.min(Md,a)),o=Math.max(Ad,Math.min(Md,o))];wd(l,b,t,e,n,r)?(v||(_.lineStart(),_.point(l[0],l[1])),_.point(b[0],b[1]),s||_.lineEnd(),y=!1):s&&(_.lineStart(),_.point(a,o),y=!1)}f=a,m=o,v=s}return x}}var Td,Sd,Ld,kd=function(){var t,e,n,r=0,i=0,a=960,o=500;return n={stream:function(n){return t&&e===n?t:t=Ed(r,i,a,o)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],a=+s[1][0],o=+s[1][1],t=e=null,n):[[r,i],[a,o]]}}},Cd=eu(),Dd={sphere:Lu,point:Lu,lineStart:function(){Dd.point=Rd,Dd.lineEnd=Pd},lineEnd:Lu,polygonStart:Lu,polygonEnd:Lu};function Pd(){Dd.point=Dd.lineEnd=Lu}function Rd(t,e){Td=t*=hu,Sd=xu(e*=hu),Ld=vu(e),Dd.point=Od}function Od(t,e){t*=hu;var n=xu(e*=hu),r=vu(e),i=pu(t-Td),a=vu(i),o=r*xu(i),s=Ld*n-Sd*r*a,l=Sd*n+Ld*r*a;Cd.add(mu(Mu(o*o+s*s),l)),Td=t,Sd=n,Ld=r}var Id=function(t){return Cd.reset(),Fu(t,Dd),+Cd},Nd=[null,null],zd={type:"LineString",coordinates:Nd},Bd=function(t,e){return Nd[0]=t,Nd[1]=e,Id(zd)},Fd={Feature:function(t,e){return Hd(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Hd(n[r].geometry,e))return!0;return!1}},jd={Sphere:function(){return!0},Point:function(t,e){return Yd(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Yd(n[r],e))return!0;return!1},LineString:function(t,e){return Ud(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ud(n[r],e))return!0;return!1},Polygon:function(t,e){return Gd(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Gd(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Hd(n[r],e))return!0;return!1}};function Hd(t,e){return!(!t||!jd.hasOwnProperty(t.type))&&jd[t.type](t,e)}function Yd(t,e){return 0===Bd(t,e)}function Ud(t,e){for(var n,r,i,a=0,o=t.length;a<o;a++){if(0===(r=Bd(t[a],e)))return!0;if(a>0&&(i=Bd(t[a],t[a-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<ou*i)return!0;n=r}return!1}function Gd(t,e){return!!vd(t.map(Vd),Wd(e))}function Vd(t){return(t=t.map(Wd)).pop(),t}function Wd(t){return[t[0]*hu,t[1]*hu]}var qd=function(t,e){return(t&&Fd.hasOwnProperty(t.type)?Fd[t.type]:Hd)(t,e)};function Xd(t,e,n){var r=w(t,e-au,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Jd(t,e,n){var r=w(t,e-au,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Zd(){var t,e,n,r,i,a,o,s,l,u,c,d,h=10,p=h,f=90,m=360,v=2.5;function g(){return{type:"MultiLineString",coordinates:y()}}function y(){return w(gu(r/f)*f,n,f).map(c).concat(w(gu(s/m)*m,o,m).map(d)).concat(w(gu(e/h)*h,t,h).filter((function(t){return pu(t%f)>au})).map(l)).concat(w(gu(a/p)*p,i,p).filter((function(t){return pu(t%m)>au})).map(u))}return g.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},g.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(d(o).slice(1),c(n).reverse().slice(1),d(s).reverse().slice(1))]}},g.extent=function(t){return arguments.length?g.extentMajor(t).extentMinor(t):g.extentMinor()},g.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),s>o&&(t=s,s=o,o=t),g.precision(v)):[[r,s],[n,o]]},g.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),g.precision(v)):[[e,a],[t,i]]},g.step=function(t){return arguments.length?g.stepMajor(t).stepMinor(t):g.stepMinor()},g.stepMajor=function(t){return arguments.length?(f=+t[0],m=+t[1],g):[f,m]},g.stepMinor=function(t){return arguments.length?(h=+t[0],p=+t[1],g):[h,p]},g.precision=function(h){return arguments.length?(v=+h,l=Xd(a,i,90),u=Jd(e,t,v),c=Xd(s,o,90),d=Jd(r,n,v),g):v},g.extentMajor([[-180,-90+au],[180,90-au]]).extentMinor([[-180,-80-au],[180,80+au]])}function Qd(){return Zd()()}var Kd,$d,th,eh,nh=function(t,e){var n=t[0]*hu,r=t[1]*hu,i=e[0]*hu,a=e[1]*hu,o=vu(r),s=xu(r),l=vu(a),u=xu(a),c=o*vu(n),d=o*xu(n),h=l*vu(i),p=l*xu(i),f=2*Tu(Mu(Su(a-r)+o*l*Su(i-n))),m=xu(f),v=f?function(t){var e=xu(t*=f)/m,n=xu(f-t)/m,r=n*c+e*h,i=n*d+e*p,a=n*s+e*u;return[mu(i,r)*du,mu(a,Mu(r*r+i*i))*du]}:function(){return[n*du,r*du]};return v.distance=f,v},rh=function(t){return t},ih=eu(),ah=eu(),oh={point:Lu,lineStart:Lu,lineEnd:Lu,polygonStart:function(){oh.lineStart=sh,oh.lineEnd=ch},polygonEnd:function(){oh.lineStart=oh.lineEnd=oh.point=Lu,ih.add(pu(ah)),ah.reset()},result:function(){var t=ih/2;return ih.reset(),t}};function sh(){oh.point=lh}function lh(t,e){oh.point=uh,Kd=th=t,$d=eh=e}function uh(t,e){ah.add(eh*t-th*e),th=t,eh=e}function ch(){uh(Kd,$d)}var dh=oh,hh=1/0,ph=hh,fh=-hh,mh=fh;var vh,gh,yh,_h,bh={point:function(t,e){t<hh&&(hh=t);t>fh&&(fh=t);e<ph&&(ph=e);e>mh&&(mh=e)},lineStart:Lu,lineEnd:Lu,polygonStart:Lu,polygonEnd:Lu,result:function(){var t=[[hh,ph],[fh,mh]];return fh=mh=-(ph=hh=1/0),t}},xh=0,wh=0,Mh=0,Ah=0,Eh=0,Th=0,Sh=0,Lh=0,kh=0,Ch={point:Dh,lineStart:Ph,lineEnd:Ih,polygonStart:function(){Ch.lineStart=Nh,Ch.lineEnd=zh},polygonEnd:function(){Ch.point=Dh,Ch.lineStart=Ph,Ch.lineEnd=Ih},result:function(){var t=kh?[Sh/kh,Lh/kh]:Th?[Ah/Th,Eh/Th]:Mh?[xh/Mh,wh/Mh]:[NaN,NaN];return xh=wh=Mh=Ah=Eh=Th=Sh=Lh=kh=0,t}};function Dh(t,e){xh+=t,wh+=e,++Mh}function Ph(){Ch.point=Rh}function Rh(t,e){Ch.point=Oh,Dh(yh=t,_h=e)}function Oh(t,e){var n=t-yh,r=e-_h,i=Mu(n*n+r*r);Ah+=i*(yh+t)/2,Eh+=i*(_h+e)/2,Th+=i,Dh(yh=t,_h=e)}function Ih(){Ch.point=Dh}function Nh(){Ch.point=Bh}function zh(){Fh(vh,gh)}function Bh(t,e){Ch.point=Fh,Dh(vh=yh=t,gh=_h=e)}function Fh(t,e){var n=t-yh,r=e-_h,i=Mu(n*n+r*r);Ah+=i*(yh+t)/2,Eh+=i*(_h+e)/2,Th+=i,Sh+=(i=_h*t-yh*e)*(yh+t),Lh+=i*(_h+e),kh+=3*i,Dh(yh=t,_h=e)}var jh=Ch;function Hh(t){this._context=t}Hh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,cu)}},result:Lu};var Yh,Uh,Gh,Vh,Wh,qh=eu(),Xh={point:Lu,lineStart:function(){Xh.point=Jh},lineEnd:function(){Yh&&Zh(Uh,Gh),Xh.point=Lu},polygonStart:function(){Yh=!0},polygonEnd:function(){Yh=null},result:function(){var t=+qh;return qh.reset(),t}};function Jh(t,e){Xh.point=Zh,Uh=Vh=t,Gh=Wh=e}function Zh(t,e){Vh-=t,Wh-=e,qh.add(Mu(Vh*Vh+Wh*Wh)),Vh=t,Wh=e}var Qh=Xh;function Kh(){this._string=[]}function $h(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Kh.prototype={_radius:4.5,_circle:$h(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=$h(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var tp=function(t,e){var n,r,i=4.5;function a(t){return t&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),Fu(t,n(r))),r.result()}return a.area=function(t){return Fu(t,n(dh)),dh.result()},a.measure=function(t){return Fu(t,n(Qh)),Qh.result()},a.bounds=function(t){return Fu(t,n(bh)),bh.result()},a.centroid=function(t){return Fu(t,n(jh)),jh.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,rh):(t=e).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(e=null,new Kh):new Hh(e=t),"function"!==typeof i&&r.pointRadius(i),a):e},a.pointRadius=function(t){return arguments.length?(i="function"===typeof t?t:(r.pointRadius(+t),+t),a):i},a.projection(t).context(e)},ep=function(t){return{stream:np(t)}};function np(t){return function(e){var n=new rp;for(var r in t)n[r]=t[r];return n.stream=e,n}}function rp(){}function ip(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Fu(n,t.stream(bh)),e(bh.result()),null!=r&&t.clipExtent(r),t}function ap(t,e,n){return ip(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+e[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([o,s])}),n)}function op(t,e,n){return ap(t,[[0,0],e],n)}function sp(t,e,n){return ip(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];t.scale(150*i).translate([a,o])}),n)}function lp(t,e,n){return ip(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,o])}),n)}rp.prototype={constructor:rp,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var up=16,cp=vu(30*hu),dp=function(t,e){return+e?function(t,e){function n(r,i,a,o,s,l,u,c,d,h,p,f,m,v){var g=u-r,y=c-i,_=g*g+y*y;if(_>4*e&&m--){var b=o+h,x=s+p,w=l+f,M=Mu(b*b+x*x+w*w),A=Tu(w/=M),E=pu(pu(w)-1)<au||pu(a-d)<au?(a+d)/2:mu(x,b),T=t(E,A),S=T[0],L=T[1],k=S-r,C=L-i,D=y*k-g*C;(D*D/_>e||pu((g*k+y*C)/_-.5)>.3||o*h+s*p+l*f<cp)&&(n(r,i,a,o,s,l,S,L,E,b/=M,x/=M,w,m,v),v.point(S,L),n(S,L,E,b,x,w,u,c,d,h,p,f,m,v))}}return function(e){var r,i,a,o,s,l,u,c,d,h,p,f,m={point:v,lineStart:g,lineEnd:_,polygonStart:function(){e.polygonStart(),m.lineStart=b},polygonEnd:function(){e.polygonEnd(),m.lineStart=g}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function g(){c=NaN,m.point=y,e.lineStart()}function y(r,i){var a=Ju([r,i]),o=t(r,i);n(c,d,u,h,p,f,c=o[0],d=o[1],u=r,h=a[0],p=a[1],f=a[2],up,e),e.point(c,d)}function _(){m.point=v,e.lineEnd()}function b(){g(),m.point=x,m.lineEnd=w}function x(t,e){y(r=t,e),i=c,a=d,o=h,s=p,l=f,m.point=y}function w(){n(c,d,u,h,p,f,i,a,r,o,s,l,up,e),m.lineEnd=_,_()}return m}}(t,e):function(t){return np({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var hp=np({point:function(t,e){this.stream.point(t*hu,e*hu)}});function pp(t,e,n){function r(r,i){return[e+t*r,n-t*i]}return r.invert=function(r,i){return[(r-e)/t,(n-i)/t]},r}function fp(t,e,n,r){var i=vu(r),a=xu(r),o=i*t,s=a*t,l=i/t,u=a/t,c=(a*n-i*e)/t,d=(a*e+i*n)/t;function h(t,r){return[o*t-s*r+e,n-s*t-o*r]}return h.invert=function(t,e){return[l*t-u*e+c,d-u*t-l*e]},h}function mp(t){return vp((function(){return t}))()}function vp(t){var e,n,r,i,a,o,s,l,u,c,d=150,h=480,p=250,f=0,m=0,v=0,g=0,y=0,_=0,b=null,x=bd,w=null,M=rh,A=.5;function E(t){return l(t[0]*hu,t[1]*hu)}function T(t){return(t=l.invert(t[0],t[1]))&&[t[0]*du,t[1]*du]}function S(){var t=fp(d,0,0,_).apply(null,e(f,m)),r=(_?fp:pp)(d,h-t[0],p-t[1],_);return n=ed(v,g,y),s=$c(e,r),l=$c(n,s),o=dp(s,A),L()}function L(){return u=c=null,E}return E.stream=function(t){return u&&c===t?u:u=hp(function(t){return np({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(x(o(M(c=t)))))},E.preclip=function(t){return arguments.length?(x=t,b=void 0,L()):x},E.postclip=function(t){return arguments.length?(M=t,w=r=i=a=null,L()):M},E.clipAngle=function(t){return arguments.length?(x=+t?xd(b=t*hu):(b=null,bd),L()):b*du},E.clipExtent=function(t){return arguments.length?(M=null==t?(w=r=i=a=null,rh):Ed(w=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),L()):null==w?null:[[w,r],[i,a]]},E.scale=function(t){return arguments.length?(d=+t,S()):d},E.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],S()):[h,p]},E.center=function(t){return arguments.length?(f=t[0]%360*hu,m=t[1]%360*hu,S()):[f*du,m*du]},E.rotate=function(t){return arguments.length?(v=t[0]%360*hu,g=t[1]%360*hu,y=t.length>2?t[2]%360*hu:0,S()):[v*du,g*du,y*du]},E.angle=function(t){return arguments.length?(_=t%360*hu,S()):_*du},E.precision=function(t){return arguments.length?(o=dp(s,A=t*t),L()):Mu(A)},E.fitExtent=function(t,e){return ap(E,t,e)},E.fitSize=function(t,e){return op(E,t,e)},E.fitWidth=function(t,e){return sp(E,t,e)},E.fitHeight=function(t,e){return lp(E,t,e)},function(){return e=t.apply(this,arguments),E.invert=e.invert&&T,S()}}function gp(t){var e=0,n=su/3,r=vp(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*hu,n=t[1]*hu):[e*du,n*du]},i}function yp(t,e){var n=xu(t),r=(n+xu(e))/2;if(pu(r)<au)return function(t){var e=vu(t);function n(t,n){return[t*e,xu(n)/e]}return n.invert=function(t,n){return[t/e,Tu(n*e)]},n}(t);var i=1+n*(2*r-n),a=Mu(i)/r;function o(t,e){var n=Mu(i-2*r*xu(e))/r;return[n*xu(t*=r),a-n*vu(t)]}return o.invert=function(t,e){var n=a-e;return[mu(t,pu(n))/r*wu(n),Tu((i-(t*t+n*n)*r*r)/(2*r))]},o}var _p=function(){return gp(yp).scale(155.424).center([0,33.6442])},bp=function(){return _p().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var xp=function(){var t,e,n,r,i,a,o=bp(),s=_p().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=_p().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,e){a=[t,e]}};function c(t){var e=t[0],o=t[1];return a=null,n.point(e,o),a||(r.point(e,o),a)||(i.point(e,o),a)}function d(){return t=e=null,c}return c.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:o).invert(t)},c.stream=function(n){return t&&e===n?t:t=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([o.stream(e=n),s.stream(n),l.stream(n)])},c.precision=function(t){return arguments.length?(o.precision(t),s.precision(t),l.precision(t),d()):o.precision()},c.scale=function(t){return arguments.length?(o.scale(t),s.scale(.35*t),l.scale(t),c.translate(o.translate())):o.scale()},c.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),a=+t[0],c=+t[1];return n=o.translate(t).clipExtent([[a-.455*e,c-.238*e],[a+.455*e,c+.238*e]]).stream(u),r=s.translate([a-.307*e,c+.201*e]).clipExtent([[a-.425*e+au,c+.12*e+au],[a-.214*e-au,c+.234*e-au]]).stream(u),i=l.translate([a-.205*e,c+.212*e]).clipExtent([[a-.214*e+au,c+.166*e+au],[a-.115*e-au,c+.234*e-au]]).stream(u),d()},c.fitExtent=function(t,e){return ap(c,t,e)},c.fitSize=function(t,e){return op(c,t,e)},c.fitWidth=function(t,e){return sp(c,t,e)},c.fitHeight=function(t,e){return lp(c,t,e)},c.scale(1070)};function wp(t){return function(e,n){var r=vu(e),i=vu(n),a=t(r*i);return[a*i*xu(e),a*xu(n)]}}function Mp(t){return function(e,n){var r=Mu(e*e+n*n),i=t(r),a=xu(i),o=vu(i);return[mu(e*a,r*o),Tu(r&&n*a/r)]}}var Ap=wp((function(t){return Mu(2/(1+t))}));Ap.invert=Mp((function(t){return 2*Tu(t/2)}));var Ep=function(){return mp(Ap).scale(124.75).clipAngle(179.999)},Tp=wp((function(t){return(t=Eu(t))&&t/xu(t)}));Tp.invert=Mp((function(t){return t}));var Sp=function(){return mp(Tp).scale(79.4188).clipAngle(179.999)};function Lp(t,e){return[t,_u(Au((lu+e)/2))]}Lp.invert=function(t,e){return[t,2*fu(yu(e))-lu]};var kp=function(){return Cp(Lp).scale(961/cu)};function Cp(t){var e,n,r,i=mp(t),a=i.center,o=i.scale,s=i.translate,l=i.clipExtent,u=null;function c(){var a=su*o(),s=i(ad(i.rotate()).invert([0,0]));return l(null==u?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:t===Lp?[[Math.max(s[0]-a,u),e],[Math.min(s[0]+a,n),r]]:[[u,Math.max(s[1]-a,e)],[n,Math.min(s[1]+a,r)]])}return i.scale=function(t){return arguments.length?(o(t),c()):o()},i.translate=function(t){return arguments.length?(s(t),c()):s()},i.center=function(t){return arguments.length?(a(t),c()):a()},i.clipExtent=function(t){return arguments.length?(null==t?u=e=n=r=null:(u=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),c()):null==u?null:[[u,e],[n,r]]},c()}function Dp(t){return Au((lu+t)/2)}function Pp(t,e){var n=vu(t),r=t===e?xu(t):_u(n/vu(e))/_u(Dp(e)/Dp(t)),i=n*bu(Dp(t),r)/r;if(!r)return Lp;function a(t,e){i>0?e<-lu+au&&(e=-lu+au):e>lu-au&&(e=lu-au);var n=i/bu(Dp(e),r);return[n*xu(r*t),i-n*vu(r*t)]}return a.invert=function(t,e){var n=i-e,a=wu(r)*Mu(t*t+n*n);return[mu(t,pu(n))/r*wu(n),2*fu(bu(i/a,1/r))-lu]},a}var Rp=function(){return gp(Pp).scale(109.5).parallels([30,30])};function Op(t,e){return[t,e]}Op.invert=Op;var Ip=function(){return mp(Op).scale(152.63)};function Np(t,e){var n=vu(t),r=t===e?xu(t):(n-vu(e))/(e-t),i=n/r+t;if(pu(r)<au)return Op;function a(t,e){var n=i-e,a=r*t;return[n*xu(a),i-n*vu(a)]}return a.invert=function(t,e){var n=i-e;return[mu(t,pu(n))/r*wu(n),i-wu(r)*Mu(t*t+n*n)]},a}var zp=function(){return gp(Np).scale(131.154).center([0,13.9389])},Bp=1.340264,Fp=-.081106,jp=893e-6,Hp=.003796,Yp=Mu(3)/2;function Up(t,e){var n=Tu(Yp*xu(e)),r=n*n,i=r*r*r;return[t*vu(n)/(Yp*(Bp+3*Fp*r+i*(7*jp+9*Hp*r))),n*(Bp+Fp*r+i*(jp+Hp*r))]}Up.invert=function(t,e){for(var n,r=e,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=n=(r*(Bp+Fp*i+a*(jp+Hp*i))-e)/(Bp+3*Fp*i+a*(7*jp+9*Hp*i)))*r)*i*i,!(pu(n)<ou));++o);return[Yp*t*(Bp+3*Fp*i+a*(7*jp+9*Hp*i))/vu(r),Tu(xu(r)/Yp)]};var Gp=function(){return mp(Up).scale(177.158)};function Vp(t,e){var n=vu(e),r=vu(t)*n;return[n*xu(t)/r,xu(e)/r]}Vp.invert=Mp(fu);var Wp=function(){return mp(Vp).scale(144.049).clipAngle(60)};function qp(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?rh:np({point:function(i,a){this.stream.point(i*t+n,a*e+r)}})}var Xp=function(){var t,e,n,r,i,a,o=1,s=0,l=0,u=1,c=1,d=rh,h=null,p=rh;function f(){return r=i=null,a}return a={stream:function(t){return r&&i===t?r:r=d(p(i=t))},postclip:function(r){return arguments.length?(p=r,h=t=e=n=null,f()):p},clipExtent:function(r){return arguments.length?(p=null==r?(h=t=e=n=null,rh):Ed(h=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),f()):null==h?null:[[h,t],[e,n]]},scale:function(t){return arguments.length?(d=qp((o=+t)*u,o*c,s,l),f()):o},translate:function(t){return arguments.length?(d=qp(o*u,o*c,s=+t[0],l=+t[1]),f()):[s,l]},reflectX:function(t){return arguments.length?(d=qp(o*(u=t?-1:1),o*c,s,l),f()):u<0},reflectY:function(t){return arguments.length?(d=qp(o*u,o*(c=t?-1:1),s,l),f()):c<0},fitExtent:function(t,e){return ap(a,t,e)},fitSize:function(t,e){return op(a,t,e)},fitWidth:function(t,e){return sp(a,t,e)},fitHeight:function(t,e){return lp(a,t,e)}}};function Jp(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Jp.invert=function(t,e){var n,r=e,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-e)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(pu(n)>au&&--i>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]};var Zp=function(){return mp(Jp).scale(175.295)};function Qp(t,e){return[vu(e)*xu(t),xu(e)]}Qp.invert=Mp(Tu);var Kp=function(){return mp(Qp).scale(249.5).clipAngle(90+au)};function $p(t,e){var n=vu(e),r=1+vu(t)*n;return[n*xu(t)/r,xu(e)/r]}$p.invert=Mp((function(t){return 2*fu(t)}));var tf=function(){return mp($p).scale(250).clipAngle(142)};function ef(t,e){return[_u(Au((lu+e)/2)),-t]}ef.invert=function(t,e){return[-e,2*fu(yu(t))-lu]};var nf=function(){var t=Cp(ef),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};function rf(t,e){return t.parent===e.parent?1:2}function af(t,e){return t+e.x}function of(t,e){return Math.max(t,e.y)}var sf=function(){var t=rf,e=1,n=1,r=!1;function i(i){var a,o=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(af,0)/t.length}(n),e.y=function(t){return 1+t.reduce(of,0)}(n)):(e.x=a?o+=t(e,a):0,e.y=0,a=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),u=s.x-t(s,l)/2,c=l.x+t(l,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-u)/(c-u)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i};function lf(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function uf(t,e){var n,r,i,a,o,s=new pf(t),l=+t.value&&(s.value=t.value),u=[s];for(null==e&&(e=cf);n=u.pop();)if(l&&(n.value=+n.data.value),(i=e(n.data))&&(o=i.length))for(n.children=new Array(o),a=o-1;a>=0;--a)u.push(r=n.children[a]=new pf(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(hf)}function cf(t){return t.children}function df(t){t.data=t.data.data}function hf(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function pf(t){this.data=t,this.depth=this.height=0,this.parent=null}pf.prototype=uf.prototype={constructor:pf,count:function(){return this.eachAfter(lf)},each:function(t){var e,n,r,i,a=this,o=[a];do{for(e=o.reverse(),o=[];a=e.pop();)if(t(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this},eachAfter:function(t){for(var e,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)a.push(e[n]);for(;i=o.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return uf(this).eachBefore(df)}};var ff=Array.prototype.slice;var mf=function(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(ff.call(t))).length,a=[];r<i;)e=t[r],n&&yf(n,e)?++r:(n=bf(a=vf(a,e)),r=0);return n};function vf(t,e){var n,r;if(_f(e,t))return[e];for(n=0;n<t.length;++n)if(gf(e,t[n])&&_f(xf(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(gf(xf(t[n],t[r]),e)&&gf(xf(t[n],e),t[r])&&gf(xf(t[r],e),t[n])&&_f(wf(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function gf(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function yf(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function _f(t,e){for(var n=0;n<e.length;++n)if(!yf(t,e[n]))return!1;return!0}function bf(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return xf(t[0],t[1]);case 3:return wf(t[0],t[1],t[2])}var e}function xf(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,l=a-n,u=o-r,c=s-i,d=Math.sqrt(l*l+u*u);return{x:(n+a+l/d*c)/2,y:(r+o+u/d*c)/2,r:(d+i+s)/2}}function wf(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,l=e.r,u=n.x,c=n.y,d=n.r,h=r-o,p=r-u,f=i-s,m=i-c,v=l-a,g=d-a,y=r*r+i*i-a*a,_=y-o*o-s*s+l*l,b=y-u*u-c*c+d*d,x=p*f-h*m,w=(f*b-m*_)/(2*x)-r,M=(m*v-f*g)/x,A=(p*_-h*b)/(2*x)-i,E=(h*g-p*v)/x,T=M*M+E*E-1,S=2*(a+w*M+A*E),L=w*w+A*A-a*a,k=-(T?(S+Math.sqrt(S*S-4*T*L))/(2*T):L/S);return{x:r+w+M*k,y:i+A+E*k,r:k}}function Mf(t,e,n){var r,i,a,o,s=t.x-e.x,l=t.y-e.y,u=s*s+l*l;u?(i=e.r+n.r,i*=i,o=t.r+n.r,i>(o*=o)?(r=(u+o-i)/(2*u),a=Math.sqrt(Math.max(0,o/u-r*r)),n.x=t.x-r*s-a*l,n.y=t.y-r*l+a*s):(r=(u+i-o)/(2*u),a=Math.sqrt(Math.max(0,i/u-r*r)),n.x=e.x+r*s-a*l,n.y=e.y+r*l+a*s)):(n.x=e.x+n.r,n.y=e.y)}function Af(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Ef(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function Tf(t){this._=t,this.next=null,this.previous=null}function Sf(t){if(!(i=t.length))return 0;var e,n,r,i,a,o,s,l,u,c,d;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Mf(n,e,r=t[2]),e=new Tf(e),n=new Tf(n),r=new Tf(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){Mf(e._,n._,r=t[s]),r=new Tf(r),l=n.next,u=e.previous,c=n._.r,d=e._.r;do{if(c<=d){if(Af(l._,r._)){n=l,e.next=n,n.previous=e,--s;continue t}c+=l._.r,l=l.next}else{if(Af(u._,r._)){(e=u).next=n,n.previous=e,--s;continue t}d+=u._.r,u=u.previous}}while(l!==u.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,a=Ef(e);(r=r.next)!==n;)(o=Ef(r))<a&&(e=r,a=o);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=mf(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}var Lf=function(t){return Sf(t),t};function kf(t){return null==t?null:Cf(t)}function Cf(t){if("function"!==typeof t)throw new Error;return t}function Df(){return 0}var Pf=function(t){return function(){return t}};function Rf(t){return Math.sqrt(t.value)}var Of=function(){var t=null,e=1,n=1,r=Df;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(If(t)).eachAfter(Nf(r,.5)).eachBefore(zf(1)):i.eachBefore(If(Rf)).eachAfter(Nf(Df,1)).eachAfter(Nf(r,i.r/Math.min(e,n))).eachBefore(zf(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=kf(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:Pf(+t),i):r},i};function If(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Nf(t,e){return function(n){if(r=n.children){var r,i,a,o=r.length,s=t(n)*e||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=Sf(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function zf(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var Bf=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Ff=function(t,e,n,r,i){for(var a,o=t.children,s=-1,l=o.length,u=t.value&&(r-e)/t.value;++s<l;)(a=o[s]).y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*u},jf=function(){var t=1,e=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/a,i.eachBefore(function(t,e){return function(r){r.children&&Ff(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,a=r.y0,o=r.x1-n,s=r.y1-n;o<i&&(i=o=(i+o)/2),s<a&&(a=s=(a+s)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=s}}(e,a)),r&&i.eachBefore(Bf),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},Hf="$",Yf={depth:-1},Uf={};function Gf(t){return t.id}function Vf(t){return t.parentId}var Wf=function(){var t=Gf,e=Vf;function n(n){var r,i,a,o,s,l,u,c=n.length,d=new Array(c),h={};for(i=0;i<c;++i)r=n[i],s=d[i]=new pf(r),null!=(l=t(r,i,n))&&(l+="")&&(h[u=Hf+(s.id=l)]=u in h?Uf:s);for(i=0;i<c;++i)if(s=d[i],null!=(l=e(n[i],i,n))&&(l+="")){if(!(o=h[Hf+l]))throw new Error("missing: "+l);if(o===Uf)throw new Error("ambiguous: "+l);o.children?o.children.push(s):o.children=[s],s.parent=o}else{if(a)throw new Error("multiple roots");a=s}if(!a)throw new Error("no root");if(a.parent=Yf,a.eachBefore((function(t){t.depth=t.parent.depth+1,--c})).eachBefore(hf),a.parent=null,c>0)throw new Error("cycle");return a}return n.id=function(e){return arguments.length?(t=Cf(e),n):t},n.parentId=function(t){return arguments.length?(e=Cf(t),n):e},n};function qf(t,e){return t.parent===e.parent?1:2}function Xf(t){var e=t.children;return e?e[0]:t.t}function Jf(t){var e=t.children;return e?e[e.length-1]:t.t}function Zf(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Qf(t,e,n){return t.a.parent===e.parent?t.a:n}function Kf(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Kf.prototype=Object.create(pf.prototype);var $f=function(){var t=qf,e=1,n=1,r=null;function i(i){var l=function(t){for(var e,n,r,i,a,o=new Kf(t,0),s=[o];e=s.pop();)if(r=e._.children)for(e.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=e.children[i]=new Kf(r[i],i)),n.parent=e;return(o.parent=new Kf(null,0)).children=[o],o}(i);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(o),r)i.eachBefore(s);else{var u=i,c=i,d=i;i.eachBefore((function(t){t.x<u.x&&(u=t),t.x>c.x&&(c=t),t.depth>d.depth&&(d=t)}));var h=u===c?1:t(u,c)/2,p=h-u.x,f=e/(c.x+h+p),m=n/(d.depth||1);i.eachBefore((function(t){t.x=(t.x+p)*f,t.y=t.depth*m}))}return i}function a(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)(e=i[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var a=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,a=e,o=e,s=n,l=a.parent.children[0],u=a.m,c=o.m,d=s.m,h=l.m;s=Jf(s),a=Xf(a),s&&a;)l=Xf(l),(o=Jf(o)).a=e,(i=s.z+d-a.z-u+t(s._,a._))>0&&(Zf(Qf(s,e,r),e,i),u+=i,c+=i),d+=s.m,u+=a.m,h+=l.m,c+=o.m;s&&!Jf(o)&&(o.t=s,o.m+=d-c),a&&!Xf(l)&&(l.t=a,l.m+=u-h,r=e)}return r}(e,i,e.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},tm=function(t,e,n,r,i){for(var a,o=t.children,s=-1,l=o.length,u=t.value&&(i-n)/t.value;++s<l;)(a=o[s]).x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*u},em=(1+Math.sqrt(5))/2;function nm(t,e,n,r,i,a){for(var o,s,l,u,c,d,h,p,f,m,v,g=[],y=e.children,_=0,b=0,x=y.length,w=e.value;_<x;){l=i-n,u=a-r;do{c=y[b++].value}while(!c&&b<x);for(d=h=c,v=c*c*(m=Math.max(u/l,l/u)/(w*t)),f=Math.max(h/v,v/d);b<x;++b){if(c+=s=y[b].value,s<d&&(d=s),s>h&&(h=s),v=c*c*m,(p=Math.max(h/v,v/d))>f){c-=s;break}f=p}g.push(o={value:c,dice:l<u,children:y.slice(_,b)}),o.dice?Ff(o,n,r,i,w?r+=u*c/w:a):tm(o,n,r,w?n+=l*c/w:i,a),w-=c,_=b}return g}var rm=function t(e){function n(t,n,r,i,a){nm(e,t,n,r,i,a)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(em),im=function(){var t=rm,e=!1,n=1,r=1,i=[0],a=Df,o=Df,s=Df,l=Df,u=Df;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(d),i=[0],e&&t.eachBefore(Bf),t}function d(e){var n=i[e.depth],r=e.x0+n,c=e.y0+n,d=e.x1-n,h=e.y1-n;d<r&&(r=d=(r+d)/2),h<c&&(c=h=(c+h)/2),e.x0=r,e.y0=c,e.x1=d,e.y1=h,e.children&&(n=i[e.depth+1]=a(e)/2,r+=u(e)-n,c+=o(e)-n,(d-=s(e)-n)<r&&(r=d=(r+d)/2),(h-=l(e)-n)<c&&(c=h=(c+h)/2),t(e,r,c,d,h))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],r=+t[1],c):[n,r]},c.tile=function(e){return arguments.length?(t=Cf(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(a="function"===typeof t?t:Pf(+t),c):a},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(o="function"===typeof t?t:Pf(+t),c):o},c.paddingRight=function(t){return arguments.length?(s="function"===typeof t?t:Pf(+t),c):s},c.paddingBottom=function(t){return arguments.length?(l="function"===typeof t?t:Pf(+t),c):l},c.paddingLeft=function(t){return arguments.length?(u="function"===typeof t?t:Pf(+t),c):u},c},am=function(t,e,n,r,i){var a,o,s=t.children,l=s.length,u=new Array(l+1);for(u[0]=o=a=0;a<l;++a)u[a+1]=o+=s[a].value;!function t(e,n,r,i,a,o,l){if(e>=n-1){var c=s[e];return c.x0=i,c.y0=a,c.x1=o,void(c.y1=l)}var d=u[e],h=r/2+d,p=e+1,f=n-1;for(;p<f;){var m=p+f>>>1;u[m]<h?p=m+1:f=m}h-u[p-1]<u[p]-h&&e+1<p&&--p;var v=u[p]-d,g=r-v;if(o-i>l-a){var y=(i*g+o*v)/r;t(e,p,v,i,a,y,l),t(p,n,g,y,a,o,l)}else{var _=(a*g+l*v)/r;t(e,p,v,i,a,o,_),t(p,n,g,i,_,o,l)}}(0,l,t.value,e,n,r,i)},om=function(t,e,n,r,i){(1&t.depth?tm:Ff)(t,e,n,r,i)},sm=function t(e){function n(t,n,r,i,a){if((o=t._squarify)&&o.ratio===e)for(var o,s,l,u,c,d=-1,h=o.length,p=t.value;++d<h;){for(l=(s=o[d]).children,u=s.value=0,c=l.length;u<c;++u)s.value+=l[u].value;s.dice?Ff(s,n,r,i,r+=(a-r)*s.value/p):tm(s,n,r,n+=(i-n)*s.value/p,a),p-=s.value}else t._squarify=o=nm(e,t,n,r,i,a),o.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(em),lm=function(t){for(var e,n=-1,r=t.length,i=t[r-1],a=0;++n<r;)e=i,i=t[n],a+=e[1]*i[0]-e[0]*i[1];return a/2},um=function(t){for(var e,n,r=-1,i=t.length,a=0,o=0,s=t[i-1],l=0;++r<i;)e=s,s=t[r],l+=n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a/(l*=3),o/l]},cm=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])};function dm(t,e){return t[0]-e[0]||t[1]-e[1]}function hm(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&cm(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}var pm=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(dm),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var a=hm(r),o=hm(i),s=o[0]===a[0],l=o[o.length-1]===a[a.length-1],u=[];for(e=a.length-1;e>=0;--e)u.push(t[r[a[e]][2]]);for(e=+s;e<o.length-l;++e)u.push(t[r[o[e]][2]]);return u},fm=function(t,e){for(var n,r,i=t.length,a=t[i-1],o=e[0],s=e[1],l=a[0],u=a[1],c=!1,d=0;d<i;++d)n=(a=t[d])[0],(r=a[1])>s!==u>s&&o<(l-n)*(s-r)/(u-r)+n&&(c=!c),l=n,u=r;return c},mm=function(t){for(var e,n,r=-1,i=t.length,a=t[i-1],o=a[0],s=a[1],l=0;++r<i;)e=o,n=s,e-=o=(a=t[r])[0],n-=s=a[1],l+=Math.sqrt(e*e+n*n);return l},vm=function(){return Math.random()},gm=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(vm),ym=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*e()-1,a=2*e()-1,i=r*r+a*a}while(!i||i>1);return t+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(vm),_m=function t(e){function n(){var t=ym.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(vm),bm=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(vm),xm=function t(e){function n(t){var n=bm.source(e)(t);return function(){return n()/t}}return n.source=t,n}(vm),wm=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(vm);function Mm(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Am(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var Em=Array.prototype,Tm=Em.map,Sm=Em.slice,Lm={name:"implicit"};function km(){var t=Xo(),e=[],n=[],r=Lm;function i(i){var a=i+"",o=t.get(a);if(!o){if(r!==Lm)return r;t.set(a,o=e.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=Xo();for(var r,a,o=-1,s=n.length;++o<s;)t.has(a=(r=n[o])+"")||t.set(a,e.push(r));return i},i.range=function(t){return arguments.length?(n=Sm.call(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return km(e,n).unknown(r)},Mm.apply(i,arguments),i}function Cm(){var t,e,n=km().unknown(void 0),r=n.domain,i=n.range,a=[0,1],o=!1,s=0,l=0,u=.5;function c(){var n=r().length,c=a[1]<a[0],d=a[c-0],h=a[1-c];t=(h-d)/Math.max(1,n-s+2*l),o&&(t=Math.floor(t)),d+=(h-d-t*(n-s))*u,e=t*(1-s),o&&(d=Math.round(d),e=Math.round(e));var p=w(n).map((function(e){return d+t*e}));return i(c?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),c()):r()},n.range=function(t){return arguments.length?(a=[+t[0],+t[1]],c()):a.slice()},n.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,c()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(o=!!t,c()):o},n.padding=function(t){return arguments.length?(s=Math.min(1,l=+t),c()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),c()):s},n.paddingOuter=function(t){return arguments.length?(l=+t,c()):l},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),c()):u},n.copy=function(){return Cm(r(),a).round(o).paddingInner(s).paddingOuter(l).align(u)},Mm.apply(c(),arguments)}function Dm(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(Cm.apply(null,arguments).paddingInner(1))}var Pm=function(t){return function(){return t}},Rm=function(t){return+t},Om=[0,1];function Im(t){return t}function Nm(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Pm(isNaN(e)?NaN:.5)}function zm(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Bm(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Nm(i,r),a=n(o,a)):(r=Nm(r,i),a=n(a,o)),function(t){return a(r(t))}}function Fm(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Nm(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=l(t,e,1,r)-1;return a[n](i[n](e))}}function jm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hm(){var t,e,n,r,i,a,o=Om,s=Om,l=Zn,u=Im;function c(){return r=Math.min(o.length,s.length)>2?Fm:Bm,i=a=null,d}function d(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),s,l)))(t(u(e)))}return d.invert=function(n){return u(e((a||(a=r(s,o.map(t),Hn)))(n)))},d.domain=function(t){return arguments.length?(o=Tm.call(t,Rm),u===Im||(u=zm(o)),c()):o.slice()},d.range=function(t){return arguments.length?(s=Sm.call(t),c()):s.slice()},d.rangeRound=function(t){return s=Sm.call(t),l=$n,c()},d.clamp=function(t){return arguments.length?(u=t?zm(o):Im,d):u!==Im},d.interpolate=function(t){return arguments.length?(l=t,c()):l},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,r){return t=n,e=r,c()}}function Ym(t,e){return Hm()(t,e)}var Um=function(t,e,n,r){var i,a=L(t,e,n);switch((r=Bl(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=$l(a,o))||(r.precision=i),Ul(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=tu(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Kl(a))||(r.precision=i-2*("%"===r.type))}return Yl(r)};function Gm(t){var e=t.domain;return t.ticks=function(t){var n=e();return T(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Um(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,s=i[a],l=i[o];return l<s&&(r=s,s=l,l=r,r=a,a=o,o=r),(r=S(s,l,n))>0?r=S(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=S(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(l/r)*r,e(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(l*r)/r,e(i)),t},t}function Vm(){var t=Ym(Im,Im);return t.copy=function(){return jm(t,Vm())},Mm.apply(t,arguments),Gm(t)}function Wm(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Tm.call(e,Rm),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Wm(t).unknown(e)},t=arguments.length?Tm.call(t,Rm):[0,1],Gm(n)}var qm=function(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t};function Xm(t){return Math.log(t)}function Jm(t){return Math.exp(t)}function Zm(t){return-Math.log(-t)}function Qm(t){return-Math.exp(-t)}function Km(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $m(t){return function(e){return-t(-e)}}function tv(t){var e,n,r=t(Xm,Jm),i=r.domain,a=10;function o(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(a),n=function(t){return 10===t?Km:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(a),i()[0]<0?(e=$m(e),n=$m(n),t(Zm,Qm)):t(Xm,Jm),r}return r.base=function(t){return arguments.length?(a=+t,o()):a},r.domain=function(t){return arguments.length?(i(t),o()):i()},r.ticks=function(t){var r,o=i(),s=o[0],l=o[o.length-1];(r=l<s)&&(h=s,s=l,l=h);var u,c,d,h=e(s),p=e(l),f=null==t?10:+t,m=[];if(!(a%1)&&p-h<f){if(h=Math.round(h)-1,p=Math.round(p)+1,s>0){for(;h<p;++h)for(c=1,u=n(h);c<a;++c)if(!((d=u*c)<s)){if(d>l)break;m.push(d)}}else for(;h<p;++h)for(c=a-1,u=n(h);c>=1;--c)if(!((d=u*c)<s)){if(d>l)break;m.push(d)}}else m=T(h,p,Math.min(p-h,f)).map(n);return r?m.reverse():m},r.tickFormat=function(t,i){if(null==i&&(i=10===a?".0e":","),"function"!==typeof i&&(i=Yl(i)),t===1/0)return i;null==t&&(t=10);var o=Math.max(1,a*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*a<a-.5&&(r*=a),r<=o?i(t):""}},r.nice=function(){return i(qm(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function ev(){var t=tv(Hm()).domain([1,10]);return t.copy=function(){return jm(t,ev()).base(t.base())},Mm.apply(t,arguments),t}function nv(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function rv(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function iv(t){var e=1,n=t(nv(e),rv(e));return n.constant=function(n){return arguments.length?t(nv(e=+n),rv(e)):e},Gm(n)}function av(){var t=iv(Hm());return t.copy=function(){return jm(t,av()).constant(t.constant())},Mm.apply(t,arguments)}function ov(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lv(t){return t<0?-t*t:t*t}function uv(t){var e=t(Im,Im),n=1;function r(){return 1===n?t(Im,Im):.5===n?t(sv,lv):t(ov(n),ov(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Gm(e)}function cv(){var t=uv(Hm());return t.copy=function(){return jm(t,cv()).exponent(t.exponent())},Mm.apply(t,arguments),t}function dv(){return cv.apply(null,arguments).exponent(.5)}function hv(){var t,e=[],n=[],i=[];function a(){var t=0,r=Math.max(1,n.length);for(i=new Array(r-1);++t<r;)i[t-1]=D(e,t/r);return o}function o(e){return isNaN(e=+e)?t:n[l(i,e)]}return o.invertExtent=function(t){var r=n.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:e[0],r<i.length?i[r]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,i=0,o=t.length;i<o;++i)null==(n=t[i])||isNaN(n=+n)||e.push(n);return e.sort(r),a()},o.range=function(t){return arguments.length?(n=Sm.call(t),a()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return i.slice()},o.copy=function(){return hv().domain(e).range(n).unknown(t)},Mm.apply(o,arguments)}function pv(){var t,e=0,n=1,r=1,i=[.5],a=[0,1];function o(e){return e<=e?a[l(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return o}return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},o.range=function(t){return arguments.length?(r=(a=Sm.call(t)).length-1,s()):a.slice()},o.invertExtent=function(t){var o=a.indexOf(t);return o<0?[NaN,NaN]:o<1?[e,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return pv().domain([e,n]).range(a).unknown(t)},Mm.apply(Gm(o),arguments)}function fv(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[l(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Sm.call(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Sm.call(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return fv().domain(e).range(n).unknown(t)},Mm.apply(i,arguments)}var mv=new Date,vv=new Date;function gv(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return s},i.filter=function(n){return gv((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return mv.setTime(+e),vv.setTime(+r),t(mv),t(vv),Math.floor(n(mv,vv))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var yv=gv((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));yv.every=function(t){return isFinite(t=Math.floor(t))&&t>0?gv((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var _v=yv,bv=yv.range,xv=gv((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),wv=xv,Mv=xv.range,Av=6e4,Ev=6048e5;function Tv(t){return gv((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Av)/Ev}))}var Sv=Tv(0),Lv=Tv(1),kv=Tv(2),Cv=Tv(3),Dv=Tv(4),Pv=Tv(5),Rv=Tv(6),Ov=Sv.range,Iv=Lv.range,Nv=kv.range,zv=Cv.range,Bv=Dv.range,Fv=Pv.range,jv=Rv.range,Hv=gv((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Av)/864e5}),(function(t){return t.getDate()-1})),Yv=Hv,Uv=Hv.range,Gv=gv((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*Av)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),Vv=Gv,Wv=Gv.range,qv=gv((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+e*Av)}),(function(t,e){return(e-t)/Av}),(function(t){return t.getMinutes()})),Xv=qv,Jv=qv.range,Zv=gv((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),Qv=Zv,Kv=Zv.range,$v=gv((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));$v.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?gv((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):$v:null};var tg=$v,eg=$v.range;function ng(t){return gv((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Ev}))}var rg=ng(0),ig=ng(1),ag=ng(2),og=ng(3),sg=ng(4),lg=ng(5),ug=ng(6),cg=rg.range,dg=ig.range,hg=ag.range,pg=og.range,fg=sg.range,mg=lg.range,vg=ug.range,gg=gv((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1})),yg=gg,_g=gg.range,bg=gv((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));bg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?gv((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var xg=bg,wg=bg.range;function Mg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ag(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Eg(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Tg(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Bg(i),c=Fg(i),d=Bg(a),h=Fg(a),p=Bg(o),f=Fg(o),m=Bg(s),v=Fg(s),g=Bg(l),y=Fg(l),_={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:ay,e:ay,f:cy,H:oy,I:sy,j:ly,L:uy,m:dy,M:hy,p:function(t){return i[+(t.getHours()>=12)]},Q:jy,s:Hy,S:py,u:fy,U:my,V:vy,w:gy,W:yy,x:null,X:null,y:_y,Y:by,Z:xy,"%":Fy},b={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:wy,e:wy,f:Sy,H:My,I:Ay,j:Ey,L:Ty,m:Ly,M:ky,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:jy,s:Hy,S:Cy,u:Dy,U:Py,V:Ry,w:Oy,W:Iy,x:null,X:null,y:Ny,Y:zy,Z:By,"%":Fy},x={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return A(t,e,n,r)},d:Jg,e:Jg,f:ey,H:Qg,I:Qg,j:Zg,L:ty,m:Xg,M:Kg,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:ry,s:iy,S:$g,u:Hg,U:Yg,V:Ug,w:jg,W:Gg,x:function(t,e,r){return A(t,n,e,r)},X:function(t,e,n){return A(t,r,e,n)},y:Wg,Y:Vg,Z:qg,"%":ny};function w(t,e){return function(n){var r,i,a,o=[],s=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(i=Pg[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(t.slice(l,s)),o.join("")}}function M(t,e){return function(n){var r,i,a=Eg(1900);if(A(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Ag(Eg(a.y))).getUTCDay(),r=i>4||0===i?ig.ceil(r):ig(r),r=yg.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=e(Eg(a.y))).getDay(),r=i>4||0===i?Lv.ceil(r):Lv(r),r=Yv.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Ag(Eg(a.y)).getUTCDay():e(Eg(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Ag(a)):e(a)}}function A(t,e,n,r){for(var i,a,o=0,s=e.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=x[i in Pg?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=w(n,_),_.X=w(r,_),_.c=w(e,_),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),{format:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",Mg);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t,Ag);return e.toString=function(){return t},e}}}var Sg,Lg,kg,Cg,Dg,Pg={"-":"",_:" ",0:"0"},Rg=/^\s*\d+/,Og=/^%/,Ig=/[\\^$*+?|[\]().{}]/g;function Ng(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function zg(t){return t.replace(Ig,"\\$&")}function Bg(t){return new RegExp("^(?:"+t.map(zg).join("|")+")","i")}function Fg(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function jg(t,e,n){var r=Rg.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Hg(t,e,n){var r=Rg.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Yg(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ug(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Gg(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Vg(t,e,n){var r=Rg.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Wg(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qg(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xg(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Jg(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Zg(t,e,n){var r=Rg.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Qg(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Kg(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function $g(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ty(t,e,n){var r=Rg.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ey(t,e,n){var r=Rg.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ny(t,e,n){var r=Og.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ry(t,e,n){var r=Rg.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function iy(t,e,n){var r=Rg.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function ay(t,e){return Ng(t.getDate(),e,2)}function oy(t,e){return Ng(t.getHours(),e,2)}function sy(t,e){return Ng(t.getHours()%12||12,e,2)}function ly(t,e){return Ng(1+Yv.count(_v(t),t),e,3)}function uy(t,e){return Ng(t.getMilliseconds(),e,3)}function cy(t,e){return uy(t,e)+"000"}function dy(t,e){return Ng(t.getMonth()+1,e,2)}function hy(t,e){return Ng(t.getMinutes(),e,2)}function py(t,e){return Ng(t.getSeconds(),e,2)}function fy(t){var e=t.getDay();return 0===e?7:e}function my(t,e){return Ng(Sv.count(_v(t),t),e,2)}function vy(t,e){var n=t.getDay();return t=n>=4||0===n?Dv(t):Dv.ceil(t),Ng(Dv.count(_v(t),t)+(4===_v(t).getDay()),e,2)}function gy(t){return t.getDay()}function yy(t,e){return Ng(Lv.count(_v(t),t),e,2)}function _y(t,e){return Ng(t.getFullYear()%100,e,2)}function by(t,e){return Ng(t.getFullYear()%1e4,e,4)}function xy(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ng(e/60|0,"0",2)+Ng(e%60,"0",2)}function wy(t,e){return Ng(t.getUTCDate(),e,2)}function My(t,e){return Ng(t.getUTCHours(),e,2)}function Ay(t,e){return Ng(t.getUTCHours()%12||12,e,2)}function Ey(t,e){return Ng(1+yg.count(xg(t),t),e,3)}function Ty(t,e){return Ng(t.getUTCMilliseconds(),e,3)}function Sy(t,e){return Ty(t,e)+"000"}function Ly(t,e){return Ng(t.getUTCMonth()+1,e,2)}function ky(t,e){return Ng(t.getUTCMinutes(),e,2)}function Cy(t,e){return Ng(t.getUTCSeconds(),e,2)}function Dy(t){var e=t.getUTCDay();return 0===e?7:e}function Py(t,e){return Ng(rg.count(xg(t),t),e,2)}function Ry(t,e){var n=t.getUTCDay();return t=n>=4||0===n?sg(t):sg.ceil(t),Ng(sg.count(xg(t),t)+(4===xg(t).getUTCDay()),e,2)}function Oy(t){return t.getUTCDay()}function Iy(t,e){return Ng(ig.count(xg(t),t),e,2)}function Ny(t,e){return Ng(t.getUTCFullYear()%100,e,2)}function zy(t,e){return Ng(t.getUTCFullYear()%1e4,e,4)}function By(){return"+0000"}function Fy(){return"%"}function jy(t){return+t}function Hy(t){return Math.floor(+t/1e3)}function Yy(t){return Sg=Tg(t),Lg=Sg.format,kg=Sg.parse,Cg=Sg.utcFormat,Dg=Sg.utcParse,Sg}Yy({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Uy=Date.prototype.toISOString?function(t){return t.toISOString()}:Cg("%Y-%m-%dT%H:%M:%S.%LZ");var Gy=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Dg("%Y-%m-%dT%H:%M:%S.%LZ"),Vy=1e3,Wy=60*Vy,qy=60*Wy,Xy=24*qy,Jy=7*Xy,Zy=30*Xy,Qy=365*Xy;function Ky(t){return new Date(t)}function $y(t){return t instanceof Date?+t:+new Date(+t)}function t_(t,e,n,r,a,o,s,l,u){var c=Ym(Im,Im),d=c.invert,h=c.domain,p=u(".%L"),f=u(":%S"),m=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),y=u("%b %d"),_=u("%B"),b=u("%Y"),x=[[s,1,Vy],[s,5,5*Vy],[s,15,15*Vy],[s,30,30*Vy],[o,1,Wy],[o,5,5*Wy],[o,15,15*Wy],[o,30,30*Wy],[a,1,qy],[a,3,3*qy],[a,6,6*qy],[a,12,12*qy],[r,1,Xy],[r,2,2*Xy],[n,1,Jy],[e,1,Zy],[e,3,3*Zy],[t,1,Qy]];function w(i){return(s(i)<i?p:o(i)<i?f:a(i)<i?m:r(i)<i?v:e(i)<i?n(i)<i?g:y:t(i)<i?_:b)(i)}function M(e,n,r,a){if(null==e&&(e=10),"number"===typeof e){var o=Math.abs(r-n)/e,s=i((function(t){return t[2]})).right(x,o);s===x.length?(a=L(n/Qy,r/Qy,e),e=t):s?(a=(s=x[o/x[s-1][2]<x[s][2]/o?s-1:s])[1],e=s[0]):(a=Math.max(L(n,r,e),1),e=l)}return null==a?e:e.every(a)}return c.invert=function(t){return new Date(d(t))},c.domain=function(t){return arguments.length?h(Tm.call(t,$y)):h().map(Ky)},c.ticks=function(t,e){var n,r=h(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=(n=M(t,i,a,e))?n.range(i,a+1):[],o?n.reverse():n},c.tickFormat=function(t,e){return null==e?w:u(e)},c.nice=function(t,e){var n=h();return(t=M(t,n[0],n[n.length-1],e))?h(qm(n,t)):c},c.copy=function(){return jm(c,t_(t,e,n,r,a,o,s,l,u))},c}var e_=function(){return Mm.apply(t_(_v,wv,Sv,Yv,Vv,Xv,Qv,tg,Lg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},n_=gv((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),r_=n_,i_=n_.range,a_=gv((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),o_=a_,s_=a_.range,l_=gv((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Av)}),(function(t,e){return(e-t)/Av}),(function(t){return t.getUTCMinutes()})),u_=l_,c_=l_.range,d_=function(){return Mm.apply(t_(xg,r_,rg,yg,o_,u_,Qv,tg,Cg).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function h_(){var t,e,n,r,i,a=0,o=1,s=Im,l=!1;function u(e){return isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}return u.domain=function(i){return arguments.length?(t=r(a=+i[0]),e=r(o=+i[1]),n=t===e?0:1/(e-t),u):[a,o]},u.clamp=function(t){return arguments.length?(l=!!t,u):l},u.interpolator=function(t){return arguments.length?(s=t,u):s},u.unknown=function(t){return arguments.length?(i=t,u):i},function(i){return r=i,t=i(a),e=i(o),n=t===e?0:1/(e-t),u}}function p_(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function f_(){var t=Gm(h_()(Im));return t.copy=function(){return p_(t,f_())},Am.apply(t,arguments)}function m_(){var t=tv(h_()).domain([1,10]);return t.copy=function(){return p_(t,m_()).base(t.base())},Am.apply(t,arguments)}function v_(){var t=iv(h_());return t.copy=function(){return p_(t,v_()).constant(t.constant())},Am.apply(t,arguments)}function g_(){var t=uv(h_());return t.copy=function(){return p_(t,g_()).exponent(t.exponent())},Am.apply(t,arguments)}function y_(){return g_.apply(null,arguments).exponent(.5)}function __(){var t=[],e=Im;function n(n){if(!isNaN(n=+n))return e((l(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var i,a=0,o=e.length;a<o;++a)null==(i=e[a])||isNaN(i=+i)||t.push(i);return t.sort(r),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return __(e).domain(t)},Am.apply(n,arguments)}function b_(){var t,e,n,r,i,a,o,s=0,l=.5,u=1,c=Im,d=!1;function h(t){return isNaN(t=+t)?o:(t=.5+((t=+a(t))-e)*(t<e?r:i),c(d?Math.max(0,Math.min(1,t)):t))}return h.domain=function(o){return arguments.length?(t=a(s=+o[0]),e=a(l=+o[1]),n=a(u=+o[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),h):[s,l,u]},h.clamp=function(t){return arguments.length?(d=!!t,h):d},h.interpolator=function(t){return arguments.length?(c=t,h):c},h.unknown=function(t){return arguments.length?(o=t,h):o},function(o){return a=o,t=o(s),e=o(l),n=o(u),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),h}}function x_(){var t=Gm(b_()(Im));return t.copy=function(){return p_(t,x_())},Am.apply(t,arguments)}function w_(){var t=tv(b_()).domain([.1,1,10]);return t.copy=function(){return p_(t,w_()).base(t.base())},Am.apply(t,arguments)}function M_(){var t=iv(b_());return t.copy=function(){return p_(t,M_()).constant(t.constant())},Am.apply(t,arguments)}function A_(){var t=uv(b_());return t.copy=function(){return p_(t,A_()).exponent(t.exponent())},Am.apply(t,arguments)}function E_(){return A_.apply(null,arguments).exponent(.5)}var T_=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n},S_=T_("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),L_=T_("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),k_=T_("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),C_=T_("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),D_=T_("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),P_=T_("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),R_=T_("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),O_=T_("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),I_=T_("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),N_=T_("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),z_=function(t){return zn(t[t.length-1])},B_=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(T_),F_=z_(B_),j_=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(T_),H_=z_(j_),Y_=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(T_),U_=z_(Y_),G_=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(T_),V_=z_(G_),W_=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(T_),q_=z_(W_),X_=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(T_),J_=z_(X_),Z_=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(T_),Q_=z_(Z_),K_=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(T_),$_=z_(K_),tb=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(T_),eb=z_(tb),nb=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(T_),rb=z_(nb),ib=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(T_),ab=z_(ib),ob=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(T_),sb=z_(ob),lb=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(T_),ub=z_(lb),cb=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(T_),db=z_(cb),hb=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(T_),pb=z_(hb),fb=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(T_),mb=z_(fb),vb=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(T_),gb=z_(vb),yb=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(T_),_b=z_(yb),bb=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(T_),xb=z_(bb),wb=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(T_),Mb=z_(wb),Ab=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(T_),Eb=z_(Ab),Tb=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(T_),Sb=z_(Tb),Lb=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(T_),kb=z_(Lb),Cb=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(T_),Db=z_(Cb),Pb=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(T_),Rb=z_(Pb),Ob=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(T_),Ib=z_(Ob),Nb=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(T_),zb=z_(Nb),Bb=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},Fb=Xr(Gr(300,.5,0),Gr(-240,.5,1)),jb=Xr(Gr(-100,.75,.35),Gr(80,1.5,.8)),Hb=Xr(Gr(260,.75,.35),Gr(80,1.5,.8)),Yb=Gr(),Ub=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Yb.h=360*t-100,Yb.s=1.5-1.5*e,Yb.l=.8-.9*e,Yb+""},Gb=gn(),Vb=Math.PI/3,Wb=2*Math.PI/3,qb=function(t){var e;return t=(.5-t)*Math.PI,Gb.r=255*(e=Math.sin(t))*e,Gb.g=255*(e=Math.sin(t+Vb))*e,Gb.b=255*(e=Math.sin(t+Wb))*e,Gb+""},Xb=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"};function Jb(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Zb=Jb(T_("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Qb=Jb(T_("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Kb=Jb(T_("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),$b=Jb(T_("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),tx=function(t){return function(){return t}},ex=Math.abs,nx=Math.atan2,rx=Math.cos,ix=Math.max,ax=Math.min,ox=Math.sin,sx=Math.sqrt,lx=1e-12,ux=Math.PI,cx=ux/2,dx=2*ux;function hx(t){return t>=1?cx:t<=-1?-cx:Math.asin(t)}function px(t){return t.innerRadius}function fx(t){return t.outerRadius}function mx(t){return t.startAngle}function vx(t){return t.endAngle}function gx(t){return t&&t.padAngle}function yx(t,e,n,r,i,a,o){var s=t-n,l=e-r,u=(o?a:-a)/sx(s*s+l*l),c=u*l,d=-u*s,h=t+c,p=e+d,f=n+c,m=r+d,v=(h+f)/2,g=(p+m)/2,y=f-h,_=m-p,b=y*y+_*_,x=i-a,w=h*m-f*p,M=(_<0?-1:1)*sx(ix(0,x*x*b-w*w)),A=(w*_-y*M)/b,E=(-w*y-_*M)/b,T=(w*_+y*M)/b,S=(-w*y+_*M)/b,L=A-v,k=E-g,C=T-v,D=S-g;return L*L+k*k>C*C+D*D&&(A=T,E=S),{cx:A,cy:E,x01:-c,y01:-d,x11:A*(i/x-1),y11:E*(i/x-1)}}var _x=function(){var t=px,e=fx,n=tx(0),r=null,i=mx,a=vx,o=gx,s=null;function l(){var l,u,c,d=+t.apply(this,arguments),h=+e.apply(this,arguments),p=i.apply(this,arguments)-cx,f=a.apply(this,arguments)-cx,m=ex(f-p),v=f>p;if(s||(s=l=Fo()),h<d&&(u=h,h=d,d=u),h>lx)if(m>dx-lx)s.moveTo(h*rx(p),h*ox(p)),s.arc(0,0,h,p,f,!v),d>lx&&(s.moveTo(d*rx(f),d*ox(f)),s.arc(0,0,d,f,p,v));else{var g,y,_=p,b=f,x=p,w=f,M=m,A=m,E=o.apply(this,arguments)/2,T=E>lx&&(r?+r.apply(this,arguments):sx(d*d+h*h)),S=ax(ex(h-d)/2,+n.apply(this,arguments)),L=S,k=S;if(T>lx){var C=hx(T/d*ox(E)),D=hx(T/h*ox(E));(M-=2*C)>lx?(x+=C*=v?1:-1,w-=C):(M=0,x=w=(p+f)/2),(A-=2*D)>lx?(_+=D*=v?1:-1,b-=D):(A=0,_=b=(p+f)/2)}var P=h*rx(_),R=h*ox(_),O=d*rx(w),I=d*ox(w);if(S>lx){var N,z=h*rx(b),B=h*ox(b),F=d*rx(x),j=d*ox(x);if(m<ux&&(N=function(t,e,n,r,i,a,o,s){var l=n-t,u=r-e,c=o-i,d=s-a,h=d*l-c*u;if(!(h*h<lx))return[t+(h=(c*(e-a)-d*(t-i))/h)*l,e+h*u]}(P,R,F,j,z,B,O,I))){var H=P-N[0],Y=R-N[1],U=z-N[0],G=B-N[1],V=1/ox(((c=(H*U+Y*G)/(sx(H*H+Y*Y)*sx(U*U+G*G)))>1?0:c<-1?ux:Math.acos(c))/2),W=sx(N[0]*N[0]+N[1]*N[1]);L=ax(S,(d-W)/(V-1)),k=ax(S,(h-W)/(V+1))}}A>lx?k>lx?(g=yx(F,j,P,R,h,k,v),y=yx(z,B,O,I,h,k,v),s.moveTo(g.cx+g.x01,g.cy+g.y01),k<S?s.arc(g.cx,g.cy,k,nx(g.y01,g.x01),nx(y.y01,y.x01),!v):(s.arc(g.cx,g.cy,k,nx(g.y01,g.x01),nx(g.y11,g.x11),!v),s.arc(0,0,h,nx(g.cy+g.y11,g.cx+g.x11),nx(y.cy+y.y11,y.cx+y.x11),!v),s.arc(y.cx,y.cy,k,nx(y.y11,y.x11),nx(y.y01,y.x01),!v))):(s.moveTo(P,R),s.arc(0,0,h,_,b,!v)):s.moveTo(P,R),d>lx&&M>lx?L>lx?(g=yx(O,I,z,B,d,-L,v),y=yx(P,R,F,j,d,-L,v),s.lineTo(g.cx+g.x01,g.cy+g.y01),L<S?s.arc(g.cx,g.cy,L,nx(g.y01,g.x01),nx(y.y01,y.x01),!v):(s.arc(g.cx,g.cy,L,nx(g.y01,g.x01),nx(g.y11,g.x11),!v),s.arc(0,0,d,nx(g.cy+g.y11,g.cx+g.x11),nx(y.cy+y.y11,y.cx+y.x11),v),s.arc(y.cx,y.cy,L,nx(y.y11,y.x11),nx(y.y01,y.x01),!v))):s.arc(0,0,d,w,x,v):s.lineTo(O,I)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-ux/2;return[rx(r)*n,ox(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:tx(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:tx(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"===typeof t?t:tx(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:tx(+t),l):r},l.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:tx(+t),l):i},l.endAngle=function(t){return arguments.length?(a="function"===typeof t?t:tx(+t),l):a},l.padAngle=function(t){return arguments.length?(o="function"===typeof t?t:tx(+t),l):o},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l};function bx(t){this._context=t}bx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var xx=function(t){return new bx(t)};function wx(t){return t[0]}function Mx(t){return t[1]}var Ax=function(){var t=wx,e=Mx,n=tx(!0),r=null,i=xx,a=null;function o(o){var s,l,u,c=o.length,d=!1;for(null==r&&(a=i(u=Fo())),s=0;s<=c;++s)!(s<c&&n(l=o[s],s,o))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(l,s,o),+e(l,s,o));if(u)return a=null,u+""||null}return o.x=function(e){return arguments.length?(t="function"===typeof e?e:tx(+e),o):t},o.y=function(t){return arguments.length?(e="function"===typeof t?t:tx(+t),o):e},o.defined=function(t){return arguments.length?(n="function"===typeof t?t:tx(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o},Ex=function(){var t=wx,e=null,n=tx(0),r=Mx,i=tx(!0),a=null,o=xx,s=null;function l(l){var u,c,d,h,p,f=l.length,m=!1,v=new Array(f),g=new Array(f);for(null==a&&(s=o(p=Fo())),u=0;u<=f;++u){if(!(u<f&&i(h=l[u],u,l))===m)if(m=!m)c=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=u-1;d>=c;--d)s.point(v[d],g[d]);s.lineEnd(),s.areaEnd()}m&&(v[u]=+t(h,u,l),g[u]=+n(h,u,l),s.point(e?+e(h,u,l):v[u],r?+r(h,u,l):g[u]))}if(p)return s=null,p+""||null}function u(){return Ax().defined(i).curve(o).context(a)}return l.x=function(n){return arguments.length?(t="function"===typeof n?n:tx(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"===typeof e?e:tx(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"===typeof t?t:tx(+t),l):e},l.y=function(t){return arguments.length?(n="function"===typeof t?t:tx(+t),r=null,l):n},l.y0=function(t){return arguments.length?(n="function"===typeof t?t:tx(+t),l):n},l.y1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:tx(+t),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(n)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(e).y(n)},l.defined=function(t){return arguments.length?(i="function"===typeof t?t:tx(!!t),l):i},l.curve=function(t){return arguments.length?(o=t,null!=a&&(s=o(a)),l):o},l.context=function(t){return arguments.length?(null==t?a=s=null:s=o(a=t),l):a},l},Tx=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Sx=function(t){return t},Lx=function(){var t=Sx,e=Tx,n=null,r=tx(0),i=tx(dx),a=tx(0);function o(o){var s,l,u,c,d,h=o.length,p=0,f=new Array(h),m=new Array(h),v=+r.apply(this,arguments),g=Math.min(dx,Math.max(-dx,i.apply(this,arguments)-v)),y=Math.min(Math.abs(g)/h,a.apply(this,arguments)),_=y*(g<0?-1:1);for(s=0;s<h;++s)(d=m[f[s]=s]=+t(o[s],s,o))>0&&(p+=d);for(null!=e?f.sort((function(t,n){return e(m[t],m[n])})):null!=n&&f.sort((function(t,e){return n(o[t],o[e])})),s=0,u=p?(g-h*_)/p:0;s<h;++s,v=c)l=f[s],c=v+((d=m[l])>0?d*u:0)+_,m[l]={data:o[l],index:s,value:d,startAngle:v,endAngle:c,padAngle:y};return m}return o.value=function(e){return arguments.length?(t="function"===typeof e?e:tx(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:tx(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:tx(+t),o):i},o.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:tx(+t),o):a},o},kx=Dx(xx);function Cx(t){this._curve=t}function Dx(t){function e(e){return new Cx(t(e))}return e._curve=t,e}function Px(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Dx(t)):e()._curve},t}Cx.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Rx=function(){return Px(Ax().curve(kx))},Ox=function(){var t=Ex().curve(kx),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Px(n())},delete t.lineX0,t.lineEndAngle=function(){return Px(r())},delete t.lineX1,t.lineInnerRadius=function(){return Px(i())},delete t.lineY0,t.lineOuterRadius=function(){return Px(a())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Dx(t)):e()._curve},t},Ix=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},Nx=Array.prototype.slice;function zx(t){return t.source}function Bx(t){return t.target}function Fx(t){var e=zx,n=Bx,r=wx,i=Mx,a=null;function o(){var o,s=Nx.call(arguments),l=e.apply(this,s),u=n.apply(this,s);if(a||(a=o=Fo()),t(a,+r.apply(this,(s[0]=l,s)),+i.apply(this,s),+r.apply(this,(s[0]=u,s)),+i.apply(this,s)),o)return a=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(n=t,o):n},o.x=function(t){return arguments.length?(r="function"===typeof t?t:tx(+t),o):r},o.y=function(t){return arguments.length?(i="function"===typeof t?t:tx(+t),o):i},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o}function jx(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Hx(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Yx(t,e,n,r,i){var a=Ix(e,n),o=Ix(e,n=(n+i)/2),s=Ix(r,n),l=Ix(r,i);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],s[0],s[1],l[0],l[1])}function Ux(){return Fx(jx)}function Gx(){return Fx(Hx)}function Vx(){var t=Fx(Yx);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var Wx={draw:function(t,e){var n=Math.sqrt(e/ux);t.moveTo(n,0),t.arc(0,0,n,0,dx)}},qx={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Xx=Math.sqrt(1/3),Jx=2*Xx,Zx={draw:function(t,e){var n=Math.sqrt(e/Jx),r=n*Xx;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Qx=Math.sin(ux/10)/Math.sin(7*ux/10),Kx=Math.sin(dx/10)*Qx,$x=-Math.cos(dx/10)*Qx,tw={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Kx*n,i=$x*n;t.moveTo(0,-n),t.lineTo(r,i);for(var a=1;a<5;++a){var o=dx*a/5,s=Math.cos(o),l=Math.sin(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},ew={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},nw=Math.sqrt(3),rw={draw:function(t,e){var n=-Math.sqrt(e/(3*nw));t.moveTo(0,2*n),t.lineTo(-nw*n,-n),t.lineTo(nw*n,-n),t.closePath()}},iw=Math.sqrt(3)/2,aw=1/Math.sqrt(12),ow=3*(aw/2+1),sw={draw:function(t,e){var n=Math.sqrt(e/ow),r=n/2,i=n*aw,a=r,o=n*aw+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(-.5*r-iw*i,iw*r+-.5*i),t.lineTo(-.5*a-iw*o,iw*a+-.5*o),t.lineTo(-.5*s-iw*l,iw*s+-.5*l),t.lineTo(-.5*r+iw*i,-.5*i-iw*r),t.lineTo(-.5*a+iw*o,-.5*o-iw*a),t.lineTo(-.5*s+iw*l,-.5*l-iw*s),t.closePath()}},lw=[Wx,qx,Zx,ew,tw,rw,sw],uw=function(){var t=tx(Wx),e=tx(64),n=null;function r(){var r;if(n||(n=r=Fo()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"===typeof e?e:tx(e),r):t},r.size=function(t){return arguments.length?(e="function"===typeof t?t:tx(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r},cw=function(){};function dw(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function hw(t){this._context=t}hw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dw(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var pw=function(t){return new hw(t)};function fw(t){this._context=t}fw.prototype={areaStart:cw,areaEnd:cw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dw(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var mw=function(t){return new fw(t)};function vw(t){this._context=t}vw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dw(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var gw=function(t){return new vw(t)};function yw(t,e){this._basis=new hw(t),this._beta=e}yw.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],a=e[0],o=t[n]-i,s=e[n]-a,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+r*o),this._beta*e[l]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var _w=function t(e){function n(t){return 1===e?new hw(t):new yw(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function bw(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function xw(t,e){this._context=t,this._k=(1-e)/6}xw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:bw(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:bw(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ww=function t(e){function n(t){return new xw(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Mw(t,e){this._context=t,this._k=(1-e)/6}Mw.prototype={areaStart:cw,areaEnd:cw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:bw(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Aw=function t(e){function n(t){return new Mw(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Ew(t,e){this._context=t,this._k=(1-e)/6}Ew.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bw(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Tw=function t(e){function n(t){return new Ew(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Sw(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>lx){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>lx){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-e*t._l12_2a)/c,o=(o*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function Lw(t,e){this._context=t,this._alpha=e}Lw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Sw(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kw=function t(e){function n(t){return e?new Lw(t,e):new xw(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Cw(t,e){this._context=t,this._alpha=e}Cw.prototype={areaStart:cw,areaEnd:cw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Sw(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Dw=function t(e){function n(t){return e?new Cw(t,e):new Mw(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Pw(t,e){this._context=t,this._alpha=e}Pw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Sw(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Rw=function t(e){function n(t){return e?new Pw(t,e):new Ew(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Ow(t){this._context=t}Ow.prototype={areaStart:cw,areaEnd:cw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var Iw=function(t){return new Ow(t)};function Nw(t){return t<0?-1:1}function zw(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Nw(a)+Nw(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Bw(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Fw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function jw(t){this._context=t}function Hw(t){this._context=new Yw(t)}function Yw(t){this._context=t}function Uw(t){return new jw(t)}function Gw(t){return new Hw(t)}function Vw(t){this._context=t}function Ww(t){var e,n,r=t.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}jw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fw(this,this._t0,Bw(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Fw(this,Bw(this,n=zw(this,t,e)),n);break;default:Fw(this,this._t0,n=zw(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Hw.prototype=Object.create(jw.prototype)).point=function(t,e){jw.prototype.point.call(this,e,t)},Yw.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}},Vw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Ww(t),i=Ww(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var qw=function(t){return new Vw(t)};function Xw(t,e){this._context=t,this._t=e}Xw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Jw=function(t){return new Xw(t,.5)};function Zw(t){return new Xw(t,0)}function Qw(t){return new Xw(t,1)}var Kw=function(t,e){if((i=t.length)>1)for(var n,r,i,a=1,o=t[e[0]],s=o.length;a<i;++a)for(r=o,o=t[e[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},$w=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function tM(t,e){return t[e]}var eM=function(){var t=tx([]),e=$w,n=Kw,r=tM;function i(i){var a,o,s=t.apply(this,arguments),l=i.length,u=s.length,c=new Array(u);for(a=0;a<u;++a){for(var d,h=s[a],p=c[a]=new Array(l),f=0;f<l;++f)p[f]=d=[0,+r(i[f],h,f,i)],d.data=i[f];p.key=h}for(a=0,o=e(c);a<u;++a)c[o[a]].index=a;return n(c,o),c}return i.keys=function(e){return arguments.length?(t="function"===typeof e?e:tx(Nx.call(e)),i):t},i.value=function(t){return arguments.length?(r="function"===typeof t?t:tx(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?$w:"function"===typeof t?t:tx(Nx.call(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?Kw:t,i):n},i},nM=function(t,e){if((r=t.length)>0){for(var n,r,i,a=0,o=t[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=t[n][a][1]||0;if(i)for(n=0;n<r;++n)t[n][a][1]/=i}Kw(t,e)}},rM=function(t,e){if((s=t.length)>0)for(var n,r,i,a,o,s,l=0,u=t[e[0]].length;l<u;++l)for(a=o=0,n=0;n<s;++n)(i=(r=t[e[n]][l])[1]-r[0])>=0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):r[0]=a},iM=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=t[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}Kw(t,e)}},aM=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,u=0;s<i;++s){for(var c=t[e[s]],d=c[o][1]||0,h=(d-(c[o-1][1]||0))/2,p=0;p<s;++p){var f=t[e[p]];h+=(f[o][1]||0)-(f[o-1][1]||0)}l+=d,u+=h*d}n[o-1][1]+=n[o-1][0]=a,l&&(a-=u/l)}n[o-1][1]+=n[o-1][0]=a,Kw(t,e)}},oM=function(t){var e=t.map(sM);return $w(t).sort((function(t,n){return e[t]-e[n]}))};function sM(t){for(var e,n=-1,r=0,i=t.length,a=-1/0;++n<i;)(e=+t[n][1])>a&&(a=e,r=n);return r}var lM=function(t){var e=t.map(uM);return $w(t).sort((function(t,n){return e[t]-e[n]}))};function uM(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}var cM=function(t){return lM(t).reverse()},dM=function(t){var e,n,r=t.length,i=t.map(uM),a=oM(t),o=0,s=0,l=[],u=[];for(e=0;e<r;++e)n=a[e],o<s?(o+=i[n],l.push(n)):(s+=i[n],u.push(n));return u.reverse().concat(l)},hM=function(t){return $w(t).reverse()},pM=function(t){return function(){return t}};function fM(t){return t[0]}function mM(t){return t[1]}function vM(){this._=null}function gM(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function yM(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function _M(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function bM(t){for(;t.L;)t=t.L;return t}vM.prototype={constructor:vM,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=bM(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(yM(this,n),n=(t=n).U),n.C=!1,r.C=!0,_M(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(_M(this,n),n=(t=n).U),n.C=!1,r.C=!0,yM(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?bM(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,yM(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,_M(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,yM(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,_M(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,yM(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,_M(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var xM=vM;function wM(t,e,n,r){var i=[null,null],a=WM.push(i)-1;return i.left=t,i.right=e,n&&AM(i,t,e,n),r&&AM(i,e,t,r),GM[t.index].halfedges.push(a),GM[e.index].halfedges.push(a),i}function MM(t,e,n){var r=[e,n];return r.left=t,r}function AM(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function EM(t,e,n,r,i){var a,o=t[0],s=t[1],l=o[0],u=o[1],c=0,d=1,h=s[0]-l,p=s[1]-u;if(a=e-l,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<d&&(d=a)}else if(h>0){if(a>d)return;a>c&&(c=a)}if(a=r-l,h||!(a<0)){if(a/=h,h<0){if(a>d)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<d&&(d=a)}if(a=n-u,p||!(a>0)){if(a/=p,p<0){if(a<c)return;a<d&&(d=a)}else if(p>0){if(a>d)return;a>c&&(c=a)}if(a=i-u,p||!(a<0)){if(a/=p,p<0){if(a>d)return;a>c&&(c=a)}else if(p>0){if(a<c)return;a<d&&(d=a)}return!(c>0||d<1)||(c>0&&(t[0]=[l+c*h,u+c*p]),d<1&&(t[1]=[l+d*h,u+d*p]),!0)}}}}}function TM(t,e,n,r,i){var a=t[1];if(a)return!0;var o,s,l=t[0],u=t.left,c=t.right,d=u[0],h=u[1],p=c[0],f=c[1],m=(d+p)/2,v=(h+f)/2;if(f===h){if(m<e||m>=r)return;if(d>p){if(l){if(l[1]>=i)return}else l=[m,n];a=[m,i]}else{if(l){if(l[1]<n)return}else l=[m,i];a=[m,n]}}else if(s=v-(o=(d-p)/(f-h))*m,o<-1||o>1)if(d>p){if(l){if(l[1]>=i)return}else l=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/o,i];a=[(n-s)/o,n]}else if(h<f){if(l){if(l[0]>=r)return}else l=[e,o*e+s];a=[r,o*r+s]}else{if(l){if(l[0]<e)return}else l=[r,o*r+s];a=[e,o*e+s]}return t[0]=l,t[1]=a,!0}function SM(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function LM(t,e){return e[+(e.left!==t.site)]}function kM(t,e){return e[+(e.left===t.site)]}var CM,DM=[];function PM(){gM(this),this.x=this.y=this.arc=this.site=this.cy=null}function RM(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i[0],s=i[1],l=r[0]-o,u=r[1]-s,c=a[0]-o,d=a[1]-s,h=2*(l*d-u*c);if(!(h>=-XM)){var p=l*l+u*u,f=c*c+d*d,m=(d*p-u*f)/h,v=(l*f-c*p)/h,g=DM.pop()||new PM;g.arc=t,g.site=i,g.x=m+o,g.y=(g.cy=v+s)+Math.sqrt(m*m+v*v),t.circle=g;for(var y=null,_=VM._;_;)if(g.y<_.y||g.y===_.y&&g.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}VM.insert(y,g),y||(CM=g)}}}}function OM(t){var e=t.circle;e&&(e.P||(CM=e.N),VM.remove(e),DM.push(e),gM(e),t.circle=null)}var IM=[];function NM(){gM(this),this.edge=this.site=this.circle=null}function zM(t){var e=IM.pop()||new NM;return e.site=t,e}function BM(t){OM(t),UM.remove(t),IM.push(t),gM(t)}function FM(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,s=[t];BM(t);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<qM&&Math.abs(r-l.circle.cy)<qM;)a=l.P,s.unshift(l),BM(l),l=a;s.unshift(l),OM(l);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<qM&&Math.abs(r-u.circle.cy)<qM;)o=u.N,s.push(u),BM(u),u=o;s.push(u),OM(u);var c,d=s.length;for(c=1;c<d;++c)u=s[c],l=s[c-1],AM(u.edge,l.site,u.site,i);l=s[0],(u=s[d-1]).edge=wM(l.site,u.site,null,i),RM(l),RM(u)}function jM(t){for(var e,n,r,i,a=t[0],o=t[1],s=UM._;s;)if((r=HM(s,o)-a)>qM)s=s.L;else{if(!((i=a-YM(s,o))>qM)){r>-qM?(e=s.P,n=s):i>-qM?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){GM[t.index]={site:t,halfedges:[]}}(t);var l=zM(t);if(UM.insert(e,l),e||n){if(e===n)return OM(e),n=zM(e.site),UM.insert(l,n),l.edge=n.edge=wM(e.site,l.site),RM(e),void RM(n);if(n){OM(e),OM(n);var u=e.site,c=u[0],d=u[1],h=t[0]-c,p=t[1]-d,f=n.site,m=f[0]-c,v=f[1]-d,g=2*(h*v-p*m),y=h*h+p*p,_=m*m+v*v,b=[(v*y-p*_)/g+c,(h*_-m*y)/g+d];AM(n.edge,u,f,b),l.edge=wM(u,t,null,b),n.edge=wM(t,f,null,b),RM(e),RM(n)}else l.edge=wM(e.site,l.site)}}function HM(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site)[0],l=n[1],u=l-e;if(!u)return s;var c=s-r,d=1/a-1/u,h=c/u;return d?(-h+Math.sqrt(h*h-2*d*(c*c/(-2*u)-l+u/2+i-a/2)))/d+r:(r+s)/2}function YM(t,e){var n=t.N;if(n)return HM(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var UM,GM,VM,WM,qM=1e-6,XM=1e-12;function JM(t,e){return e[1]-t[1]||e[0]-t[0]}function ZM(t,e){var n,r,i,a=t.sort(JM).pop();for(WM=[],GM=new Array(t.length),UM=new xM,VM=new xM;;)if(i=CM,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(jM(a),n=a[0],r=a[1]),a=t.pop();else{if(!i)break;FM(i.arc)}if(function(){for(var t,e,n,r,i=0,a=GM.length;i<a;++i)if((t=GM[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=SM(t,WM[e[n]]);for(o.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[o[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var o=+e[0][0],s=+e[0][1],l=+e[1][0],u=+e[1][1];!function(t,e,n,r){for(var i,a=WM.length;a--;)TM(i=WM[a],t,e,n,r)&&EM(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>qM||Math.abs(i[0][1]-i[1][1])>qM)||delete WM[a]}(o,s,l,u),function(t,e,n,r){var i,a,o,s,l,u,c,d,h,p,f,m,v=GM.length,g=!0;for(i=0;i<v;++i)if(a=GM[i]){for(o=a.site,s=(l=a.halfedges).length;s--;)WM[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)f=(p=kM(a,WM[l[s]]))[0],m=p[1],d=(c=LM(a,WM[l[++s%u]]))[0],h=c[1],(Math.abs(f-d)>qM||Math.abs(m-h)>qM)&&(l.splice(s,0,WM.push(MM(o,p,Math.abs(f-t)<qM&&r-m>qM?[t,Math.abs(d-t)<qM?h:r]:Math.abs(m-r)<qM&&n-f>qM?[Math.abs(h-r)<qM?d:n,r]:Math.abs(f-n)<qM&&m-e>qM?[n,Math.abs(d-n)<qM?h:e]:Math.abs(m-e)<qM&&f-t>qM?[Math.abs(h-e)<qM?d:t,e]:null))-1),++u);u&&(g=!1)}if(g){var y,_,b,x=1/0;for(i=0,g=null;i<v;++i)(a=GM[i])&&(b=(y=(o=a.site)[0]-t)*y+(_=o[1]-e)*_)<x&&(x=b,g=a);if(g){var w=[t,e],M=[t,r],A=[n,r],E=[n,e];g.halfedges.push(WM.push(MM(o=g.site,w,M))-1,WM.push(MM(o,M,A))-1,WM.push(MM(o,A,E))-1,WM.push(MM(o,E,w))-1)}}for(i=0;i<v;++i)(a=GM[i])&&(a.halfedges.length||delete GM[i])}(o,s,l,u)}this.edges=WM,this.cells=GM,UM=VM=WM=GM=null}ZM.prototype={constructor:ZM,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return LM(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(a=(i=n.halfedges).length)for(var i,a,o,s,l,u,c=n.site,d=-1,h=e[i[a-1]],p=h.left===c?h.right:h.left;++d<a;)o=p,p=(h=e[i[d]]).left===c?h.right:h.left,o&&p&&r<o.index&&r<p.index&&(l=o,u=p,((s=c)[0]-u[0])*(l[1]-s[1])-(s[0]-l[0])*(u[1]-s[1])<0)&&t.push([c.data,o.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var l=t-i.site[0],u=e-i.site[1],c=l*l+u*u;do{i=a.cells[r=o],o=null,i.halfedges.forEach((function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=t-s[0],u=e-s[1],d=l*l+u*u;d<c&&(c=d,o=s.index)}}))}while(null!==o);return a._found=r,null==n||c<=n*n?i.site:null}};var QM=function(){var t=fM,e=mM,n=null;function r(r){return new ZM(r.map((function(n,i){var a=[Math.round(t(n,i,r)/qM)*qM,Math.round(e(n,i,r)/qM)*qM];return a.index=i,a.data=n,a})),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"===typeof e?e:pM(+e),r):t},r.y=function(t){return arguments.length?(e="function"===typeof t?t:pM(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},KM=function(t){return function(){return t}};function $M(t,e,n){this.target=t,this.type=e,this.transform=n}function tA(t,e,n){this.k=t,this.x=e,this.y=n}tA.prototype={constructor:tA,scale:function(t){return 1===t?this:new tA(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new tA(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var eA=new tA(1,0,0);function nA(t){for(;!t.__zoom;)if(!(t=t.parentNode))return eA;return t.__zoom}function rA(){fe.stopImmediatePropagation()}nA.prototype=tA.prototype;var iA=function(){fe.preventDefault(),fe.stopImmediatePropagation()};function aA(){return!fe.ctrlKey&&!fe.button}function oA(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function sA(){return this.__zoom||eA}function lA(){return-fe.deltaY*(1===fe.deltaMode?.05:fe.deltaMode?1:.002)}function uA(){return navigator.maxTouchPoints||"ontouchstart"in this}function cA(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}var dA=function(){var t,e,n=aA,r=oA,i=cA,a=lA,o=uA,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,c=lr,d=mt("start","zoom","end"),h=500,p=150,f=0;function m(t){t.property("__zoom",sA).on("wheel.zoom",w).on("mousedown.zoom",M).on("dblclick.zoom",A).filter(o).on("touchstart.zoom",E).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new tA(e,t.x,t.y)}function g(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new tA(t.k,r,i)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,e,n){t.on("start.zoom",(function(){b(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,a=b(t,i),o=r.apply(t,i),s=null==n?y(o):"function"===typeof n?n.apply(t,i):n,l=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),u=t.__zoom,d="function"===typeof e?e.apply(t,i):e,h=c(u.invert(s).concat(l/u.k),d.invert(s).concat(l/d.k));return function(t){if(1===t)t=d;else{var e=h(t),n=l/e[2];t=new tA(n,s[0]-e[0]*n,s[1]-e[1]*n)}a.zoom(null,t)}}))}function b(t,e,n){return!n&&t.__zooming||new x(t,e)}function x(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function w(){if(n.apply(this,arguments)){var t=b(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,a.apply(this,arguments)))),o=Ie(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=e.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[o,e.invert(o)],Di(this),t.start()}iA(),t.wheel=setTimeout((function(){t.wheel=null,t.end()}),p),t.zoom("mouse",i(g(v(e,r),t.mouse[0],t.mouse[1]),t.extent,l))}}function M(){if(!e&&n.apply(this,arguments)){var t=b(this,arguments,!0),r=Le(fe.view).on("mousemove.zoom",(function(){if(iA(),!t.moved){var e=fe.clientX-o,n=fe.clientY-s;t.moved=e*e+n*n>f}t.zoom("mouse",i(g(t.that.__zoom,t.mouse[0]=Ie(t.that),t.mouse[1]),t.extent,l))}),!0).on("mouseup.zoom",(function(){r.on("mousemove.zoom mouseup.zoom",null),Ye(fe.view,t.moved),iA(),t.end()}),!0),a=Ie(this),o=fe.clientX,s=fe.clientY;He(fe.view),rA(),t.mouse=[a,this.__zoom.invert(a)],Di(this),t.start()}}function A(){if(n.apply(this,arguments)){var t=this.__zoom,e=Ie(this),a=t.invert(e),o=t.k*(fe.shiftKey?.5:2),s=i(g(v(t,o),e,a),r.apply(this,arguments),l);iA(),u>0?Le(this).transition().duration(u).call(_,s,e):Le(this).call(m.transform,s)}}function E(){if(n.apply(this,arguments)){var e,r,i,a,o=fe.touches,s=o.length,l=b(this,arguments,fe.changedTouches.length===s);for(rA(),r=0;r<s;++r)i=o[r],a=[a=ze(this,o,i.identifier),this.__zoom.invert(a),i.identifier],l.touch0?l.touch1||l.touch0[2]===a[2]||(l.touch1=a,l.taps=0):(l.touch0=a,e=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(l.taps<2&&(t=setTimeout((function(){t=null}),h)),Di(this),l.start())}}function T(){if(this.__zooming){var e,n,r,a,o=b(this,arguments),s=fe.changedTouches,u=s.length;for(iA(),t&&(t=clearTimeout(t)),o.taps=0,e=0;e<u;++e)n=s[e],r=ze(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var c=o.touch0[0],d=o.touch0[1],h=o.touch1[0],p=o.touch1[1],f=(f=h[0]-c[0])*f+(f=h[1]-c[1])*f,m=(m=p[0]-d[0])*m+(m=p[1]-d[1])*m;n=v(n,Math.sqrt(f/m)),r=[(c[0]+h[0])/2,(c[1]+h[1])/2],a=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],a=o.touch0[1]}o.zoom("touch",i(g(n,r,a),o.extent,l))}}function S(){if(this.__zooming){var t,n,r=b(this,arguments),i=fe.changedTouches,a=i.length;for(rA(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),h),t=0;t<a;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var o=Le(this).on("dblclick.zoom");o&&o.apply(this,arguments)}}}return m.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",sA),t!==r?_(t,e,n):r.interrupt().each((function(){b(this,arguments).start().zoom(null,"function"===typeof e?e.apply(this,arguments):e).end()}))},m.scaleBy=function(t,e,n){m.scaleTo(t,(function(){var t=this.__zoom.k,n="function"===typeof e?e.apply(this,arguments):e;return t*n}),n)},m.scaleTo=function(t,e,n){m.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,o=null==n?y(t):"function"===typeof n?n.apply(this,arguments):n,s=a.invert(o),u="function"===typeof e?e.apply(this,arguments):e;return i(g(v(a,u),o,s),t,l)}),n)},m.translateBy=function(t,e,n){m.transform(t,(function(){return i(this.__zoom.translate("function"===typeof e?e.apply(this,arguments):e,"function"===typeof n?n.apply(this,arguments):n),r.apply(this,arguments),l)}))},m.translateTo=function(t,e,n,a){m.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,s=null==a?y(t):"function"===typeof a?a.apply(this,arguments):a;return i(eA.translate(s[0],s[1]).scale(o.k).translate("function"===typeof e?-e.apply(this,arguments):-e,"function"===typeof n?-n.apply(this,arguments):-n),t,l)}),a)},x.prototype={start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){be(new $M(m,t,this.that.__zoom),d.apply,d,[t,this.that,this.args])}},m.wheelDelta=function(t){return arguments.length?(a="function"===typeof t?t:KM(+t),m):a},m.filter=function(t){return arguments.length?(n="function"===typeof t?t:KM(!!t),m):n},m.touchable=function(t){return arguments.length?(o="function"===typeof t?t:KM(!!t),m):o},m.extent=function(t){return arguments.length?(r="function"===typeof t?t:KM([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):r},m.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],m):[s[0],s[1]]},m.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(t){return arguments.length?(i=t,m):i},m.duration=function(t){return arguments.length?(u=+t,m):u},m.interpolate=function(t){return arguments.length?(c=t,m):c},m.on=function(){var t=d.on.apply(d,arguments);return t===d?m:t},m.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,m):Math.sqrt(f)},m};n.d(e,"version",(function(){return"5.12.0"})),n.d(e,"bisect",(function(){return l})),n.d(e,"bisectRight",(function(){return o})),n.d(e,"bisectLeft",(function(){return s})),n.d(e,"ascending",(function(){return r})),n.d(e,"bisector",(function(){return i})),n.d(e,"cross",(function(){return d})),n.d(e,"descending",(function(){return h})),n.d(e,"deviation",(function(){return m})),n.d(e,"extent",(function(){return v})),n.d(e,"histogram",(function(){return C})),n.d(e,"thresholdFreedmanDiaconis",(function(){return P})),n.d(e,"thresholdScott",(function(){return R})),n.d(e,"thresholdSturges",(function(){return k})),n.d(e,"max",(function(){return O})),n.d(e,"mean",(function(){return I})),n.d(e,"median",(function(){return N})),n.d(e,"merge",(function(){return z})),n.d(e,"min",(function(){return B})),n.d(e,"pairs",(function(){return u})),n.d(e,"permute",(function(){return F})),n.d(e,"quantile",(function(){return D})),n.d(e,"range",(function(){return w})),n.d(e,"scan",(function(){return j})),n.d(e,"shuffle",(function(){return H})),n.d(e,"sum",(function(){return Y})),n.d(e,"ticks",(function(){return T})),n.d(e,"tickIncrement",(function(){return S})),n.d(e,"tickStep",(function(){return L})),n.d(e,"transpose",(function(){return U})),n.d(e,"variance",(function(){return f})),n.d(e,"zip",(function(){return V})),n.d(e,"axisTop",(function(){return at})),n.d(e,"axisRight",(function(){return ot})),n.d(e,"axisBottom",(function(){return st})),n.d(e,"axisLeft",(function(){return lt})),n.d(e,"brush",(function(){return wo})),n.d(e,"brushX",(function(){return bo})),n.d(e,"brushY",(function(){return xo})),n.d(e,"brushSelection",(function(){return _o})),n.d(e,"chord",(function(){return Do})),n.d(e,"ribbon",(function(){return Vo})),n.d(e,"nest",(function(){return Jo})),n.d(e,"set",(function(){return rs})),n.d(e,"map",(function(){return Xo})),n.d(e,"keys",(function(){return is})),n.d(e,"values",(function(){return as})),n.d(e,"entries",(function(){return os})),n.d(e,"color",(function(){return pn})),n.d(e,"rgb",(function(){return gn})),n.d(e,"hsl",(function(){return An})),n.d(e,"lab",(function(){return Mr})),n.d(e,"hcl",(function(){return Dr})),n.d(e,"lch",(function(){return Cr})),n.d(e,"gray",(function(){return wr})),n.d(e,"cubehelix",(function(){return Gr})),n.d(e,"contours",(function(){return vs})),n.d(e,"contourDensity",(function(){return ws})),n.d(e,"dispatch",(function(){return mt})),n.d(e,"drag",(function(){return Je})),n.d(e,"dragDisable",(function(){return He})),n.d(e,"dragEnable",(function(){return Ye})),n.d(e,"dsvFormat",(function(){return Ps})),n.d(e,"csvParse",(function(){return Os})),n.d(e,"csvParseRows",(function(){return Is})),n.d(e,"csvFormat",(function(){return Ns})),n.d(e,"csvFormatBody",(function(){return zs})),n.d(e,"csvFormatRows",(function(){return Bs})),n.d(e,"tsvParse",(function(){return js})),n.d(e,"tsvParseRows",(function(){return Hs})),n.d(e,"tsvFormat",(function(){return Ys})),n.d(e,"tsvFormatBody",(function(){return Us})),n.d(e,"tsvFormatRows",(function(){return Gs})),n.d(e,"autoType",(function(){return Vs})),n.d(e,"easeLinear",(function(){return ia})),n.d(e,"easeQuad",(function(){return sa})),n.d(e,"easeQuadIn",(function(){return aa})),n.d(e,"easeQuadOut",(function(){return oa})),n.d(e,"easeQuadInOut",(function(){return sa})),n.d(e,"easeCubic",(function(){return ca})),n.d(e,"easeCubicIn",(function(){return la})),n.d(e,"easeCubicOut",(function(){return ua})),n.d(e,"easeCubicInOut",(function(){return ca})),n.d(e,"easePoly",(function(){return pa})),n.d(e,"easePolyIn",(function(){return da})),n.d(e,"easePolyOut",(function(){return ha})),n.d(e,"easePolyInOut",(function(){return pa})),n.d(e,"easeSin",(function(){return ya})),n.d(e,"easeSinIn",(function(){return va})),n.d(e,"easeSinOut",(function(){return ga})),n.d(e,"easeSinInOut",(function(){return ya})),n.d(e,"easeExp",(function(){return xa})),n.d(e,"easeExpIn",(function(){return _a})),n.d(e,"easeExpOut",(function(){return ba})),n.d(e,"easeExpInOut",(function(){return xa})),n.d(e,"easeCircle",(function(){return Aa})),n.d(e,"easeCircleIn",(function(){return wa})),n.d(e,"easeCircleOut",(function(){return Ma})),n.d(e,"easeCircleInOut",(function(){return Aa})),n.d(e,"easeBounce",(function(){return Na})),n.d(e,"easeBounceIn",(function(){return Ia})),n.d(e,"easeBounceOut",(function(){return Na})),n.d(e,"easeBounceInOut",(function(){return za})),n.d(e,"easeBack",(function(){return ja})),n.d(e,"easeBackIn",(function(){return Ba})),n.d(e,"easeBackOut",(function(){return Fa})),n.d(e,"easeBackInOut",(function(){return ja})),n.d(e,"easeElastic",(function(){return Ua})),n.d(e,"easeElasticIn",(function(){return Ya})),n.d(e,"easeElasticOut",(function(){return Ua})),n.d(e,"easeElasticInOut",(function(){return Ga})),n.d(e,"blob",(function(){return qs})),n.d(e,"buffer",(function(){return Js})),n.d(e,"dsv",(function(){return $s})),n.d(e,"csv",(function(){return tl})),n.d(e,"tsv",(function(){return el})),n.d(e,"image",(function(){return nl})),n.d(e,"json",(function(){return il})),n.d(e,"text",(function(){return Qs})),n.d(e,"xml",(function(){return ol})),n.d(e,"html",(function(){return sl})),n.d(e,"svg",(function(){return ll})),n.d(e,"forceCenter",(function(){return ul})),n.d(e,"forceCollide",(function(){return wl})),n.d(e,"forceLink",(function(){return El})),n.d(e,"forceManyBody",(function(){return Dl})),n.d(e,"forceRadial",(function(){return Pl})),n.d(e,"forceSimulation",(function(){return Cl})),n.d(e,"forceX",(function(){return Rl})),n.d(e,"forceY",(function(){return Ol})),n.d(e,"formatDefaultLocale",(function(){return Ql})),n.d(e,"format",(function(){return Yl})),n.d(e,"formatPrefix",(function(){return Ul})),n.d(e,"formatLocale",(function(){return Zl})),n.d(e,"formatSpecifier",(function(){return Bl})),n.d(e,"FormatSpecifier",(function(){return Fl})),n.d(e,"precisionFixed",(function(){return Kl})),n.d(e,"precisionPrefix",(function(){return $l})),n.d(e,"precisionRound",(function(){return tu})),n.d(e,"geoArea",(function(){return qu})),n.d(e,"geoBounds",(function(){return Fc})),n.d(e,"geoCentroid",(function(){return Qc})),n.d(e,"geoCircle",(function(){return ld})),n.d(e,"geoClipAntimeridian",(function(){return bd})),n.d(e,"geoClipCircle",(function(){return xd})),n.d(e,"geoClipExtent",(function(){return kd})),n.d(e,"geoClipRectangle",(function(){return Ed})),n.d(e,"geoContains",(function(){return qd})),n.d(e,"geoDistance",(function(){return Bd})),n.d(e,"geoGraticule",(function(){return Zd})),n.d(e,"geoGraticule10",(function(){return Qd})),n.d(e,"geoInterpolate",(function(){return nh})),n.d(e,"geoLength",(function(){return Id})),n.d(e,"geoPath",(function(){return tp})),n.d(e,"geoAlbers",(function(){return bp})),n.d(e,"geoAlbersUsa",(function(){return xp})),n.d(e,"geoAzimuthalEqualArea",(function(){return Ep})),n.d(e,"geoAzimuthalEqualAreaRaw",(function(){return Ap})),n.d(e,"geoAzimuthalEquidistant",(function(){return Sp})),n.d(e,"geoAzimuthalEquidistantRaw",(function(){return Tp})),n.d(e,"geoConicConformal",(function(){return Rp})),n.d(e,"geoConicConformalRaw",(function(){return Pp})),n.d(e,"geoConicEqualArea",(function(){return _p})),n.d(e,"geoConicEqualAreaRaw",(function(){return yp})),n.d(e,"geoConicEquidistant",(function(){return zp})),n.d(e,"geoConicEquidistantRaw",(function(){return Np})),n.d(e,"geoEqualEarth",(function(){return Gp})),n.d(e,"geoEqualEarthRaw",(function(){return Up})),n.d(e,"geoEquirectangular",(function(){return Ip})),n.d(e,"geoEquirectangularRaw",(function(){return Op})),n.d(e,"geoGnomonic",(function(){return Wp})),n.d(e,"geoGnomonicRaw",(function(){return Vp})),n.d(e,"geoIdentity",(function(){return Xp})),n.d(e,"geoProjection",(function(){return mp})),n.d(e,"geoProjectionMutator",(function(){return vp})),n.d(e,"geoMercator",(function(){return kp})),n.d(e,"geoMercatorRaw",(function(){return Lp})),n.d(e,"geoNaturalEarth1",(function(){return Zp})),n.d(e,"geoNaturalEarth1Raw",(function(){return Jp})),n.d(e,"geoOrthographic",(function(){return Kp})),n.d(e,"geoOrthographicRaw",(function(){return Qp})),n.d(e,"geoStereographic",(function(){return tf})),n.d(e,"geoStereographicRaw",(function(){return $p})),n.d(e,"geoTransverseMercator",(function(){return nf})),n.d(e,"geoTransverseMercatorRaw",(function(){return ef})),n.d(e,"geoRotation",(function(){return ad})),n.d(e,"geoStream",(function(){return Fu})),n.d(e,"geoTransform",(function(){return ep})),n.d(e,"cluster",(function(){return sf})),n.d(e,"hierarchy",(function(){return uf})),n.d(e,"pack",(function(){return Of})),n.d(e,"packSiblings",(function(){return Lf})),n.d(e,"packEnclose",(function(){return mf})),n.d(e,"partition",(function(){return jf})),n.d(e,"stratify",(function(){return Wf})),n.d(e,"tree",(function(){return $f})),n.d(e,"treemap",(function(){return im})),n.d(e,"treemapBinary",(function(){return am})),n.d(e,"treemapDice",(function(){return Ff})),n.d(e,"treemapSlice",(function(){return tm})),n.d(e,"treemapSliceDice",(function(){return om})),n.d(e,"treemapSquarify",(function(){return rm})),n.d(e,"treemapResquarify",(function(){return sm})),n.d(e,"interpolate",(function(){return Zn})),n.d(e,"interpolateArray",(function(){return Fn})),n.d(e,"interpolateBasis",(function(){return Ln})),n.d(e,"interpolateBasisClosed",(function(){return kn})),n.d(e,"interpolateDate",(function(){return jn})),n.d(e,"interpolateDiscrete",(function(){return Qn})),n.d(e,"interpolateHue",(function(){return Kn})),n.d(e,"interpolateNumber",(function(){return Hn})),n.d(e,"interpolateObject",(function(){return Yn})),n.d(e,"interpolateRound",(function(){return $n})),n.d(e,"interpolateString",(function(){return Jn})),n.d(e,"interpolateTransformCss",(function(){return ir})),n.d(e,"interpolateTransformSvg",(function(){return ar})),n.d(e,"interpolateZoom",(function(){return lr})),n.d(e,"interpolateRgb",(function(){return In})),n.d(e,"interpolateRgbBasis",(function(){return zn})),n.d(e,"interpolateRgbBasisClosed",(function(){return Bn})),n.d(e,"interpolateHsl",(function(){return cr})),n.d(e,"interpolateHslLong",(function(){return dr})),n.d(e,"interpolateLab",(function(){return Or})),n.d(e,"interpolateHcl",(function(){return Nr})),n.d(e,"interpolateHclLong",(function(){return zr})),n.d(e,"interpolateCubehelix",(function(){return qr})),n.d(e,"interpolateCubehelixLong",(function(){return Xr})),n.d(e,"piecewise",(function(){return Jr})),n.d(e,"quantize",(function(){return Kr})),n.d(e,"path",(function(){return Fo})),n.d(e,"polygonArea",(function(){return lm})),n.d(e,"polygonCentroid",(function(){return um})),n.d(e,"polygonHull",(function(){return pm})),n.d(e,"polygonContains",(function(){return fm})),n.d(e,"polygonLength",(function(){return mm})),n.d(e,"quadtree",(function(){return vl})),n.d(e,"randomUniform",(function(){return gm})),n.d(e,"randomNormal",(function(){return ym})),n.d(e,"randomLogNormal",(function(){return _m})),n.d(e,"randomBates",(function(){return xm})),n.d(e,"randomIrwinHall",(function(){return bm})),n.d(e,"randomExponential",(function(){return wm})),n.d(e,"scaleBand",(function(){return Cm})),n.d(e,"scalePoint",(function(){return Dm})),n.d(e,"scaleIdentity",(function(){return Wm})),n.d(e,"scaleLinear",(function(){return Vm})),n.d(e,"scaleLog",(function(){return ev})),n.d(e,"scaleSymlog",(function(){return av})),n.d(e,"scaleOrdinal",(function(){return km})),n.d(e,"scaleImplicit",(function(){return Lm})),n.d(e,"scalePow",(function(){return cv})),n.d(e,"scaleSqrt",(function(){return dv})),n.d(e,"scaleQuantile",(function(){return hv})),n.d(e,"scaleQuantize",(function(){return pv})),n.d(e,"scaleThreshold",(function(){return fv})),n.d(e,"scaleTime",(function(){return e_})),n.d(e,"scaleUtc",(function(){return d_})),n.d(e,"scaleSequential",(function(){return f_})),n.d(e,"scaleSequentialLog",(function(){return m_})),n.d(e,"scaleSequentialPow",(function(){return g_})),n.d(e,"scaleSequentialSqrt",(function(){return y_})),n.d(e,"scaleSequentialSymlog",(function(){return v_})),n.d(e,"scaleSequentialQuantile",(function(){return __})),n.d(e,"scaleDiverging",(function(){return x_})),n.d(e,"scaleDivergingLog",(function(){return w_})),n.d(e,"scaleDivergingPow",(function(){return A_})),n.d(e,"scaleDivergingSqrt",(function(){return E_})),n.d(e,"scaleDivergingSymlog",(function(){return M_})),n.d(e,"tickFormat",(function(){return Um})),n.d(e,"schemeCategory10",(function(){return S_})),n.d(e,"schemeAccent",(function(){return L_})),n.d(e,"schemeDark2",(function(){return k_})),n.d(e,"schemePaired",(function(){return C_})),n.d(e,"schemePastel1",(function(){return D_})),n.d(e,"schemePastel2",(function(){return P_})),n.d(e,"schemeSet1",(function(){return R_})),n.d(e,"schemeSet2",(function(){return O_})),n.d(e,"schemeSet3",(function(){return I_})),n.d(e,"schemeTableau10",(function(){return N_})),n.d(e,"interpolateBrBG",(function(){return F_})),n.d(e,"schemeBrBG",(function(){return B_})),n.d(e,"interpolatePRGn",(function(){return H_})),n.d(e,"schemePRGn",(function(){return j_})),n.d(e,"interpolatePiYG",(function(){return U_})),n.d(e,"schemePiYG",(function(){return Y_})),n.d(e,"interpolatePuOr",(function(){return V_})),n.d(e,"schemePuOr",(function(){return G_})),n.d(e,"interpolateRdBu",(function(){return q_})),n.d(e,"schemeRdBu",(function(){return W_})),n.d(e,"interpolateRdGy",(function(){return J_})),n.d(e,"schemeRdGy",(function(){return X_})),n.d(e,"interpolateRdYlBu",(function(){return Q_})),n.d(e,"schemeRdYlBu",(function(){return Z_})),n.d(e,"interpolateRdYlGn",(function(){return $_})),n.d(e,"schemeRdYlGn",(function(){return K_})),n.d(e,"interpolateSpectral",(function(){return eb})),n.d(e,"schemeSpectral",(function(){return tb})),n.d(e,"interpolateBuGn",(function(){return rb})),n.d(e,"schemeBuGn",(function(){return nb})),n.d(e,"interpolateBuPu",(function(){return ab})),n.d(e,"schemeBuPu",(function(){return ib})),n.d(e,"interpolateGnBu",(function(){return sb})),n.d(e,"schemeGnBu",(function(){return ob})),n.d(e,"interpolateOrRd",(function(){return ub})),n.d(e,"schemeOrRd",(function(){return lb})),n.d(e,"interpolatePuBuGn",(function(){return db})),n.d(e,"schemePuBuGn",(function(){return cb})),n.d(e,"interpolatePuBu",(function(){return pb})),n.d(e,"schemePuBu",(function(){return hb})),n.d(e,"interpolatePuRd",(function(){return mb})),n.d(e,"schemePuRd",(function(){return fb})),n.d(e,"interpolateRdPu",(function(){return gb})),n.d(e,"schemeRdPu",(function(){return vb})),n.d(e,"interpolateYlGnBu",(function(){return _b})),n.d(e,"schemeYlGnBu",(function(){return yb})),n.d(e,"interpolateYlGn",(function(){return xb})),n.d(e,"schemeYlGn",(function(){return bb})),n.d(e,"interpolateYlOrBr",(function(){return Mb})),n.d(e,"schemeYlOrBr",(function(){return wb})),n.d(e,"interpolateYlOrRd",(function(){return Eb})),n.d(e,"schemeYlOrRd",(function(){return Ab})),n.d(e,"interpolateBlues",(function(){return Sb})),n.d(e,"schemeBlues",(function(){return Tb})),n.d(e,"interpolateGreens",(function(){return kb})),n.d(e,"schemeGreens",(function(){return Lb})),n.d(e,"interpolateGreys",(function(){return Db})),n.d(e,"schemeGreys",(function(){return Cb})),n.d(e,"interpolatePurples",(function(){return Rb})),n.d(e,"schemePurples",(function(){return Pb})),n.d(e,"interpolateReds",(function(){return Ib})),n.d(e,"schemeReds",(function(){return Ob})),n.d(e,"interpolateOranges",(function(){return zb})),n.d(e,"schemeOranges",(function(){return Nb})),n.d(e,"interpolateCividis",(function(){return Bb})),n.d(e,"interpolateCubehelixDefault",(function(){return Fb})),n.d(e,"interpolateRainbow",(function(){return Ub})),n.d(e,"interpolateWarm",(function(){return jb})),n.d(e,"interpolateCool",(function(){return Hb})),n.d(e,"interpolateSinebow",(function(){return qb})),n.d(e,"interpolateTurbo",(function(){return Xb})),n.d(e,"interpolateViridis",(function(){return Zb})),n.d(e,"interpolateMagma",(function(){return Qb})),n.d(e,"interpolateInferno",(function(){return Kb})),n.d(e,"interpolatePlasma",(function(){return $b})),n.d(e,"create",(function(){return ke})),n.d(e,"creator",(function(){return xt})),n.d(e,"local",(function(){return De})),n.d(e,"matcher",(function(){return Tt})),n.d(e,"mouse",(function(){return Ie})),n.d(e,"namespace",(function(){return yt})),n.d(e,"namespaces",(function(){return gt})),n.d(e,"clientPoint",(function(){return Oe})),n.d(e,"select",(function(){return Le})),n.d(e,"selectAll",(function(){return Ne})),n.d(e,"selection",(function(){return Se})),n.d(e,"selector",(function(){return Mt})),n.d(e,"selectorAll",(function(){return Et})),n.d(e,"style",(function(){return Ut})),n.d(e,"touch",(function(){return ze})),n.d(e,"touches",(function(){return Be})),n.d(e,"window",(function(){return Ft})),n.d(e,"event",(function(){return fe})),n.d(e,"customEvent",(function(){return be})),n.d(e,"arc",(function(){return _x})),n.d(e,"area",(function(){return Ex})),n.d(e,"line",(function(){return Ax})),n.d(e,"pie",(function(){return Lx})),n.d(e,"areaRadial",(function(){return Ox})),n.d(e,"radialArea",(function(){return Ox})),n.d(e,"lineRadial",(function(){return Rx})),n.d(e,"radialLine",(function(){return Rx})),n.d(e,"pointRadial",(function(){return Ix})),n.d(e,"linkHorizontal",(function(){return Ux})),n.d(e,"linkVertical",(function(){return Gx})),n.d(e,"linkRadial",(function(){return Vx})),n.d(e,"symbol",(function(){return uw})),n.d(e,"symbols",(function(){return lw})),n.d(e,"symbolCircle",(function(){return Wx})),n.d(e,"symbolCross",(function(){return qx})),n.d(e,"symbolDiamond",(function(){return Zx})),n.d(e,"symbolSquare",(function(){return ew})),n.d(e,"symbolStar",(function(){return tw})),n.d(e,"symbolTriangle",(function(){return rw})),n.d(e,"symbolWye",(function(){return sw})),n.d(e,"curveBasisClosed",(function(){return mw})),n.d(e,"curveBasisOpen",(function(){return gw})),n.d(e,"curveBasis",(function(){return pw})),n.d(e,"curveBundle",(function(){return _w})),n.d(e,"curveCardinalClosed",(function(){return Aw})),n.d(e,"curveCardinalOpen",(function(){return Tw})),n.d(e,"curveCardinal",(function(){return ww})),n.d(e,"curveCatmullRomClosed",(function(){return Dw})),n.d(e,"curveCatmullRomOpen",(function(){return Rw})),n.d(e,"curveCatmullRom",(function(){return kw})),n.d(e,"curveLinearClosed",(function(){return Iw})),n.d(e,"curveLinear",(function(){return xx})),n.d(e,"curveMonotoneX",(function(){return Uw})),n.d(e,"curveMonotoneY",(function(){return Gw})),n.d(e,"curveNatural",(function(){return qw})),n.d(e,"curveStep",(function(){return Jw})),n.d(e,"curveStepAfter",(function(){return Qw})),n.d(e,"curveStepBefore",(function(){return Zw})),n.d(e,"stack",(function(){return eM})),n.d(e,"stackOffsetExpand",(function(){return nM})),n.d(e,"stackOffsetDiverging",(function(){return rM})),n.d(e,"stackOffsetNone",(function(){return Kw})),n.d(e,"stackOffsetSilhouette",(function(){return iM})),n.d(e,"stackOffsetWiggle",(function(){return aM})),n.d(e,"stackOrderAppearance",(function(){return oM})),n.d(e,"stackOrderAscending",(function(){return lM})),n.d(e,"stackOrderDescending",(function(){return cM})),n.d(e,"stackOrderInsideOut",(function(){return dM})),n.d(e,"stackOrderNone",(function(){return $w})),n.d(e,"stackOrderReverse",(function(){return hM})),n.d(e,"timeInterval",(function(){return gv})),n.d(e,"timeMillisecond",(function(){return tg})),n.d(e,"timeMilliseconds",(function(){return eg})),n.d(e,"utcMillisecond",(function(){return tg})),n.d(e,"utcMilliseconds",(function(){return eg})),n.d(e,"timeSecond",(function(){return Qv})),n.d(e,"timeSeconds",(function(){return Kv})),n.d(e,"utcSecond",(function(){return Qv})),n.d(e,"utcSeconds",(function(){return Kv})),n.d(e,"timeMinute",(function(){return Xv})),n.d(e,"timeMinutes",(function(){return Jv})),n.d(e,"timeHour",(function(){return Vv})),n.d(e,"timeHours",(function(){return Wv})),n.d(e,"timeDay",(function(){return Yv})),n.d(e,"timeDays",(function(){return Uv})),n.d(e,"timeWeek",(function(){return Sv})),n.d(e,"timeWeeks",(function(){return Ov})),n.d(e,"timeSunday",(function(){return Sv})),n.d(e,"timeSundays",(function(){return Ov})),n.d(e,"timeMonday",(function(){return Lv})),n.d(e,"timeMondays",(function(){return Iv})),n.d(e,"timeTuesday",(function(){return kv})),n.d(e,"timeTuesdays",(function(){return Nv})),n.d(e,"timeWednesday",(function(){return Cv})),n.d(e,"timeWednesdays",(function(){return zv})),n.d(e,"timeThursday",(function(){return Dv})),n.d(e,"timeThursdays",(function(){return Bv})),n.d(e,"timeFriday",(function(){return Pv})),n.d(e,"timeFridays",(function(){return Fv})),n.d(e,"timeSaturday",(function(){return Rv})),n.d(e,"timeSaturdays",(function(){return jv})),n.d(e,"timeMonth",(function(){return wv})),n.d(e,"timeMonths",(function(){return Mv})),n.d(e,"timeYear",(function(){return _v})),n.d(e,"timeYears",(function(){return bv})),n.d(e,"utcMinute",(function(){return u_})),n.d(e,"utcMinutes",(function(){return c_})),n.d(e,"utcHour",(function(){return o_})),n.d(e,"utcHours",(function(){return s_})),n.d(e,"utcDay",(function(){return yg})),n.d(e,"utcDays",(function(){return _g})),n.d(e,"utcWeek",(function(){return rg})),n.d(e,"utcWeeks",(function(){return cg})),n.d(e,"utcSunday",(function(){return rg})),n.d(e,"utcSundays",(function(){return cg})),n.d(e,"utcMonday",(function(){return ig})),n.d(e,"utcMondays",(function(){return dg})),n.d(e,"utcTuesday",(function(){return ag})),n.d(e,"utcTuesdays",(function(){return hg})),n.d(e,"utcWednesday",(function(){return og})),n.d(e,"utcWednesdays",(function(){return pg})),n.d(e,"utcThursday",(function(){return sg})),n.d(e,"utcThursdays",(function(){return fg})),n.d(e,"utcFriday",(function(){return lg})),n.d(e,"utcFridays",(function(){return mg})),n.d(e,"utcSaturday",(function(){return ug})),n.d(e,"utcSaturdays",(function(){return vg})),n.d(e,"utcMonth",(function(){return r_})),n.d(e,"utcMonths",(function(){return i_})),n.d(e,"utcYear",(function(){return xg})),n.d(e,"utcYears",(function(){return wg})),n.d(e,"timeFormatDefaultLocale",(function(){return Yy})),n.d(e,"timeFormat",(function(){return Lg})),n.d(e,"timeParse",(function(){return kg})),n.d(e,"utcFormat",(function(){return Cg})),n.d(e,"utcParse",(function(){return Dg})),n.d(e,"timeFormatLocale",(function(){return Tg})),n.d(e,"isoFormat",(function(){return Uy})),n.d(e,"isoParse",(function(){return Gy})),n.d(e,"now",(function(){return li})),n.d(e,"timer",(function(){return di})),n.d(e,"timerFlush",(function(){return hi})),n.d(e,"timeout",(function(){return vi})),n.d(e,"interval",(function(){return gi})),n.d(e,"transition",(function(){return ea})),n.d(e,"active",(function(){return Xa})),n.d(e,"interrupt",(function(){return Di})),n.d(e,"voronoi",(function(){return QM})),n.d(e,"zoom",(function(){return dA})),n.d(e,"zoomTransform",(function(){return nA})),n.d(e,"zoomIdentity",(function(){return eA}))}]]);
//# sourceMappingURL=2.e7a0faf7.chunk.js.map